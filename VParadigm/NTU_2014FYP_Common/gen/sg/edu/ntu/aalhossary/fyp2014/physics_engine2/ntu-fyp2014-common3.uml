<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_8ICB8O2SEeWnDaII1mfokg" name="ntu_fyp2014_common3">
    <eAnnotations xmi:id="_8VeoEO2SEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_8VfPIO2SEeWnDaII1mfokg" source="codegen">
        <details xmi:id="_8VfPIe2SEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen"/>
        <details xmi:id="_RAI5QO2TEeWnDaII1mfokg" key="AssociatedSourceCode" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/AbstractParticle.java;3760498299/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/AminoAcid.java;2127865308/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Atom.java;1992265417/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Bond.java;3373043677/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/BoundingPrimitive.java;3656345719/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Chain.java;1851714343/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Interaction.java;1104814563/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Model.java;694890868/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Molecule.java;1619744335/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Particle.java;492705328/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Residue.java;4243495755/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Matrix3.java;3727283361/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Matrix4.java;3989833990/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Quaternion.java;4159345452/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Vector3D.java;4116939835/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/AtomToMMType.java;1983279416/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/DataManager.java;1943241546/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/EvaluateUserAction.java;2950568227/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/FileReader.java;2790908863/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/FileWriter.java;716454667/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/GestureManager.java;1551608128/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/JMolSelectionListener.java;2244299517/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictorWrapper.java;2017555388/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MoleculeEditor.java;2403214459/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MouseState.java;3213428312/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MyJmolStatusListener.java;3316600801/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/RasmolFieldListener.java;4255224950/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/ToolPanelHandler.java;1892228377/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/UpdateRegistry.java;3297099907/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/JmolDisplay.java;479606090/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/MenuPanel.java;4036485676/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/ToolPanel.java;521023011/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/AtomType.java;1939126389/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/BondType.java;2639220522/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/DisplayType.java;1342894671/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/UserActionType.java;2360938474/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Atom.java;3218400659/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingBox.java;1178082874/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingCube.java;1679986297/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingSphere.java;1634656337/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ContactResolver.java;4083151585/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ElectricForce.java;144889617/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Force.java;2710411080/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ForceRegistry.java;2058143372/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Init.java;3435228402/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/LennardJonesForce.java;2921252992/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Molecule.java;2532385749/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/NarrowCollisionDetector.java;3384073370/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/OctTree.java;3796088690/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Units.java;2477360742/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/VdWForce.java;2718039460/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/World.java;838014563/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/ui/MainWindow.java;2030548895/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Angle.java;3171024970/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Atom.java;3480699081/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Bond.java;4010659148/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/BondedInteraction.java;379504308/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Dihedral.java;1120898602/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ElectrostaticPotential.java;2838802859/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ImproperDihedral.java;1132402893/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/LennardJonesPotential.java;2448162005/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/NonBondedInteraction.java;2995370367/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ProperDihedral.java;1292464388/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/topology/TopologyDatabase.java;6805914/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/AbstractParticle.java;1803526141/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/Application.java;222538169/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/Interaction.java;1414721966/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/MolecularSystem.java;1968983951/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/math/Geometry.java;14323886/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/CliController.java;933985092/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/Controller.java;3156761481/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/ControllerFactory.java;1160752186/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/EventListener.java;1209164627/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/GuiController.java;1953666486/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/UpdateRegistry.java;874153945/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/View.java;395563663/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/util/FileReader.java;3330989103/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/AlphaHelix.java;2712542623/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/AlphaHelixTest.java;857349684/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/Helix.java;2466667966/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IOutility.java;1226132797/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IOutilityTest.java;2801768709/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_Output.java;230599447/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_Predictor.java;3538192497/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_PredictorTest.java;2188446380/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/InputManager.java;2576005046/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/OutputManager.java;1232744442/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/OutputManagerTest.java;1967505828/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PI_Helix.java;56015137/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictionManager.java;2566908373/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictionManagerTest.java;3610767374/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictorController.java;127393172/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/math/GeometryTest.java;2128364845/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_Output.java;1950405151/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_Predictor.java;3859711655/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_PredictorTest.java;3759875948/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/ThreeTenHelix.java;2496651279/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/test.java;358824791/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/typology/TypologyDatabaseTest.java;681555897/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/Minimizer.java;1135990921/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/topology/TopologyBuilder.java;3746477782/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_-_kPwO2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_-_k20O2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_-_k20e2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_-_k20u2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_-_k20-2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_-_k21O2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_-_k21e2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_-_k21u2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_-_ld4O2SEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_-1PPEO2SEeWnDaII1mfokg" name="sg">
      <packagedElement xmi:type="uml:Package" xmi:id="_-1PPEe2SEeWnDaII1mfokg" name="edu">
        <packagedElement xmi:type="uml:Package" xmi:id="_-1PPEu2SEeWnDaII1mfokg" name="ntu">
          <packagedElement xmi:type="uml:Package" xmi:id="_-1P2IO2SEeWnDaII1mfokg" name="aalhossary">
            <packagedElement xmi:type="uml:Package" xmi:id="_-1P2Ie2SEeWnDaII1mfokg" name="fyp2014">
              <packagedElement xmi:type="uml:Package" xmi:id="_-1QdMO2SEeWnDaII1mfokg" name="common">
                <packagedElement xmi:type="uml:Class" xmi:id="_-_glYO2SEeWnDaII1mfokg" name="AbstractParticle" isAbstract="true">
                  <ownedAttribute xmi:id="__oxk0O2SEeWnDaII1mfokg" name="particleCount" visibility="protected" isStatic="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__oyL4O2SEeWnDaII1mfokg" value="0"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__oyL4u2SEeWnDaII1mfokg" name="guid" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__ozaAO2SEeWnDaII1mfokg" name="position" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vmlkO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o0BEe2SEeWnDaII1mfokg" name="velocity" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vnMoe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o0oIe2SEeWnDaII1mfokg" name="acceleration" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vnzse2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o1PMe2SEeWnDaII1mfokg" name="forceAccumulated" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__voawe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o2dUO2SEeWnDaII1mfokg" name="torqueAccumulated" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__voaxO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o3EYe2SEeWnDaII1mfokg" name="velocityAccumulated" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vpB0e2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o4SgO2SEeWnDaII1mfokg" name="inverseMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__o5goO2SEeWnDaII1mfokg" name="inverseInertiaTensor" visibility="protected" type="__BjMwO2SEeWnDaII1mfokg" association="__vpo4e2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o6HsO2SEeWnDaII1mfokg" name="orientation" visibility="protected" type="__CBG0O2SEeWnDaII1mfokg" association="__vqP8e2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o6uwe2SEeWnDaII1mfokg" name="rotation" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vqP9O2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o7V0O2SEeWnDaII1mfokg" name="transformMatrix" visibility="protected" type="__B4j8O2SEeWnDaII1mfokg" association="__vq3Ae2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o7V0u2SEeWnDaII1mfokg" name="boundingPrimitive" visibility="protected" type="__AxJoO2SEeWnDaII1mfokg" association="__vreEe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o784e2SEeWnDaII1mfokg" name="netCharge" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_-_jose2SEeWnDaII1mfokg" client="_-_glYO2SEeWnDaII1mfokg" supplier="_-_iakO2SEeWnDaII1mfokg" contract="_-_iakO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sVPIO2SEeWnDaII1mfokg" name="AbstractParticle" specification="_-_nTEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sVPIe2SEeWnDaII1mfokg" type="_-_glYO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>position = new Vector3D(0,0,0);
		velocity = new Vector3D(0,0,0);
		acceleration = new Vector3D(0,0,0);
		forceAccumulated = new Vector3D(0,0,0);
		torqueAccumulated = new Vector3D(0,0,0);
		velocityAccumulated = new Vector3D(0,0,0);
		inverseMass = 0;
		inverseInertiaTensor = new Matrix3();
		orientation = new Quaternion(1,0,0,0);
		rotation = new Vector3D(0,0,0);
		netCharge = 0;
		particleCount++;
		guid = particleCount;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sV2MO2SEeWnDaII1mfokg" name="getGUID" specification="_-_ohMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sV2Me2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return guid;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sWdQO2SEeWnDaII1mfokg" name="getPosition" specification="_-_pIQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sWdQe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.position;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sWdQu2SEeWnDaII1mfokg" name="setPosition" specification="_-_pvUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sWdQ-2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sWdRO2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sWdRe2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sWdRu2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>position.x = x; position.y = y; position.z = z; position.metric = metric;
//		boundingPrimitive.updateCentre(x, y, z, metric);	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sXEUO2SEeWnDaII1mfokg" name="setPosition" specification="_-_rkgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sXEUe2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXEUu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXEU-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>position.x = x; position.y = y; position.z = z;
		boundingPrimitive.updateCentre(x, y, z, position.metric);	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sXEVO2SEeWnDaII1mfokg" name="movePositionBy" specification="_-_syoO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sXEVe2SEeWnDaII1mfokg" name="dist_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXEVu2SEeWnDaII1mfokg" name="dist_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXEV-2SEeWnDaII1mfokg" name="dist_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXEWO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double metricDiff = metric - position.metric;
		if(metricDiff == 0) {
			position.x += dist_x;
			position.y += dist_y;
			position.z += dist_z;
		}
		else {
			double scale = Math.pow(10, metricDiff);
			position.x += dist_x*scale;
			position.y += dist_y*scale;
			position.z += dist_z*scale;
		}
		boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sXEWe2SEeWnDaII1mfokg" name="getVelocity" specification="_-_tZsO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sXEWu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.velocity;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sXrYO2SEeWnDaII1mfokg" name="setVelocity" specification="_-_uAwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sXrYe2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXrYu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXrY-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXrZO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocity.x = x; velocity.y = y; velocity.z = z; velocity.metric = metric;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sXrZe2SEeWnDaII1mfokg" name="setVelocity" specification="_-_vO4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sXrZu2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXrZ-2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sXraO2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocity.x = x; velocity.y = y; velocity.z = z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sYScO2SEeWnDaII1mfokg" name="setVelocityAccumulated" specification="_-_v18O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>setVelocity(velocityAccumulated.x,velocityAccumulated.y,velocityAccumulated.z);
		velocityAccumulated.clear();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sYSce2SEeWnDaII1mfokg" name="addVelocityAccumulated" specification="_-_wdAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sYScu2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sYSc-2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sYSdO2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sYSde2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocityAccumulated.add(new Vector3D(x,y,z,metric));
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sY5gO2SEeWnDaII1mfokg" name="addVelocityAccumulated" specification="_-_xEEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sY5ge2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sY5gu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sY5g-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocityAccumulated.x += x; velocityAccumulated.y += y; velocityAccumulated.z += z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sY5hO2SEeWnDaII1mfokg" name="calculateVelocityChange" specification="__fpeAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sY5he2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sY5hu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sY5h-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>if(this instanceof Atom) {
			Atom atom = (Atom) this;
			return atom.calculateVelocityChange(other, COEFFICIENT_OF_RESTITUTION);
		}
		else if (this instanceof Molecule){
			Molecule molecule = (Molecule) this;
			return molecule.calculateVelocityChange(other, COEFFICIENT_OF_RESTITUTION);
		}
		return null;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sY5iO2SEeWnDaII1mfokg" name="getAcceleration" specification="_-_ySMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sY5ie2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.acceleration;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sZgkO2SEeWnDaII1mfokg" name="setAcceleration" specification="_-_3xwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sZgke2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sZgku2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sZgk-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sZglO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>acceleration.x = x; acceleration.y = y; acceleration.z = z; acceleration.metric = metric;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sZgle2SEeWnDaII1mfokg" name="setAcceleration" specification="_-_94YO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sZglu2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sZgl-2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__sZgmO2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>acceleration.x = x; acceleration.y = y; acceleration.z = z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sZgme2SEeWnDaII1mfokg" name="getMass" specification="_-_-fcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sZgmu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return 1/this.inverseMass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sZgm-2SEeWnDaII1mfokg" name="setMass" specification="_-__GgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sZgnO2SEeWnDaII1mfokg" name="mass">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(mass==0) 
			inverseMass = 0;
		else
			inverseMass = 1/mass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__saHoO2SEeWnDaII1mfokg" name="getInverseMass" specification="_-__tkO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__saHoe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.inverseMass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__saHou2SEeWnDaII1mfokg" name="integrate" specification="__AA7sO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__saHo-2SEeWnDaII1mfokg" name="duration">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(this instanceof Atom) {
			Atom atom = (Atom) this;
			atom.integrate(duration);
		}
		
		else if (this instanceof Molecule) {
			Molecule molecule = (Molecule) this;
			molecule.integrate(duration);
		}
		
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__saHpO2SEeWnDaII1mfokg" name="setInverseInertiaTensor" specification="__frTMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__saHpe2SEeWnDaII1mfokg" name="inertiaTensor" type="__BjMwO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.inverseInertiaTensor.setInverse(inertiaTensor);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__saHpu2SEeWnDaII1mfokg" name="rotateAroundAxis" specification="__ABiwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__saHp-2SEeWnDaII1mfokg" name="axis_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__saHqO2SEeWnDaII1mfokg" name="axis_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__saHqe2SEeWnDaII1mfokg" name="axis_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__saHqu2SEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>rotateAroundAxis(new Vector3D(axis_x, axis_y, axis_z), angle);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sausO2SEeWnDaII1mfokg" name="rotateAroundAxis" specification="__fr6QO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sause2SEeWnDaII1mfokg" name="axis" type="__CK30O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sausu2SEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Quaternion quaternion = new Quaternion(axis, angle);
		orientation.multiply(quaternion);
		Vector3D pos = position.rotatebyMatrix(orientation.toMatrix3());
		setPosition(pos.x, pos.y, pos.z);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__saus-2SEeWnDaII1mfokg" name="clearAccumulator" specification="__ACw4O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>forceAccumulated.clear();
		torqueAccumulated.clear();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sautO2SEeWnDaII1mfokg" name="addForce" specification="__fr6Q-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__saute2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>forceAccumulated.add(force);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sbVwO2SEeWnDaII1mfokg" name="addForceAtPoint" specification="__fshUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sbVwe2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sbVwu2SEeWnDaII1mfokg" name="point" type="__CK30O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>forceAccumulated.add(force);
	    
		// Convert to coordinates relative to center of mass.
	    Vector3D dist = point;
	    dist.subtract(position);
	    
	    Vector3D torque = new Vector3D();
	    torque = dist.getCrossProduct(force);
	    torqueAccumulated.add(torque);    
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sbVw-2SEeWnDaII1mfokg" name="addTorque" specification="__ftIYO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sbVxO2SEeWnDaII1mfokg" name="torque" type="__CK30O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>torqueAccumulated.add(torque);    
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sdyAO2SEeWnDaII1mfokg" name="getRotation" specification="__ADX8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sdyAe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.rotation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__seZEO2SEeWnDaII1mfokg" name="setRotation" specification="__ftvcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__seZEe2SEeWnDaII1mfokg" name="aRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.rotation = aRotation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfAIO2SEeWnDaII1mfokg" name="getOrientation" specification="__AD_AO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfAIe2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.orientation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfAIu2SEeWnDaII1mfokg" name="setOrientation" specification="__ftvc-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfAI-2SEeWnDaII1mfokg" name="aOrientation" type="__CBG0O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.orientation = aOrientation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfAJO2SEeWnDaII1mfokg" name="getBoundingPrimitive" specification="__AD_Ae2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfAJe2SEeWnDaII1mfokg" type="__AxJoO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.boundingPrimitive;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfnMO2SEeWnDaII1mfokg" name="setNetCharge" specification="__AEmEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfnMe2SEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>netCharge = charge;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfnMu2SEeWnDaII1mfokg" name="getNetCharge" specification="__AEmEu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfnM-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return netCharge;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sfnNO2SEeWnDaII1mfokg" name="equals" specification="__laHwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sfnNe2SEeWnDaII1mfokg" name="particle" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sfnNu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if (particle == null) 
	        return false;
	    
	    if (getClass() != particle.getClass()) 
	        return false;
	    
	    final AbstractParticle other = (AbstractParticle) particle;
	    
	    //if(this.position != other.position || this.velocity != other.velocity || this.acceleration != other.acceleration || this.inverseMass != other.inverseMass)
	    if(this.guid != other.guid)	
	    	return false;
	    
	    return true;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_-_nTEO2SEeWnDaII1mfokg" name="AbstractParticle" method="__sVPIO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_-_n6IO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_-_n6Ie2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_-_n6Iu2SEeWnDaII1mfokg" type="_-_glYO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_ohMO2SEeWnDaII1mfokg" name="getGUID" method="__sV2MO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrsO2SEeWnDaII1mfokg">
                      <body>Return the GUID assigned to this particle
	 * @return guid</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_ohMe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_pIQO2SEeWnDaII1mfokg" name="getPosition" method="__sWdQO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrse2SEeWnDaII1mfokg">
                      <body>Return the position of this particle
	 * @return position</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fo28O2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_pvUO2SEeWnDaII1mfokg" name="setPosition" method="__sWdQu2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrsu2SEeWnDaII1mfokg">
                      <body>Set the position of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_pvUe2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_pvUu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_qWYO2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_qWYe2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_rkgO2SEeWnDaII1mfokg" name="setPosition" method="__sXEUO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrs-2SEeWnDaII1mfokg">
                      <body>Set the position of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_rkge2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_rkgu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_rkg-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_syoO2SEeWnDaII1mfokg" name="movePositionBy" method="__sXEVO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrtO2SEeWnDaII1mfokg">
                      <body>Move this particle by given distances
	 * @param dist_x
	 * @param dist_y
	 * @param dist_z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_syoe2SEeWnDaII1mfokg" name="dist_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_syou2SEeWnDaII1mfokg" name="dist_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_syo-2SEeWnDaII1mfokg" name="dist_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_sypO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_tZsO2SEeWnDaII1mfokg" name="getVelocity" method="__sXEWe2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrte2SEeWnDaII1mfokg">
                      <body>Return the velocity of this particle
	 * @return velocity</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fo28e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_uAwO2SEeWnDaII1mfokg" name="setVelocity" method="__sXrYO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uZrtu2SEeWnDaII1mfokg">
                      <body>Set the velocity of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_uAwe2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_uAwu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_uAw-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_un0O2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_vO4O2SEeWnDaII1mfokg" name="setVelocity" method="__sXrZe2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSwO2SEeWnDaII1mfokg">
                      <body>Set the velocity of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_vO4e2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_vO4u2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_vO4-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_v18O2SEeWnDaII1mfokg" name="setVelocityAccumulated" method="__sYScO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSwe2SEeWnDaII1mfokg">
                      <body>Set the velocity accumulated as the velocity of this paricle</body>
                    </ownedComment>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_wdAO2SEeWnDaII1mfokg" name="addVelocityAccumulated" method="__sYSce2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSwu2SEeWnDaII1mfokg">
                      <body>Add the given velocity to velocity accumulated 
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_wdAe2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_wdAu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_wdA-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_wdBO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_xEEO2SEeWnDaII1mfokg" name="addVelocityAccumulated" method="__sY5gO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSw-2SEeWnDaII1mfokg">
                      <body>Add the given velocity to the velocity accumulated
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_xrIO2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_xrIe2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_xrIu2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_ySMO2SEeWnDaII1mfokg" name="getAcceleration" method="__sY5iO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSxe2SEeWnDaII1mfokg">
                      <body>Return acceleration of this particle
	 * @return acceleration</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fqsIO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_3xwO2SEeWnDaII1mfokg" name="setAcceleration" method="__sZgkO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSxu2SEeWnDaII1mfokg">
                      <body>Set the acceleration of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_61EO2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_61Ee2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_61Eu2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_61E-2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_94YO2SEeWnDaII1mfokg" name="setAcceleration" method="__sZgle2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSx-2SEeWnDaII1mfokg">
                      <body>Set the acceleration of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_94Ye2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_94Yu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_-_94Y-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-_-fcO2SEeWnDaII1mfokg" name="getMass" method="__sZgme2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSyO2SEeWnDaII1mfokg">
                      <body>Return mass of this particle
	 * @return mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-_-fce2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-__GgO2SEeWnDaII1mfokg" name="setMass" method="__sZgm-2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSye2SEeWnDaII1mfokg">
                      <body>Set the mass of this particle
	 * @param mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_-__Gge2SEeWnDaII1mfokg" name="mass">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_-__tkO2SEeWnDaII1mfokg" name="getInverseMass" method="__saHoO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSyu2SEeWnDaII1mfokg">
                      <body>Return the inverse mass (1/mass) of this particle
	 * @return inverse mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__AAUoO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AA7sO2SEeWnDaII1mfokg" name="integrate" method="__saHou2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSy-2SEeWnDaII1mfokg">
                      <body>Calculate the position, velocity and acceleration of the particle given a duration
	 * @param duration</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__AA7se2SEeWnDaII1mfokg" name="duration">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ABiwO2SEeWnDaII1mfokg" name="rotateAroundAxis" method="__saHpu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ABiwe2SEeWnDaII1mfokg" name="axis_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ACJ0O2SEeWnDaII1mfokg" name="axis_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ACJ0e2SEeWnDaII1mfokg" name="axis_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ACJ0u2SEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ACw4O2SEeWnDaII1mfokg" name="clearAccumulator" method="__saus-2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua50O2SEeWnDaII1mfokg">
                      <body>Clear the forces and torques accumulated</body>
                    </ownedComment>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ADX8O2SEeWnDaII1mfokg" name="getRotation" method="__sdyAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ftIYu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AD_AO2SEeWnDaII1mfokg" name="getOrientation" method="__sfAIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ftvcu2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AD_Ae2SEeWnDaII1mfokg" name="getBoundingPrimitive" method="__sfAJO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua51O2SEeWnDaII1mfokg">
                      <body>Return the bounding primitive of this particle
	 * @return bounding primitive</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fuWgO2SEeWnDaII1mfokg" type="__AxJoO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AEmEO2SEeWnDaII1mfokg" name="setNetCharge" method="__sfnMO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua51e2SEeWnDaII1mfokg">
                      <body>Set the net charge of this particle
	 * @param charge</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__AEmEe2SEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AEmEu2SEeWnDaII1mfokg" name="getNetCharge" method="__sfnMu2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua51u2SEeWnDaII1mfokg">
                      <body>Return the net charge of this particle
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__AFNIO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__fpeAO2SEeWnDaII1mfokg" name="calculateVelocityChange" method="__sY5hO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__uaSxO2SEeWnDaII1mfokg">
                      <body>Calculate the velocity of the particle after impact (given another particle)
	 * @param other
	 * @param COEFFICIENT_OF_RESTITUTION
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fpeAe2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__fpeAu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__fqFEO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__frTMO2SEeWnDaII1mfokg" name="setInverseInertiaTensor" method="__saHpO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__frTMe2SEeWnDaII1mfokg" name="inertiaTensor" type="__BjMwO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__fr6QO2SEeWnDaII1mfokg" name="rotateAroundAxis" method="__sausO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__fr6Qe2SEeWnDaII1mfokg" name="axis" type="__CK30O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__fr6Qu2SEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__fr6Q-2SEeWnDaII1mfokg" name="addForce" method="__sautO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua50e2SEeWnDaII1mfokg">
                      <body>Attach the given force to the particle
	 * @param force</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fr6RO2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__fshUO2SEeWnDaII1mfokg" name="addForceAtPoint" method="__sbVwO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua50u2SEeWnDaII1mfokg">
                      <body>Apply the given force to the particle at the given point
	 * @param force
	 * @param point</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__fshUe2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__fshUu2SEeWnDaII1mfokg" name="point" type="__CK30O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ftIYO2SEeWnDaII1mfokg" name="addTorque" method="__sbVw-2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ua50-2SEeWnDaII1mfokg">
                      <body>Add the given torque to this particle
	 * @param torque</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__ftIYe2SEeWnDaII1mfokg" name="torque" type="__CK30O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ftvcO2SEeWnDaII1mfokg" name="setRotation" method="__seZEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ftvce2SEeWnDaII1mfokg" name="aRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ftvc-2SEeWnDaII1mfokg" name="setOrientation" method="__sfAIu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ftvdO2SEeWnDaII1mfokg" name="aOrientation" type="__CBG0O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__laHwO2SEeWnDaII1mfokg" name="equals" method="__sfnNO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__laHwe2SEeWnDaII1mfokg" name="particle" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__laHwu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-1QdMe2SEeWnDaII1mfokg" name="math">
                  <packagedElement xmi:type="uml:Class" xmi:id="__BjMwO2SEeWnDaII1mfokg" name="Matrix3">
                    <ownedComment xmi:id="__udWEO2SEeWnDaII1mfokg">
                      <body>@author waiyan
Maths Module for 3x3 Matrix Calculations</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__pc6Qe2SEeWnDaII1mfokg" name="data" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pdhUO2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pdhUu2SEeWnDaII1mfokg" value="new double [9]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s1lcu2SEeWnDaII1mfokg" name="Matrix3" specification="__Bka4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s1lc-2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>for(int i=0; i&lt;9; i++) data[i]=0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s2MgO2SEeWnDaII1mfokg" name="Matrix3" specification="__BlpAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s2Mge2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mgu2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mg-2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2MhO2SEeWnDaII1mfokg" name="d">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mhe2SEeWnDaII1mfokg" name="e">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mhu2SEeWnDaII1mfokg" name="f">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mh-2SEeWnDaII1mfokg" name="g">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2MiO2SEeWnDaII1mfokg" name="h">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Mie2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s2Miu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data[0] = a;	data[1] = b;	data[2] = c;
		data[3] = d;	data[4] = e;	data[5] = f;
		data[6] = g;	data[7] = h;	data[8] = i;	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s2zkO2SEeWnDaII1mfokg" name="Matrix3" specification="__gd9YO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s2zke2SEeWnDaII1mfokg" name="v1" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s2zku2SEeWnDaII1mfokg" name="v2" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s2zk-2SEeWnDaII1mfokg" name="v3" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s2zlO2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data[0] = v1.x;	data[1]=v2.x;	data[2]=v3.x;
		data[3] = v1.y; data[4]=v2.y;	data[5]=v3.y;
		data[6] = v1.z; data[7]=v2.z;	data[8]=v3.z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s2zle2SEeWnDaII1mfokg" name="equals" specification="__lwGAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s2zlu2SEeWnDaII1mfokg" name="matrix3" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s2zl-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double epsilon = 1e-6;
		
	    if (matrix3 == null) 
	        return false;
	    
	    if (getClass() != matrix3.getClass()) 
	        return false;
	    
	    final Matrix3 other = (Matrix3) matrix3;
	    for(int i=0; i&lt;9; i++) {
	    	if(Math.abs(this.data[i]-other.data[i]) > epsilon)
	    		return false;
	    }
	    return true;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s2zmO2SEeWnDaII1mfokg" name="multiplyAndReturn" specification="__gfLgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s2zme2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s2zmu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 temp = new Matrix3();
		temp = this;
		temp.multiply(matrix);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s2zm-2SEeWnDaII1mfokg" name="multiply" specification="__gfykO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s2znO2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Matrix3 temp = new Matrix3();
		temp.data[0] = data[0]*matrix.data[0] + data[1]*matrix.data[3] + data[2]*matrix.data[6];
		temp.data[1] = data[0]*matrix.data[1] + data[1]*matrix.data[4] + data[2]*matrix.data[7];
		temp.data[2] = data[0]*matrix.data[2] + data[1]*matrix.data[5] + data[2]*matrix.data[8];

		temp.data[3] = data[3]*matrix.data[0] + data[4]*matrix.data[3] + data[5]*matrix.data[6];
		temp.data[4] = data[3]*matrix.data[1] + data[4]*matrix.data[4] + data[5]*matrix.data[7];
		temp.data[5] = data[3]*matrix.data[2] + data[4]*matrix.data[5] + data[5]*matrix.data[8];
	
		temp.data[6] = data[6]*matrix.data[0] + data[7]*matrix.data[3] + data[8]*matrix.data[6];
		temp.data[7] = data[6]*matrix.data[1] + data[7]*matrix.data[4] + data[8]*matrix.data[7];
		temp.data[8] = data[6]*matrix.data[2] + data[7]*matrix.data[5] + data[8]*matrix.data[8];
		
		for(int i=0; i&lt;9; i++)
			data[i] =  temp.data[i];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s3aoO2SEeWnDaII1mfokg" name="scaleAndReturn" specification="__BneMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s3aoe2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s3aou2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 matrix = new Matrix3();
		matrix = this;
		matrix.scale(scale);
		return matrix;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s3ao-2SEeWnDaII1mfokg" name="scale" specification="__BosUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s3apO2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0]*=scale; data[1]*= scale; data[2]*=scale;
		data[3]*=scale; data[4]*= scale; data[5]*=scale;
		data[6]*=scale; data[7]*= scale; data[8]*=scale;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s3ape2SEeWnDaII1mfokg" name="add" specification="__ggZoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s3apu2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] += matrix.data[0];	data[1] += matrix.data[1];	data[2] += matrix.data[2];
		data[3] += matrix.data[3];	data[4] += matrix.data[4];	data[5] += matrix.data[5];
		data[6] += matrix.data[6];	data[7] += matrix.data[7];	data[8] += matrix.data[8];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4BsO2SEeWnDaII1mfokg" name="setDiagonal" specification="__BpTYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4Bse2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Bsu2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Bs-2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>setInertiaTensorCoeffs(a,b,c,0,0,0);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4BtO2SEeWnDaII1mfokg" name="setInertiaTensorCoeffs" specification="__Bp6ce2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4Bte2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Btu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Bt-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4BuO2SEeWnDaII1mfokg" name="xy">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Bue2SEeWnDaII1mfokg" name="xz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4Buu2SEeWnDaII1mfokg" name="yz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0] = x;
     data[1] = data[3] = -xy;
     data[2] = data[6] = -xz;
     data[4] = y;
     data[5] = data[7] = -yz;
     data[8] = z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4Bu-2SEeWnDaII1mfokg" name="transform" specification="__ggZou2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4BvO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s4Bve2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[1] + vector.z*data[2],
								vector.x*data[3] + vector.y*data[4] + vector.z*data[5],
								vector.x*data[6] + vector.y*data[7] + vector.z*data[8] );
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4owO2SEeWnDaII1mfokg" name="transform" specification="__ghAsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4owe2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s4owu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Matrix3 (
				data[0]*matrix.data[0] + data[1]*matrix.data[3] + data[2]*matrix.data[6],
				data[0]*matrix.data[1] + data[1]*matrix.data[4] + data[2]*matrix.data[7],
				data[0]*matrix.data[2] + data[1]*matrix.data[5] + data[2]*matrix.data[8],
				data[3]*matrix.data[0] + data[4]*matrix.data[3] + data[5]*matrix.data[6],
				data[3]*matrix.data[1] + data[4]*matrix.data[4] + data[5]*matrix.data[7],
				data[3]*matrix.data[2] + data[4]*matrix.data[5] + data[5]*matrix.data[8],
				data[6]*matrix.data[0] + data[7]*matrix.data[3] + data[8]*matrix.data[6],
				data[6]*matrix.data[1] + data[7]*matrix.data[4] + data[8]*matrix.data[7],
				data[6]*matrix.data[2] + data[7]*matrix.data[5] + data[8]*matrix.data[8]
		);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4ow-2SEeWnDaII1mfokg" name="transformTranspose" specification="__ghnwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4oxO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s4oxe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(
         vector.x * data[0] + vector.y * data[3] + vector.z * data[6],
         vector.x * data[1] + vector.y * data[4] + vector.z * data[7],
         vector.x * data[2] + vector.y * data[5] + vector.z * data[8]
     );
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s4oxu2SEeWnDaII1mfokg" name="getRowVector" specification="__BrvoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s4ox-2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s4oyO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D (data[i*3], data[i*3+1], data[i*3+2]);
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s5P0O2SEeWnDaII1mfokg" name="getAxisVector" specification="__BsWsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s5P0e2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s5P0u2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D (data[i], data[i+3], data[i+6]);
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s5P0-2SEeWnDaII1mfokg" name="setInverse" specification="__gkrEe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s5P1O2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double t1 = matrix.data[0]*matrix.data[4];
		double t2 = matrix.data[0]*matrix.data[5];
		double t3 = matrix.data[1]*matrix.data[3];
		double t4 = matrix.data[2]*matrix.data[3];
		double t5 = matrix.data[1]*matrix.data[6];
		double t6 = matrix.data[2]*matrix.data[6];
		
		double det = (t1*matrix.data[8] - t2*matrix.data[7] - t3*matrix.data[8]+
             t4*matrix.data[7] + t5*matrix.data[5] - t6*matrix.data[4]);

	    // Make sure the determinant is non-zero.
	    if (det == 0) return;
	    double idet = 1/det;
	    
	    data[0] = (matrix.data[4]*matrix.data[8]-matrix.data[5]*matrix.data[7])*idet;
	    data[1] = -(matrix.data[1]*matrix.data[8]-matrix.data[2]*matrix.data[7])*idet;
	    data[2] = (matrix.data[1]*matrix.data[5]-matrix.data[2]*matrix.data[4])*idet;
	    data[3] = -(matrix.data[3]*matrix.data[8]-matrix.data[5]*matrix.data[6])*idet;
	    data[4] = (matrix.data[0]*matrix.data[8]-t6)*idet;
	    data[5] = -(t2-t4)*idet;
	    data[6] = (matrix.data[3]*matrix.data[7]-matrix.data[4]*matrix.data[6])*idet;
	    data[7] = -(matrix.data[0]*matrix.data[7]-t5)*idet;
	    data[8] = (t1-t3)*idet;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s5P1e2SEeWnDaII1mfokg" name="inverse" specification="__Bs9wO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s5P1u2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 matrix = new Matrix3();
		matrix.setInverse(this);
		return matrix;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s5P1-2SEeWnDaII1mfokg" name="invert" specification="__Bs9we2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>setInverse(this);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s5P2O2SEeWnDaII1mfokg" name="setTranspose" specification="__glSIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s5P2e2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = matrix.data[0];
     data[1] = matrix.data[3];
     data[2] = matrix.data[6];
     data[3] = matrix.data[1];
     data[4] = matrix.data[4];
     data[5] = matrix.data[7];
     data[6] = matrix.data[2];
     data[7] = matrix.data[5];
     data[8] = matrix.data[8];      
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s524O2SEeWnDaII1mfokg" name="transpose" specification="__Btk0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s524e2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 m = new Matrix3();
		m.setTranspose(this);
		return m;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s524u2SEeWnDaII1mfokg" name="setOrientation" specification="__gl5MO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s524-2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = 1 - (2*q.j*q.j + 2*q.k*q.k);
     data[1] = 2*q.i*q.j + 2*q.k*q.r;
     data[2] = 2*q.i*q.k - 2*q.j*q.r;
     data[3] = 2*q.i*q.j - 2*q.k*q.r;
     data[4] = 1 - (2*q.i*q.i  + 2*q.k*q.k);
     data[5] = 2*q.j*q.k + 2*q.i*q.r;
     data[6] = 2*q.i*q.k + 2*q.j*q.r;
     data[7] = 2*q.j*q.k - 2*q.i*q.r;
     data[8] = 1 - (2*q.i*q.i  + 2*q.j*q.j);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s525O2SEeWnDaII1mfokg" name="print" specification="__Bx2QO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(data[0] + &quot;, &quot; + data [1] + &quot;, &quot; + data[2]);
		System.out.println(data[3] + &quot;, &quot; + data [4] + &quot;, &quot; + data[5]);
		System.out.println(data[6] + &quot;, &quot; + data [7] + &quot;, &quot; + data[8]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Bka4O2SEeWnDaII1mfokg" name="Matrix3" method="__s1lcu2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__BlB8O2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__BlB8e2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__BlB8u2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BlpAO2SEeWnDaII1mfokg" name="Matrix3" method="__s2MgO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__BmQEO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__BmQEe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__udWEe2SEeWnDaII1mfokg">
                        <body>In the form of
	 * 	a	b	c
	 *  d	e	f
	 *  g	h	i</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__BlpAe2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpAu2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpA-2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpBO2SEeWnDaII1mfokg" name="d">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpBe2SEeWnDaII1mfokg" name="e">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpBu2SEeWnDaII1mfokg" name="f">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpB-2SEeWnDaII1mfokg" name="g">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpCO2SEeWnDaII1mfokg" name="h">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BlpCe2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BmQEu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BneMO2SEeWnDaII1mfokg" name="scaleAndReturn" method="__s3aoO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWFe2SEeWnDaII1mfokg">
                        <body>Scale this matrix with the given coefficient and return the result
	 * @param scale
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__BoFQO2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__gfyku2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BosUO2SEeWnDaII1mfokg" name="scale" method="__s3ao-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWFu2SEeWnDaII1mfokg">
                        <body>Scale this matrix with the given coefficient
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__BosUe2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BpTYO2SEeWnDaII1mfokg" name="setDiagonal" method="__s4BsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__BpTYe2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BpTYu2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Bp6cO2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Bp6ce2SEeWnDaII1mfokg" name="setInertiaTensorCoeffs" method="__s4BtO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__BqhgO2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Bqhge2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Bqhgu2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Bqhg-2SEeWnDaII1mfokg" name="xy">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__BqhhO2SEeWnDaII1mfokg" name="xz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Bqhhe2SEeWnDaII1mfokg" name="yz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BrvoO2SEeWnDaII1mfokg" name="getRowVector" method="__s4oxu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9Ie2SEeWnDaII1mfokg">
                        <body>Gets a vector representing one row in the matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__Brvoe2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__gkEAO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__BsWsO2SEeWnDaII1mfokg" name="getAxisVector" method="__s5P0O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9Iu2SEeWnDaII1mfokg">
                        <body>Gets a vector representing one axis (i.e. one column) in the matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__BsWse2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__gkrEO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Bs9wO2SEeWnDaII1mfokg" name="inverse" method="__s5P1e2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9JO2SEeWnDaII1mfokg">
                        <body>Return the inverse of this matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gkrE-2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Bs9we2SEeWnDaII1mfokg" name="invert" method="__s5P1-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9Je2SEeWnDaII1mfokg">
                        <body>Invert this matrix</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Btk0O2SEeWnDaII1mfokg" name="transpose" method="__s524O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9J-2SEeWnDaII1mfokg">
                        <body>Return the transpose of this matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__glSIu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Bx2QO2SEeWnDaII1mfokg" name="print" method="__s525O2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__gd9YO2SEeWnDaII1mfokg" name="Matrix3" method="__s2zkO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__gekcu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__gekc-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__udWEu2SEeWnDaII1mfokg">
                        <body>Construct a 3x3 Matrix given 3 columns of the matrix
	 * @param v1
	 * @param v2
	 * @param v3</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gd9Ye2SEeWnDaII1mfokg" name="v1" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gekcO2SEeWnDaII1mfokg" name="v2" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gekce2SEeWnDaII1mfokg" name="v3" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gekdO2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gfLgO2SEeWnDaII1mfokg" name="multiplyAndReturn" method="__s2zmO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWE-2SEeWnDaII1mfokg">
                        <body>Multiply this matrix with the given matrix and return the result.
	 * @param matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gfLge2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gfLgu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gfykO2SEeWnDaII1mfokg" name="multiply" method="__s2zm-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWFO2SEeWnDaII1mfokg">
                        <body>Multiply this matrix with the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gfyke2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ggZoO2SEeWnDaII1mfokg" name="add" method="__s3ape2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWF-2SEeWnDaII1mfokg">
                        <body>Add this matrix with the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__ggZoe2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ggZou2SEeWnDaII1mfokg" name="transform" method="__s4Bu-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWGO2SEeWnDaII1mfokg">
                        <body>Transform the given vector by this matrix
	 * @param vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__ggZo-2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ggZpO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ghAsO2SEeWnDaII1mfokg" name="transform" method="__s4owO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__udWGe2SEeWnDaII1mfokg">
                        <body>Transform the given matrix by this matrix
	 * @param matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__ghAse2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ghAsu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ghnwO2SEeWnDaII1mfokg" name="transformTranspose" method="__s4ow-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9IO2SEeWnDaII1mfokg">
                        <body>Transform the given vector by the transpose of this matrix. 
	 * @param vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__ghnwe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ghnwu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gkrEe2SEeWnDaII1mfokg" name="setInverse" method="__s5P0-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9I-2SEeWnDaII1mfokg">
                        <body>Sets the matrix to be the inverse of the given matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gkrEu2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__glSIO2SEeWnDaII1mfokg" name="setTranspose" method="__s5P2O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9Ju2SEeWnDaII1mfokg">
                        <body>Set this matrix as the transpose of the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__glSIe2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gl5MO2SEeWnDaII1mfokg" name="setOrientation" method="__s524u2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9KO2SEeWnDaII1mfokg">
                        <body>Sets this matrix to be the rotation matrix corresponding to the given quaternion.
	 * Transform the quaternion into a 3x3 Matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gl5Me2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__lwGAO2SEeWnDaII1mfokg" name="equals" method="__s2zle2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__lwGAe2SEeWnDaII1mfokg" name="matrix3" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__lwGAu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__B4j8O2SEeWnDaII1mfokg" name="Matrix4">
                    <ownedAttribute xmi:id="__peIYO2SEeWnDaII1mfokg" name="data" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pevcO2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pevcu2SEeWnDaII1mfokg" value="new double [12]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s6d8O2SEeWnDaII1mfokg" name="Matrix4" specification="__B5LAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s6d8e2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data [0] = data [5] = data [10] = 1;
		data [1] = data [2] = data [3] = 0;
		data [4] = data [6] = data [7] = 0;
		data [8] = data [9] = data [11] = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s6d8u2SEeWnDaII1mfokg" name="Matrix4" specification="__B5yEu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s6d8-2SEeWnDaII1mfokg" name="data">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__s6d9O2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s6d9e2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>for(int i=0; i&lt;12; i++)
			this.data[i] = data[i];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7FAO2SEeWnDaII1mfokg" name="multiply" specification="__go8gO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7FAe2SEeWnDaII1mfokg" name="m" type="__B4j8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7FAu2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix4 temp = new Matrix4();
		temp.data[0] = (m.data[0]*data[0]) + (m.data[4]*data[1]) + (m.data[8]*data[2]);
     temp.data[4] = (m.data[0]*data[4]) + (m.data[4]*data[5]) + (m.data[8]*data[6]);
     temp.data[8] = (m.data[0]*data[8]) + (m.data[4]*data[9]) + (m.data[8]*data[10]);

     temp.data[1] = (m.data[1]*data[0]) + (m.data[5]*data[1]) + (m.data[9]*data[2]);
     temp.data[5] = (m.data[1]*data[4]) + (m.data[5]*data[5]) + (m.data[9]*data[6]);
     temp.data[9] = (m.data[1]*data[8]) + (m.data[5]*data[9]) + (m.data[9]*data[10]);

     temp.data[2] = (m.data[2]*data[0]) + (m.data[6]*data[1]) + (m.data[10]*data[2]);
     temp.data[6] = (m.data[2]*data[4]) + (m.data[6]*data[5]) + (m.data[10]*data[6]);
     temp.data[10] = (m.data[2]*data[8]) + (m.data[6]*data[9]) + (m.data[10]*data[10]);

     temp.data[3] = (m.data[3]*data[0]) + (m.data[7]*data[1]) + (m.data[11]*data[2]) + data[3];
     temp.data[7] = (m.data[3]*data[4]) + (m.data[7]*data[5]) + (m.data[11]*data[6]) + data[7];
     temp.data[11] = (m.data[3]*data[8]) + (m.data[7]*data[9]) + (m.data[11]*data[10]) + data[11];
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7FA-2SEeWnDaII1mfokg" name="transform" specification="__gpjke2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7FBO2SEeWnDaII1mfokg" name="v" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7FBe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	v.x*data[0] + v.y*data[1] + v.z*data[2] + data[3],
								v.x*data[4] + v.y*data[5] + v.z*data[6] + data[7],
								v.x*data[8] + v.y*data[9] + v.z*data[10] + data[11]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7FBu2SEeWnDaII1mfokg" name="setDiagonal" specification="__B8OUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7FB-2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s7FCO2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s7FCe2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0] = a;
		data[5] = b;
		data [10] = c;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7FCu2SEeWnDaII1mfokg" name="setOrientationAndPos" specification="__gqKoe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7FC-2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7FDO2SEeWnDaII1mfokg" name="pos" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = 1 - (2*q.j*q.j + 2*q.k*q.k);
     data[1] = 2*q.i*q.j + 2*q.k*q.r;
     data[2] = 2*q.i*q.k - 2*q.j*q.r;
     data[3] = pos.x;

     data[4] = 2*q.i*q.j - 2*q.k*q.r;
     data[5] = 1 - (2*q.i*q.i  + 2*q.k*q.k);
     data[6] = 2*q.j*q.k + 2*q.i*q.r;
     data[7] = pos.y;

     data[8] = 2*q.i*q.k + 2*q.j*q.r;
     data[9] = 2*q.j*q.k - 2*q.i*q.r;
     data[10] = 1 - (2*q.i*q.i  + 2*q.j*q.j);
     data[11] = pos.z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7sEO2SEeWnDaII1mfokg" name="transformInverse" specification="__gqxsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7sEe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7sEu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D tmp = vector;
     tmp.x -= data[3];
     tmp.y -= data[7];
     tmp.z -= data[11];
     
     return new Vector3D(tmp.x * data[0] + tmp.y * data[4] + tmp.z * data[8],
     					tmp.x * data[1] + tmp.y * data[5] + tmp.z * data[9],
	        				tmp.x * data[2] + tmp.y * data[6] + tmp.z * data[10]
     );
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7sE-2SEeWnDaII1mfokg" name="transformDirection" specification="__gqxs-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7sFO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7sFe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[1] + vector.z*data[2],
								vector.x*data[4] + vector.y*data[5] + vector.z*data[6],
								vector.x*data[8] + vector.y*data[9] + vector.z*data[10]
							);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s7sFu2SEeWnDaII1mfokg" name="transformInverseDirection" specification="__grYwu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s7sF-2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__s7sGO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[4] + vector.z*data[8],
								vector.x*data[1] + vector.y*data[5] + vector.z*data[9],
								vector.x*data[2] + vector.y*data[6] + vector.z*data[10]
							);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s_9gO2SEeWnDaII1mfokg" name="getAxisVector" specification="__B9ccO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__s_9ge2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__s_9gu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(data[i], data[i+4], data[i+8]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s_9g-2SEeWnDaII1mfokg" name="print" specification="__B9ccu2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(data[0] + &quot;, &quot; + data [1] + &quot;, &quot; + data[2] + &quot;, &quot; + data[3]);
		System.out.println(data[4] + &quot;, &quot; + data [5] + &quot;, &quot; + data[6] + &quot;, &quot; + data[7]);
		System.out.println(data[8] + &quot;, &quot; + data [9] + &quot;, &quot; + data[10] + &quot;, &quot; + data[11]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__B5LAO2SEeWnDaII1mfokg" name="Matrix4" method="__s6d8O2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__B5LAe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__B5yEO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__ud9Ke2SEeWnDaII1mfokg">
                        <body>Construct a 3x4 identity matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__B5yEe2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__B5yEu2SEeWnDaII1mfokg" name="Matrix4" method="__s6d8u2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__B5yFO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__B6ZIO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__B5yE-2SEeWnDaII1mfokg" name="data">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__B7AMO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__B6ZIu2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__B8OUO2SEeWnDaII1mfokg" name="setDiagonal" method="__s7FBu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__B8OUe2SEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__B8OUu2SEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__B8OU-2SEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__B9ccO2SEeWnDaII1mfokg" name="getAxisVector" method="__s_9gO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekMu2SEeWnDaII1mfokg">
                        <body>Gets a vector representing one axis (i.e. one column) in the matrix.
     * @param i=3 corresponds to the position of the transform matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__B9cce2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__gr_0O2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__B9ccu2SEeWnDaII1mfokg" name="print" method="__s_9g-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__go8gO2SEeWnDaII1mfokg" name="multiply" method="__s7FAO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9Ku2SEeWnDaII1mfokg">
                        <body>Returns a matrix which is this matrix multiplied by the given other matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__go8ge2SEeWnDaII1mfokg" name="m" type="__B4j8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gpjkO2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gpjke2SEeWnDaII1mfokg" name="transform" method="__s7FA-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ud9K-2SEeWnDaII1mfokg">
                        <body>Transform the given vector by this matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gpjku2SEeWnDaII1mfokg" name="v" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gqKoO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gqKoe2SEeWnDaII1mfokg" name="setOrientationAndPos" method="__s7FCu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__gqKou2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gqKo-2SEeWnDaII1mfokg" name="pos" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gqxsO2SEeWnDaII1mfokg" name="transformInverse" method="__s7sEO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekMO2SEeWnDaII1mfokg">
                        <body>If the matrix is not a scale and shear free transform matrix, then this functioN will not give correct results. 
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gqxse2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gqxsu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gqxs-2SEeWnDaII1mfokg" name="transformDirection" method="__s7sE-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__grYwO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__grYwe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__grYwu2SEeWnDaII1mfokg" name="transformInverseDirection" method="__s7sFu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekMe2SEeWnDaII1mfokg">
                        <body>If the matrix is not a scale and shear free transform matrix, then this functioN will not give correct results.
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__grYw-2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__grYxO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__CBG0O2SEeWnDaII1mfokg" name="Quaternion">
                    <ownedComment xmi:id="__uekM-2SEeWnDaII1mfokg">
                      <body>@author waiyan
A quaternion represents the orientation
 is the angle, x,y,z are axis</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__pfWgO2SEeWnDaII1mfokg" name="r">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pf9ke2SEeWnDaII1mfokg" name="i">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pf9k-2SEeWnDaII1mfokg" name="j">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__phLsO2SEeWnDaII1mfokg" name="k">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tAkkO2SEeWnDaII1mfokg" name="Quaternion" specification="__CCU8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tAkke2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>r = 1; 
		i = j = k = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tBLoO2SEeWnDaII1mfokg" name="Quaternion" specification="__gsm4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tBLoe2SEeWnDaII1mfokg" name="axis" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tBLou2SEeWnDaII1mfokg" name="degAngle">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tBLo-2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double half_theta = degAngle * Math.PI / 360; // theta = angle * PI/180;
		double sin_half_theta = Math.sin(half_theta);
		r = Math.cos(half_theta);
		i = axis.x * sin_half_theta;
		j = axis.y * sin_half_theta;
		k = axis.z * sin_half_theta;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tBLpO2SEeWnDaII1mfokg" name="getVector" specification="__CDjEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tBLpe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp= new Vector3D();
		double sin_half_theta = Math.sqrt(1-r*r);
		temp.x = i/sin_half_theta;
		temp.y = j/sin_half_theta;
		temp.z = k/sin_half_theta;
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tBysO2SEeWnDaII1mfokg" name="Quaternion" specification="__CEKIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tByse2SEeWnDaII1mfokg" name="r">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tBysu2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tBys-2SEeWnDaII1mfokg" name="j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tBytO2SEeWnDaII1mfokg" name="k">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tByte2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.r = r; this.i = i; this.j = j; this.k = k;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tBytu2SEeWnDaII1mfokg" name="setQuaternion" specification="__gtN8e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tByt-2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>r=q.r; i=q.i; j=q.j; k=q.k;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tByuO2SEeWnDaII1mfokg" name="normalize" specification="__CFYQO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double mag = r*r + i*i + j*j + k*k;
		if(mag &lt; Init.machineEpsilon){
			r = 1;
			return;
		}
		mag = 1/Math.sqrt(mag);
		r*=mag; 
		i*=mag; j*=mag; k*=mag;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tCZwO2SEeWnDaII1mfokg" name="multiply" specification="__gtN8-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tCZwe2SEeWnDaII1mfokg" name="mul" type="__CBG0O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Quaternion temp = new Quaternion();
		temp.r = r * mul.r - i * mul.i - j * mul.j - k * mul.k;
		temp.i = r * mul.i + i * mul.r + j * mul.k - k * mul.j;
		temp.j = r * mul.j + j * mul.r + k * mul.i - i * mul.k;
		temp.k = r * mul.k + k * mul.r + i * mul.j - j * mul.i;
		setQuaternion(temp);
	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tCZwu2SEeWnDaII1mfokg" name="rotateByVector" specification="__gt1AO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tCZw-2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Quaternion q = new Quaternion(0, vector.x, vector.y, vector.z);
		this.multiply(q);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tCZxO2SEeWnDaII1mfokg" name="addScaledVector" specification="__gvDIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tCZxe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tCZxu2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Quaternion q  = new Quaternion(0, vector.x*scale, vector.y*scale, vector.z*scale);
		q.multiply(this);
		r += q.r/2;
		i += q.i/2;
		j += q.j/2;
		k += q.k/2;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tCZx-2SEeWnDaII1mfokg" name="toMatrix3" specification="__CGmYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tCZyO2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double data [] = new double[9];
		data[0] = 1 - (2*j*j + 2*k*k);
     data[1] = 2*i*j + 2*k*r;
     data[2] = 2*i*k - 2*j*r;
     data[3] = 2*i*j - 2*k*r;
     data[4] = 1 - (2*i*i  + 2*k*k);
     data[5] = 2*j*k + 2*i*r;
     data[6] = 2*i*k + 2*j*r;
     data[7] = 2*j*k - 2*i*r;
     data[8] = 1 - (2*i*i  + 2*j*j);
     return new Matrix3(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7], data[8]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDA0O2SEeWnDaII1mfokg" name="toMatrix4" specification="__gw4UO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDA0e2SEeWnDaII1mfokg" name="pos" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tDA0u2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double data[] = new double [12];
		data[0] = 1 - (2*j*j + 2*k*k);
     data[1] = 2*i*j + 2*k*r;
     data[2] = 2*i*k - 2*j*r;
     data[3] = pos.x;
     data[4] = 2*i*j - 2*k*r;
     data[5] = 1 - (2*i*i  + 2*k*k);
     data[6] = 2*j*k + 2*i*r;
     data[7] = pos.y;
     data[8] = 2*i*k + 2*j*r;
     data[9] = 2*j*k - 2*i*r;
     data[10] = 1 - (2*i*i  + 2*j*j);
     data[11] = pos.z;
		return new Matrix4(data);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDA0-2SEeWnDaII1mfokg" name="print" specification="__CHNcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDA1O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String str = &quot;&quot;;
		str += &quot;r = &quot; + r + &quot;\n&quot; ;
		str += &quot;i = &quot; + i + &quot;\n&quot; ;
		str += &quot;j = &quot; + j + &quot;\n&quot; ;
		str += &quot;k = &quot; + k + &quot;\n&quot; ;
		return str;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__CCU8O2SEeWnDaII1mfokg" name="Quaternion" method="__tAkkO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__CC8AO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__CC8Ae2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__CC8Au2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CDjEO2SEeWnDaII1mfokg" name="getVector" method="__tBLpO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__gtN8O2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CEKIO2SEeWnDaII1mfokg" name="Quaternion" method="__tBysO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__CExMO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__CExMe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__CEKIe2SEeWnDaII1mfokg" name="r">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CEKIu2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CEKI-2SEeWnDaII1mfokg" name="j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CEKJO2SEeWnDaII1mfokg" name="k">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CExMu2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CFYQO2SEeWnDaII1mfokg" name="normalize" method="__tByuO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekNO2SEeWnDaII1mfokg">
                        <body>Normalize the quaternion</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CGmYO2SEeWnDaII1mfokg" name="toMatrix3" method="__tCZx-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekOO2SEeWnDaII1mfokg">
                        <body>Transform this quaternion to a 3x3 Matrix
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gwRQO2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CHNcO2SEeWnDaII1mfokg" name="print" method="__tDA0-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__CHNce2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gsm4O2SEeWnDaII1mfokg" name="Quaternion" method="__tBLoO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__gsm4-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__gsm5O2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__gsm4e2SEeWnDaII1mfokg" name="axis" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gsm4u2SEeWnDaII1mfokg" name="degAngle">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__gsm5e2SEeWnDaII1mfokg" type="__CBG0O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gtN8e2SEeWnDaII1mfokg" name="setQuaternion" method="__tBytu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__gtN8u2SEeWnDaII1mfokg" name="q" type="__CBG0O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gtN8-2SEeWnDaII1mfokg" name="multiply" method="__tCZwO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekNe2SEeWnDaII1mfokg">
                        <body>Multiplies a quaternion by another quaternion
	 * @param mul</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gtN9O2SEeWnDaII1mfokg" name="mul" type="__CBG0O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gt1AO2SEeWnDaII1mfokg" name="rotateByVector" method="__tCZwu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekNu2SEeWnDaII1mfokg">
                        <body>Rotate the quaternion by a given vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gucEO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gvDIO2SEeWnDaII1mfokg" name="addScaledVector" method="__tCZxO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekN-2SEeWnDaII1mfokg">
                        <body>Add a scaled vector to this quaternion
	 * @param vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gvqMO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gvqMe2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__gw4UO2SEeWnDaII1mfokg" name="toMatrix4" method="__tDA0O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uekOe2SEeWnDaII1mfokg">
                        <body>Transform this quaternion to a 3x4 Matrix
	 * @param pos
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__gw4Ue2SEeWnDaII1mfokg" name="pos" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__gxfYO2SEeWnDaII1mfokg" type="__B4j8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__CK30O2SEeWnDaII1mfokg" name="Vector3D">
                    <ownedAttribute xmi:id="__phywO2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__piZ0e2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pjA4e2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pjn8e2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDA1e2SEeWnDaII1mfokg" name="Vector3D" specification="__CMF8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDA1u2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>x = y = z = metric = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDn4O2SEeWnDaII1mfokg" name="Vector3D" specification="__g0isO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDn4e2SEeWnDaII1mfokg" name="v" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tDn4u2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = v.x; this.y = v.y; this.z = v.z; this.metric = v.metric;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDn4-2SEeWnDaII1mfokg" name="Vector3D" specification="__CNUEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDn5O2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn5e2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn5u2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn5-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = x; this.y = y; this.z = z; this.metric = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tDn6O2SEeWnDaII1mfokg" name="Vector3D" specification="__COiMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tDn6e2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn6u2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn6-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn7O2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tDn7e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = x; this.y = y; this.z = z; this.metric = metric;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tEO8O2SEeWnDaII1mfokg" name="equals" specification="__lyiQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tEO8e2SEeWnDaII1mfokg" name="vector" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tEO8u2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if (vector == null) 
	        return false;
	    
	    if (getClass() != vector.getClass()) 
	        return false;
	    
	    final Vector3D other = (Vector3D) vector;
	    if(this.x != other.x || this.y != other.y || this.z != other.z || this.metric != other.metric)
	    	return false;
	    
	    return true;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tEO8-2SEeWnDaII1mfokg" name="invert" specification="__CPwUO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>x=-x; y=-y; z=-z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tEO9O2SEeWnDaII1mfokg" name="getNegativeVector" specification="__CQXYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tEO9e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(-x,-y,-z,metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tEO9u2SEeWnDaII1mfokg" name="clear" specification="__CQ-cO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>x = y = z = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tEO9-2SEeWnDaII1mfokg" name="round" specification="__CQ-ce2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double roundOffVal = 1e7;
		if(x==0 || y==0 || z==0)
			return;
		x = (double)Math.round(x * roundOffVal) / roundOffVal;
		y = (double)Math.round(y * roundOffVal) / roundOffVal;
		z = (double)Math.round(z * roundOffVal) / roundOffVal;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2AO2SEeWnDaII1mfokg" name="getMagnitude" specification="__CRlgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tE2Ae2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(x*x + y *y + z*z);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2Au2SEeWnDaII1mfokg" name="getSquaredMagnitude" specification="__CSMkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tE2A-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return x*x + y *y + z*z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2BO2SEeWnDaII1mfokg" name="normalize" specification="__CSzoO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double temp = getMagnitude();
		if(temp > 0)
			this.scale(1/temp);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2Be2SEeWnDaII1mfokg" name="getUnitVector" specification="__CSzoe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tE2Bu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.normalize();
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2B-2SEeWnDaII1mfokg" name="add" specification="__g3mAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tE2CO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double metricDiff = this.metric - vector.metric;
		if(metricDiff == 0){
			x += vector.x;
			y += vector.y;
			z += vector.z;
		}
		else if (metricDiff >0) { // 1ms - 500us
			double scale = Math.pow(10, metricDiff);
			x = x * scale + vector.x;
			y = y * scale + vector.y;
			z = z * scale + vector.z;
			metric = vector.metric;
		}
		else{	//1us - 1ms
			double scale = Math.pow(10, -metricDiff);
			x += vector.x * scale;
			y += vector.y * scale;
			z += vector.z * scale;
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tE2Ce2SEeWnDaII1mfokg" name="addAndReturn" specification="__g4NEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tE2Cu2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tE2C-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.add(vector);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tFdEO2SEeWnDaII1mfokg" name="subtractAndReturn" specification="__g40IO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tFdEe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tFdEu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.subtract(vector);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tFdE-2SEeWnDaII1mfokg" name="subtract" specification="__g40I-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tFdFO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>add(vector.getNegativeVector());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGEIO2SEeWnDaII1mfokg" name="addScaledVector" specification="__g5bMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGEIe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tGEIu2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>vector.scale(scale);
		add(vector);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGEI-2SEeWnDaII1mfokg" name="scale" specification="__CUBwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGEJO2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>x *= scale;
		y *= scale;
		z *= scale;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGEJe2SEeWnDaII1mfokg" name="getScalarProduct" specification="__g6CQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGEJu2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tGEJ-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double metricDiff = vector.metric - this.metric;
		if(metricDiff == 0)
			return x*vector.x + y*vector.y + z*vector.z;
		else {
			double scale = Math.pow(10, metricDiff);
			return x*scale*vector.x + y*scale*vector.y + z*scale*vector.z;
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGrMO2SEeWnDaII1mfokg" name="getCrossProduct" specification="__g6pUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGrMe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tGrMu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double scale = Math.pow(10, vector.metric - this.metric);
		double new_x = (y*vector.z - z*vector.y)*scale;
		double new_y = (z*vector.x - x*vector.z)*scale;
		double new_z = (x*vector.y - y*vector.x)*scale;
		return new Vector3D(new_x,new_y,new_z,metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGrM-2SEeWnDaII1mfokg" name="getComponentProduct" specification="__g6pU-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGrNO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tGrNe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double scale = Math.pow(10, vector.metric - this.metric);
		return new Vector3D(x*vector.x*scale, y*vector.y*scale, z*vector.z*scale, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tGrNu2SEeWnDaII1mfokg" name="rotatebyMatrix" specification="__g7QYe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tGrN-2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tGrOO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D vector = new Vector3D();
		double [] data = matrix.getData();
		vector.x = data[0] * x + data[1] * y + data[2] * z;
		vector.y = data[3] * x + data[4] * y + data[5] * z;
		vector.z = data[6] * x + data[7] * y + data[8] * z;
		return vector;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tHSQO2SEeWnDaII1mfokg" name="print" specification="__CV28O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tHSQe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double scale = Math.pow(10, metric);
		String x_str = convertMetric(x*scale);
		String y_str = convertMetric(y*scale);
		String z_str = convertMetric(z*scale);
		return x_str + &quot;, &quot; + y_str + &quot;, &quot; + z_str;
		//return String.valueOf(formatter.format(x)) + &quot;, &quot; + String.valueOf(formatter.format(y)) + &quot;, &quot; + String.valueOf(formatter.format(z));
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tHSQu2SEeWnDaII1mfokg" name="convertMetric" specification="__CWeAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tHSQ-2SEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tHSRO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int exponent = (int)(Math.log10(value));
		NumberFormat formatter = new DecimalFormat(&quot;0.000&quot;);
		
		if (exponent &lt;-9)
			return formatter.format(value*Math.pow(10, 12)) + &quot;pm&quot;;
				
		else if (exponent &lt; -6)
			return formatter.format(value*Math.pow(10, 9)) + &quot;nm&quot;;
	
		else if (exponent &lt; -3)
			return formatter.format(value*Math.pow(10, 6)) + &quot; m&quot;;
	
		else if (exponent &lt; 0)
			return formatter.format(value*Math.pow(10, 3)) + &quot;mm&quot;;
		
		return value + &quot;m&quot;;
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tHSRe2SEeWnDaII1mfokg" name="toString" specification="__CXFEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tHSRu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return &quot;(&quot; + String.valueOf(x) + &quot;,&quot; + String.valueOf(y) + &quot;,&quot; + String.valueOf(z) + &quot;)&quot;;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__CMF8O2SEeWnDaII1mfokg" name="Vector3D" method="__tDA1e2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__CMF8e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__CMF8u2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__CMtAO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CNUEO2SEeWnDaII1mfokg" name="Vector3D" method="__tDn4-2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__CNUFO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__CNUFe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__CNUEe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CNUEu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CNUE-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CNUFu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__COiMO2SEeWnDaII1mfokg" name="Vector3D" method="__tDn6O2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__COiNe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__COiNu2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__COiMe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__COiMu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__COiM-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__COiNO2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__COiN-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CPwUO2SEeWnDaII1mfokg" name="invert" method="__tEO8-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLQO2SEeWnDaII1mfokg">
                        <body>Invert this vector to its negative component</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CQXYO2SEeWnDaII1mfokg" name="getNegativeVector" method="__tEO9O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLQe2SEeWnDaII1mfokg">
                        <body>Return a negative vector of this vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g2-8O2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CQ-cO2SEeWnDaII1mfokg" name="clear" method="__tEO9u2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLQu2SEeWnDaII1mfokg">
                        <body>Reset the vector to zero</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CQ-ce2SEeWnDaII1mfokg" name="round" method="__tEO9-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLQ-2SEeWnDaII1mfokg">
                        <body>Round off the decimal points of the double</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CRlgO2SEeWnDaII1mfokg" name="getMagnitude" method="__tE2AO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLRO2SEeWnDaII1mfokg">
                        <body>Get the magnitude of this vector
	 * @return magnitude</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__CRlge2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CSMkO2SEeWnDaII1mfokg" name="getSquaredMagnitude" method="__tE2Au2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLRe2SEeWnDaII1mfokg">
                        <body>Get the squared magnitude of this vector
	 * @return squared magnitude</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__CSMke2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CSzoO2SEeWnDaII1mfokg" name="normalize" method="__tE2BO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLRu2SEeWnDaII1mfokg">
                        <body>Normalize this vector</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CSzoe2SEeWnDaII1mfokg" name="getUnitVector" method="__tE2Be2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLR-2SEeWnDaII1mfokg">
                        <body>Get the unit vector of this vector
	 * @return unti vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g2-8e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CUBwO2SEeWnDaII1mfokg" name="scale" method="__tGEI-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLS-2SEeWnDaII1mfokg">
                        <body>Scale this vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__CUo0O2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CV28O2SEeWnDaII1mfokg" name="print" method="__tHSQO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufyUu2SEeWnDaII1mfokg">
                        <body>Return the formatted values of x, y, z values of the vector
	 * @return String</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__CV28e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CWeAO2SEeWnDaII1mfokg" name="convertMetric" method="__tHSQu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufyU-2SEeWnDaII1mfokg">
                        <body>Convert the given double to a String with SI prefix
	 * @param value
	 * @return String</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__CWeAe2SEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CWeAu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CXFEO2SEeWnDaII1mfokg" name="toString" method="__tHSRe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__CXFEe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g0isO2SEeWnDaII1mfokg" name="Vector3D" method="__tDn4O2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__g1Jwe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__g1Jwu2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__g1JwO2SEeWnDaII1mfokg" name="v" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g1Jw-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g3mAO2SEeWnDaII1mfokg" name="add" method="__tE2B-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLSO2SEeWnDaII1mfokg">
                        <body>Add the given vector to this vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g3mAe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g4NEO2SEeWnDaII1mfokg" name="addAndReturn" method="__tE2Ce2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g4NEe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g4NEu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g40IO2SEeWnDaII1mfokg" name="subtractAndReturn" method="__tFdEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g40Ie2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g40Iu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g40I-2SEeWnDaII1mfokg" name="subtract" method="__tFdE-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLSe2SEeWnDaII1mfokg">
                        <body>Subtract the given vector from this vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g40JO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g5bMO2SEeWnDaII1mfokg" name="addScaledVector" method="__tGEIO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLSu2SEeWnDaII1mfokg">
                        <body>Add a scaled vector to this vector
	 * @param vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g5bMe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g5bMu2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g6CQO2SEeWnDaII1mfokg" name="getScalarProduct" method="__tGEJe2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufLTO2SEeWnDaII1mfokg">
                        <body>Return the scalar product of this vector and the given vector
	 * @param vector
	 * @return scalar product</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g6CQe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g6CQu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g6pUO2SEeWnDaII1mfokg" name="getCrossProduct" method="__tGrMO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufyUO2SEeWnDaII1mfokg">
                        <body>Return the cross product (vector) of this vector and the given vector
	 * @param vector
	 * @return cross product</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g6pUe2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g6pUu2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g6pU-2SEeWnDaII1mfokg" name="getComponentProduct" method="__tGrM-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ufyUe2SEeWnDaII1mfokg">
                        <body>Return the component product (vector) of this vector and the given vector
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__g6pVO2SEeWnDaII1mfokg" name="vector" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g7QYO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g7QYe2SEeWnDaII1mfokg" name="rotatebyMatrix" method="__tGrNu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g7QYu2SEeWnDaII1mfokg" name="matrix" type="__BjMwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g7QY-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__lyiQO2SEeWnDaII1mfokg" name="equals" method="__tEO8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__lyiQe2SEeWnDaII1mfokg" name="vector" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__lyiQu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Interface" xmi:id="_-_iakO2SEeWnDaII1mfokg" name="Particle">
                  <ownedComment xmi:id="__ucvBO2SEeWnDaII1mfokg">
                    <body>&#xD;
@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <ownedOperation xmi:id="__BXmkO2SEeWnDaII1mfokg" name="getName" method="__szJMO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__BYNoO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__BYNoe2SEeWnDaII1mfokg" key="defender"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__BYNou2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__ASogO2SEeWnDaII1mfokg" name="AminoAcid">
                  <ownedComment xmi:id="__ua51-2SEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
AminoAcid.java is child of Residue.java&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="__fyA4O2SEeWnDaII1mfokg" general="__BY0se2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__o9yEO2SEeWnDaII1mfokg" name="aminoChar" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__o_AMO2SEeWnDaII1mfokg" name="atoms" type="__fyn8O2SEeWnDaII1mfokg" association="__vsFIe2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sgOQO2SEeWnDaII1mfokg" name="AminoAcid" specification="__AT2oO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sgOQe2SEeWnDaII1mfokg" type="__ASogO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sg1UO2SEeWnDaII1mfokg" name="getAminoChar" specification="__AT2pO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sg1Ue2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.aminoChar;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sg1Uu2SEeWnDaII1mfokg" name="setAminoChar" specification="__AUdse2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sg1U-2SEeWnDaII1mfokg" name="aminoChar">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.aminoChar = aminoChar;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__AT2oO2SEeWnDaII1mfokg" name="AminoAcid" method="__sgOQO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__AT2oe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__AT2ou2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__AT2o-2SEeWnDaII1mfokg" type="__ASogO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AT2pO2SEeWnDaII1mfokg" name="getAminoChar" method="__sg1UO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AUdsO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AUdse2SEeWnDaII1mfokg" name="setAminoChar" method="__sg1Uu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AUdsu2SEeWnDaII1mfokg" name="aminoChar">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__AVr0O2SEeWnDaII1mfokg" name="Atom">
                  <generalization xmi:id="__AnYoO2SEeWnDaII1mfokg" general="_-_glYO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pAOUO2SEeWnDaII1mfokg" name="name" visibility="protected" type="__f4HgO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pA1Ye2SEeWnDaII1mfokg" name="pdbsymbol" visibility="protected" type="__f4HgO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pBccO2SEeWnDaII1mfokg" name="eleSymbol" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pBccu2SEeWnDaII1mfokg" name="mmType" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__pDRoO2SEeWnDaII1mfokg" value="-1"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pD4se2SEeWnDaII1mfokg" name="atomicMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pEfwe2SEeWnDaII1mfokg" name="atomicNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pFG0O2SEeWnDaII1mfokg" name="partialCharge" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pFt4O2SEeWnDaII1mfokg" name="chainSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pFt4u2SEeWnDaII1mfokg" name="atomSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pGU8e2SEeWnDaII1mfokg" name="interaction" visibility="protected" type="__A_MEO2SEeWnDaII1mfokg" association="__vsFJO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pG8Ae2SEeWnDaII1mfokg" name="forces" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pG8Au2SEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pHjEe2SEeWnDaII1mfokg" name="coordinates" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pHjEu2SEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pIxMO2SEeWnDaII1mfokg" name="parent" visibility="protected" type="_-_iakO2SEeWnDaII1mfokg" association="__vssMe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pJYQO2SEeWnDaII1mfokg" name="bonds" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__vt6UO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pJ_Ue2SEeWnDaII1mfokg" name="vdw_radius" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="__ldyIe2SEeWnDaII1mfokg" client="__AVr0O2SEeWnDaII1mfokg" supplier="__ldLEO2SEeWnDaII1mfokg" contract="__ldLEO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__shcYO2SEeWnDaII1mfokg" name="Atom" specification="__AYIEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__shcYe2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>bonds = new ArrayList&lt;Bond>(4);&#xD;
		coordinates = new float[3];&#xD;
		forces = new double[3];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__shcYu2SEeWnDaII1mfokg" name="getName" specification="__AYvIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__shcY-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__shcZO2SEeWnDaII1mfokg" name="setName" specification="__f58sO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__shcZe2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.name = atomType.getAtomName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__shcZu2SEeWnDaII1mfokg" name="getSymbol" specification="__AYvIu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__shcZ-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return pdbsymbol;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siDcO2SEeWnDaII1mfokg" name="setSymbol" specification="__AZWMe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siDce2SEeWnDaII1mfokg" name="symbol">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(symbol==null || symbol.length()&lt;1)&#xD;
			return;&#xD;
		symbol = symbol.toUpperCase();&#xD;
		this.pdbsymbol = symbol;&#xD;
		// when setting symbol of atom, set the name, atomic mass and atomic number&#xD;
		boolean found=false;&#xD;
		for(AtomType a: AtomType.values()){&#xD;
			if(a.toString().compareTo(symbol.substring(0, 1))==0){&#xD;
				setName(a);&#xD;
				setAtomicMass(a);&#xD;
				setAtomicNumber(a);&#xD;
				found=true;&#xD;
			}&#xD;
		}&#xD;
		if(!found){&#xD;
			System.out.println(&quot;[&quot; + symbol + &quot;] symbol is not in AtomType.java, please add or check for error&quot;);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siDcu2SEeWnDaII1mfokg" name="getElementSymbol" specification="__AZ9QO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siDc-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return eleSymbol;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siDdO2SEeWnDaII1mfokg" name="setElementSymbol" specification="__AakUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siDde2SEeWnDaII1mfokg" name="string">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(string.compareTo(&quot;R&quot;)==0)&#xD;
			this.eleSymbol = pdbsymbol;&#xD;
		else&#xD;
			this.eleSymbol = string;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siqgO2SEeWnDaII1mfokg" name="getmmType" specification="__AakUu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siqge2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return mmType;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siqgu2SEeWnDaII1mfokg" name="setmmType" specification="__AbLYe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siqg-2SEeWnDaII1mfokg" name="mmType">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.mmType = mmType;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siqhO2SEeWnDaII1mfokg" name="getParent" specification="__AbycO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siqhe2SEeWnDaII1mfokg" type="_-_iakO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return parent;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__siqhu2SEeWnDaII1mfokg" name="setParent" specification="__f6jwe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__siqh-2SEeWnDaII1mfokg" name="chain" type="_-_iakO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.parent = chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sjRkO2SEeWnDaII1mfokg" name="setAtomicMass" specification="__f7K0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sjRke2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atomicMass = atomType.getAtomicMass();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sjRku2SEeWnDaII1mfokg" name="setAtomicNumber" specification="__f7x4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sjRk-2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atomicNum = atomType.getAtomicNum();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__slt0O2SEeWnDaII1mfokg" name="getChainSeqNum" specification="__Abyce2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__slt0e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__slt0u2SEeWnDaII1mfokg" name="setChainSeqNum" specification="__AcZge2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__slt0-2SEeWnDaII1mfokg" name="chainSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.chainSeqNum = chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__smU4O2SEeWnDaII1mfokg" name="getAtomSeqNum" specification="__AdAkO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__smU4e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.atomSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__smU4u2SEeWnDaII1mfokg" name="setAtomSeqNum" specification="__AdAku2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__smU4-2SEeWnDaII1mfokg" name="atomSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.atomSeqNum = atomSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__smU5O2SEeWnDaII1mfokg" name="setBond" specification="__f9AAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sm78O2SEeWnDaII1mfokg" name="bond" type="__AuGUO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>bonds.add(bond);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sm78e2SEeWnDaII1mfokg" name="getBond" specification="__AdnoO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sm78u2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return bonds;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sm78-2SEeWnDaII1mfokg" name="hasNeighbour" specification="__f9AAu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sm79O2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sm79e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(Bond bond : bonds){&#xD;
			if(bond.a.getAtomSeqNum()==atm.getAtomSeqNum() || bond.b.getAtomSeqNum()==atm.getAtomSeqNum())&#xD;
				return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sm79u2SEeWnDaII1mfokg" name="getModelName" specification="__Ae1wO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sm79-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(parent instanceof Chain){&#xD;
			return ((Chain) parent).getModelName();&#xD;
		}&#xD;
		else if(parent instanceof Residue){&#xD;
			return ((Residue) parent).getModelName();&#xD;
		}&#xD;
		else{&#xD;
			return null; // TODO: add in exceptions&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__spYMO2SEeWnDaII1mfokg" name="getPartialCharge" specification="__Ae1wu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__spYMe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return partialCharge;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__spYMu2SEeWnDaII1mfokg" name="setPartialCharge" specification="__Afc0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__spYM-2SEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.partialCharge = charge;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__spYNO2SEeWnDaII1mfokg" name="setVdWRadius" specification="__Agq8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__spYNe2SEeWnDaII1mfokg" name="vdw_radius">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.vdw_radius = vdw_radius;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sp_QO2SEeWnDaII1mfokg" name="getVdWRadius" specification="__Agq8u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sp_Qe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return vdw_radius;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sp_Qu2SEeWnDaII1mfokg" name="getCoordinates" specification="__AhSAe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sp_Q-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__sp_RO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return coordinates;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sp_Re2SEeWnDaII1mfokg" name="setCoordinates" specification="__Ah5Ee2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>if(coordinates[0]==0.00f &amp;&amp; coordinates[1]==0.00f &amp;&amp; coordinates[2]==0.00f){&#xD;
		coordinates[0] = (float) position.x;&#xD;
		coordinates[1] = (float) position.y;&#xD;
		coordinates[2] = (float) position.z;&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sqmUO2SEeWnDaII1mfokg" name="setCoordinates" specification="__Ah5Eu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sqmUe2SEeWnDaII1mfokg" name="coord">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__sqmUu2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>coordinates[0] = (float) coord[0];&#xD;
		coordinates[1] = (float) coord[1];&#xD;
		coordinates[2] = (float) coord[2];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sqmU-2SEeWnDaII1mfokg" name="getForces" specification="__AigIu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sqmVO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__sqmVe2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return forces;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sqmVu2SEeWnDaII1mfokg" name="setForces" specification="__AjHMe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sqmV-2SEeWnDaII1mfokg" name="force">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__sqmWO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>forces[0] = force[0];&#xD;
		forces[1] = force[1];&#xD;
		forces[2] = force[2];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__srNYO2SEeWnDaII1mfokg" name="getNeighbourAtoms" specification="__AjuQe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__srNYe2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__srNYu2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Atom[] atm = new Atom[bonds.size()];&#xD;
		for(int i=0;i&lt;bonds.size();i++){&#xD;
			if(bonds.get(i).getAtom1()==this)&#xD;
				atm[i] = bonds.get(i).getAtom2(); &#xD;
			else&#xD;
				atm[i] = bonds.get(i).getAtom1();&#xD;
		}&#xD;
		return atm;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__srNY-2SEeWnDaII1mfokg" name="clone" specification="__AkVUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__srNZO2SEeWnDaII1mfokg" type="__h1PUe2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return super.clone();&#xD;
 </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__AYIEO2SEeWnDaII1mfokg" name="Atom" method="__shcYO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__AYIEe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__AYIEu2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__AYIE-2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AYvIO2SEeWnDaII1mfokg" name="getName" method="__shcYu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AYvIe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AYvIu2SEeWnDaII1mfokg" name="getSymbol" method="__shcZu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AZWMO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AZWMe2SEeWnDaII1mfokg" name="setSymbol" method="__siDcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AZWMu2SEeWnDaII1mfokg" name="symbol">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AZ9QO2SEeWnDaII1mfokg" name="getElementSymbol" method="__siDcu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AZ9Qe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AakUO2SEeWnDaII1mfokg" name="setElementSymbol" method="__siDdO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AakUe2SEeWnDaII1mfokg" name="string">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AakUu2SEeWnDaII1mfokg" name="getmmType" method="__siqgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AbLYO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AbLYe2SEeWnDaII1mfokg" name="setmmType" method="__siqgu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AbLYu2SEeWnDaII1mfokg" name="mmType">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AbycO2SEeWnDaII1mfokg" name="getParent" method="__siqhO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f6jwO2SEeWnDaII1mfokg" type="_-_iakO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Abyce2SEeWnDaII1mfokg" name="getChainSeqNum" method="__slt0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AcZgO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AcZge2SEeWnDaII1mfokg" name="setChainSeqNum" method="__slt0u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AcZgu2SEeWnDaII1mfokg" name="chainSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AdAkO2SEeWnDaII1mfokg" name="getAtomSeqNum" method="__smU4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AdAke2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AdAku2SEeWnDaII1mfokg" name="setAtomSeqNum" method="__smU4u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AdAk-2SEeWnDaII1mfokg" name="atomSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AdnoO2SEeWnDaII1mfokg" name="getBond" method="__sm78e2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lfAQO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Ae1wO2SEeWnDaII1mfokg" name="getModelName" method="__sm79u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Ae1we2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Ae1wu2SEeWnDaII1mfokg" name="getPartialCharge" method="__spYMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Ae1w-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Afc0O2SEeWnDaII1mfokg" name="setPartialCharge" method="__spYMu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Afc0e2SEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Agq8O2SEeWnDaII1mfokg" name="setVdWRadius" method="__spYNO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Agq8e2SEeWnDaII1mfokg" name="vdw_radius">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Agq8u2SEeWnDaII1mfokg" name="getVdWRadius" method="__sp_QO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AhSAO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AhSAe2SEeWnDaII1mfokg" name="getCoordinates" method="__sp_Qu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AhSAu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__AhSA-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Ah5Ee2SEeWnDaII1mfokg" name="setCoordinates" method="__sp_Re2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__Ah5Eu2SEeWnDaII1mfokg" name="setCoordinates" method="__sqmUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AigIO2SEeWnDaII1mfokg" name="coord">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__AigIe2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AigIu2SEeWnDaII1mfokg" name="getForces" method="__sqmU-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AigI-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__AigJO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AjHMe2SEeWnDaII1mfokg" name="setForces" method="__sqmVu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AjHMu2SEeWnDaII1mfokg" name="force">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__AjuQO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AjuQe2SEeWnDaII1mfokg" name="getNeighbourAtoms" method="__srNYO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__AjuQu2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__AjuQ-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AkVUO2SEeWnDaII1mfokg" name="clone" method="__srNY-2SEeWnDaII1mfokg" raisedException="__lfAQu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lfAQe2SEeWnDaII1mfokg" type="__h1PUe2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f58sO2SEeWnDaII1mfokg" name="setName" method="__shcZO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f58se2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f6jwe2SEeWnDaII1mfokg" name="setParent" method="__siqhu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f6jwu2SEeWnDaII1mfokg" name="chain" type="_-_iakO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f7K0O2SEeWnDaII1mfokg" name="setAtomicMass" visibility="private" method="__sjRkO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f7K0e2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f7x4O2SEeWnDaII1mfokg" name="setAtomicNumber" visibility="private" method="__sjRku2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f7x4e2SEeWnDaII1mfokg" name="atomType" type="__EKb4O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f9AAO2SEeWnDaII1mfokg" name="setBond" method="__smU5O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f9AAe2SEeWnDaII1mfokg" name="bond" type="__AuGUO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__f9AAu2SEeWnDaII1mfokg" name="hasNeighbour" method="__sm78-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__f9nEO2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__f9nEe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__AuGUO2SEeWnDaII1mfokg" name="Bond">
                  <ownedComment xmi:id="__ubg4O2SEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="__pLNcO2SEeWnDaII1mfokg" name="a" visibility="package" type="__AVr0O2SEeWnDaII1mfokg" association="__vuhYe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__ubg4e2SEeWnDaII1mfokg" name="b" visibility="package" type="__AVr0O2SEeWnDaII1mfokg" association="__xUc0e2SEeWnDaII1mfokg"/>
                  <interfaceRealization xmi:id="__gB4gO2SEeWnDaII1mfokg" client="__AuGUO2SEeWnDaII1mfokg" supplier="__A_MEO2SEeWnDaII1mfokg" contract="__A_MEO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sr0cO2SEeWnDaII1mfokg" name="Bond" specification="__gCfkO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sr0ce2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sr0cu2SEeWnDaII1mfokg" name="b" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__sr0c-2SEeWnDaII1mfokg" type="__AuGUO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>this.a = a;&#xD;
		this.b = b;&#xD;
		//setBondLength();&#xD;
		//setBondType(a,b);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sr0dO2SEeWnDaII1mfokg" name="getAtom1" specification="__AutYO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sr0de2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return a;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sr0du2SEeWnDaII1mfokg" name="getAtom2" specification="__AvUcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sr0d-2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return b;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__AutYO2SEeWnDaII1mfokg" name="getAtom1" method="__sr0dO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gEUw-2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__AvUcO2SEeWnDaII1mfokg" name="getAtom2" method="__sr0du2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gE70O2SEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gCfkO2SEeWnDaII1mfokg" name="Bond" method="__sr0cO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__gEUwO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__gEUwe2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__gCfke2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__gDtsO2SEeWnDaII1mfokg" name="b" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__gEUwu2SEeWnDaII1mfokg" type="__AuGUO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__AxJoO2SEeWnDaII1mfokg" name="BoundingPrimitive" isAbstract="true">
                  <ownedComment xmi:id="__ucH8u2SEeWnDaII1mfokg">
                    <body>@author waiyan
BoundingPrimitives determine the shape of the Particle (Atom/Molecule/Residue)
Extended by BoundingBox, BoundingCube and BoundingSphere</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="__pL0ge2SEeWnDaII1mfokg" name="centre" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__vvIce2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ssbgO2SEeWnDaII1mfokg" name="updateCentre" specification="__Ay-0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ssbge2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ssbgu2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ssbg-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__ssbhO2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>centre.x = x; centre.y =y; centre.z=z; centre.metric=metric;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__Ay-0O2SEeWnDaII1mfokg" name="updateCentre" method="__ssbgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Ay-0e2SEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Ay-0u2SEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Ay-0-2SEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Ay-1O2SEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gFi4O2SEeWnDaII1mfokg" name="overlap" isAbstract="true">
                    <ownedParameter xmi:id="__gFi4e2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__gFi4u2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__A00AO2SEeWnDaII1mfokg" name="Chain">
                  <ownedComment xmi:id="__ucvAO2SEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="__A7hsO2SEeWnDaII1mfokg" general="_-_glYO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pMbke2SEeWnDaII1mfokg" name="name">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pNCoe2SEeWnDaII1mfokg" name="position">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pNpse2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg" association="__vvvge2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pOQwu2SEeWnDaII1mfokg" name="atomSeq" type="__fyn8O2SEeWnDaII1mfokg" association="__vwWke2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pQF8O2SEeWnDaII1mfokg" name="molecule" type="__BOcoO2SEeWnDaII1mfokg" association="__vxksO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stCkO2SEeWnDaII1mfokg" name="Chain" specification="__A2CIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stCke2SEeWnDaII1mfokg" type="__A00AO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		residues = new ArrayList&lt;Residue>();&#xD;
		atomSeq = new ArrayList&lt;Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stCku2SEeWnDaII1mfokg" name="getName" specification="__A2CJO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stCk-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stClO2SEeWnDaII1mfokg" name="setChainPosition" specification="__A2pMe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stCle2SEeWnDaII1mfokg" name="pos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.position = pos;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stpoO2SEeWnDaII1mfokg" name="getChainPosition" specification="__A2pM-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stpoe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return position;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stpou2SEeWnDaII1mfokg" name="setChainName" specification="__A3QQe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stpo-2SEeWnDaII1mfokg" name="chainID">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = chainID;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stppO2SEeWnDaII1mfokg" name="getResidues" specification="__A33UO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stppe2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.residues;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__stppu2SEeWnDaII1mfokg" name="getAtoms" specification="__A4eYe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__stpp-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.atomSeq;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__suQsO2SEeWnDaII1mfokg" name="setChainSequence" specification="__gImMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__suQse2SEeWnDaII1mfokg" name="chain" type="__gH_IO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>Residue res;&#xD;
		for(Group g : chain.getAtomGroups()){&#xD;
			if ( g instanceof org.biojava.bio.structure.AminoAcid ){&#xD;
				res = new AminoAcid();&#xD;
				res.setParent(this);&#xD;
				res.setName(((org.biojava.bio.structure.AminoAcid)g).getPDBName());&#xD;
				res.setResidueSeqNum(((org.biojava.bio.structure.AminoAcid)g).getResidueNumber().getSeqNum());&#xD;
				((AminoAcid) res).setAminoChar(((org.biojava.bio.structure.AminoAcid)g).getAminoType());&#xD;
				res.setAtomList(((org.biojava.bio.structure.AminoAcid)g).getAtoms());&#xD;
				residues.add(res);&#xD;
			}&#xD;
			else if(g instanceof HetatomImpl){&#xD;
				List&lt;org.biojava.bio.structure.Atom> atomList = ((HetatomImpl)g).getAtoms();&#xD;
				for(int i=0;i&lt;atomList.size();i++){&#xD;
					AbstractParticle atom = new Atom();&#xD;
					((Atom)atom).setParent(this);&#xD;
					((Atom)atom).setSymbol(atomList.get(i).getName());&#xD;
					((Atom)atom).setElementSymbol(atomList.get(i).getElement().toString());&#xD;
					((Atom)atom).setChainSeqNum(((HetatomImpl)g).getResidueNumber().getSeqNum());&#xD;
					((Atom)atom).setAtomSeqNum(atomList.get(i).getPDBserial());&#xD;
					((Atom)atom).setCoordinates(atomList.get(i).getCoords());&#xD;
					atomSeq.add(((Atom)atom));&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__suQsu2SEeWnDaII1mfokg" name="getParent" specification="__A5Fce2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__suQs-2SEeWnDaII1mfokg" type="__BOcoO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return molecule;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__suQtO2SEeWnDaII1mfokg" name="setParent" specification="__gJNQe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__suQte2SEeWnDaII1mfokg" name="molecule" type="__BOcoO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.molecule = molecule;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__suQtu2SEeWnDaII1mfokg" name="setAtomHash" specification="__ljRsO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__suQt-2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__suQuO2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;residues.size();i++){&#xD;
			residues.get(i).setAtomHash(atomHash, modelName);&#xD;
		}&#xD;
		for(int i=0;i&lt;atomSeq.size();i++){&#xD;
			atomHash.put(modelName+atomSeq.get(i).atomSeqNum, atomSeq.get(i));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__suQue2SEeWnDaII1mfokg" name="getModelName" specification="__A5sgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__suQuu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return molecule.getParent().modelName;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__su3wO2SEeWnDaII1mfokg" name="setChainSequence" specification="__gJ0UO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__su3we2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atm.setParent(this);&#xD;
		atm.setChainSeqNum(atomSeq.size()+1);&#xD;
		int atmNum = 0;&#xD;
		Model parentModel = getParent().getParent();&#xD;
		for(int j=0;j&lt;parentModel.getMolecules().size();j++){&#xD;
			Molecule parent =parentModel.getMolecules().get(j); &#xD;
			for(int i=0;i&lt;parent.getChains().size();i++){&#xD;
				Chain chain = parent.getChains().get(i);&#xD;
				if(chain.getResidues()!=null &amp;&amp; chain.getResidues().size()>0){&#xD;
					for(Residue res : chain.getResidues()){&#xD;
						atmNum += res.getAtomList().size();&#xD;
					}&#xD;
				}&#xD;
				if(chain.getAtoms()!=null &amp;&amp; chain.getAtoms().size()>0){&#xD;
					atmNum += chain.getAtoms().size();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		atm.setAtomSeqNum((atmNum+1));&#xD;
		atomSeq.add(atm);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__A2CIO2SEeWnDaII1mfokg" name="Chain" method="__stCkO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__A2CIe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__A2CIu2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__A2CI-2SEeWnDaII1mfokg" type="__A00AO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A2CJO2SEeWnDaII1mfokg" name="getName" method="__stCku2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__A2pMO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A2pMe2SEeWnDaII1mfokg" name="setChainPosition" method="__stClO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__A2pMu2SEeWnDaII1mfokg" name="pos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A2pM-2SEeWnDaII1mfokg" name="getChainPosition" method="__stpoO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__A3QQO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A3QQe2SEeWnDaII1mfokg" name="setChainName" method="__stpou2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__A3QQu2SEeWnDaII1mfokg" name="chainID">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A33UO2SEeWnDaII1mfokg" name="getResidues" method="__stppO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__liqoO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A4eYe2SEeWnDaII1mfokg" name="getAtoms" method="__stppu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gHYEO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A5Fce2SEeWnDaII1mfokg" name="getParent" method="__suQsu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gJNQO2SEeWnDaII1mfokg" type="__BOcoO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__A5sgO2SEeWnDaII1mfokg" name="getModelName" method="__suQue2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__A6TkO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gImMO2SEeWnDaII1mfokg" name="setChainSequence" method="__suQsO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gImMe2SEeWnDaII1mfokg" name="chain" type="__gH_IO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gJNQe2SEeWnDaII1mfokg" name="setParent" method="__suQtO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gJNQu2SEeWnDaII1mfokg" name="molecule" type="__BOcoO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gJ0UO2SEeWnDaII1mfokg" name="setChainSequence" method="__su3wO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gJ0Ue2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__ljRsO2SEeWnDaII1mfokg" name="setAtomHash" method="__suQtu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ljRse2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__ljRsu2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Interface" xmi:id="__A_MEO2SEeWnDaII1mfokg" name="Interaction"/>
                <packagedElement xmi:type="uml:Class" xmi:id="__A_MEe2SEeWnDaII1mfokg" name="Model">
                  <ownedAttribute xmi:id="__pQtAO2SEeWnDaII1mfokg" name="modelName" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__pQtAe2SEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pRUEe2SEeWnDaII1mfokg" name="structure" visibility="protected" type="__gLpge2SEeWnDaII1mfokg" association="__vyLwe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pR7Ie2SEeWnDaII1mfokg" name="molecules" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__vyy0e2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pSiMu2SEeWnDaII1mfokg" name="atomHash" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="__vzZ4e2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pTwUO2SEeWnDaII1mfokg" name="bonds" visibility="protected" type="__AuGUO2SEeWnDaII1mfokg" association="__v0A8e2SEeWnDaII1mfokg">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pTwUe2SEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__su3wu2SEeWnDaII1mfokg" name="Model" specification="__BAaMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__su3w-2SEeWnDaII1mfokg" type="__A_MEe2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>molecules = new ArrayList&lt;Molecule>();&#xD;
		atomHash = new HashMap&lt;String,Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sve0O2SEeWnDaII1mfokg" name="getMolecules" specification="__BBBQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sve0e2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.molecules;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sve0u2SEeWnDaII1mfokg" name="setMolecules" specification="__llt8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sve0-2SEeWnDaII1mfokg" name="molecules" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.molecules = molecules;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__swF4O2SEeWnDaII1mfokg" name="setMolecule" specification="__lmVAe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__swF4e2SEeWnDaII1mfokg" name="list" type="__gLCcO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle molecule;&#xD;
		molecule = new Molecule();&#xD;
		molecules.add(((Molecule)molecule));&#xD;
		((Molecule)molecule).setName(list.get(0).getParent().getPdbId());&#xD;
		((Molecule)molecule).setParent(this);&#xD;
		((Molecule)molecule).setChains(list);&#xD;
		((Molecule)molecule).setAtomHash(atomHash, modelName);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__swF4u2SEeWnDaII1mfokg" name="setMolecule" specification="__gM3oO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__swF4-2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle molecule;&#xD;
		molecule = new Molecule();&#xD;
		((Molecule)molecule).setName(&quot;&quot;);&#xD;
		((Molecule)molecule).setParent(this);&#xD;
		((Molecule)molecule).setChain(atm);&#xD;
		((Molecule)molecule).setAtomHash(atomHash, modelName);&#xD;
		molecules.add(((Molecule)molecule));&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__swF5O2SEeWnDaII1mfokg" name="setModelName" specification="__BEroO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__swF5e2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>modelName = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__swF5u2SEeWnDaII1mfokg" name="getModelName" specification="__BF5wO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__swF5-2SEeWnDaII1mfokg" type="__f4HgO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.modelName;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__swF6O2SEeWnDaII1mfokg" name="getModelDetailList" specification="__BF5we2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__swF6e2SEeWnDaII1mfokg" type="__h1PUe2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__swF6u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ArrayList&lt;String> modelList = new ArrayList&lt;String>();&#xD;
		for(int i=0;i&lt;molecules.size();i++){&#xD;
			Molecule molecule = molecules.get(i);&#xD;
			modelList.add(molecule.getName());&#xD;
			for(int j=0;j&lt;molecule.getChains().size();j++){&#xD;
				Chain chain = molecule.getChains().get(j);&#xD;
				modelList.add(chain.getName());&#xD;
			}&#xD;
		}&#xD;
		return modelList.toArray();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sws8O2SEeWnDaII1mfokg" name="getAtomHash" specification="__BHH4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sws8e2SEeWnDaII1mfokg" type="__f25YO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return atomHash;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sws8u2SEeWnDaII1mfokg" name="setBonds" specification="__lnjIe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sws8-2SEeWnDaII1mfokg" name="ownbonds" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>bonds = new Bond[ownbonds.size()];&#xD;
		for(int i=0;i&lt;ownbonds.size();i++){&#xD;
			bonds[i] = ownbonds.get(i);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sws9O2SEeWnDaII1mfokg" name="getBonds" specification="__BIWAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sws9e2SEeWnDaII1mfokg" type="__AuGUO2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__sws9u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return bonds;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sws9-2SEeWnDaII1mfokg" name="removeAtom" specification="__BKLMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sws-O2SEeWnDaII1mfokg" name="key">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Atom atm = atomHash.get(key);&#xD;
		int atomno = atm.getAtomSeqNum();&#xD;
		if(atm.getParent() instanceof AminoAcid){&#xD;
			AminoAcid res = (AminoAcid)atm.getParent();&#xD;
			for(int i=0;i&lt;res.getAtomList().size();i++){&#xD;
				if(atm.getAtomSeqNum()==res.getAtomList().get(i).getAtomSeqNum()){&#xD;
					atomHash.remove(key);&#xD;
					res.getAtomList().remove(i);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		else if(atm.getParent() instanceof Chain){&#xD;
			Chain chain = (Chain)atm.getParent();&#xD;
			for(int i=0;i&lt;chain.getAtoms().size();i++){&#xD;
				if(atm.getAtomSeqNum()==chain.getAtoms().get(i).getAtomSeqNum()){&#xD;
					atomHash.remove(key);&#xD;
					chain.getAtoms().remove(i);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__BAaMO2SEeWnDaII1mfokg" name="Model" method="__su3wu2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__BAaMe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__BAaMu2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__BAaM-2SEeWnDaII1mfokg" type="__A_MEe2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BBBQO2SEeWnDaII1mfokg" name="getMolecules" method="__sve0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__llG4O2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BEroO2SEeWnDaII1mfokg" name="setModelName" method="__swF5O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BFSsO2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BF5wO2SEeWnDaII1mfokg" name="getModelName" method="__swF5u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gNesO2SEeWnDaII1mfokg" type="__f4HgO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BF5we2SEeWnDaII1mfokg" name="getModelDetailList" method="__swF6O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BGg0O2SEeWnDaII1mfokg" type="__h1PUe2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__BGg0e2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BHH4O2SEeWnDaII1mfokg" name="getAtomHash" method="__sws8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lnjIO2SEeWnDaII1mfokg" type="__f25YO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BIWAO2SEeWnDaII1mfokg" name="getBonds" method="__sws9O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BI9EO2SEeWnDaII1mfokg" type="__AuGUO2SEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__BJkIO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BKLMO2SEeWnDaII1mfokg" name="removeAtom" method="__sws9-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BKLMe2SEeWnDaII1mfokg" name="key">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gM3oO2SEeWnDaII1mfokg" name="setMolecule" method="__swF4u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gM3oe2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__llt8O2SEeWnDaII1mfokg" name="setMolecules" method="__sve0u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__llt8e2SEeWnDaII1mfokg" name="molecules" type="__fyn8O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__lmVAe2SEeWnDaII1mfokg" name="setMolecule" method="__swF4O2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ucvAe2SEeWnDaII1mfokg">
                      <body>needs to change the name to something more descriptive&#xD;
	 * &#xD;
	 * @param list&#xD;
	 * @deprecated will be renamed</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__lmVAu2SEeWnDaII1mfokg" name="list" type="__gLCcO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__lnjIe2SEeWnDaII1mfokg" name="setBonds" method="__sws8u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lnjIu2SEeWnDaII1mfokg" name="ownbonds" type="__fyn8O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__BOcoO2SEeWnDaII1mfokg" name="Molecule">
                  <ownedComment xmi:id="__ucvAu2SEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="__BT8MO2SEeWnDaII1mfokg" general="_-_glYO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pUXYe2SEeWnDaII1mfokg" name="name" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pU-ce2SEeWnDaII1mfokg" name="parent" visibility="protected" type="__A_MEe2SEeWnDaII1mfokg" association="__v0oAe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pVlgO2SEeWnDaII1mfokg" name="molecularMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pVlgu2SEeWnDaII1mfokg" name="formula" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pWMke2SEeWnDaII1mfokg" name="internalEnergy" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pWzoO2SEeWnDaII1mfokg" name="chains" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__v1PEe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pXase2SEeWnDaII1mfokg" name="interaction" type="__A_MEO2SEeWnDaII1mfokg" association="__v12Ie2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sxUAO2SEeWnDaII1mfokg" name="Molecule" specification="__BPqwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sxUAe2SEeWnDaII1mfokg" type="__BOcoO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		chains = new ArrayList&lt;Chain>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sxUAu2SEeWnDaII1mfokg" name="getName" specification="__BPqxO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sxUA-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sx7EO2SEeWnDaII1mfokg" name="setName" specification="__BQR0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sx7Ee2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sx7Eu2SEeWnDaII1mfokg" name="getParent" specification="__BQR0u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sx7E-2SEeWnDaII1mfokg" type="__A_MEe2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return parent;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sx7FO2SEeWnDaII1mfokg" name="setParent" specification="__gQiAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sx7Fe2SEeWnDaII1mfokg" name="model" type="__A_MEe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.parent = model;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sx7Fu2SEeWnDaII1mfokg" name="getChains" specification="__BQ44O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sx7F-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.chains;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__sx7GO2SEeWnDaII1mfokg" name="setChains" specification="__gRJEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__sx7Ge2SEeWnDaII1mfokg" name="chains" type="__gLCcO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle chain;&#xD;
		for(int i=0;i&lt;chains.size();i++){&#xD;
			chain = new Chain();&#xD;
			((Chain)chain).setChainName(chains.get(i).getChainID());&#xD;
			((Chain)chain).setParent(this);&#xD;
			((Chain)chain).setChainPosition(i);&#xD;
			((Chain)chain).setChainSequence(chains.get(i));&#xD;
			this.chains.add((Chain) chain);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__syiIO2SEeWnDaII1mfokg" name="setChain" specification="__gYd0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__syiIe2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle chain;&#xD;
		chain = new Chain();&#xD;
		((Chain)chain).setChainName(&quot;TST&quot;);&#xD;
		((Chain)chain).setParent(this);&#xD;
		((Chain)chain).setChainPosition((chains.size()+1));&#xD;
		((Chain)chain).setChainSequence(atm);&#xD;
		this.chains.add((Chain) chain);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__syiIu2SEeWnDaII1mfokg" name="getInteraction" specification="__BSHAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__syiI-2SEeWnDaII1mfokg" type="__A_MEO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.interaction;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__syiJO2SEeWnDaII1mfokg" name="setInteraction" specification="__gZE4e2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__syiJe2SEeWnDaII1mfokg" name="interaction" type="__A_MEO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.interaction = interaction;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__syiJu2SEeWnDaII1mfokg" name="setAtomHash" specification="__lp_YO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__syiJ-2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__syiKO2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;chains.size();i++){&#xD;
			chains.get(i).setAtomHash(atomHash, modelName);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__BPqwO2SEeWnDaII1mfokg" name="Molecule" method="__sxUAO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__BPqwe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__BPqwu2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__BPqw-2SEeWnDaII1mfokg" type="__BOcoO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BPqxO2SEeWnDaII1mfokg" name="getName" method="__sxUAu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BPqxe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BQR0O2SEeWnDaII1mfokg" name="setName" method="__sx7EO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BQR0e2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BQR0u2SEeWnDaII1mfokg" name="getParent" method="__sx7Eu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gP68O2SEeWnDaII1mfokg" type="__A_MEe2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BQ44O2SEeWnDaII1mfokg" name="getChains" method="__sx7Fu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lpYUO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BSHAO2SEeWnDaII1mfokg" name="getInteraction" method="__syiIu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gZE4O2SEeWnDaII1mfokg" type="__A_MEO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gQiAO2SEeWnDaII1mfokg" name="setParent" method="__sx7FO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gQiAe2SEeWnDaII1mfokg" name="model" type="__A_MEe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gRJEO2SEeWnDaII1mfokg" name="setChains" visibility="protected" method="__sx7GO2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__ucvA-2SEeWnDaII1mfokg">
                      <body>&#xD;
	 * @param chains</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__gRJEe2SEeWnDaII1mfokg" name="chains" type="__gLCcO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gYd0O2SEeWnDaII1mfokg" name="setChain" visibility="protected" method="__syiIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gYd0e2SEeWnDaII1mfokg" name="atm" type="__AVr0O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gZE4e2SEeWnDaII1mfokg" name="setInteraction" method="__syiJO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gZE4u2SEeWnDaII1mfokg" name="interaction" type="__A_MEO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__lp_YO2SEeWnDaII1mfokg" name="setAtomHash" method="__syiJu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lp_Ye2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__lp_Yu2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__BY0se2SEeWnDaII1mfokg" name="Residue">
                  <ownedComment xmi:id="__ucvBe2SEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="__BfiYO2SEeWnDaII1mfokg" general="_-_glYO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pYBwe2SEeWnDaII1mfokg" name="name" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pYo0e2SEeWnDaII1mfokg" name="chainSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pZP4e2SEeWnDaII1mfokg" name="moleculeSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__pZ28O2SEeWnDaII1mfokg" name="chain" visibility="protected" type="__A00AO2SEeWnDaII1mfokg" association="__v2dMe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pZ28u2SEeWnDaII1mfokg" name="atoms" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__v3EQe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pbFEe2SEeWnDaII1mfokg" name="representativeCharges" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__v3rUe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__pcTMO2SEeWnDaII1mfokg" name="representativePoints" visibility="protected" type="__fyn8O2SEeWnDaII1mfokg" association="__v4SYe2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__szwQO2SEeWnDaII1mfokg" name="Residue" specification="__BaC0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__szwQe2SEeWnDaII1mfokg" type="__BY0se2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		name = null;&#xD;
		atoms = new ArrayList&lt;Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__szwQu2SEeWnDaII1mfokg" name="getName" specification="__Bap4u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__szwQ-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__szwRO2SEeWnDaII1mfokg" name="setName" specification="__BbQ8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__szwRe2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__szwRu2SEeWnDaII1mfokg" name="getParent" specification="__BbQ8u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__szwR-2SEeWnDaII1mfokg" type="__A00AO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0XUO2SEeWnDaII1mfokg" name="setParent" specification="__gbhIe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0XUe2SEeWnDaII1mfokg" name="chain" type="__A00AO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.chain = chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0XUu2SEeWnDaII1mfokg" name="getResidueSeqNum" specification="__Bb4AO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0XU-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0XVO2SEeWnDaII1mfokg" name="setResidueSeqNum" specification="__BcfEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0XVe2SEeWnDaII1mfokg" name="seqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.chainSeqNum = seqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0-YO2SEeWnDaII1mfokg" name="getChainPosition" specification="__BcfEu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0-Ye2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return chain.position;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0-Yu2SEeWnDaII1mfokg" name="getAtomList" specification="__BdGIe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0-Y-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return atoms;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0-ZO2SEeWnDaII1mfokg" name="setAtomList" specification="__lsboe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0-Ze2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle atom;&#xD;
		for(int i=0;i&lt;atoms.size();i++){&#xD;
			atom = new Atom();&#xD;
			((Atom)atom).setParent(this);&#xD;
			((Atom)atom).setSymbol(atoms.get(i).getName());&#xD;
			((Atom)atom).setElementSymbol(atoms.get(i).getElement().toString());&#xD;
			((Atom)atom).setChainSeqNum(chainSeqNum);&#xD;
			((Atom)atom).setAtomSeqNum(atoms.get(i).getPDBserial());&#xD;
			((Atom)atom).setCoordinates(atoms.get(i).getCoords());&#xD;
			this.atoms.add(((Atom)atom));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s0-Zu2SEeWnDaII1mfokg" name="setAtomHash" specification="__luQ0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s0-Z-2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__s0-aO2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;atoms.size();i++){&#xD;
			atomHash.put(modelName+atoms.get(i).atomSeqNum, atoms.get(i));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__s1lcO2SEeWnDaII1mfokg" name="getModelName" specification="__BeUQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__s1lce2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return chain.getModelName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__BaC0O2SEeWnDaII1mfokg" name="Residue" method="__szwQO2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__BaC0e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__Bap4O2SEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="__Bap4e2SEeWnDaII1mfokg" type="__BY0se2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Bap4u2SEeWnDaII1mfokg" name="getName" method="__szwQu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Bap4-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BbQ8O2SEeWnDaII1mfokg" name="setName" method="__szwRO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BbQ8e2SEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BbQ8u2SEeWnDaII1mfokg" name="getParent" method="__szwRu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gbhIO2SEeWnDaII1mfokg" type="__A00AO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Bb4AO2SEeWnDaII1mfokg" name="getResidueSeqNum" method="__s0XUu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Bb4Ae2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BcfEO2SEeWnDaII1mfokg" name="setResidueSeqNum" method="__s0XVO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BcfEe2SEeWnDaII1mfokg" name="seqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BcfEu2SEeWnDaII1mfokg" name="getChainPosition" method="__s0-YO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BdGIO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BdGIe2SEeWnDaII1mfokg" name="getAtomList" method="__s0-Yu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lsboO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__BeUQO2SEeWnDaII1mfokg" name="getModelName" method="__s1lcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__BeUQe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__gbhIe2SEeWnDaII1mfokg" name="setParent" method="__s0XUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__gbhIu2SEeWnDaII1mfokg" name="chain" type="__A00AO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__lsboe2SEeWnDaII1mfokg" name="setAtomList" method="__s0-ZO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__lsbou2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__luQ0O2SEeWnDaII1mfokg" name="setAtomHash" method="__s0-Zu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__luQ0e2SEeWnDaII1mfokg" name="atomHash" type="__f25YO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__luQ0u2SEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vmlkO2SEeWnDaII1mfokg" name="" memberEnd="__vmlke2SEeWnDaII1mfokg __ozaAO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vmlke2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vmlkO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vnMoe2SEeWnDaII1mfokg" name="" memberEnd="__vnMou2SEeWnDaII1mfokg __o0BEe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vnMou2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vnMoe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vnzse2SEeWnDaII1mfokg" name="" memberEnd="__vnzsu2SEeWnDaII1mfokg __o0oIe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vnzsu2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vnzse2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__voawe2SEeWnDaII1mfokg" name="" memberEnd="__voawu2SEeWnDaII1mfokg __o1PMe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__voawu2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__voawe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__voaxO2SEeWnDaII1mfokg" name="" memberEnd="__voaxe2SEeWnDaII1mfokg __o2dUO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__voaxe2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__voaxO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vpB0e2SEeWnDaII1mfokg" name="" memberEnd="__vpB0u2SEeWnDaII1mfokg __o3EYe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vpB0u2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vpB0e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vpo4e2SEeWnDaII1mfokg" name="" memberEnd="__vpo4u2SEeWnDaII1mfokg __o5goO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vpo4u2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vpo4e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vqP8e2SEeWnDaII1mfokg" name="" memberEnd="__vqP8u2SEeWnDaII1mfokg __o6HsO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vqP8u2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vqP8e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vqP9O2SEeWnDaII1mfokg" name="" memberEnd="__vqP9e2SEeWnDaII1mfokg __o6uwe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vqP9e2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vqP9O2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vq3Ae2SEeWnDaII1mfokg" name="" memberEnd="__vq3Au2SEeWnDaII1mfokg __o7V0O2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vq3Au2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vq3Ae2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vreEe2SEeWnDaII1mfokg" name="" memberEnd="__vreEu2SEeWnDaII1mfokg __o7V0u2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vreEu2SEeWnDaII1mfokg" name="" type="_-_glYO2SEeWnDaII1mfokg" association="__vreEe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vsFIe2SEeWnDaII1mfokg" name="" memberEnd="__vsFIu2SEeWnDaII1mfokg __o_AMO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vsFIu2SEeWnDaII1mfokg" name="" type="__ASogO2SEeWnDaII1mfokg" association="__vsFIe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vsFJO2SEeWnDaII1mfokg" name="" memberEnd="__vsFJe2SEeWnDaII1mfokg __pGU8e2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vsFJe2SEeWnDaII1mfokg" name="" type="__AVr0O2SEeWnDaII1mfokg" association="__vsFJO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vssMe2SEeWnDaII1mfokg" name="" memberEnd="__vssMu2SEeWnDaII1mfokg __pIxMO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vssMu2SEeWnDaII1mfokg" name="" type="__AVr0O2SEeWnDaII1mfokg" association="__vssMe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vt6UO2SEeWnDaII1mfokg" name="" memberEnd="__vt6Ue2SEeWnDaII1mfokg __pJYQO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vt6Ue2SEeWnDaII1mfokg" name="" type="__AVr0O2SEeWnDaII1mfokg" association="__vt6UO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vuhYe2SEeWnDaII1mfokg" name="" memberEnd="__vuhYu2SEeWnDaII1mfokg __pLNcO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vuhYu2SEeWnDaII1mfokg" name="" type="__AuGUO2SEeWnDaII1mfokg" association="__vuhYe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vvIce2SEeWnDaII1mfokg" name="" memberEnd="__vvIcu2SEeWnDaII1mfokg __pL0ge2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vvIcu2SEeWnDaII1mfokg" name="" type="__AxJoO2SEeWnDaII1mfokg" association="__vvIce2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vvvge2SEeWnDaII1mfokg" name="" memberEnd="__vvvgu2SEeWnDaII1mfokg __pNpse2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vvvgu2SEeWnDaII1mfokg" name="" type="__A00AO2SEeWnDaII1mfokg" association="__vvvge2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vwWke2SEeWnDaII1mfokg" name="" memberEnd="__vwWku2SEeWnDaII1mfokg __pOQwu2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vwWku2SEeWnDaII1mfokg" name="" type="__A00AO2SEeWnDaII1mfokg" association="__vwWke2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vxksO2SEeWnDaII1mfokg" name="" memberEnd="__vxkse2SEeWnDaII1mfokg __pQF8O2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vxkse2SEeWnDaII1mfokg" name="" type="__A00AO2SEeWnDaII1mfokg" association="__vxksO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vyLwe2SEeWnDaII1mfokg" name="" memberEnd="__vyLwu2SEeWnDaII1mfokg __pRUEe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vyLwu2SEeWnDaII1mfokg" name="" type="__A_MEe2SEeWnDaII1mfokg" association="__vyLwe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vyy0e2SEeWnDaII1mfokg" name="" memberEnd="__vyy0u2SEeWnDaII1mfokg __pR7Ie2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vyy0u2SEeWnDaII1mfokg" name="" type="__A_MEe2SEeWnDaII1mfokg" association="__vyy0e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__vzZ4e2SEeWnDaII1mfokg" name="" memberEnd="__vzZ4u2SEeWnDaII1mfokg __pSiMu2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__vzZ4u2SEeWnDaII1mfokg" name="" type="__A_MEe2SEeWnDaII1mfokg" association="__vzZ4e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v0A8e2SEeWnDaII1mfokg" name="" memberEnd="__v0A8u2SEeWnDaII1mfokg __pTwUO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v0A8u2SEeWnDaII1mfokg" name="" type="__A_MEe2SEeWnDaII1mfokg" association="__v0A8e2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v0oAe2SEeWnDaII1mfokg" name="" memberEnd="__v0oAu2SEeWnDaII1mfokg __pU-ce2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v0oAu2SEeWnDaII1mfokg" name="" type="__BOcoO2SEeWnDaII1mfokg" association="__v0oAe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v1PEe2SEeWnDaII1mfokg" name="" memberEnd="__v1PEu2SEeWnDaII1mfokg __pWzoO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v1PEu2SEeWnDaII1mfokg" name="" type="__BOcoO2SEeWnDaII1mfokg" association="__v1PEe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v12Ie2SEeWnDaII1mfokg" name="" memberEnd="__v12Iu2SEeWnDaII1mfokg __pXase2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v12Iu2SEeWnDaII1mfokg" name="" type="__BOcoO2SEeWnDaII1mfokg" association="__v12Ie2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v2dMe2SEeWnDaII1mfokg" name="" memberEnd="__v2dMu2SEeWnDaII1mfokg __pZ28O2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v2dMu2SEeWnDaII1mfokg" name="" type="__BY0se2SEeWnDaII1mfokg" association="__v2dMe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v3EQe2SEeWnDaII1mfokg" name="" memberEnd="__v3EQu2SEeWnDaII1mfokg __pZ28u2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v3EQu2SEeWnDaII1mfokg" name="" type="__BY0se2SEeWnDaII1mfokg" association="__v3EQe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v3rUe2SEeWnDaII1mfokg" name="" memberEnd="__v3rUu2SEeWnDaII1mfokg __pbFEe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v3rUu2SEeWnDaII1mfokg" name="" type="__BY0se2SEeWnDaII1mfokg" association="__v3rUe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__v4SYe2SEeWnDaII1mfokg" name="" memberEnd="__v4SYu2SEeWnDaII1mfokg __pcTMO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__v4SYu2SEeWnDaII1mfokg" name="" type="__BY0se2SEeWnDaII1mfokg" association="__v4SYe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xUc0e2SEeWnDaII1mfokg" name="" memberEnd="__xUc0u2SEeWnDaII1mfokg __ubg4e2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xUc0u2SEeWnDaII1mfokg" name="" type="__AuGUO2SEeWnDaII1mfokg" association="__xUc0e2SEeWnDaII1mfokg"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_-1rT8O2SEeWnDaII1mfokg" name="moleculeeditor">
                <packagedElement xmi:type="uml:Package" xmi:id="_-1r7AO2SEeWnDaII1mfokg" name="userenum">
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__EKb4O2SEeWnDaII1mfokg" name="AtomType">
                    <ownedAttribute xmi:id="__qO9YO2SEeWnDaII1mfokg" name="name" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qQLgO2SEeWnDaII1mfokg" name="atomicMass" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qQyke2SEeWnDaII1mfokg" name="atomicNum" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="__EOGQO2SEeWnDaII1mfokg" name="AtomType" visibility="package" method="__thh8e2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__EOtU-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__EOtVO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__EOtUO2SEeWnDaII1mfokg" name="name">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__EOtUe2SEeWnDaII1mfokg" name="atomicMass">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__EOtUu2SEeWnDaII1mfokg" name="atomicNum">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__EOtVe2SEeWnDaII1mfokg" type="__EKb4O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EPUYO2SEeWnDaII1mfokg" name="getAtomName" method="__thh9u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EPUYe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EPUYu2SEeWnDaII1mfokg" name="getAtomicNum" method="__thh-O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EP7cO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedLiteral xmi:id="__ELC8O2SEeWnDaII1mfokg" name="H">
                      <specification xmi:type="uml:Expression" xmi:id="__ELC8e2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhngO2SEeWnDaII1mfokg" value="&quot;Hydrogen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhnge2SEeWnDaII1mfokg" value="1.008"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhngu2SEeWnDaII1mfokg" value="1"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ELC8u2SEeWnDaII1mfokg" name="C">
                      <specification xmi:type="uml:Expression" xmi:id="__ELqAO2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhng-2SEeWnDaII1mfokg" value="&quot;Carbon&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhnhO2SEeWnDaII1mfokg" value="12.011"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uhnhe2SEeWnDaII1mfokg" value="6"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ELqAe2SEeWnDaII1mfokg" name="N">
                      <specification xmi:type="uml:Expression" xmi:id="__ELqAu2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOkO2SEeWnDaII1mfokg" value="&quot;Nitrogen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOke2SEeWnDaII1mfokg" value="14.007"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOku2SEeWnDaII1mfokg" value="7"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EMREO2SEeWnDaII1mfokg" name="O">
                      <specification xmi:type="uml:Expression" xmi:id="__EMREe2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOk-2SEeWnDaII1mfokg" value="&quot;Oxygen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOlO2SEeWnDaII1mfokg" value="15.999"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOle2SEeWnDaII1mfokg" value="8"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EMREu2SEeWnDaII1mfokg" name="F">
                      <specification xmi:type="uml:Expression" xmi:id="__EM4IO2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOlu2SEeWnDaII1mfokg" value="&quot;Fluorine&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOl-2SEeWnDaII1mfokg" value="18.9984"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__uiOmO2SEeWnDaII1mfokg" value="9"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EM4Ie2SEeWnDaII1mfokg" name="P">
                      <specification xmi:type="uml:Expression" xmi:id="__EM4Iu2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1oO2SEeWnDaII1mfokg" value="&quot;Phosphorus&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1oe2SEeWnDaII1mfokg" value="30.9738"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1ou2SEeWnDaII1mfokg" value="15"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EM4I-2SEeWnDaII1mfokg" name="S">
                      <specification xmi:type="uml:Expression" xmi:id="__EM4JO2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1o-2SEeWnDaII1mfokg" value="&quot;Sulfur&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1pO2SEeWnDaII1mfokg" value="32.06"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1pe2SEeWnDaII1mfokg" value="16"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EM4Je2SEeWnDaII1mfokg" name="I">
                      <specification xmi:type="uml:Expression" xmi:id="__EM4Ju2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1pu2SEeWnDaII1mfokg" value="&quot;Iodine&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1p-2SEeWnDaII1mfokg" value="126.9045"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="__ui1qO2SEeWnDaII1mfokg" value="53"/>
                      </specification>
                    </ownedLiteral>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__ERJkO2SEeWnDaII1mfokg" name="BondType">
                    <ownedAttribute xmi:id="__qSAsO2SEeWnDaII1mfokg" name="name" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="__EWCEO2SEeWnDaII1mfokg" name="BondType" visibility="package" method="__tiJAO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__EWpIO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__EWpIe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__EWCEe2SEeWnDaII1mfokg" name="name">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__EWpIu2SEeWnDaII1mfokg" type="__ERJkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EWpI-2SEeWnDaII1mfokg" name="toString" method="__tiJA-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EWpJO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedLiteral xmi:id="__ES-wO2SEeWnDaII1mfokg" name="AMIDE">
                      <specification xmi:type="uml:Expression" xmi:id="__ES-we2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcsO2SEeWnDaII1mfokg" value="&quot;AMIDE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ES-wu2SEeWnDaII1mfokg" name="ESTER">
                      <specification xmi:type="uml:Expression" xmi:id="__ES-w-2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcse2SEeWnDaII1mfokg" value="&quot;ESTER&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ES-xO2SEeWnDaII1mfokg" name="AMINE">
                      <specification xmi:type="uml:Expression" xmi:id="__ETl0O2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcsu2SEeWnDaII1mfokg" value="&quot;AMINE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ETl0e2SEeWnDaII1mfokg" name="UREA">
                      <specification xmi:type="uml:Expression" xmi:id="__ETl0u2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcs-2SEeWnDaII1mfokg" value="&quot;UREA&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__ETl0-2SEeWnDaII1mfokg" name="ETHER">
                      <specification xmi:type="uml:Expression" xmi:id="__ETl1O2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujctO2SEeWnDaII1mfokg" value="&quot;ETHER&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUM4O2SEeWnDaII1mfokg" name="OLEFIN">
                      <specification xmi:type="uml:Expression" xmi:id="__EUM4e2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcte2SEeWnDaII1mfokg" value="&quot;OLEFIN&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUM4u2SEeWnDaII1mfokg" name="QUARTERNITRO">
                      <specification xmi:type="uml:Expression" xmi:id="__EUM4-2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujctu2SEeWnDaII1mfokg" value="&quot;QUARTERNITRO&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUM5O2SEeWnDaII1mfokg" name="ARONITRO_ALICARBON">
                      <specification xmi:type="uml:Expression" xmi:id="__EUM5e2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujct-2SEeWnDaII1mfokg" value="&quot;ARONITRO_ALICARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUz8O2SEeWnDaII1mfokg" name="LACNTIRO_ALICARBON">
                      <specification xmi:type="uml:Expression" xmi:id="__EUz8e2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcuO2SEeWnDaII1mfokg" value="&quot;LACNTIRO_ALICARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUz8u2SEeWnDaII1mfokg" name="AROCARBON_AROCARBON">
                      <specification xmi:type="uml:Expression" xmi:id="__EUz8-2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ujcue2SEeWnDaII1mfokg" value="&quot;AROCARBON_AROCARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUz9O2SEeWnDaII1mfokg" name="SULPHONAMIDE">
                      <specification xmi:type="uml:Expression" xmi:id="__EUz9e2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ukDwO2SEeWnDaII1mfokg" value="&quot;SULPHONAMIDE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="__EUz9u2SEeWnDaII1mfokg" name="COVALENT">
                      <specification xmi:type="uml:Expression" xmi:id="__EVbAO2SEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="__ukDwe2SEeWnDaII1mfokg" value="&quot;COVALENT&quot;"/>
                      </specification>
                    </ownedLiteral>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__EX3QO2SEeWnDaII1mfokg" name="DisplayType">
                    <ownedLiteral xmi:id="__EZFYO2SEeWnDaII1mfokg" name="LINE"/>
                    <ownedLiteral xmi:id="__EZFYe2SEeWnDaII1mfokg" name="SPACE"/>
                    <ownedLiteral xmi:id="__EZFYu2SEeWnDaII1mfokg" name="STICK"/>
                    <ownedLiteral xmi:id="__EZFY-2SEeWnDaII1mfokg" name="SPHERE"/>
                    <ownedLiteral xmi:id="__EZFZO2SEeWnDaII1mfokg" name="CARTOON"/>
                    <ownedLiteral xmi:id="__EZFZe2SEeWnDaII1mfokg" name="BALLNSTICK"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__EZscO2SEeWnDaII1mfokg" name="UserActionType">
                    <ownedLiteral xmi:id="__EaTgO2SEeWnDaII1mfokg" name="CUT"/>
                    <ownedLiteral xmi:id="__EaTge2SEeWnDaII1mfokg" name="COPY"/>
                    <ownedLiteral xmi:id="__EaTgu2SEeWnDaII1mfokg" name="PASTE"/>
                    <ownedLiteral xmi:id="__EaTg-2SEeWnDaII1mfokg" name="DISPLAYTYPE"/>
                    <ownedLiteral xmi:id="__EaThO2SEeWnDaII1mfokg" name="DELETE"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-28fQO2SEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="__CdLsO2SEeWnDaII1mfokg" name="AtomToMMType">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tH5UO2SEeWnDaII1mfokg" name="setMMType" specification="__g8egO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tH5Ue2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tH5Uu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>switch(atom.getElementSymbol()){&#xD;
		case &quot;N&quot; : return checkNitrogenAtomBond(atom);&#xD;
		case &quot;C&quot; : return checkCarbonAtomBond(atom);&#xD;
		case &quot;O&quot; : return checkOxygenAtomBond(atom);&#xD;
		case &quot;H&quot; : return checkHydrogenAtomBond(atom);&#xD;
		}&#xD;
		return null;&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tH5U-2SEeWnDaII1mfokg" name="checkNitrogenAtomBond" specification="__g9Fku2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tH5VO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tH5Ve2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO Auto-generated method stub&#xD;
		return &quot;NR+&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tH5Vu2SEeWnDaII1mfokg" name="checkOxygenAtomBond" specification="__g9sou2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tH5V-2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tH5WO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		int countO=0, countC=0, countN=0, countH=0;&#xD;
		if(bonds.size()==2){&#xD;
			for(int i=0;i&lt;2;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
						countH++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
					countC++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
					countN++;&#xD;
				}&#xD;
				&#xD;
				if(countH==2)&#xD;
					return &quot;OR&quot;;&#xD;
				else if(countC==1 &amp;&amp; (bonds.get(i).getAtom1().getmmType()==3||bonds.get(i).getAtom2().getmmType()==3))&#xD;
					return &quot;O2CM&quot;;&#xD;
				else&#xD;
					return &quot;O2CM&quot;;&#xD;
			}&#xD;
		}&#xD;
		if(bonds.size()==1){&#xD;
			for(int i=0;i&lt;1;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if(((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0))&amp;&amp;&#xD;
						(bonds.get(i).getAtom1().getmmType()==34||bonds.get(i).getAtom2().getmmType()==34)){&#xD;
					return &quot;O=C&quot;;&#xD;
				}&#xD;
				else if(((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0))){&#xD;
						return &quot;O=CN&quot;;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return &quot;O2CM&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tH5We2SEeWnDaII1mfokg" name="checkHydrogenAtomBond" specification="__g-6wO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tH5Wu2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tH5W-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		for(int i=0;i&lt;1;i++){&#xD;
			String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
			String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
			if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
				(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
				return&quot;HC&quot;;&#xD;
			}&#xD;
			else if(((atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0))&amp;&amp;&#xD;
					(bonds.get(i).getAtom1().getmmType()==34||bonds.get(i).getAtom2().getmmType()==34)){&#xD;
				return &quot;HNR+&quot;;&#xD;
			}&#xD;
			else if(((atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0))){&#xD;
				if((bonds.get(i).getAtom1().getmmType()==6||bonds.get(i).getAtom2().getmmType()==6))&#xD;
					return &quot;HOR&quot;;&#xD;
				else&#xD;
					return &quot;HO&quot;;&#xD;
			}&#xD;
			&#xD;
		}&#xD;
		return &quot;HNR+&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tIgYO2SEeWnDaII1mfokg" name="checkCarbonAtomBond" specification="__hAI4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tIgYe2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tIgYu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		int countO=0, countC=0, countN=0, countH=0;&#xD;
		if(bonds.size()==2){&#xD;
			return &quot;=C=&quot;;&#xD;
		}&#xD;
		if(bonds.size()==3){&#xD;
			for(int i=0;i&lt;3;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0){&#xD;
					countC++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countO++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countH++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countN++;&#xD;
				}&#xD;
				&#xD;
				&#xD;
			}&#xD;
			&#xD;
			if(countO==2)&#xD;
				return &quot;CO2M&quot;;&#xD;
			else if(countC==3)&#xD;
				return &quot;C=C&quot;;&#xD;
			else if((countC==1 &amp;&amp; countO==1 &amp;&amp; countN==1))&#xD;
				return &quot;C=ON&quot;;&#xD;
			else if((countC==2 &amp;&amp; countO==1)||(countH==1 &amp;&amp; countO==1 &amp;&amp; countC==1))&#xD;
				return &quot;C=OR&quot;;&#xD;
			else if(countC==2 &amp;&amp; countN==1)&#xD;
				return &quot;C=N&quot;;&#xD;
			else if(countO==1)&#xD;
				return &quot;C=O&quot;;&#xD;
		}&#xD;
		if(bonds.size()==4){&#xD;
			for(int i=0;i&lt;4;i++){&#xD;
				return &quot;CR&quot;;&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__g8egO2SEeWnDaII1mfokg" name="setMMType" isStatic="true" method="__tH5UO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g9FkO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g9Fke2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g9Fku2SEeWnDaII1mfokg" name="checkNitrogenAtomBond" visibility="private" isStatic="true" method="__tH5U-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g9soO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g9soe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g9sou2SEeWnDaII1mfokg" name="checkOxygenAtomBond" visibility="private" isStatic="true" method="__tH5Vu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g-TsO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g-Tse2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__g-6wO2SEeWnDaII1mfokg" name="checkHydrogenAtomBond" visibility="private" isStatic="true" method="__tH5We2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__g_h0O2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__g_h0e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__hAI4O2SEeWnDaII1mfokg" name="checkCarbonAtomBond" visibility="private" isStatic="true" method="__tIgYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hAI4e2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__hAv8O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__Cg2EO2SEeWnDaII1mfokg" name="DataManager">
                    <ownedAttribute xmi:id="__pk2EO2SEeWnDaII1mfokg" name="logger" visibility="private" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" association="__v45ce2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pk2Ee2SEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(MoleculeEditor.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pk2E-2SEeWnDaII1mfokg" name="newline" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pldIO2SEeWnDaII1mfokg" value="&quot;\n&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pldIu2SEeWnDaII1mfokg" name="d3" visibility="private" isStatic="true" type="__gyGcO2SEeWnDaII1mfokg" association="__v5gge2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pldI-2SEeWnDaII1mfokg" value="(DecimalFormat)NumberFormat.getInstance(java.util.Locale.UK)"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pmEMe2SEeWnDaII1mfokg" name="d2" visibility="private" isStatic="true" type="__gyGcO2SEeWnDaII1mfokg" association="__v6Hke2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pmrQO2SEeWnDaII1mfokg" value="(DecimalFormat)NumberFormat.getInstance(java.util.Locale.UK)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tIgY-2SEeWnDaII1mfokg" name="_initializer1" specification="__Cj5YO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>d3.setMaximumIntegerDigits(4);&#xD;
		d3.setMinimumFractionDigits(3);&#xD;
		d3.setMaximumFractionDigits(3);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tIgZO2SEeWnDaII1mfokg" name="_initializer2" specification="__ClukO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>d2.setMaximumIntegerDigits(3);&#xD;
		d2.setMinimumFractionDigits(2);&#xD;
		d2.setMaximumFractionDigits(2);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tIgZe2SEeWnDaII1mfokg" name="readFile" specification="__hFBYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tIgZu2SEeWnDaII1mfokg" name="fileName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tIgZ-2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
		&#xD;
		if(fileName.endsWith(&quot;.pdb&quot;) || fileName.endsWith(&quot;.pdbqt&quot;)){&#xD;
			struc = FileReader.readPDBFile(fileName); &#xD;
		}&#xD;
		else if(fileName.endsWith(&quot;.mol2&quot;)){&#xD;
			struc = FileReader.readMol2File(fileName);&#xD;
		}&#xD;
		else if(fileName.endsWith(&quot;.cif&quot;)){&#xD;
			struc = FileReader.readMmcifFile(fileName);&#xD;
		}&#xD;
		return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tIgaO2SEeWnDaII1mfokg" name="writeFile" specification="__l0-gO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tIgae2SEeWnDaII1mfokg" name="file" type="__hBXAO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tIgau2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String modelToPDB = modelToPDB(updateReg.getModelList());&#xD;
		// implement writer to write to file&#xD;
		FileWriter.writePDBFile(file, modelToPDB);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJHcO2SEeWnDaII1mfokg" name="modelToPDB" specification="__l0-g-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJHce2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tJHcu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>StringBuffer pdb = new StringBuffer();&#xD;
		int numModel = models.size();&#xD;
		// for each model&#xD;
		for(int i=0;i&lt;numModel;i++){&#xD;
			pdb.append(&quot;MODEL      &quot; + (i+1)+ newline);	// start for each model&#xD;
			Model currModel = models.get(i);&#xD;
			int numMole = currModel.getMolecules().size();&#xD;
			//for each molecule&#xD;
			for(int m=0;m&lt;numMole;m++){&#xD;
				Molecule currMole = currModel.getMolecules().get(m);&#xD;
				int numChain = currMole.getChains().size();&#xD;
				// for each Chain&#xD;
				for(int j=0;j&lt;numChain;j++){&#xD;
					Chain currChain = currMole.getChains().get(j);&#xD;
					int numResidue = currChain.getResidues().size();&#xD;
					//for each Residue in Chain&#xD;
					for(int k=0;k&lt;numResidue;k++){&#xD;
						Residue currResidue = currChain.getResidues().get(k);&#xD;
						int numAtom = currResidue.getAtomList().size();&#xD;
						for(int l=0;l&lt;numAtom;l++){&#xD;
							Atom currAtom = currResidue.getAtomList().get(l);&#xD;
							// pdb string for each ATOM&#xD;
							toPDB(currAtom, pdb);&#xD;
						}&#xD;
					}&#xD;
					&#xD;
					int numAtom = currChain.getAtoms().size();&#xD;
					// for HetAtom in Chain&#xD;
					for(int k=0;k&lt;numAtom;k++){&#xD;
						Atom currAtom = currChain.getAtoms().get(k);&#xD;
						// pdb string for each HETATM&#xD;
						toPDB(currAtom, pdb);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			pdb.append(&quot;ENDMDL&quot;).append(newline); // end of each model&#xD;
		}&#xD;
		return pdb.toString();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJHc-2SEeWnDaII1mfokg" name="toPDB" specification="__l2zse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJHdO2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tJHde2SEeWnDaII1mfokg" name="str" type="__l2Moe2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String record = &quot;&quot; ;&#xD;
		if (a.getParent() instanceof Chain) {&#xD;
			record = &quot;HETATM&quot;;&#xD;
		} else {&#xD;
			record = &quot;ATOM  &quot;;&#xD;
		}&#xD;
		&#xD;
		int    seri       = a.getAtomSeqNum()       ;&#xD;
		String serial     = alignRight(&quot;&quot;+seri,5)   ;&#xD;
		&#xD;
		String fullname   = alignLeft(a.getSymbol(),3)	;&#xD;
		Character  altLoc = ' '        			    ;&#xD;
		&#xD;
		String resName;&#xD;
		if(a.getParent()==null)&#xD;
			resName = &quot;TST&quot;;&#xD;
		else&#xD;
			resName = a.getParent().getName();&#xD;
		String leftResName = alignLeft(resName,3);&#xD;
		String chainID = &quot;&quot;;&#xD;
		if(a.getParent() instanceof Residue){&#xD;
			chainID = ((Residue)a.getParent()).getParent().getName();&#xD;
		}&#xD;
		else{&#xD;
			chainID = &quot; &quot;;&#xD;
		}&#xD;
		String resseq     = alignRight(&quot;&quot;+a.getChainSeqNum(),5);&#xD;
		&#xD;
		String x          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[0]),8);&#xD;
		String y          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[1]),8);&#xD;
		String z          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[2]),8);&#xD;
		String occupancy  = alignRight(&quot;&quot;+d2.format(1.00),6) ;&#xD;
		String tempfactor = alignRight(&quot;&quot;+d2.format(0.00),6);&#xD;
		&#xD;
		StringBuffer s = new StringBuffer();&#xD;
		s.append(record);&#xD;
		s.append(serial);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(fullname);&#xD;
		s.append(altLoc);&#xD;
		s.append(leftResName);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(chainID);&#xD;
		s.append(resseq);&#xD;
		s.append(&quot;    &quot;);&#xD;
		s.append(x);&#xD;
		s.append(y);&#xD;
		s.append(z);&#xD;
		s.append(occupancy);&#xD;
		s.append(tempfactor);&#xD;
		&#xD;
		String eString;&#xD;
		if(a.getSymbol()==null)&#xD;
			eString = &quot; &quot;;&#xD;
		else&#xD;
			eString = a.getSymbol().substring(0, 1).toUpperCase();&#xD;
		str.append(String.format(&quot;%-76s%2s&quot;, s.toString(),eString));&#xD;
		str.append(newline);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJHdu2SEeWnDaII1mfokg" name="alignLeft" specification="__Cm8sO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJHd-2SEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJHeO2SEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJHee2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(input==null){&#xD;
			String spaces = &quot;                           &quot; ;&#xD;
			return spaces.substring(0, length);&#xD;
		}&#xD;
		if (input.length() >= length) {&#xD;
			return input;&#xD;
		}&#xD;
&#xD;
		String spaces = &quot;                           &quot; ;&#xD;
		input += spaces.substring(0, length - input.length() );&#xD;
		return input;&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJHeu2SEeWnDaII1mfokg" name="alignRight" specification="__CnjwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJHe-2SEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJHfO2SEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJHfe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(input==null){&#xD;
			String spaces = &quot;                           &quot; ;&#xD;
			return spaces.substring(0, length);&#xD;
		}&#xD;
		int n = input.length();&#xD;
		if ( n >= length)&#xD;
			return input;&#xD;
&#xD;
		String spaces = &quot;                           &quot; ;&#xD;
		int diff = length - n ;&#xD;
		StringBuffer s = new StringBuffer();&#xD;
&#xD;
		s.append(spaces.substring(0,diff));&#xD;
		s.append(input);&#xD;
&#xD;
		return s.toString();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJugO2SEeWnDaII1mfokg" name="readFile" specification="__hFocO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJuge2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJugu2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
		&#xD;
		if(filePath.endsWith(&quot;.pdb&quot;)){&#xD;
			struc = FileReader.readPDBFile(filePath); &#xD;
		}&#xD;
		&#xD;
		if(struc==null){&#xD;
			logger.log(Level.INFO, &quot;Error loading file&quot;);&#xD;
			JOptionPane.showMessageDialog(new JFrame(), &quot;Error loading file.&quot;);&#xD;
		}&#xD;
		else&#xD;
			updateReg.loadFileToJmol(struc);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJug-2SEeWnDaII1mfokg" name="appendModel" specification="__hGPgu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJuhO2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJuhe2SEeWnDaII1mfokg" name="updateRegistry" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tJuhu2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
			if(filePath.endsWith(&quot;.pdb&quot;)){&#xD;
				struc = FileReader.readPDBFile(filePath); &#xD;
			}&#xD;
			if(struc==null){&#xD;
				logger.log(Level.INFO, &quot;Error loading file&quot;);&#xD;
				JOptionPane.showMessageDialog(new JFrame(), &quot;Error loading file.&quot;);&#xD;
				return null;&#xD;
			}&#xD;
			else&#xD;
				return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJuh-2SEeWnDaII1mfokg" name="toPDB" specification="__l6eEe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJuiO2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tJuie2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJuiu2SEeWnDaII1mfokg" name="position" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tJui-2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJujO2SEeWnDaII1mfokg" name="str" type="__l2Moe2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String record = &quot;&quot; ;&#xD;
		if (a.getParent() instanceof Chain) {&#xD;
			record = &quot;HETATM&quot;;&#xD;
		} else {&#xD;
			record = &quot;ATOM  &quot;;&#xD;
		}&#xD;
		&#xD;
		int    seri       = i       ;&#xD;
		String serial     = alignRight(&quot;&quot;+seri,5)   ;&#xD;
		&#xD;
		String fullname   = alignLeft(a.getSymbol(),3)	;&#xD;
		Character  altLoc = ' '        			    ;&#xD;
		&#xD;
		String resName;&#xD;
		if(a.getParent()==null)&#xD;
			resName = &quot;TST&quot;;&#xD;
		else&#xD;
			resName = a.getParent().getName();&#xD;
		String leftResName = alignLeft(resName,3);&#xD;
		String chainID = &quot;&quot;;&#xD;
		if(a.getParent() instanceof Residue){&#xD;
			chainID = ((Residue)a.getParent()).getParent().getName();&#xD;
		}&#xD;
		else{&#xD;
			chainID = &quot; &quot;;&#xD;
		}&#xD;
		String resseq     = alignRight(&quot;&quot;+a.getChainSeqNum(),5);&#xD;
		&#xD;
		String x          = alignRight(&quot;&quot;+d3.format(capCoord(position.x*scale)),8);&#xD;
		String y          = alignRight(&quot;&quot;+d3.format(capCoord(position.y*scale)),8);&#xD;
		String z          = alignRight(&quot;&quot;+d3.format(capCoord(position.z*scale)),8);&#xD;
		String occupancy  = alignRight(&quot;&quot;+d2.format(1.00),6) ;&#xD;
		String tempfactor = alignRight(&quot;&quot;+d2.format(0.00),6);&#xD;
		&#xD;
		StringBuffer s = new StringBuffer();&#xD;
		s.append(record);&#xD;
		s.append(serial);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(fullname);&#xD;
		s.append(altLoc);&#xD;
		s.append(leftResName);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(chainID);&#xD;
		s.append(resseq);&#xD;
		s.append(&quot;    &quot;);&#xD;
		s.append(x);&#xD;
		s.append(y);&#xD;
		s.append(z);&#xD;
		s.append(occupancy);&#xD;
		s.append(tempfactor);&#xD;
		&#xD;
		String eString;&#xD;
		if(a.getSymbol()==null)&#xD;
			eString = &quot; &quot;;&#xD;
		else&#xD;
			eString = a.getSymbol().substring(0, 1).toUpperCase();&#xD;
		str.append(String.format(&quot;%-76s%2s&quot;, s.toString(),eString));&#xD;
		str.append(newline);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tJuje2SEeWnDaII1mfokg" name="capCoord" specification="__Cox4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tJuju2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tJuj-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)&#xD;
			return Math.max(-999.000, coord);&#xD;
		return Math.min(coord, +999.000);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Cj5YO2SEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="__tIgY-2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__Cj5Ye2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__Cj5Yu2SEeWnDaII1mfokg" key="init"/>
                      </eAnnotations>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ClukO2SEeWnDaII1mfokg" name="_initializer2" isStatic="true" method="__tIgZO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__Cluke2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__Cluku2SEeWnDaII1mfokg" key="init"/>
                      </eAnnotations>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Cm8sO2SEeWnDaII1mfokg" name="alignLeft" visibility="private" isStatic="true" method="__tJHdu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Cm8se2SEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Cm8su2SEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Cm8s-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__CnjwO2SEeWnDaII1mfokg" name="alignRight" visibility="private" isStatic="true" method="__tJHeu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Cnjwe2SEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Cnjwu2SEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CoK0O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Cox4O2SEeWnDaII1mfokg" name="capCoord" visibility="private" isStatic="true" method="__tJuje2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__CpY8O2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__CpY8e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__hFBYO2SEeWnDaII1mfokg" name="readFile" isStatic="true" method="__tIgZe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hFBYe2SEeWnDaII1mfokg" name="fileName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l0XcO2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__hFocO2SEeWnDaII1mfokg" name="readFile" isStatic="true" method="__tJugO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hGPgO2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__hGPge2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__hGPgu2SEeWnDaII1mfokg" name="appendModel" isStatic="true" method="__tJug-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hGPg-2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__hG2kO2SEeWnDaII1mfokg" name="updateRegistry" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l6eEO2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__l0-gO2SEeWnDaII1mfokg" name="writeFile" isStatic="true" method="__tIgaO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__l0-ge2SEeWnDaII1mfokg" name="file" type="__hBXAO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l0-gu2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__l0-g-2SEeWnDaII1mfokg" name="modelToPDB" isStatic="true" method="__tJHcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__l1lkO2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l1lke2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__l2zse2SEeWnDaII1mfokg" name="toPDB" isStatic="true" method="__tJHc-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__l3awO2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l3awe2SEeWnDaII1mfokg" name="str" type="__l2Moe2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__l6eEe2SEeWnDaII1mfokg" name="toPDB" isStatic="true" method="__tJuh-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__l6eEu2SEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l6eE-2SEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__l7FIO2SEeWnDaII1mfokg" name="position" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l7FIe2SEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__l7FIu2SEeWnDaII1mfokg" name="str" type="__l2Moe2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__CtqYO2SEeWnDaII1mfokg" name="EvaluateUserAction">
                    <ownedAttribute xmi:id="__pn5YO2SEeWnDaII1mfokg" name="DELETE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pn5Ye2SEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pogcO2SEeWnDaII1mfokg" name="COPY" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pogce2SEeWnDaII1mfokg" value="2"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pogcu2SEeWnDaII1mfokg" name="CUT" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pogc-2SEeWnDaII1mfokg" value="3"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pogdO2SEeWnDaII1mfokg" name="PASTE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ppHgO2SEeWnDaII1mfokg" value="4"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ppHge2SEeWnDaII1mfokg" name="DRAGATOM" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ppHgu2SEeWnDaII1mfokg" value="5"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ppHg-2SEeWnDaII1mfokg" name="DRAGATOMMINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ppukO2SEeWnDaII1mfokg" value="6"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ppuke2SEeWnDaII1mfokg" name="DRAGSELECTED" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ppuku2SEeWnDaII1mfokg" value="7"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ppuk-2SEeWnDaII1mfokg" name="DRAGSELECTEDMINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ppulO2SEeWnDaII1mfokg" value="8"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pqVoO2SEeWnDaII1mfokg" name="MINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__pqVoe2SEeWnDaII1mfokg" value="9"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tKVkO2SEeWnDaII1mfokg" name="evaluateAction" specification="__haYkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tKVke2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tKVku2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>System.out.println(&quot;Evaluating script: &quot; + script);&#xD;
		script = script.toLowerCase();&#xD;
		String action = script.substring(4, script.length()-1);&#xD;
		System.out.println(&quot;Action:&quot; + action);&#xD;
		switch(action){&#xD;
		case &quot;delete&quot;:&#xD;
			System.out.println(&quot;Entering delete function&quot;);&#xD;
			findSelectedAtom(updateReg, DELETE);&#xD;
			return;&#xD;
		case &quot;copy&quot;:&#xD;
			System.out.println(&quot;Entering copy function&quot;);&#xD;
			findSelectedAtom(updateReg, COPY);&#xD;
			return;&#xD;
		case &quot;cut&quot;:&#xD;
			System.out.println(&quot;Entering cut function&quot;);&#xD;
			findSelectedAtom(updateReg, CUT);&#xD;
			return;&#xD;
		case &quot;paste&quot;:&#xD;
			//JmolViewer viewer = jmolDisplay.getViewer();&#xD;
			//System.out.println(viewer.getAtomPoint3f(10).x+  &quot; &quot;+ viewer.getAtomPoint3f(10).y + &quot; &quot; +viewer.getAtomPoint3f(10).z);&#xD;
			findSelectedAtom(updateReg, PASTE);&#xD;
			return;&#xD;
		case &quot;minimizeonly&quot;:&#xD;
			System.out.println(&quot;Entering drag Atom function&quot;);&#xD;
			dragModeSetting(updateReg, MINIMIZE);&#xD;
			return;&#xD;
		case &quot;dragatom&quot;:&#xD;
			System.out.println(&quot;Entering drag Atom function&quot;);&#xD;
			dragModeSetting(updateReg, DRAGATOM);&#xD;
			return;&#xD;
		case &quot;dragminimize&quot;:&#xD;
			dragModeSetting(updateReg, DRAGATOMMINIMIZE);&#xD;
			return;&#xD;
		case &quot;dragselected&quot;:&#xD;
			dragModeSetting(updateReg, DRAGSELECTED);&#xD;
			return;&#xD;
		case &quot;dragselectedminimize&quot;:&#xD;
			dragModeSetting(updateReg, DRAGSELECTEDMINIMIZE);&#xD;
			return;&#xD;
		default:&#xD;
			return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tKVk-2SEeWnDaII1mfokg" name="dragModeSetting" specification="__haYk-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tKVlO2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tKVle2SEeWnDaII1mfokg" name="dragMode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>updateReg.dragMode = DRAGATOM;&#xD;
			if(dragMode==MINIMIZE){&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.minimizeModel();&#xD;
			}&#xD;
			else if(dragMode==DRAGATOM){&#xD;
				updateReg.atomselected=true;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
			}&#xD;
			else if(dragMode==DRAGSELECTED){&#xD;
				updateReg.atomselected=false;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
			}&#xD;
			else if(dragMode==DRAGATOMMINIMIZE || dragMode==DRAGSELECTEDMINIMIZE){&#xD;
				updateReg.atomselected=true;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
				updateReg.setMinimizeMode(true);&#xD;
			}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tKVlu2SEeWnDaII1mfokg" name="findSelectedAtom" specification="__ha_ou2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tKVl-2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tKVmO2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Atom> atomList = updateReg.getSelectedAtoms();&#xD;
		int[] atomNo = new int[atomList.size()];&#xD;
		for(int i=0;i&lt;atomNo.length;i++){&#xD;
			atomNo[i] = atomList.get(atomNo.length-1-i).getAtomSeqNum();&#xD;
		}&#xD;
		int currentModelIndex = updateReg.getViewer().getDisplayModelIndex(); &#xD;
		if(mode==DELETE ||mode==CUT||mode==COPY){&#xD;
			for(int i=0;i&lt;atomList.size();i++){&#xD;
				String key = atomList.get(i).getModelName()+atomList.get(i).getAtomSeqNum();&#xD;
				if(mode==CUT || mode==COPY)&#xD;
					updateReg.copyAtoms(currentModelIndex, key);&#xD;
				if(mode==DELETE || mode==CUT)&#xD;
					updateReg.deleteAtoms(currentModelIndex, key, atomList.get(i).getAtomSeqNum());&#xD;
			}&#xD;
		}&#xD;
		else if(mode==PASTE){&#xD;
			updateReg.pasteSavedAtoms(updateReg.getViewer().getDisplayModelIndex());&#xD;
		}&#xD;
		else{&#xD;
			System.out.println(&quot;Invalid Operation&quot;);&#xD;
		}&#xD;
		//reset model atom seq number will give weird molecule.&#xD;
		/*for(Atom atm1 : updateReg.getModelList().get(currentModelIndex).getAtomHash().values()){&#xD;
			for(int i=0;i&lt;atomNo.length;i++){&#xD;
				if(atm1.getAtomSeqNum()>atomNo[i])&#xD;
					atm1.setAtomSeqNum((atm1.getAtomSeqNum()-1));&#xD;
			}&#xD;
		}*/&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__haYkO2SEeWnDaII1mfokg" name="evaluateAction" isStatic="true" method="__tKVkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__haYke2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__haYku2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__haYk-2SEeWnDaII1mfokg" name="dragModeSetting" visibility="private" isStatic="true" method="__tKVk-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ha_oO2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ha_oe2SEeWnDaII1mfokg" name="dragMode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ha_ou2SEeWnDaII1mfokg" name="findSelectedAtom" isStatic="true" method="__tKVlu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ha_o-2SEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ha_pO2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__CxUwO2SEeWnDaII1mfokg" name="FileReader">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tK8oO2SEeWnDaII1mfokg" name="readPDBFile" specification="__Cyi4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tK8oe2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tK8ou2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// wrapper class for parsing a PDB file.&#xD;
		PDBFileReader pdbreader = new PDBFileReader();&#xD;
		Structure struc = null; &#xD;
		//Model model = null;&#xD;
		&#xD;
		try{&#xD;
			// Access to the data of a PDB file.&#xD;
			struc = pdbreader.getStructure(fileName);	    &#xD;
		 } catch (Exception e){&#xD;
			 java.util.logging.Logger logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
			 logger.log(Level.SEVERE, &quot;Error converting to structure object from file path&quot;);&#xD;
		 }&#xD;
		return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tK8o-2SEeWnDaII1mfokg" name="readMol2File" specification="__C0YEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tK8pO2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tK8pe2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement FileReader.readMol2File&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tK8pu2SEeWnDaII1mfokg" name="readMmcifFile" specification="__C0_IO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tK8p-2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tK8qO2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>MMCIFFileReader pdbreader = new MMCIFFileReader();&#xD;
		Structure struct=null;&#xD;
     try {&#xD;
             struct = pdbreader.getStructure(fileName);&#xD;
&#xD;
     } catch (IOException e) {&#xD;
     	java.util.logging.Logger logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
			 logger.log(Level.SEVERE, &quot;Error converting to structure object from file path&quot;);&#xD;
     }&#xD;
		return struct;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Cyi4O2SEeWnDaII1mfokg" name="readPDBFile" isStatic="true" method="__tK8oO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Cyi4e2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__l86UO2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__C0YEO2SEeWnDaII1mfokg" name="readMol2File" isStatic="true" method="__tK8o-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__C0YEe2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__l86Ue2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__C0_IO2SEeWnDaII1mfokg" name="readMmcifFile" isStatic="true" method="__tK8pu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__C0_Ie2SEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__l9hYO2SEeWnDaII1mfokg" type="__gLpge2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__C2NQO2SEeWnDaII1mfokg" name="FileWriter">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tLjsO2SEeWnDaII1mfokg" name="writeAminoSequence" specification="__C20UO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// TODO - implement FileWriter.writeAminoSequence&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tLjse2SEeWnDaII1mfokg" name="writePDBFile" specification="__l9hYe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tLjsu2SEeWnDaII1mfokg" name="file" type="__hBXAO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tLjs-2SEeWnDaII1mfokg" name="modelToPDB">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>try {&#xD;
			BufferedWriter writer = new BufferedWriter(new java.io.FileWriter(file.getAbsoluteFile()));&#xD;
			writer.write(modelToPDB);&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__C20UO2SEeWnDaII1mfokg" name="writeAminoSequence" method="__tLjsO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__l9hYe2SEeWnDaII1mfokg" name="writePDBFile" isStatic="true" method="__tLjse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__l9hYu2SEeWnDaII1mfokg" name="file" type="__hBXAO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__l-IcO2SEeWnDaII1mfokg" name="modelToPDB">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__C3bYO2SEeWnDaII1mfokg" name="GestureManager">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tLjtO2SEeWnDaII1mfokg" name="setMouseState" specification="__hgfMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tLjte2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tLjtu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tLjt-2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tLjuO2SEeWnDaII1mfokg" name="mouseState" type="__DIhIO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>switch(mode){&#xD;
		// left-click, shift-left-click&#xD;
		case 4368:&#xD;
		case 4369: 	mouseState.setStartPosition(x,y);&#xD;
					return;&#xD;
		case 8464: 	mouseState.setMouseMode(&quot;Rotate Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 8465:	&#xD;
		case 8456:	mouseState.setMouseMode(&quot;Zoom Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 8721: 	mouseState.setMouseMode(&quot;Translate Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 16640: &#xD;
		case 16896: mouseState.setEndPosition(x,y);&#xD;
					return;		&#xD;
		default: return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__hgfMO2SEeWnDaII1mfokg" name="setMouseState" isStatic="true" method="__tLjtO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hgfMe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__hhGQO2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__hhGQe2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__hhGQu2SEeWnDaII1mfokg" name="mouseState" type="__DIhIO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__C4CcO2SEeWnDaII1mfokg" name="JMolSelectionListener">
                    <ownedAttribute xmi:id="__pqVou2SEeWnDaII1mfokg" name="selectionList">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pq8se2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg" association="__v6uoe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__l-vgO2SEeWnDaII1mfokg" client="__C4CcO2SEeWnDaII1mfokg" supplier="__hhtUO2SEeWnDaII1mfokg" contract="__hhtUO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tLjue2SEeWnDaII1mfokg" name="JMolSelectionListener" specification="__hiUYe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tLjuu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tLju-2SEeWnDaII1mfokg" type="__C4CcO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tMKwO2SEeWnDaII1mfokg" name="selectionChanged" specification="__hjige2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tMKwe2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>System.out.println(values);&#xD;
		jmolPanel.getMediator().setSelectedAtoms(values);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__hiUYe2SEeWnDaII1mfokg" name="JMolSelectionListener" method="__tLjue2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__hi7cO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__hi7ce2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__hiUYu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__hi7cu2SEeWnDaII1mfokg" type="__C4CcO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__hjige2SEeWnDaII1mfokg" name="selectionChanged" method="__tMKwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hjigu2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__C868O2SEeWnDaII1mfokg" name="MoleculeEditor">
                    <ownedComment xmi:id="__ufyVO2SEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
The main function of the Molecule Editor.&#xD;
Initialise main display and set up connection</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__prjwe2SEeWnDaII1mfokg" name="frame" visibility="private" isStatic="true" type="__hClIe2SEeWnDaII1mfokg" association="__v7Vse2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__psK0O2SEeWnDaII1mfokg" name="contentPane" visibility="protected" isStatic="true" type="__hl-wO2SEeWnDaII1mfokg" association="__v78we2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__psK0u2SEeWnDaII1mfokg" name="menu" visibility="protected" isStatic="true" type="__D9nkO2SEeWnDaII1mfokg" association="__v9K4e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__psx4e2SEeWnDaII1mfokg" name="toolPanel" visibility="protected" isStatic="true" type="__EDuMO2SEeWnDaII1mfokg" association="__v9x8e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__ptY8e2SEeWnDaII1mfokg" name="jmolPanel" visibility="protected" isStatic="true" type="__D0doO2SEeWnDaII1mfokg" association="__v-ZAe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__puAAO2SEeWnDaII1mfokg" name="mediator" visibility="protected" isStatic="true" type="__Dg7oO2SEeWnDaII1mfokg" association="__v_AEe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__puAAu2SEeWnDaII1mfokg" name="modelList" visibility="protected" isStatic="true" type="__A_MEe2SEeWnDaII1mfokg" isOrdered="true" association="__wAOMe2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__punEO2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__punEu2SEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" association="__wA1Qe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__pvOIe2SEeWnDaII1mfokg" name="fileHandler" visibility="protected" isStatic="true" type="__hssce2SEeWnDaII1mfokg" association="__wBcUe2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tN_8O2SEeWnDaII1mfokg" name="main" specification="__C-wIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tN_8e2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tN_8u2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>initDisplay();&#xD;
		createLogger();&#xD;
		//addResmolScriptPanel();&#xD;
		mediator = new UpdateRegistry(jmolPanel, toolPanel, modelList);&#xD;
		jmolPanel.setMediator(mediator);&#xD;
		//setConnection();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tOnAO2SEeWnDaII1mfokg" name="MoleculeEditor" specification="__C_XMu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tOnAe2SEeWnDaII1mfokg" type="__C868O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>initJmolDisplay();&#xD;
		mediator = new UpdateRegistry(jmolPanel, toolPanel, modelList);&#xD;
		jmolPanel.setMediator(mediator);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tOnAu2SEeWnDaII1mfokg" name="initJmolDisplay" specification="__C_-Qe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>frame = new JFrame();&#xD;
		//JMenuBar menu = MenuCreator.initMenu(frame);&#xD;
     //frame.setJMenuBar(menu);&#xD;
     frame.addWindowListener(new WindowAdapter() {&#xD;
     	  public void windowClosing(WindowEvent we) {&#xD;
     		    System.exit(0);&#xD;
     		  }&#xD;
     		});&#xD;
     //contentPane = frame.getContentPane();&#xD;
     // allocate jmolPanel for display&#xD;
     jmolPanel = new JmolDisplay();&#xD;
     jmolPanel.setPreferredSize(new Dimension(500,500));&#xD;
     &#xD;
     frame.add(jmolPanel);&#xD;
     &#xD;
     //contentPane.add(jmolPanel);&#xD;
     &#xD;
     frame.pack();&#xD;
     frame.setVisible(true);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tOnA-2SEeWnDaII1mfokg" name="createLogger" specification="__C_-Qu2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
		try {&#xD;
			fileHandler = new FileHandler(&quot;./res/res/Error.log&quot;);&#xD;
			logger.addHandler(fileHandler);&#xD;
			fileHandler.setFormatter(new SimpleFormatter());&#xD;
			PrintStream outPS = new PrintStream(new BufferedOutputStream(new FileOutputStream(&quot;./res/res/Error.log&quot;)));  // append is true&#xD;
			System.setErr(outPS);&#xD;
		} catch (SecurityException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tPOEO2SEeWnDaII1mfokg" name="addResmolScriptPanel" specification="__DAlUO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Box vBox = Box.createVerticalBox();&#xD;
	     vBox.add(jmolPanel);&#xD;
	        &#xD;
	     JTextField field = new JTextField();&#xD;
	     field.setMaximumSize(new Dimension(Short.MAX_VALUE,30));&#xD;
	     field.setText(&quot;enter RASMOL like command...&quot;);&#xD;
	     RasmolFieldListener rasmolcmd = new RasmolFieldListener(jmolPanel, field);&#xD;
	     field.addActionListener(rasmolcmd);&#xD;
	     vBox.add(field);&#xD;
	     contentPane.add(field);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tPOEe2SEeWnDaII1mfokg" name="initDisplay" specification="__DAlUe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// create frame for the application&#xD;
		frame = new JFrame();&#xD;
		jmolPanel = new JmolDisplay();&#xD;
		menu = new MenuPanel(jmolPanel);&#xD;
		JMenuBar menuBar = menu.initMenu(frame);&#xD;
     frame.setJMenuBar(menuBar);&#xD;
     frame.addWindowListener(new WindowAdapter() {&#xD;
     	  public void windowClosing(WindowEvent we) {&#xD;
     		    System.exit(0);&#xD;
     		  }&#xD;
     		});&#xD;
     Container contentPane = frame.getContentPane();&#xD;
     // allocate jmolPanel for display&#xD;
     &#xD;
     jmolPanel.setPreferredSize(new Dimension(500,500));&#xD;
     &#xD;
     Box vBox = Box.createVerticalBox();&#xD;
     vBox.add(jmolPanel);&#xD;
     &#xD;
     JTextField field = new JTextField();&#xD;
		field.setMaximumSize(new Dimension(Short.MAX_VALUE,30));&#xD;
		field.setText(&quot;enter RASMOL like command...&quot;);&#xD;
		RasmolFieldListener rasmolcmd = new RasmolFieldListener(jmolPanel, field);&#xD;
		field.addActionListener(rasmolcmd);&#xD;
		vBox.add(field);&#xD;
		&#xD;
		Box hBox = Box.createHorizontalBox();&#xD;
		hBox.add(vBox);&#xD;
		&#xD;
		// define the right panel of application&#xD;
		toolPanel = new ToolPanel(jmolPanel);&#xD;
		toolPanel.setMaximumSize(new Dimension(250,Short.MAX_VALUE));&#xD;
		hBox.add(toolPanel);&#xD;
 &#xD;
     contentPane.add(hBox);&#xD;
     &#xD;
     frame.pack();&#xD;
     frame.setVisible(true);&#xD;
		        &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tPOEu2SEeWnDaII1mfokg" name="getViewer" specification="__DBMYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tPOE-2SEeWnDaII1mfokg" type="__hZKce2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return jmolPanel.getViewer();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tP1IO2SEeWnDaII1mfokg" name="getMediator" specification="__DBMYe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tP1Ie2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__C-wIO2SEeWnDaII1mfokg" name="main" isStatic="true" method="__tN_8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__C-wIe2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__C_XMO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__C_XMu2SEeWnDaII1mfokg" name="MoleculeEditor" method="__tOnAO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__C_XM-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__C_XNO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__C_-QO2SEeWnDaII1mfokg" type="__C868O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__C_-Qe2SEeWnDaII1mfokg" name="initJmolDisplay" visibility="private" isStatic="true" method="__tOnAu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__C_-Qu2SEeWnDaII1mfokg" name="createLogger" visibility="private" isStatic="true" method="__tOnA-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__DAlUO2SEeWnDaII1mfokg" name="addResmolScriptPanel" isStatic="true" method="__tPOEO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__DAlUe2SEeWnDaII1mfokg" name="initDisplay" visibility="private" isStatic="true" method="__tPOEe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__DBMYO2SEeWnDaII1mfokg" name="getViewer" method="__tPOEu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mCZ4O2SEeWnDaII1mfokg" type="__hZKce2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DBMYe2SEeWnDaII1mfokg" name="getMediator" method="__tP1IO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__hwW0O2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Class" xmi:id="__DCagO2SEeWnDaII1mfokg" name="ApplicationCloser" visibility="package">
                      <eAnnotations xmi:id="__DCage2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__DCagu2SEeWnDaII1mfokg" key="static"/>
                      </eAnnotations>
                      <generalization xmi:id="__mEPEe2SEeWnDaII1mfokg" general="__mCZ4e2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tQcMO2SEeWnDaII1mfokg" name="windowClosing" specification="__mDoAu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__tQcMe2SEeWnDaII1mfokg" name="e" type="__mDoAO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>System.exit(0);&#xD;
		</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tQcMu2SEeWnDaII1mfokg" name="ApplicationCloser" specification="__DDBkO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__tQcM-2SEeWnDaII1mfokg" type="__DCagO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>// TODO - implement ApplicationCloser.ApplicationCloser&#xD;
			throw new UnsupportedOperationException();&#xD;
		</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__DDBkO2SEeWnDaII1mfokg" name="ApplicationCloser" visibility="package" method="__tQcMu2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__DDBke2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__DDBku2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__DDBk-2SEeWnDaII1mfokg" type="__DCagO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__mDoAu2SEeWnDaII1mfokg" name="windowClosing" method="__tQcMO2SEeWnDaII1mfokg">
                        <ownedComment xmi:id="__ufyVe2SEeWnDaII1mfokg">
                          <body>&#xD;
		 * @param e</body>
                        </ownedComment>
                        <ownedParameter xmi:id="__mEPEO2SEeWnDaII1mfokg" name="e" type="__mDoAO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__DIhIO2SEeWnDaII1mfokg" name="MouseState">
                    <ownedAttribute xmi:id="__pwcQO2SEeWnDaII1mfokg" name="hasEnded" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pwcQu2SEeWnDaII1mfokg" name="startPos" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__pxDUO2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pxqYO2SEeWnDaII1mfokg" name="trackPos" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__wCDYe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__pyRcu2SEeWnDaII1mfokg" name="endPos" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__py4gO2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__pzfkO2SEeWnDaII1mfokg" name="mouseMode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRDQO2SEeWnDaII1mfokg" name="MouseState" specification="__DJvQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRDQe2SEeWnDaII1mfokg" type="__DIhIO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.hasEnded = false;&#xD;
		this.startPos = new int[2];&#xD;
		this.endPos = new int[2];&#xD;
		this.trackPos = new ArrayList&lt;int[]>();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRDQu2SEeWnDaII1mfokg" name="hasEnded" specification="__DKWUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRDQ-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return hasEnded;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRqUO2SEeWnDaII1mfokg" name="getStartPosX" specification="__DKWUu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRqUe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return startPos[0];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRqUu2SEeWnDaII1mfokg" name="getStartPosY" specification="__DK9Ye2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRqU-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return startPos[1];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRqVO2SEeWnDaII1mfokg" name="setStartPosition" specification="__DLkcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRqVe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tRqVu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>startPos[0] = x;&#xD;
		startPos[1] = y;&#xD;
		hasEnded=false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tRqV-2SEeWnDaII1mfokg" name="getPositionList" specification="__DLkc-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tRqWO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return trackPos;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tSRYO2SEeWnDaII1mfokg" name="setCurrentPosition" specification="__DMykO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tSRYe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tSRYu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int[] currPos = {x,y};&#xD;
		trackPos.add(currPos);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tSRY-2SEeWnDaII1mfokg" name="getEndPosX" specification="__DNZoe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tSRZO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return endPos[0];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tSRZe2SEeWnDaII1mfokg" name="getEndPosY" specification="__DOAse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tSRZu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return endPos[1];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tSRZ-2SEeWnDaII1mfokg" name="setEndPosition" specification="__DOnwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tSRaO2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tSRae2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>endPos[0] = x;&#xD;
		endPos[1] = y;&#xD;
		hasEnded = true;&#xD;
		if(mouseMode.contains(&quot;Zoom&quot;) &amp;&amp; startPos[1]> endPos[1])&#xD;
			mouseMode += &quot; (Zoomed Out)&quot;;&#xD;
		else if(mouseMode.contains(&quot;Zoom&quot;) &amp;&amp; startPos[1]&lt; endPos[1])&#xD;
			mouseMode += &quot; (Zoomed In)&quot;;&#xD;
		setMouseMode(mouseMode);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tS4cO2SEeWnDaII1mfokg" name="clearState" specification="__DOnw-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>this.hasEnded = false;&#xD;
		this.startPos = new int[2];&#xD;
		this.endPos = new int[2];&#xD;
		this.trackPos.clear();&#xD;
		this.mouseMode = &quot;&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__DJvQO2SEeWnDaII1mfokg" name="MouseState" method="__tRDQO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__DJvQe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__DJvQu2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__DJvQ-2SEeWnDaII1mfokg" type="__DIhIO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DKWUO2SEeWnDaII1mfokg" name="hasEnded" method="__tRDQu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DKWUe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DKWUu2SEeWnDaII1mfokg" name="getStartPosX" method="__tRqUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DK9YO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DK9Ye2SEeWnDaII1mfokg" name="getStartPosY" method="__tRqUu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DK9Yu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DLkcO2SEeWnDaII1mfokg" name="setStartPosition" method="__tRqVO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DLkce2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DLkcu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DLkc-2SEeWnDaII1mfokg" name="getPositionList" method="__tRqV-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mGEQO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DMykO2SEeWnDaII1mfokg" name="setCurrentPosition" method="__tSRYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DMyke2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DNZoO2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DNZoe2SEeWnDaII1mfokg" name="getEndPosX" method="__tSRY-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DOAsO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DOAse2SEeWnDaII1mfokg" name="getEndPosY" method="__tSRZe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DOAsu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DOnwO2SEeWnDaII1mfokg" name="setEndPosition" method="__tSRZ-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DOnwe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DOnwu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DOnw-2SEeWnDaII1mfokg" name="clearState" method="__tS4cO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__DREAO2SEeWnDaII1mfokg" name="MyJmolStatusListener">
                    <ownedComment xmi:id="__ugZYO2SEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
 *</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__p0GoO2SEeWnDaII1mfokg" name="verbose" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p0Gou2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg" association="__wCqce2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__mGrUO2SEeWnDaII1mfokg" client="__DREAO2SEeWnDaII1mfokg" supplier="__iWzwe2SEeWnDaII1mfokg" contract="__iWzwe2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tS4ce2SEeWnDaII1mfokg" name="MyJmolStatusListener" specification="__h0oQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tS4cu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tS4c-2SEeWnDaII1mfokg" type="__DREAO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tS4dO2SEeWnDaII1mfokg" name="setVerbose" specification="__DS5MO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tS4de2SEeWnDaII1mfokg" name="verbose">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.verbose = verbose;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tTfgO2SEeWnDaII1mfokg" name="notifyEnabled" specification="__mHSYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tTfge2SEeWnDaII1mfokg" name="callbackType" type="__hzaIO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tTfgu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>//System.out.println(&quot;Callback Type: &quot; + callbackType);&#xD;
		switch (callbackType) {&#xD;
	    case ANIMFRAME: return true;&#xD;
	    case ATOMMOVED: return true;&#xD;
	    case ECHO: return false;&#xD;
	    case LOADSTRUCT: return true;&#xD;
	    case MEASURE: return false;&#xD;
	    case MESSAGE: return false;&#xD;
	    case PICK: return false;&#xD;
	    case SCRIPT: return true;&#xD;
	    case CLICK: return true;&#xD;
	    case ERROR: return false;&#xD;
	    case HOVER: return false;&#xD;
	    case MINIMIZATION: return false;&#xD;
	    case RESIZE: return false;&#xD;
	    case SYNC: return false;&#xD;
	      // applet only (but you could change this for your listener)&#xD;
	    default:&#xD;
	    	return false;&#xD;
	    }&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tTfg-2SEeWnDaII1mfokg" name="notifyCallback" specification="__h12Ye2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tTfhO2SEeWnDaII1mfokg" name="callbackType" type="__hzaIO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tTfhe2SEeWnDaII1mfokg" name="data" type="__h1PUe2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tTfhu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>//		System.out.print(callbackType + &quot; &quot;);&#xD;
//		for(int i=0;i&lt;data.length;i++){&#xD;
//			System.out.print(data[i] + &quot; &quot;);&#xD;
//		}&#xD;
//		System.out.println();&#xD;
		&#xD;
		switch (callbackType) {&#xD;
		case ANIMFRAME:&#xD;
 		//getCurrentModel((String) data[2]);			&#xD;
			return;&#xD;
		case ATOMMOVED:&#xD;
			jmolPanel.getMediator().atomMoved((BS)data[1]);&#xD;
			return;&#xD;
 	case LOADSTRUCT:&#xD;
 		jmolPanel.getMediator().setModelBonds();&#xD;
 		return;&#xD;
 	case SCRIPT:&#xD;
 		// will enter when using edited library of Jmol in &quot;res/resources/editedJmol/Jmol-edited.jar&quot;&#xD;
 		if(data[2]!=null &amp;&amp; data[2].toString().startsWith(&quot;own &quot;)){&#xD;
 			System.out.println(&quot;Entering own function&quot;);&#xD;
 			jmolPanel.getMediator().evaluateUserAction((String)data[2]);&#xD;
 		}&#xD;
 		if(data[1].toString().endsWith(&quot;completed&quot;))&#xD;
 			jmolPanel.getMediator().atomMoved();&#xD;
 		return;&#xD;
 	case CLICK:&#xD;
 		jmolPanel.getMediator().setMouseState((int)data[1], (int)data[2], (int)data[3]);&#xD;
 		return;&#xD;
 	default: return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tTfh-2SEeWnDaII1mfokg" name="setCallbackFunction" specification="__DTgQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tTfiO2SEeWnDaII1mfokg" name="callbackType">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tTfie2SEeWnDaII1mfokg" name="callbackFunction">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>System.out.println(callbackType);&#xD;
		System.out.println(callbackFunction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tUGkO2SEeWnDaII1mfokg" name="eval" specification="__DUHUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tUGke2SEeWnDaII1mfokg" name="aAStrEval">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUGku2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.eval&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tUGk-2SEeWnDaII1mfokg" name="functionXY" specification="__h2dce2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tUGlO2SEeWnDaII1mfokg" name="aAFunctionName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tUGle2SEeWnDaII1mfokg" name="aAX">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUGlu2SEeWnDaII1mfokg" name="aAY">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUGl-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tUGmO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.functionXY&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tUtoO2SEeWnDaII1mfokg" name="functionXYZ" specification="__h3rkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tUtoe2SEeWnDaII1mfokg" name="aArg0" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tUtou2SEeWnDaII1mfokg" name="aArg1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUto-2SEeWnDaII1mfokg" name="aArg2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUtpO2SEeWnDaII1mfokg" name="aArg3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tUtpe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tUtpu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.functionXYZ&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tVUsO2SEeWnDaII1mfokg" name="createImage" specification="__h4SoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tVUse2SEeWnDaII1mfokg" name="aAFileName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tVUsu2SEeWnDaII1mfokg" name="aAType" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tVUs-2SEeWnDaII1mfokg" name="aAText_or_bytes" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tVUtO2SEeWnDaII1mfokg" name="aAQuality">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tVUte2SEeWnDaII1mfokg" type="__f4HgO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.createImage&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tVUtu2SEeWnDaII1mfokg" name="getRegistryInfo" specification="__DUuYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tVUt-2SEeWnDaII1mfokg" type="__h45su2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.getRegistryInfo&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tV7wO2SEeWnDaII1mfokg" name="showUrl" specification="__h6H0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tV7we2SEeWnDaII1mfokg" name="aAUrl" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.showUrl&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tV7wu2SEeWnDaII1mfokg" name="resizeInnerPanel" specification="__h6u4e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tV7w-2SEeWnDaII1mfokg" name="aAData" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tV7xO2SEeWnDaII1mfokg" type="__h6H0u2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.resizeInnerPanel&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tWi0O2SEeWnDaII1mfokg" name="getJSpecViewProperty" specification="__h7V8e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tWi0e2SEeWnDaII1mfokg" name="aAType" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tWi0u2SEeWnDaII1mfokg" type="__h45su2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.getJSpecViewProperty&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__DS5MO2SEeWnDaII1mfokg" name="setVerbose" method="__tS4dO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DS5Me2SEeWnDaII1mfokg" name="verbose">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DTgQO2SEeWnDaII1mfokg" name="setCallbackFunction" method="__tTfh-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DTgQe2SEeWnDaII1mfokg" name="callbackType">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DTgQu2SEeWnDaII1mfokg" name="callbackFunction">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DUHUO2SEeWnDaII1mfokg" name="eval" method="__tUGkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DUHUe2SEeWnDaII1mfokg" name="aAStrEval">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DUHUu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DUuYO2SEeWnDaII1mfokg" name="getRegistryInfo" method="__tVUtu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h5gwe2SEeWnDaII1mfokg" type="__h45su2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h0oQO2SEeWnDaII1mfokg" name="MyJmolStatusListener" method="__tS4ce2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__h0oQu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__h0oQ-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__h0oQe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h1PUO2SEeWnDaII1mfokg" type="__DREAO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h12Ye2SEeWnDaII1mfokg" name="notifyCallback" method="__tTfg-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h12Yu2SEeWnDaII1mfokg" name="callbackType" type="__hzaIO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h12Y-2SEeWnDaII1mfokg" name="data" type="__h1PUe2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__h2dcO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h2dce2SEeWnDaII1mfokg" name="functionXY" method="__tUGk-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h2dcu2SEeWnDaII1mfokg" name="aAFunctionName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h2dc-2SEeWnDaII1mfokg" name="aAX">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h2ddO2SEeWnDaII1mfokg" name="aAY">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h3EgO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__h3Ege2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h3rkO2SEeWnDaII1mfokg" name="functionXYZ" method="__tUtoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h3rke2SEeWnDaII1mfokg" name="aArg0" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h3rku2SEeWnDaII1mfokg" name="aArg1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h3rk-2SEeWnDaII1mfokg" name="aArg2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h3rlO2SEeWnDaII1mfokg" name="aArg3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h3rle2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__h3rlu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h4SoO2SEeWnDaII1mfokg" name="createImage" method="__tVUsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h4Soe2SEeWnDaII1mfokg" name="aAFileName" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h4Sou2SEeWnDaII1mfokg" name="aAType" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h4So-2SEeWnDaII1mfokg" name="aAText_or_bytes" type="__h1PUe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h45sO2SEeWnDaII1mfokg" name="aAQuality">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__h45se2SEeWnDaII1mfokg" type="__f4HgO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h6H0O2SEeWnDaII1mfokg" name="showUrl" method="__tV7wO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h6H0e2SEeWnDaII1mfokg" name="aAUrl" type="__f4HgO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h6u4e2SEeWnDaII1mfokg" name="resizeInnerPanel" method="__tV7wu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h6u4u2SEeWnDaII1mfokg" name="aAData" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h7V8O2SEeWnDaII1mfokg" type="__h6H0u2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h7V8e2SEeWnDaII1mfokg" name="getJSpecViewProperty" method="__tWi0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h7V8u2SEeWnDaII1mfokg" name="aAType" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h7V8-2SEeWnDaII1mfokg" type="__h45su2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mHSYO2SEeWnDaII1mfokg" name="notifyEnabled" method="__tTfgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mHSYe2SEeWnDaII1mfokg" name="callbackType" type="__hzaIO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mH5cO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__DY_0O2SEeWnDaII1mfokg" name="RasmolFieldListener">
                    <generalization xmi:id="__mJuou2SEeWnDaII1mfokg" general="__jjtoO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p1UwO2SEeWnDaII1mfokg" name="textfield" visibility="package" type="__hvIse2SEeWnDaII1mfokg" association="__wDRge2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p2i4O2SEeWnDaII1mfokg" name="history" visibility="package" type="__gLCcO2SEeWnDaII1mfokg" association="__wD4ke2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p3xAO2SEeWnDaII1mfokg" name="historyPosition" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p4YEO2SEeWnDaII1mfokg" name="jmolPanel" visibility="package" type="__D0doO2SEeWnDaII1mfokg" association="__wEfoe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__mIggO2SEeWnDaII1mfokg" client="__DY_0O2SEeWnDaII1mfokg" supplier="__icTUO2SEeWnDaII1mfokg" contract="__icTUO2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__mJuoe2SEeWnDaII1mfokg" client="__DY_0O2SEeWnDaII1mfokg" supplier="__mJHkO2SEeWnDaII1mfokg" contract="__mJHkO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tWi0-2SEeWnDaII1mfokg" name="RasmolFieldListener" specification="__h9LIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tWi1O2SEeWnDaII1mfokg" name="panel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tWi1e2SEeWnDaII1mfokg" name="field" type="__hvIse2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tWi1u2SEeWnDaII1mfokg" type="__DY_0O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>textfield = field;&#xD;
		jmolPanel = panel;&#xD;
		&#xD;
		history = new ArrayList&lt;String>();&#xD;
		historyPosition = -2; // -2 = history = empty;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXJ4O2SEeWnDaII1mfokg" name="mouseClicked" specification="__h-ZQe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXJ4e2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String cmd = textfield.getText();&#xD;
		if ( cmd.equals(&quot;enter RASMOL like command...&quot;)){&#xD;
			textfield.setText(&quot;&quot;);&#xD;
			textfield.repaint();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXJ4u2SEeWnDaII1mfokg" name="mousePressed" specification="__h-ZQ-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXJ4-2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mousePressed&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXJ5O2SEeWnDaII1mfokg" name="mouseReleased" specification="__h_AUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXJ5e2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseReleased&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXw8O2SEeWnDaII1mfokg" name="mouseEntered" specification="__h_AUu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXw8e2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseEntered&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXw8u2SEeWnDaII1mfokg" name="mouseExited" specification="__h_nYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXw8-2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseExited&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXw9O2SEeWnDaII1mfokg" name="actionPerformed" specification="__iAOce2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXw9e2SEeWnDaII1mfokg" name="e" type="__h_nYu2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String cmd = textfield.getText();&#xD;
		if(cmd.contains(&quot;load &quot;)){&#xD;
			String filePath = cmd.substring(5);&#xD;
			File file = new File(filePath);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else&#xD;
			jmolPanel.executeCmd(cmd);&#xD;
		textfield.setText(&quot;&quot;);&#xD;
&#xD;
		// now comes history part:&#xD;
&#xD;
		// no need for history:&#xD;
		if ( cmd.equals(&quot;&quot;)) return;&#xD;
&#xD;
		// check last command in history&#xD;
		// if equivalent, don't add,&#xD;
		// otherwise add               &#xD;
		if (history.size()>0){&#xD;
			String txt=(String)history.get(history.size()-1);&#xD;
			if (! txt.equals(cmd)) {&#xD;
				history.add(cmd);  &#xD;
			}&#xD;
		} else {             &#xD;
			// the first time always add&#xD;
			history.add(cmd);&#xD;
		}&#xD;
		historyPosition=history.size();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tXw9u2SEeWnDaII1mfokg" name="keyReleased" specification="__iA1gu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tXw9-2SEeWnDaII1mfokg" name="e" type="__iA1gO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>int code = e.getKeyCode();&#xD;
		//String s = e.getKeyText(code);&#xD;
		//System.out.println(s);&#xD;
		if (( code == KeyEvent.VK_UP ) || &#xD;
				( code == KeyEvent.VK_KP_UP)) {&#xD;
			// go one back in history;&#xD;
			if ( historyPosition > 0){&#xD;
				historyPosition= historyPosition-1;              &#xD;
			} &#xD;
		} else if (( code == KeyEvent.VK_DOWN ) || &#xD;
				( code == KeyEvent.VK_KP_DOWN)) {            &#xD;
			if ( historyPosition &lt; (history.size()-1) ){&#xD;
				historyPosition++;                &#xD;
			} else {&#xD;
				// clear command if at beginning of history&#xD;
				textfield.setText(&quot;&quot;);&#xD;
				historyPosition=history.size();&#xD;
				return;&#xD;
			}&#xD;
		} else if ( code == KeyEvent.VK_PAGE_UP) {&#xD;
			if ( historyPosition > 0) {&#xD;
				historyPosition = 0;&#xD;
			}&#xD;
		} else if ( code == KeyEvent.VK_PAGE_DOWN) {&#xD;
			if ( historyPosition >= 0) {&#xD;
				historyPosition = history.size()-1;&#xD;
			}&#xD;
		} else {&#xD;
			// some other key has been pressed, do nothing&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		if ( historyPosition >= 0) {&#xD;
			String txt = (String)history.get(historyPosition);&#xD;
			textfield.setText(txt);&#xD;
		}&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__h9LIO2SEeWnDaII1mfokg" name="RasmolFieldListener" method="__tWi0-2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__h9LI-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__h9LJO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__h9LIe2SEeWnDaII1mfokg" name="panel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h9LIu2SEeWnDaII1mfokg" name="field" type="__hvIse2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__h9LJe2SEeWnDaII1mfokg" type="__DY_0O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h-ZQe2SEeWnDaII1mfokg" name="mouseClicked" method="__tXJ4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h-ZQu2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h-ZQ-2SEeWnDaII1mfokg" name="mousePressed" method="__tXJ4u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h-ZRO2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h_AUO2SEeWnDaII1mfokg" name="mouseReleased" method="__tXJ5O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h_AUe2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h_AUu2SEeWnDaII1mfokg" name="mouseEntered" method="__tXw8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h_AU-2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__h_nYO2SEeWnDaII1mfokg" name="mouseExited" method="__tXw8u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__h_nYe2SEeWnDaII1mfokg" name="e" type="__h9yMO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iAOce2SEeWnDaII1mfokg" name="actionPerformed" method="__tXw9O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iAOcu2SEeWnDaII1mfokg" name="e" type="__h_nYu2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iA1gu2SEeWnDaII1mfokg" name="keyReleased" method="__tXw9u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iBckO2SEeWnDaII1mfokg" name="e" type="__iA1gO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__DcqMO2SEeWnDaII1mfokg" name="ToolPanelHandler">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tYYAO2SEeWnDaII1mfokg" name="handleJComboBox" specification="__mK8wO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tYYAe2SEeWnDaII1mfokg" name="event" type="__h_nYu2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tYYAu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String script = null;&#xD;
		@SuppressWarnings(&quot;unchecked&quot;)&#xD;
		JComboBox&lt;DisplayType> source = (JComboBox&lt;DisplayType>) event.getSource();&#xD;
		Object value = source.getSelectedItem();&#xD;
		if ( value == DisplayType.LINE){&#xD;
			script = &quot;hide null; select all; spacefill off; cartoon off; backbone off;&quot; + &#xD;
					&quot;wireframe 0.2;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.SPACE){&#xD;
			script = &quot;hide null; select all; spacefill on; wireframe off; backbone off;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.STICK){&#xD;
			script = &quot;hide null; select all; spacefill off; wireframe on; backbone on;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.SPHERE){&#xD;
			script = &quot;hide null; select all; spacefill +1.2; wireframe on; backbone off;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.CARTOON){&#xD;
			script = &quot;hide null; select all; spacefill off; wireframe off; backbone off;&quot; + &#xD;
					&quot;cartoon on;&quot; +&#xD;
					&quot;color cartoon group&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.BALLNSTICK){&#xD;
			script = &quot;hide null; select all; color cpk; wireframe only; wireframe 0.15; spacefill 23%; cartoon off;&quot;;&#xD;
		}&#xD;
		jmolPanel.executeCmd(script);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tYYA-2SEeWnDaII1mfokg" name="handlePickingFunction" specification="__mLj0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tYYBO2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tYYBe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tYYBu2SEeWnDaII1mfokg" name="group" type="__iCqsO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Set Picking ON&quot;)==0){&#xD;
			source.setText(&quot;Set Picking OFF&quot;);&#xD;
			switch(group.getSelection().getActionCommand()){&#xD;
				case &quot;Atom&quot;: jmolPanel.executeCmd(&quot;set picking select atom&quot;);&#xD;
								return;&#xD;
				case &quot;Group&quot;: jmolPanel.executeCmd(&quot;set picking select group&quot;);&#xD;
								return;&#xD;
				case &quot;Chain&quot;: jmolPanel.executeCmd(&quot;set picking select chain&quot;);&#xD;
								return;&#xD;
			}			&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Set Picking OFF&quot;)==0){&#xD;
			source.setText(&quot;Set Picking ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;set picking off&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tYYB-2SEeWnDaII1mfokg" name="handleRadioPick" specification="__mMx8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tYYCO2SEeWnDaII1mfokg" name="setPicking" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tYYCe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tYYCu2SEeWnDaII1mfokg" name="group" type="__iCqsO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>setPicking.setText(&quot;Set Picking OFF&quot;);&#xD;
		&#xD;
		switch(group.getSelection().getActionCommand()){&#xD;
		&#xD;
		case &quot;Atom&quot;: jmolPanel.executeCmd(&quot;set picking select atom&quot;);&#xD;
						return;&#xD;
		case &quot;Group&quot;: jmolPanel.executeCmd(&quot;set picking select group&quot;);&#xD;
						return;&#xD;
		case &quot;Chain&quot;: jmolPanel.executeCmd(&quot;set picking select chain&quot;);&#xD;
						return;&#xD;
		}	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tY_EO2SEeWnDaII1mfokg" name="handleSelectionHalo" specification="__mNZAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tY_Ee2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tY_Eu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Selection Halos ON&quot;)==0){&#xD;
			source.setText(&quot;Selection Halos OFF&quot;);&#xD;
			jmolPanel.executeCmd(&quot;selectionHalos ON&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Selection Halos OFF&quot;)==0){&#xD;
			source.setText(&quot;Selection Halos ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;selectionHalos OFF&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Select All&quot;)==0){&#xD;
			jmolPanel.executeCmd(&quot;select all&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Select None&quot;)==0){&#xD;
			jmolPanel.executeCmd(&quot;select remove all&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tY_E-2SEeWnDaII1mfokg" name="handleModifySelected" specification="__mOAEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tY_FO2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tY_Fe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String action = source.getText().toLowerCase();&#xD;
		switch(action){&#xD;
			case &quot;delete&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.DELETE);&#xD;
							return;&#xD;
			case &quot;copy&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.COPY);&#xD;
							return;&#xD;
			case &quot;paste&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.PASTE);&#xD;
							return;&#xD;
			case &quot;cut&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.CUT);&#xD;
							return;&#xD;
		}&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tZmIO2SEeWnDaII1mfokg" name="handleDragging" specification="__mOnIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tZmIe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tZmIu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tZmI-2SEeWnDaII1mfokg" name="draggingGroup" type="__iCqsO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Drag Atom(s) ON&quot;)==0){&#xD;
			source.setText(&quot;Drag Atom(s) OFF&quot;);&#xD;
			handleRadioDrag(source, jmolPanel, draggingGroup);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Drag Atom(s) OFF&quot;)==0){&#xD;
			source.setText(&quot;Drag Atom(s) ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;set picking off&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tZmJO2SEeWnDaII1mfokg" name="handleRadioDrag" specification="__mPOMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tZmJe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tZmJu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tZmJ-2SEeWnDaII1mfokg" name="draggingGroup" type="__iCqsO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>source.setText(&quot;Drag Atom(s) OFF&quot;);&#xD;
		switch(draggingGroup.getSelection().getActionCommand()){&#xD;
		case &quot;Drag Atom&quot;: &#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGATOM&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Atom (and Minimize)&quot;:&#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGMINIMIZE&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Selected Atoms&quot;: &#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGSELECTED&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Selected Atoms (and Minimize)&quot;:&#xD;
			jmolPanel.executeCmd(&quot;&quot;);&#xD;
			return;&#xD;
	}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__mK8wO2SEeWnDaII1mfokg" name="handleJComboBox" isStatic="true" method="__tYYAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mK8we2SEeWnDaII1mfokg" name="event" type="__h_nYu2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mK8wu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mLj0O2SEeWnDaII1mfokg" name="handlePickingFunction" isStatic="true" method="__tYYA-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mLj0e2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mMK4O2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mMK4e2SEeWnDaII1mfokg" name="group" type="__iCqsO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mMx8O2SEeWnDaII1mfokg" name="handleRadioPick" isStatic="true" method="__tYYB-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mMx8e2SEeWnDaII1mfokg" name="setPicking" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mMx8u2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mMx8-2SEeWnDaII1mfokg" name="group" type="__iCqsO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mNZAO2SEeWnDaII1mfokg" name="handleSelectionHalo" isStatic="true" method="__tY_EO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mNZAe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mNZAu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mOAEO2SEeWnDaII1mfokg" name="handleModifySelected" isStatic="true" method="__tY_E-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mOAEe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mOAEu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mOnIO2SEeWnDaII1mfokg" name="handleDragging" isStatic="true" method="__tZmIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mOnIe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mOnIu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mOnI-2SEeWnDaII1mfokg" name="draggingGroup" type="__iCqsO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mPOMO2SEeWnDaII1mfokg" name="handleRadioDrag" isStatic="true" method="__tZmJO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mPOMe2SEeWnDaII1mfokg" name="source" type="__iDRwO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mPOMu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mPOM-2SEeWnDaII1mfokg" name="draggingGroup" type="__iCqsO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__Dg7oO2SEeWnDaII1mfokg" name="UpdateRegistry">
                    <ownedComment xmi:id="__ugZYe2SEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
 *&#xD;
 *	This class acts as the &quot;middle-man&quot; between JmolDisplay &#xD;
 *	and back end calculations and object model.&#xD;
 *	Contains sections:&#xD;
 *	- Methods called when there's changes to object model&#xD;
 *	- Methods called when there's changes in JmolDisplay&#xD;
 *	- Methods called to notify Viewer of new changes to object Model&#xD;
 *	- private methods used only within class.</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__p5mMO2SEeWnDaII1mfokg" name="mouseState" visibility="protected" type="__DIhIO2SEeWnDaII1mfokg" association="__wFGse2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p5mMu2SEeWnDaII1mfokg" name="dragMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p6NQe2SEeWnDaII1mfokg" name="addMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p60UO2SEeWnDaII1mfokg" name="storeAddAtom" visibility="protected" type="__AVr0O2SEeWnDaII1mfokg" association="__wFtwO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p60Uu2SEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="__D0doO2SEeWnDaII1mfokg" association="__wFtw-2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p7bYe2SEeWnDaII1mfokg" name="minimizeMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p8Cce2SEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" association="__wGU0e2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__p8Ccu2SEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(UpdateRegistry.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p8pgO2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wG74e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p9Qku2SEeWnDaII1mfokg" name="toolPanel" visibility="private" type="__EDuMO2SEeWnDaII1mfokg" association="__wIKAO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p93oe2SEeWnDaII1mfokg" name="modelList" type="__A_MEe2SEeWnDaII1mfokg" isOrdered="true" isReadOnly="true" association="__wIKA-2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__p93ou2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__p-esO2SEeWnDaII1mfokg" name="selectedAtoms" type="__fyn8O2SEeWnDaII1mfokg" isReadOnly="true" association="__wIxEe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__p_Fwe2SEeWnDaII1mfokg" name="savedAtoms" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__wJYIe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qAT4e2SEeWnDaII1mfokg" name="offset" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__qAT4u2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qA68e2SEeWnDaII1mfokg" value="new double[3]"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qA68-2SEeWnDaII1mfokg" name="atomselected" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qBiAO2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__taNMe2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__mRqcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__taNMu2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__taNM-2SEeWnDaII1mfokg" name="toolPanel" type="__EDuMO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__taNNO2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__taNNe2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
		this.viewer = jmolPanel.getViewer();&#xD;
		this.modelList = models;&#xD;
		this.toolPanel = toolPanel;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
		this.addMode = false;&#xD;
		this.minimizeMode = false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ta0QO2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__mTfoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ta0Qe2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ta0Qu2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ta0Q-2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;&#xD;
		this.modelList = models;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ta0RO2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__Dj-8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ta0Re2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = null;&#xD;
		this.modelList = new ArrayList&lt;Model>();&#xD;
		this.toolPanel = null;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ta0Ru2SEeWnDaII1mfokg" name="setSelectedAtoms" specification="__mUGse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ta0R-2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//System.out.println(&quot;Selected: &quot; + values);&#xD;
		if(selectedAtoms==null)&#xD;
			selectedAtoms = new ArrayList&lt;Atom>();&#xD;
		else&#xD;
			selectedAtoms.clear();&#xD;
&#xD;
		String[] valueGet = values.toString().split(&quot;[{ }]&quot;);&#xD;
		if(modelList!=null){&#xD;
			Model currentModel = modelList.get(viewer.getDisplayModelIndex());&#xD;
			for(int i=0;i&lt;valueGet.length;i++){&#xD;
				if(valueGet[i].compareTo(&quot;&quot;)!= 0){&#xD;
					// if its list of continuous atoms&#xD;
					if(valueGet[i].contains(&quot;:&quot;)){&#xD;
						int start = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[0])+1;&#xD;
						int end = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[1])+1;&#xD;
						for(int j=start;j&lt;=end;j++){&#xD;
							selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+j));&#xD;
						}&#xD;
					}&#xD;
					else{&#xD;
						selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+(Integer.parseInt(valueGet[i])+1)));&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tbbUO2SEeWnDaII1mfokg" name="evaluateUserAction" specification="__DlNEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tbbUe2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>EvaluateUserAction.evaluateAction(this, script);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tbbUu2SEeWnDaII1mfokg" name="atomMoved" specification="__mUtwe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tbbU-2SEeWnDaII1mfokg" name="atomsMoved" type="__hi7c-2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// get the list of atoms moved.&#xD;
		if(atomselected)&#xD;
			setSelectedAtoms(atomsMoved);&#xD;
		&#xD;
		// update the atoms moved in user model.&#xD;
		for(int i=0;i&lt;selectedAtoms.size();i++){&#xD;
			int atomIndex = selectedAtoms.get(i).getAtomSeqNum()-1;&#xD;
			double[] coords = {viewer.ms.at[atomIndex].x,viewer.ms.at[atomIndex].y,viewer.ms.at[atomIndex].z};&#xD;
			if(coords[0]!=selectedAtoms.get(i).getCoordinates()[0]){&#xD;
				offset[0] = selectedAtoms.get(i).getCoordinates()[0]- coords[0];&#xD;
				offset[1] = selectedAtoms.get(i).getCoordinates()[1]- coords[1];&#xD;
				offset[2] = selectedAtoms.get(i).getCoordinates()[2]- coords[2];&#xD;
				selectedAtoms.get(i).setCoordinates(coords);&#xD;
			}&#xD;
			else{&#xD;
				coords[0] = selectedAtoms.get(i).getCoordinates()[0]-offset[0];&#xD;
				coords[1] = selectedAtoms.get(i).getCoordinates()[1]-offset[1];&#xD;
				coords[2] = selectedAtoms.get(i).getCoordinates()[2]-offset[2];&#xD;
				viewer.ms.at[atomIndex].x = (float)coords[0]; &#xD;
				viewer.ms.at[atomIndex].y = (float)coords[1]; &#xD;
				viewer.ms.at[atomIndex].z = (float)coords[2]; &#xD;
				selectedAtoms.get(i).setCoordinates(coords);&#xD;
			}&#xD;
			&#xD;
			//System.out.println(&quot;COORD:&quot; + selectedAtoms.get(i).getCoordinates()[0]);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tbbVO2SEeWnDaII1mfokg" name="atomMoved" specification="__Dl0IO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(Atom atm : modelList.get(viewer.getDisplayModelIndex()).getAtomHash().values()){&#xD;
			for(int i=0; i&lt;viewer.ms.at.length;i++){&#xD;
				if(atm.getAtomSeqNum()==(i+1)){&#xD;
					double[] coords = {viewer.ms.at[i].x,viewer.ms.at[i].y,viewer.ms.at[i].z};&#xD;
					atm.setCoordinates(coords);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tbbVe2SEeWnDaII1mfokg" name="setModelBonds" specification="__Dl0Ie2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>int currModel=0, prevModel=0;&#xD;
		Atom atom1, atom2;&#xD;
		Bond bond; &#xD;
		String index1, index2;&#xD;
		ArrayList&lt;Bond> ownbonds = new ArrayList&lt;Bond>();&#xD;
		org.jmol.modelset.Bond[] bonds = viewer.ms.bo;&#xD;
		for(int i=0;i&lt;bonds.length;i++){&#xD;
			prevModel = currModel;&#xD;
			currModel = bonds[i].getAtom1().getModelNumber();&#xD;
			Model model = modelList.get(currModel-1);&#xD;
			if(currModel!=prevModel &amp;&amp; i!=0){&#xD;
				modelList.get(prevModel-1).setBonds(ownbonds);&#xD;
				ownbonds.clear();&#xD;
			}&#xD;
			index1 = model.getModelName()+bonds[i].getAtom1().atomSite;&#xD;
			index2 = model.getModelName()+bonds[i].getAtom2().atomSite;&#xD;
			atom1 = model.getAtomHash().get(index1);&#xD;
			atom2 = model.getAtomHash().get(index2);&#xD;
			if(atom1==null || atom2==null)&#xD;
				continue;&#xD;
			bond = new Bond(atom1, atom2);&#xD;
			ownbonds.add(bond);&#xD;
			atom1.setBond(bond);&#xD;
			atom2.setBond(bond);&#xD;
			if(i==bonds.length-1){&#xD;
				modelList.get(currModel-1).setBonds(ownbonds);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcCYO2SEeWnDaII1mfokg" name="setMouseState" specification="__DmbMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcCYe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcCYu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcCY-2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>GestureManager.setMouseState(x,y,mode, mouseState);&#xD;
		if(viewer.getInMotion(false)){&#xD;
			&#xD;
			/*String mouseGesture = &quot;&quot;;&#xD;
			mouseGesture += &quot;Mouse Mode: &quot; + mouseState.getMouseMode() + &quot;\n&quot;;&#xD;
			mouseGesture += &quot;Mouse Start Position: X-Pos=&quot; + mouseState.getStartPosX() + &quot; Y-Pos=&quot; + mouseState.getStartPosY() + &quot;\n&quot;;&#xD;
			mouseGesture += &quot;Mouse End Position: X-Pos=&quot; + mouseState.getEndPosX() + &quot; Y-Pos=&quot; + mouseState.getEndPosY() + &quot;\n&quot;;*/&#xD;
			//System.out.println(mouseGesture);&#xD;
			mouseState.clearState();&#xD;
		}&#xD;
		if(minimizeMode &amp;&amp; mode==16640){	// when mouse drag stopped.&#xD;
			System.out.println(&quot;Entering minimizing stage...&quot;);&#xD;
			minimizeModel();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcCZO2SEeWnDaII1mfokg" name="loadFileToJmol" specification="__mVU0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcCZe2SEeWnDaII1mfokg" name="struc" type="__gLpge2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>createUserModel(struc);&#xD;
		String pdb = DataManager.modelToPDB(modelList);&#xD;
		viewer.openStringInline(pdb);&#xD;
		toolPanel.setModelText(modelList);&#xD;
		logger.log(Level.INFO, &quot;After load File: &quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcCZu2SEeWnDaII1mfokg" name="displayModels" specification="__mWi8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcCZ-2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tcCaO2SEeWnDaII1mfokg" name="jmolViewer" type="__hZKce2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// convert model to pdb string&#xD;
		String pdb = DataManager.modelToPDB(models);&#xD;
		// pdb to viewer&#xD;
		jmolViewer.openStringInline(pdb);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcCae2SEeWnDaII1mfokg" name="capCoord" specification="__DnCQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcCau2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcCa-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)&#xD;
			return Math.max(-999.000, coord);&#xD;
		return Math.min(coord, +999.000);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcpcO2SEeWnDaII1mfokg" name="displayParticles" specification="__mXxEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcpce2SEeWnDaII1mfokg" name="list" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String pdb = &quot;MODEL       1\n&quot;;&#xD;
		for(int i=0; i&lt;list.size();i++){&#xD;
			//String index = String.format(&quot;%4d&quot;, list.get(i).getGUID());&#xD;
			String index = String.format(&quot;%4d&quot;, i);&#xD;
			if(list.get(i) instanceof Atom){&#xD;
				double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
				Vector3D position = list.get(i).getPosition();&#xD;
				double x = capCoord(position.x*scale);&#xD;
				double y = capCoord(position.y*scale);&#xD;
				double z = capCoord(position.z*scale);&#xD;
				String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;, x,y,z);&#xD;
				String elementSymbol = String.format(&quot;%-4s&quot;,((Atom)list.get(i)).getElementSymbol().toUpperCase());&#xD;
						&#xD;
				pdb += &quot;HETATM &quot;+index+&quot; &quot;+elementSymbol+&quot;         1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
				&#xD;
			}&#xD;
			else if (list.get(i) instanceof Molecule){&#xD;
				Molecule m = (Molecule)list.get(i);&#xD;
				if(World.simulationLvlAtomic == true) {&#xD;
					for(Atom a: m.getChains().get(0).atomSeq){&#xD;
						double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
						Vector3D position = a.getPosition();&#xD;
						double x = capCoord(position.x*scale);&#xD;
						double y = capCoord(position.y*scale);&#xD;
						double z = capCoord(position.z*scale);&#xD;
						String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;,x,y,z);&#xD;
						String elementSymbol = String.format(&quot;%-4s&quot;,a.getElementSymbol().toUpperCase());&#xD;
								&#xD;
						pdb += &quot;HETATM &quot;+index+&quot; &quot;+elementSymbol+&quot;         1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
						&#xD;
					}&#xD;
				&#xD;
					/*&#xD;
					pdb += &quot;HETATM    1 NA   TST A   1       5.000   5.000   5.000  1.00  0.00\n&quot;+&#xD;
						   &quot;HETATM    2 CL   TST A   1       6.400   6.400   6.400  1.00  0.00\n&quot;+&#xD;
						   &quot;CONECT    1      2\n&quot; +&#xD;
						   &quot;CONECT    2      1\n&quot;;&#xD;
						   */&#xD;
				}&#xD;
				else {&#xD;
					double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
					Vector3D position = list.get(i).getPosition();&#xD;
					double x = capCoord(position.x*scale);&#xD;
					double y = capCoord(position.y*scale);&#xD;
					double z = capCoord(position.z*scale);&#xD;
					String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;,x,y,z);&#xD;
					pdb += &quot;HETATM    1 CS   TST A   1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		pdb += &quot;ENDMDL&quot;;&#xD;
		&#xD;
		if(World.displayUI)&#xD;
			viewer.openStringInline(pdb);&#xD;
		&#xD;
		try {&#xD;
			BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;output.pdb&quot;));&#xD;
			writer.write(pdb);&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
			World.simulationStatus = &quot;restart&quot;;&#xD;
		}&#xD;
		&#xD;
		if(World.displayUI) {&#xD;
			createUserModel(DataManager.readFile(&quot;output.pdb&quot;));&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcpcu2SEeWnDaII1mfokg" name="notifyUpdated" specification="__iKmgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcpc-2SEeWnDaII1mfokg" name="particles" type="_-_glYO2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tcpdO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;Atom> atomsUpdated = new ArrayList&lt;Atom>();&#xD;
		&#xD;
		// When the two particles are part of common model&#xD;
		if(modelList.size()!=0){&#xD;
			for(int i=0;i&lt;particles.length;i++){&#xD;
				if(particles[i] instanceof Atom){ // if particle is Atom type&#xD;
					// get the updated atom from model&#xD;
					atomsUpdated.add(modelList.get(0).getAtomHash().get(modelList.get(0).getModelName()+((Atom)particles[i]).getChainSeqNum()));&#xD;
				}&#xD;
			}&#xD;
			// update atoms in jmol display&#xD;
			for(int i=0;i&lt;atomsUpdated.size();i++){&#xD;
				Atom atom = atomsUpdated.get(i);&#xD;
				float xOffset = (float)atom.getPosition().x - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).x;&#xD;
				float yOffset = (float)atom.getPosition().y - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).y;&#xD;
				float zOffset = (float)atom.getPosition().z - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).z;&#xD;
				viewer.evalString(&quot;select atomno=&quot;+ atom.getChainSeqNum());&#xD;
				viewer.evalString(&quot;translateSelected {&quot; + xOffset + &quot; &quot; + yOffset + &quot; &quot; + zOffset + &quot;}&quot;);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcpde2SEeWnDaII1mfokg" name="deleteAtoms" specification="__DnpUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcpdu2SEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcpd-2SEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcpeO2SEeWnDaII1mfokg" name="atomPosition">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>modelList.get(currentModelIndex).removeAtom(key);&#xD;
		//modelList.get(currentModelIndex).getAtomHash().remove(key);&#xD;
		viewer.evalString(&quot;delete atomno=&quot; + atomPosition + &quot; &amp;&amp; modelindex=&quot; + viewer.getDisplayModelIndex());&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tcpee2SEeWnDaII1mfokg" name="copyAtoms" specification="__DoQYe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tcpeu2SEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tcpe-2SEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(savedAtoms==null){&#xD;
			savedAtoms = new ArrayList&lt;Atom>();&#xD;
		}&#xD;
		try {&#xD;
			Atom newAtom = (Atom)modelList.get(currentModelIndex).getAtomHash().get(key).clone();&#xD;
			savedAtoms.add(newAtom);&#xD;
		} catch (CloneNotSupportedException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQgO2SEeWnDaII1mfokg" name="pasteSavedAtoms" specification="__DpegO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tdQge2SEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(savedAtoms==null)&#xD;
			JOptionPane.showMessageDialog(jmolPanel,&quot;You have not copied or cut any atoms to paste!&quot;,&#xD;
				    &quot;Warning&quot;, JOptionPane.WARNING_MESSAGE);&#xD;
		else{&#xD;
			boolean error = false;&#xD;
			for(int i=0;i&lt;savedAtoms.size();i++){&#xD;
				for(Atom atm : modelList.get(modelIndex).getAtomHash().values()){&#xD;
					if(savedAtoms.get(i).getCoordinates()[0]==atm.getCoordinates()[0] &amp;&amp; &#xD;
							savedAtoms.get(i).getCoordinates()[1]==atm.getCoordinates()[1] &amp;&amp;&#xD;
							savedAtoms.get(i).getCoordinates()[2]==atm.getCoordinates()[2] ){&#xD;
						error = true;&#xD;
						break;&#xD;
					}&#xD;
				}&#xD;
				if(error){&#xD;
					JOptionPane.showMessageDialog(jmolPanel,&quot;You are trying to paste atoms in location occupied!&quot;,&#xD;
						    &quot;Warning&quot;, JOptionPane.WARNING_MESSAGE);&#xD;
					break;&#xD;
				}&#xD;
				else{&#xD;
					addAtom(modelIndex, savedAtoms.get(i));	&#xD;
				}&#xD;
			}&#xD;
			String pdb =DataManager.modelToPDB(modelList);&#xD;
			System.out.println(pdb);&#xD;
			&#xD;
			viewer.openStringInline(pdb);&#xD;
			viewer.setCurrentModelIndex(modelIndex);&#xD;
		}&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQgu2SEeWnDaII1mfokg" name="addAtom" specification="__iLNkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tdQg-2SEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tdQhO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>modelList.get(modelIndex).setMolecule(atom);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQhe2SEeWnDaII1mfokg" name="setMinimizeMode" specification="__DqFkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tdQhu2SEeWnDaII1mfokg" name="isMinimize">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.minimizeMode = isMinimize;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQh-2SEeWnDaII1mfokg" name="createUserModel" specification="__mYYIe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tdQiO2SEeWnDaII1mfokg" name="struc" type="__gLpge2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// read default MMFFtypes for atoms&#xD;
		&#xD;
		if(modelList==null)&#xD;
			modelList = new ArrayList&lt;Model>();&#xD;
		Model model=null;&#xD;
		for(int i=0;i&lt;struc.nrModels();i++){&#xD;
			// for each model, create and add to model list&#xD;
			model = new Model();&#xD;
			model.setModelName(&quot;Model&quot;+(i+1));&#xD;
			model.setMolecule(struc.getModel(i));	// set the model&#xD;
			modelList.add(model);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQie2SEeWnDaII1mfokg" name="minimizeModel" specification="__DqsoO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>//viewer.ms.setAtomCoord(0, 0.0f, 0.0f, 0.0f);&#xD;
		Minimizer minimizer = new Minimizer(this);&#xD;
		minimizer.setupMinimizing(modelList.get(viewer.getDisplayModelIndex()));&#xD;
		minimizer.startMinimizing();&#xD;
		System.out.println(DataManager.modelToPDB(modelList));&#xD;
		minimizeMode = false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tdQiu2SEeWnDaII1mfokg" name="updateViewerCoord" specification="__DrTsO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(Atom atm: modelList.get(viewer.getDisplayModelIndex()).getAtomHash().values()){&#xD;
	    	  viewer.ms.setAtomCoord((atm.getAtomSeqNum()-1), atm.getCoordinates()[0], atm.getCoordinates()[1], atm.getCoordinates()[2]);&#xD;
	      }&#xD;
		jmolPanel.getViewer().refresh(3, &quot;minimization step &quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Dj-8O2SEeWnDaII1mfokg" name="UpdateRegistry" method="__ta0RO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__DkmAO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__DkmAe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__DkmAu2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DlNEO2SEeWnDaII1mfokg" name="evaluateUserAction" method="__tbbUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DlNEe2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Dl0IO2SEeWnDaII1mfokg" name="atomMoved" method="__tbbVO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Dl0Ie2SEeWnDaII1mfokg" name="setModelBonds" method="__tbbVe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__DmbMO2SEeWnDaII1mfokg" name="setMouseState" method="__tcCYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DmbMe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DmbMu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DmbM-2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DnCQO2SEeWnDaII1mfokg" name="capCoord" visibility="private" method="__tcCae2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DnCQe2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DnCQu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DnpUO2SEeWnDaII1mfokg" name="deleteAtoms" method="__tcpde2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DnpUe2SEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DnpUu2SEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__DoQYO2SEeWnDaII1mfokg" name="atomPosition">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DoQYe2SEeWnDaII1mfokg" name="copyAtoms" method="__tcpee2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DoQYu2SEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Do3cO2SEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DpegO2SEeWnDaII1mfokg" name="pasteSavedAtoms" method="__tdQgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Dpege2SEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DqFkO2SEeWnDaII1mfokg" name="setMinimizeMode" method="__tdQhe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__DqFke2SEeWnDaII1mfokg" name="isMinimize">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__DqsoO2SEeWnDaII1mfokg" name="minimizeModel" method="__tdQie2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__DrTsO2SEeWnDaII1mfokg" name="updateViewerCoord" method="__tdQiu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__iKmgO2SEeWnDaII1mfokg" name="notifyUpdated" method="__tcpcu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iKmge2SEeWnDaII1mfokg" name="particles" type="_-_glYO2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__iKmgu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iLNkO2SEeWnDaII1mfokg" name="addAtom" method="__tdQgu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iLNke2SEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__iLNku2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mRqcO2SEeWnDaII1mfokg" name="UpdateRegistry" method="__taNMe2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__mSRgO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__mSRge2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__ugZYu2SEeWnDaII1mfokg">
                        <body>*****************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__mRqce2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mRqcu2SEeWnDaII1mfokg" name="toolPanel" type="__EDuMO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mRqc-2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mSRgu2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mTfoO2SEeWnDaII1mfokg" name="UpdateRegistry" method="__ta0QO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__mTfo-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__mTfpO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__mTfoe2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mTfou2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mTfpe2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mUGse2SEeWnDaII1mfokg" name="setSelectedAtoms" method="__ta0Ru2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uhAcO2SEeWnDaII1mfokg">
                        <body>*******************************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__mUtwO2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mUtwe2SEeWnDaII1mfokg" name="atomMoved" method="__tbbUu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mUtwu2SEeWnDaII1mfokg" name="atomsMoved" type="__hi7c-2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mVU0O2SEeWnDaII1mfokg" name="loadFileToJmol" method="__tcCZO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uhAce2SEeWnDaII1mfokg">
                        <body>******************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__mVU0e2SEeWnDaII1mfokg" name="struc" type="__gLpge2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mWi8O2SEeWnDaII1mfokg" name="displayModels" isStatic="true" method="__tcCZu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mWi8e2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mWi8u2SEeWnDaII1mfokg" name="jmolViewer" type="__hZKce2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mXxEO2SEeWnDaII1mfokg" name="displayParticles" method="__tcpcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mXxEe2SEeWnDaII1mfokg" name="list" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mYYIe2SEeWnDaII1mfokg" name="createUserModel" method="__tdQh-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mYYIu2SEeWnDaII1mfokg" name="struc" type="__gLpge2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v45ce2SEeWnDaII1mfokg" name="" memberEnd="__v45cu2SEeWnDaII1mfokg __pk2EO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v45cu2SEeWnDaII1mfokg" name="" type="__Cg2EO2SEeWnDaII1mfokg" association="__v45ce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v5gge2SEeWnDaII1mfokg" name="" memberEnd="__v5ggu2SEeWnDaII1mfokg __pldIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v5ggu2SEeWnDaII1mfokg" name="" type="__Cg2EO2SEeWnDaII1mfokg" association="__v5gge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v6Hke2SEeWnDaII1mfokg" name="" memberEnd="__v6Hku2SEeWnDaII1mfokg __pmEMe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v6Hku2SEeWnDaII1mfokg" name="" type="__Cg2EO2SEeWnDaII1mfokg" association="__v6Hke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v6uoe2SEeWnDaII1mfokg" name="" memberEnd="__v6uou2SEeWnDaII1mfokg __pq8se2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v6uou2SEeWnDaII1mfokg" name="" type="__C4CcO2SEeWnDaII1mfokg" association="__v6uoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v7Vse2SEeWnDaII1mfokg" name="" memberEnd="__v7Vsu2SEeWnDaII1mfokg __prjwe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v7Vsu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v7Vse2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v78we2SEeWnDaII1mfokg" name="" memberEnd="__v78wu2SEeWnDaII1mfokg __psK0O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v78wu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v78we2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v9K4e2SEeWnDaII1mfokg" name="" memberEnd="__v9K4u2SEeWnDaII1mfokg __psK0u2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v9K4u2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v9K4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v9x8e2SEeWnDaII1mfokg" name="" memberEnd="__v9x8u2SEeWnDaII1mfokg __psx4e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v9x8u2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v9x8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v-ZAe2SEeWnDaII1mfokg" name="" memberEnd="__v-ZAu2SEeWnDaII1mfokg __ptY8e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v-ZAu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v-ZAe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__v_AEe2SEeWnDaII1mfokg" name="" memberEnd="__v_AEu2SEeWnDaII1mfokg __puAAO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__v_AEu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__v_AEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wAOMe2SEeWnDaII1mfokg" name="" memberEnd="__wAOMu2SEeWnDaII1mfokg __puAAu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wAOMu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__wAOMe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wA1Qe2SEeWnDaII1mfokg" name="" memberEnd="__wA1Qu2SEeWnDaII1mfokg __punEu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wA1Qu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__wA1Qe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wBcUe2SEeWnDaII1mfokg" name="" memberEnd="__wBcUu2SEeWnDaII1mfokg __pvOIe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wBcUu2SEeWnDaII1mfokg" name="" type="__C868O2SEeWnDaII1mfokg" association="__wBcUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wCDYe2SEeWnDaII1mfokg" name="" memberEnd="__wCDYu2SEeWnDaII1mfokg __pxqYO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wCDYu2SEeWnDaII1mfokg" name="" type="__DIhIO2SEeWnDaII1mfokg" association="__wCDYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wCqce2SEeWnDaII1mfokg" name="" memberEnd="__wCqcu2SEeWnDaII1mfokg __p0Gou2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wCqcu2SEeWnDaII1mfokg" name="" type="__DREAO2SEeWnDaII1mfokg" association="__wCqce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wDRge2SEeWnDaII1mfokg" name="" memberEnd="__wDRgu2SEeWnDaII1mfokg __p1UwO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wDRgu2SEeWnDaII1mfokg" name="" type="__DY_0O2SEeWnDaII1mfokg" association="__wDRge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wD4ke2SEeWnDaII1mfokg" name="" memberEnd="__wD4ku2SEeWnDaII1mfokg __p2i4O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wD4ku2SEeWnDaII1mfokg" name="" type="__DY_0O2SEeWnDaII1mfokg" association="__wD4ke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wEfoe2SEeWnDaII1mfokg" name="" memberEnd="__wEfou2SEeWnDaII1mfokg __p4YEO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wEfou2SEeWnDaII1mfokg" name="" type="__DY_0O2SEeWnDaII1mfokg" association="__wEfoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wFGse2SEeWnDaII1mfokg" name="" memberEnd="__wFGsu2SEeWnDaII1mfokg __p5mMO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wFGsu2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wFGse2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wFtwO2SEeWnDaII1mfokg" name="" memberEnd="__wFtwe2SEeWnDaII1mfokg __p60UO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wFtwe2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wFtwO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wFtw-2SEeWnDaII1mfokg" name="" memberEnd="__wFtxO2SEeWnDaII1mfokg __p60Uu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wFtxO2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wFtw-2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wGU0e2SEeWnDaII1mfokg" name="" memberEnd="__wGU0u2SEeWnDaII1mfokg __p8Cce2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wGU0u2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wGU0e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wG74e2SEeWnDaII1mfokg" name="" memberEnd="__wG74u2SEeWnDaII1mfokg __p8pgO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wG74u2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wG74e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wIKAO2SEeWnDaII1mfokg" name="" memberEnd="__wIKAe2SEeWnDaII1mfokg __p9Qku2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wIKAe2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wIKAO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wIKA-2SEeWnDaII1mfokg" name="" memberEnd="__wIKBO2SEeWnDaII1mfokg __p93oe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wIKBO2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wIKA-2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wIxEe2SEeWnDaII1mfokg" name="" memberEnd="__wIxEu2SEeWnDaII1mfokg __p-esO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wIxEu2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wIxEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wJYIe2SEeWnDaII1mfokg" name="" memberEnd="__wJYIu2SEeWnDaII1mfokg __p_Fwe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wJYIu2SEeWnDaII1mfokg" name="" type="__Dg7oO2SEeWnDaII1mfokg" association="__wJYIe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_OZx7AO2TEeWnDaII1mfokg" name="Minimizer">
                    <ownedAttribute xmi:id="_OcZKIO2TEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" association="_OdUXMO2TEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_OcZxMO2TEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(MoleculeEditor.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_OcaYQO2TEeWnDaII1mfokg" name="mmffType" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdWMYe2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Oca_Ue2TEeWnDaII1mfokg" name="bondCharge" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdWzce2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcbmYu2TEeWnDaII1mfokg" name="partialCharge" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdXage2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Occ0ge2TEeWnDaII1mfokg" name="bondStretch" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdYBke2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Ocmlge2TEeWnDaII1mfokg" name="angleBend" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdYooe2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcnzoO2TEeWnDaII1mfokg" name="stretchBend" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdZPse2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Ocpo0e2TEeWnDaII1mfokg" name="OOP" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_Odc6EO2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcsFEO2TEeWnDaII1mfokg" name="torsion" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdeIMe2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcuhUO2TEeWnDaII1mfokg" name="vdw" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_OdevQe2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcvIYe2TEeWnDaII1mfokg" name="electroInter" visibility="protected" type="__f25YO2SEeWnDaII1mfokg" association="_Odf9YO2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_OcwWgO2TEeWnDaII1mfokg" name="CS" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_OcwWge2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_OcwWg-2TEeWnDaII1mfokg" name="energyInit">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Ocw9kO2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Ocw9ku2TEeWnDaII1mfokg" name="model" visibility="private" type="__A_MEe2SEeWnDaII1mfokg" association="_Odgkce2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Ocxkoe2TEeWnDaII1mfokg" name="bondStretchVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Ocxkou2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_OcyLse2TEeWnDaII1mfokg" name="angleBendVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_OcyywO2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Ocyywu2TEeWnDaII1mfokg" name="stretchBendVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_OczZ0O2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc0A4O2TEeWnDaII1mfokg" name="OOPVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc0A4e2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc0n8O2TEeWnDaII1mfokg" name="torsionVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc0n8e2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc0n8-2TEeWnDaII1mfokg" name="vdwVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc1PAO2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc2dIe2TEeWnDaII1mfokg" name="electroInterVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc3EMO2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc3rQO2TEeWnDaII1mfokg" name="coordSaved" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oc3rQe2TEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc4SUO2TEeWnDaII1mfokg" name="writer" visibility="package" type="__heqAO2SEeWnDaII1mfokg" association="_OdhLge2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Oc4SUu2TEeWnDaII1mfokg" name="updateReg" visibility="private" type="__Dg7oO2SEeWnDaII1mfokg" association="_Odhyke2TEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Oc45Ye2TEeWnDaII1mfokg" name="currentMinStep" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc45Yu2TEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Oc5gce2TEeWnDaII1mfokg" name="dE" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Oc5gcu2TEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_AAO2TEeWnDaII1mfokg" name="Minimizer" specification="_OZ3akO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oc_AAe2TEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Oc_AAu2TEeWnDaII1mfokg" type="_OZx7AO2TEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.updateReg = updateReg;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_AA-2TEeWnDaII1mfokg" name="setupMinimizing" specification="_OZ4Bo-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oc_ABO2TEeWnDaII1mfokg" name="model" type="__A_MEe2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>this.model = model;&#xD;
		//this.indivAtomEnergy = new double[7][model.getAtomHash().size()];&#xD;
		&#xD;
		//List&lt;Atom> atomlist = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		/*try {&#xD;
			writer = new BufferedWriter(new FileWriter(&quot;res/temp/min.txt&quot;,true));*/&#xD;
			//writer.write(&quot;Electrostatic Interaction [qi,qj][a,b][energy]&quot;);&#xD;
			//writer.newLine();&#xD;
			&#xD;
		// initialise energy&#xD;
		readMMFFFiles();&#xD;
		&#xD;
		/*writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		energyInit = calculateEnergy(false);&#xD;
		System.out.println(&quot;Energy Init&quot; + energyInit);&#xD;
		try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;res/temp/JmolEnergyMin.txt&quot;,true));&#xD;
			writer.write(&quot;Initial Energy:&quot; + energyInit);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_nEO2TEeWnDaII1mfokg" name="startMinimizing" specification="_OZ4ose2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>currentMinStep=0;&#xD;
		while(steepestDescentSteps(100));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_nEe2TEeWnDaII1mfokg" name="steepestDescentSteps" specification="_OZ5PwO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oc_nEu2TEeWnDaII1mfokg" name="n">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oc_nE-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (int iStep = 1; iStep &lt;= n; iStep++) {&#xD;
			currentMinStep++;&#xD;
			for(Atom atm : model.getAtomHash().values()){&#xD;
				setForcesUsingNumericalDerivative(atm);&#xD;
			}&#xD;
			updateCoordinates();&#xD;
			double energy = calculateEnergy(false);&#xD;
			//System.out.println(&quot;\tEnergy&quot; + energy);&#xD;
			dE = energy - energyInit;&#xD;
			boolean done = isNear3(energy, energyInit, 1e-3);&#xD;
			&#xD;
			if (done|| currentMinStep % 10 == 0 || n &lt;= currentMinStep) {&#xD;
			 try {&#xD;
			    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;res/temp/JmolEnergyMin.txt&quot;,true));&#xD;
			    	&#xD;
					writer.write(&quot;\tMain Step: &quot; + iStep + &quot;\tEnergy:&quot; + String.format(&quot;%.5g&quot;, energy) + &quot;\tdE: &quot;+String.format(&quot;%.5g&quot;, dE));&#xD;
					writer.newLine();/**/&#xD;
					writer.close();&#xD;
				} catch (IOException e) {&#xD;
					// TODO Auto-generated catch block&#xD;
					e.printStackTrace();&#xD;
				}/**/&#xD;
			//System.out.print(&quot;\tStep: &quot; + iStep + &quot;\tEnergyInit:&quot; + energyInit);&#xD;
			}&#xD;
			energyInit = energy;&#xD;
			if (done || n &lt;= currentMinStep) {&#xD;
				return false;&#xD;
			}&#xD;
		}&#xD;
		return true;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_nFO2TEeWnDaII1mfokg" name="setForcesUsingNumericalDerivative" specification="_OZ520e2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oc_nFe2TEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double delta = 1.0e-5;&#xD;
		double[] force = new double[3];&#xD;
		force[0] = -getDE(atom, 0, delta);&#xD;
		force[1] = -getDE(atom, 1, delta);&#xD;
		force[2] = -getDE(atom, 2, delta);&#xD;
	    atom.setForces(force);&#xD;
	    //System.out.println(&quot;Atom=&quot;+ atom.getAtomSeqNum() + &quot;\tforce=&quot;+force[0] + &quot;,&quot; + force[1] + &quot;,&quot; + force[2]+ &quot;\n&quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Oc_nFu2TEeWnDaII1mfokg" name="getDE" specification="_OZ6d4O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oc_nF-2TEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Oc_nGO2TEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oc_nGe2TEeWnDaII1mfokg" name="delta">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oc_nGu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atom.getCoordinates()[i] += delta;&#xD;
	    double e = calculateEnergy(false);&#xD;
	    atom.getCoordinates()[i] -= delta;&#xD;
	    //System.out.println(&quot;Final=[&quot; + e + &quot;,&quot; + energyInit+&quot;,&quot;+delta+&quot;]&quot;);&#xD;
		return (e - energyInit) / delta;&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdAOIO2TEeWnDaII1mfokg" name="calculateEnergy" specification="_OZ7sAO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdAOIe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdAOIu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>clearValues();&#xD;
		if (gradient)&#xD;
		      clearForces();&#xD;
		for(int i=0;i&lt;model.getBonds().length;i++){&#xD;
			Bond bond = model.getBonds()[i];&#xD;
			bondStretchVal += calBondStretch(gradient, bond.getAtom1(), bond.getAtom2());&#xD;
			&#xD;
		}&#xD;
		&#xD;
		boolean found=false;&#xD;
		for(Atom atm : model.getAtomHash().values()){			// For each atom in the hash&#xD;
			for(Atom atm2 : model.getAtomHash().values()){&#xD;
				&#xD;
				if(!atm.hasNeighbour(atm2)&amp;&amp; atm.getAtomSeqNum()&lt;atm2.getAtomSeqNum()){&#xD;
					found=false;&#xD;
					for(int i=0;i&lt;atm.getNeighbourAtoms().length;i++){&#xD;
						for(int j=0;j&lt;atm2.getNeighbourAtoms().length;j++){&#xD;
							if(atm.getNeighbourAtoms()[i]==atm2.getNeighbourAtoms()[j])&#xD;
								found=true;&#xD;
						}&#xD;
					}&#xD;
					if(!found){&#xD;
						vdwVal += calVDWI(gradient, atm, atm2);&#xD;
						if((atm.getPartialCharge()==0.0 || atm2.getPartialCharge()==0.0) || atm.getAtomSeqNum()==atm2.getAtomSeqNum())&#xD;
							continue;&#xD;
						else&#xD;
							electroInterVal += calElectroInter(gradient, atm, atm2);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Atom atm3 = null, atm4 = null;&#xD;
		Atom[] atomList, atomList2;&#xD;
		for(Atom atm : model.getAtomHash().values()){			// For each atom in the hash&#xD;
			for(int i=0;i&lt;atm.getBond().size();i++){			// get the list of bonds&#xD;
				Atom atm1 = atm.getBond().get(i).getAtom1();	// left atom&#xD;
				Atom atm2 = atm.getBond().get(i).getAtom2();	// right atom&#xD;
				//System.out.print(&quot;Atom1: &quot;+ atm1.getAtomSeqNum() + &quot;\tAtom2: &quot; + atm2.getAtomSeqNum() + &quot;\tSTART: &quot;);&#xD;
				// if left atom has more than one bonds and not the first atom&#xD;
				if ((atm1.getAtomSeqNum()&lt;atm.getAtomSeqNum())||(atm2.getAtomSeqNum()>atm.getAtomSeqNum())) {	// seq # less than curr, can continue				&#xD;
			        atomList = getBondedAtom(atm1);		// give the list of atom index&#xD;
				    for (int j=0;j&lt;atomList.length;j++){&#xD;
				    	if((atm3 = atomList[j]).getAtomSeqNum()!=atm2.getAtomSeqNum()){&#xD;
				        	angleBendVal += calAngleBend(gradient, atm2, atm1, atm3);&#xD;
				        	//stretchBendVal += calStrechBend(atm2, atm1, atm3);&#xD;
				        	&#xD;
				        	//System.out.print(atm2.getAtomSeqNum()+&quot;\t&quot;+ atm1.getAtomSeqNum()+&quot;\t&quot;+ atm3.getAtomSeqNum());&#xD;
				        	atomList2 = getBondedAtom(atm3);&#xD;
				        	if(atomList2.length==1){&#xD;
				        		torsionVal += calTorsion(gradient, atm2, atm1, atm3, null);&#xD;
				        		OOPVal += calOOP(gradient, atm2, atm1, atm3,null);&#xD;
				        	}&#xD;
				        	else{&#xD;
				        		for (int k=0;k&lt;atomList2.length;k++){&#xD;
				        			atm4 = atomList2[k];&#xD;
				        			torsionVal += calTorsion(gradient, atm2, atm1, atm3, atm4);&#xD;
				        			OOPVal += calOOP(gradient, atm2, atm1, atm3, atm4);&#xD;
				        			//System.out.println(&quot;\t&quot;+ atm4.getAtomSeqNum());&#xD;
				        		}&#xD;
				        	}&#xD;
				    	}&#xD;
				    }&#xD;
				}&#xD;
				if (atm2.getAtomSeqNum()&lt;atm.getAtomSeqNum() || (atm1.getAtomSeqNum()>atm.getAtomSeqNum())) {&#xD;
					atomList = getBondedAtom(atm2);&#xD;
			        for (int j=0;j&lt;atomList.length;j++){&#xD;
			        	if((atm3 = atomList[j]).getAtomSeqNum()!=atm1.getAtomSeqNum()){&#xD;
			        		angleBendVal += calAngleBend(gradient, atm1, atm2, atm3);&#xD;
			        		//stretchBendVal += calStrechBend(atm1, atm2, atm3);&#xD;
			        		//OOPVal += calOOP(gradient, atm1, atm2, atm3);&#xD;
			        		//System.out.print(atm1.getAtomSeqNum()+&quot;\t&quot;+ atm2.getAtomSeqNum()+&quot;\t&quot;+ atm3.getAtomSeqNum());&#xD;
			        		atomList2 = getBondedAtom(atm3);&#xD;
			        		if(atomList2.length==1)&#xD;
				        		torsionVal += calTorsion(gradient, atm1, atm2, atm3, null);&#xD;
			        		else{&#xD;
				        		for (int k=0;k&lt;atomList2.length;k++){&#xD;
				        			atm4 = atomList2[k];&#xD;
				        			torsionVal += calTorsion(gradient, atm1, atm2, atm3, atm4);&#xD;
				        			//System.out.println(&quot;\t(4)&quot;+ atm4.getAtomSeqNum());&#xD;
				        		}&#xD;
			        		}&#xD;
			        	}&#xD;
			        }&#xD;
			      }&#xD;
				//System.out.println();&#xD;
			}&#xD;
		}&#xD;
		/*if(ommitStretchBend)&#xD;
			stretchBendVal=0.0;&#xD;
		System.out.println(bondStretchVal + &quot;,&quot; + angleBendVal + &quot;,&quot; + stretchBendVal + &quot;,&quot; + OOPVal + &#xD;
				&quot;,&quot; + torsionVal + &quot;,&quot; + vdwVal + &quot;,&quot; + electroInterVal);*/&#xD;
		/*try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;energyMin.txt&quot;,true));&#xD;
			writer.write(&quot;a: &quot; + bondStretchVal + &quot;\tb: &quot; + angleBendVal+ &quot;\tc: &quot; + stretchBendVal+&quot;\td: &quot; + OOPVal+&#xD;
					&quot;\te: &quot; + torsionVal+&quot;\tf: &quot; + vdwVal+&quot;\tg: &quot; + electroInterVal);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException ee) {&#xD;
			// TODO Auto-generated catch block&#xD;
			ee.printStackTrace();&#xD;
		}*/&#xD;
		return (bondStretchVal + angleBendVal + stretchBendVal + OOPVal + torsionVal + vdwVal + electroInterVal);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdA1MO2TEeWnDaII1mfokg" name="clearForces" specification="_OZ8TEe2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Atom atm : model.getAtomHash().values())&#xD;
			atm.getForces()[0] = atm.getForces()[1] = atm.getForces()[2] = 0; &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdA1Me2TEeWnDaII1mfokg" name="clearValues" specification="_OZ8TEu2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>bondStretchVal = 0.0;&#xD;
		angleBendVal = 0.0;&#xD;
		stretchBendVal = 0.0;&#xD;
		OOPVal = 0.0;&#xD;
		torsionVal = 0.0;&#xD;
		vdwVal = 0.0;&#xD;
		electroInterVal = 0.0;&#xD;
		//ommitStretchBend=false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdA1Mu2TEeWnDaII1mfokg" name="readMMFFFiles" specification="_OZ86IO2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>readMMFF94Types(&quot;res/res/MMFF94SYMB.txt&quot;);&#xD;
		readBondCharge(&quot;res/res/MMFF94-bond-charge-increment.txt&quot;);&#xD;
		readElectroInter(&quot;res/res/MMFF94-partial-bond-charge-increment.txt&quot;);&#xD;
		assignMMFFTypes();&#xD;
		readBondStretch(&quot;res/res/MMFF94-bond-stretching-interaction.txt&quot;);&#xD;
		readAngleBend(&quot;res/res/MMFF94-angle-bending.txt&quot;);&#xD;
		readStretchBend(&quot;res/res/MMFF94-stretch-bend-interactions.txt&quot;);&#xD;
		readOOP(&quot;res/res/MMFF94-out-of-plane bending-interaction.txt&quot;);&#xD;
		readTorsion(&quot;res/res/MMFF94-torsion interactions.txt&quot;);&#xD;
		readVDW(&quot;res/res/MMFF94-van der Waals interactions.txt&quot;);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdA1M-2TEeWnDaII1mfokg" name="updateCoordinates" specification="_OZ86Ie2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double step = 0.23;&#xD;
	    double trustRadius = 0.3; // don't move further than 0.3 Angstroms&#xD;
	    double trustRadius2 = trustRadius * trustRadius;&#xD;
	    &#xD;
	    double e1 = calculateEnergy(false);&#xD;
	    for (int iStep = 0; iStep &lt; 10; iStep++) {&#xD;
	    	//System.out.println(&quot;ISTEP:&quot; + iStep);&#xD;
		    saveCoordinates();&#xD;
			 for (Atom atm : model.getAtomHash().values()){&#xD;
		          double[] force = atm.getForces();&#xD;
		          double[] coord = {(double)atm.getCoordinates()[0],(double)atm.getCoordinates()[1],(double)atm.getCoordinates()[2]};&#xD;
		          double f2 = (force[0] * force[0] + force[1] * force[1] + force[2]&#xD;
			              * force[2]);&#xD;
			          if (f2 > trustRadius2 / step / step) {&#xD;
			            f2 = trustRadius / Math.sqrt(f2) / step;&#xD;
			         &#xD;
			            force[0] *= f2;&#xD;
			            force[1] *= f2;&#xD;
			            force[2] *= f2;&#xD;
			          }&#xD;
			          &#xD;
			          for (int j = 0; j &lt; 3; ++j) {&#xD;
			        	  if (Util.isFinite(force[j])) {&#xD;
			              double tempStep = force[j] * step;&#xD;
			              if (tempStep > trustRadius)&#xD;
			                coord[j] += trustRadius;&#xD;
			              else if (tempStep &lt; -trustRadius)&#xD;
			                coord[j] -= trustRadius;&#xD;
			              else&#xD;
			                coord[j] += tempStep;&#xD;
			        	  }&#xD;
			          }&#xD;
			          &#xD;
			          atm.setForces(force);&#xD;
			          atm.setCoordinates(coord);&#xD;
			 }&#xD;
			 double e2 = calculateEnergy(false);&#xD;
			 &#xD;
			 if (isNear3(e2, e1, 1.0e-3))&#xD;
			        break;&#xD;
		      if (e2 > e1) {&#xD;
		        step *= 0.1;&#xD;
		        restoreCoordinates();&#xD;
		      } else if (e2 &lt; e1) {&#xD;
		        e1 = e2;&#xD;
		        step *= 2.15;&#xD;
		        if (step > 1.0)&#xD;
		          step = 1.0;&#xD;
		      }&#xD;
		      &#xD;
		      updateReg.updateViewerCoord();&#xD;
		      /*try {&#xD;
			    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;JmolEnergyMin.txt&quot;,true));&#xD;
					writer.write(&quot;iStep=&quot; + iStep + &quot; &quot; + &quot;E= &quot; + e1);&#xD;
					writer.newLine();&#xD;
					writer.close();&#xD;
				} catch (IOException e) {&#xD;
					// TODO Auto-generated catch block&#xD;
					e.printStackTrace();&#xD;
				}*/&#xD;
	    }&#xD;
	    &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdBcQO2TEeWnDaII1mfokg" name="isNear3" specification="_OZ86Iu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdBcQe2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdBcQu2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdBcQ-2TEeWnDaII1mfokg" name="eps">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdBcRO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a - b) &lt; eps);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdBcRe2TEeWnDaII1mfokg" name="restoreCoordinates" specification="_OZ9hM-2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList&lt;Atom> tempAtomList = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		for (int i = 0; i &lt; coordSaved.length; i++) &#xD;
	    	  tempAtomList.get(i).setCoordinates(coordSaved[i]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdBcRu2TEeWnDaII1mfokg" name="saveCoordinates" specification="_OZ-IQO2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList&lt;Atom> tempAtomList = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		if (coordSaved == null)&#xD;
		      coordSaved = new double[tempAtomList.size()][3];&#xD;
		    for (int i = 0; i &lt; tempAtomList.size(); i++) &#xD;
		      for (int j = 0; j &lt; 3; j++)&#xD;
		        coordSaved[i][j] = tempAtomList.get(i).getCoordinates()[j];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdBcR-2TEeWnDaII1mfokg" name="addForces" specification="_OZ-IQe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdBcSO2TEeWnDaII1mfokg" name="atmList" type="__AVr0O2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdBcSe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdBcSu2TEeWnDaII1mfokg" name="dE">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for(int i=0;i&lt;atmList.length;i++){&#xD;
			atmList[i].getForces()[0] += atmList[i].getCoordinates()[0] * dE;&#xD;
			atmList[i].getForces()[1] += atmList[i].getCoordinates()[1] * dE;&#xD;
			atmList[i].getForces()[2] += atmList[i].getCoordinates()[2] * dE;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdCDUO2TEeWnDaII1mfokg" name="getBondedAtom" specification="_OZ-vUO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdCDUe2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCDUu2TEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdCDU-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond> bonds = atm1.getBond();&#xD;
		ArrayList&lt;Atom> atoms = new ArrayList&lt;Atom>();&#xD;
		for(int i=0;i&lt;bonds.size();i++){&#xD;
			if(bonds.get(i).getAtom1().getAtomSeqNum()==atm1.getAtomSeqNum())&#xD;
				atoms.add(bonds.get(i).getAtom2());&#xD;
			else if(bonds.get(i).getAtom2().getAtomSeqNum()==atm1.getAtomSeqNum())&#xD;
				atoms.add(bonds.get(i).getAtom1());&#xD;
		}&#xD;
		return ((Atom[])atoms.toArray(new Atom[atoms.size()]));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdCDVO2TEeWnDaII1mfokg" name="calBondStretch" specification="_OZ_9cO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdCDVe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdCDVu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCDV-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCDWO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String key;&#xD;
		double rab=0.0, dE=0.0;&#xD;
		double[] vec = new double[3];&#xD;
		if (gradient) {&#xD;
		      rab = restorativeForceAndDistance(atm1.getCoordinates(), atm2.getCoordinates(), vec);&#xD;
		} else {&#xD;
		      rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		if (isNearZero2(rab, 1.0e-3))&#xD;
		   rab = 1.0e-3;&#xD;
		    &#xD;
		if(atm1.getmmType()&lt;=atm2.getmmType()){&#xD;
			key = &quot;&quot;+atm1.getmmType() +atm2.getmmType();&#xD;
			//rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		else{&#xD;
			key = &quot;&quot;+atm2.getmmType() +atm1.getmmType();&#xD;
			//rab = Math.sqrt(distance(atm2.getCoordinates(), atm1.getCoordinates()));&#xD;
		}&#xD;
		double[] values = bondStretch.get(key);&#xD;
		double kb = values[0];&#xD;
		double r0 = values[1];&#xD;
		&#xD;
		double delta = rab - r0; &#xD;
	    double delta2 = delta * delta;&#xD;
		&#xD;
		double energy = 143.9325/2 * kb * delta2 * (1 + CS*delta + (7/12)*(CS*CS)*(delta2));&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = 143.9325/2 * kb * delta * (2 + 3*CS*delta + 4*(CS*CS)*delta2);&#xD;
		      Atom[] atmList = {atm1,atm2};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;Bond Stretch [kb,r0][delta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]\t[&quot;+kb+&quot;,&quot;+r0+&quot;]\t[&quot;+delta+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdCqYO2TEeWnDaII1mfokg" name="calAngleBend" specification="_OaAkge2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdCqYe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdCqYu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqY-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqZO2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqZe2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0, dE=0.0, theta=0.0;&#xD;
		String key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType();&#xD;
		double[] values = angleBend.get(key);&#xD;
		if(values==null)	// null values present CHECK!&#xD;
			return 0.0;&#xD;
	    double ka = values[0];&#xD;
	    double t0 = values[1];&#xD;
	    &#xD;
	    // cos law&#xD;
	    if (gradient) {&#xD;
	        theta = restorativeForceAndAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), atm3.getCoordinates());&#xD;
	      } else {&#xD;
	        theta = angleRadiansABC(atm1.getCoordinates(), atm2.getCoordinates(), atm3.getCoordinates());&#xD;
	      }&#xD;
	    if (!isFinite(theta))&#xD;
	        theta = 0.0;&#xD;
	    /*double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));*/&#xD;
	    &#xD;
	    double dt = ((theta * (180.0 / Math.PI)) - t0);&#xD;
	    double CB = -0.4 * (Math.PI / 180.0);&#xD;
	    &#xD;
		if (t0 == 180) {&#xD;
			energy = 143.932 * ka * (1 + Math.cos(theta));&#xD;
			if (gradient)&#xD;
		        dE = -143.932 * ka * Math.sin(theta);&#xD;
		} &#xD;
		else {&#xD;
			energy = (0.043844/2) * ka * Math.pow(dt, 2) * (1 + CB * dt); // 0.043844/2&#xD;
			if (gradient)&#xD;
		        dE = 0.021922 * ka * dt * (2 + 3 * CB * dt);&#xD;
		}&#xD;
		if (gradient){&#xD;
			Atom[] atmList = {atm1,atm2,atm3};&#xD;
			addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;Angle Bend [ka,t0][theta,dt,CB][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+ka+&quot;,&quot;+t0+&quot;]\t[&quot;+theta+&quot;,&quot;+dt+&quot;,&quot;+CB+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdCqZu2TEeWnDaII1mfokg" name="calStrechBend" specification="_OaP1EO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdCqZ-2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdCqaO2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqae2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqau2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqa-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0;&#xD;
		String key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType();&#xD;
		double[] sb_values = stretchBend.get(key);&#xD;
		if(sb_values==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
		double kba_ijk = sb_values[0];&#xD;
		double kba_kji = sb_values[1];&#xD;
		&#xD;
		if(angleBend.get(key)==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
		double t0 = angleBend.get(key)[1];&#xD;
		&#xD;
		String keyij = &quot;&quot;+atm1.getmmType()+atm2.getmmType();&#xD;
	    String keyjk = &quot;&quot;+atm2.getmmType()+atm3.getmmType();&#xD;
	    if(bondStretch.get(keyij)==null||bondStretch.get(keyjk)==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
	    double rij = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates())) - bondStretch.get(keyij)[1];&#xD;
	    double rjk = Math.sqrt(distance(atm2.getCoordinates(), atm3.getCoordinates())) - bondStretch.get(keyjk)[1];&#xD;
	&#xD;
	    double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));&#xD;
	    &#xD;
		double dt = ((theta * (180.0 / Math.PI)) - t0);&#xD;
		&#xD;
		double constant = 2.51210 * dt;&#xD;
	    double dr = kba_ijk*rij + kba_kji*rjk;&#xD;
	    double delta = theta * (180.0 / Math.PI) - t0;&#xD;
	    &#xD;
	    energy = constant * dr * delta;&#xD;
	    /*try {&#xD;
			writer.write(&quot;Stretch Bend [kba_ijk,kba_kji,t0][rij,rjk][theta,dt][constant,dr,delta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+kba_ijk+&quot;,&quot;+kba_kji+&quot;,&quot;+t0+&quot;]\t[&quot;+rij+&quot;,&quot;+rjk+&quot;]\t[&quot;+theta+&quot;,&quot;+dt+&quot;]\t[&quot;+constant+&quot;,&quot;+dr+&quot;,&quot;+delta+&quot;] [&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
	    return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdCqbO2TEeWnDaII1mfokg" name="calOOP" specification="_OaRDMO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdCqbe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdCqbu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdCqb-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRcO2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRce2TEeWnDaII1mfokg" name="atm4" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRcu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0, dE=0.0, theta=0.0;&#xD;
		String key=&quot;&quot;;&#xD;
		if(atm4==null)&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + &quot;0&quot;;&#xD;
		else&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType()+atm4.getmmType();&#xD;
		if(OOP.get(key)==null)&#xD;
			return 0.0;&#xD;
		double koop = OOP.get(key);&#xD;
		float[] vec1 = new float[3];&#xD;
		float[] vec2 = new float[3];&#xD;
		float[] vec3 = new float[3];&#xD;
		if (gradient) {&#xD;
		      theta = restorativeForceAndOutOfPlaneAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
		    		  atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3);&#xD;
		    } else {&#xD;
		      theta = pointPlaneAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
		    		  atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3, false);&#xD;
		    }&#xD;
		/*double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));*/&#xD;
		&#xD;
		double constant = (0.043844 * (180.0 / Math.PI))/ 2 * (180.0 / Math.PI);&#xD;
		energy = constant * koop * theta * theta; // theta in radians&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = 0.043844 * (180.0 / Math.PI) * koop * theta;&#xD;
		      Atom[] atmList = {atm1,atm2,atm3};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		&#xD;
		 /*if (!isFinite(theta))&#xD;
		        theta = 0.0;&#xD;
		try {&#xD;
			writer.write(&quot;OOP [theta,constant][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+theta+&quot;,&quot;+constant+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdDRc-2TEeWnDaII1mfokg" name="calTorsion" specification="_OaRqQe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdDRdO2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdDRde2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRdu2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRd-2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDReO2TEeWnDaII1mfokg" name="atm4" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdDRee2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0, theta=0.0, dE=0.0;&#xD;
		double[] vec1= new double[3];&#xD;
		double[] vec2= new double[3];&#xD;
		double[] vec3= new double[3];&#xD;
		String key;&#xD;
		if(atm4==null)&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + &quot;0&quot;;&#xD;
		else&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + atm4.getmmType();&#xD;
		if(torsion.get(key)==null)&#xD;
			return 0.0;&#xD;
		double[] values = torsion.get(key);&#xD;
		double v1 = values[0];&#xD;
	    double v2 = values[1];&#xD;
	    double v3 = values[2];&#xD;
		&#xD;
	    &#xD;
	    if (gradient) {&#xD;
	        theta = restorativeForceAndTorsionAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
	        		atm3.getCoordinates(), atm4.getCoordinates());&#xD;
	        if (!isFinite(theta))&#xD;
	            theta = 0.001 * (Math.PI / 180.0);&#xD;
	    } else {&#xD;
	        theta = getTorsionAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
	        		atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3);&#xD;
	    }&#xD;
	    &#xD;
	    /*float[] r12 = difference(atm2.getCoordinates(),atm1.getCoordinates());&#xD;
	    float[] r32 = difference(atm3.getCoordinates(),atm2.getCoordinates());&#xD;
	    r32 = normalize(r32);&#xD;
	    r12 = cross(r12,r32);&#xD;
	    float[] r43 = difference(atm4.getCoordinates(),atm3.getCoordinates());&#xD;
	    r43 = cross(r32,r43);&#xD;
	    double r12dotr43 = (r12[0]*r43[0]) + (r12[1]*r43[1]) + (r12[2]*r43[2]);&#xD;
	    r12 = cross(r43,r12);&#xD;
	    double r32dotr12 = (r32[0]*r12[0]) + (r32[1]*r12[1]) + (r32[2]*r12[2]);&#xD;
	    double theta = Math.atan2(-r32dotr12,r12dotr43);*/&#xD;
	    &#xD;
		double cosTheta = Math.cos(theta);&#xD;
		double cosTheta2 = cosTheta * cosTheta;&#xD;
		&#xD;
		energy = 0.5 * ((v1 * (1 + cosTheta)) + (v2 * (2 - 2 * cosTheta2))&#xD;
		          + (v3 * (1 + (cosTheta * ((4 * cosTheta2) - 3)))));&#xD;
		&#xD;
		if (gradient) {&#xD;
	        double sinTheta = Math.sin(theta);        &#xD;
	        dE = 0.5 * (-v1 * sinTheta + 4 * v2 * sinTheta * cosTheta + 3 * v3 * sinTheta * (1 - 4 * cosTheta2));&#xD;
	        Atom[] atmList = {atm1,atm2,atm3, atm4};&#xD;
	        addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;min.txt&quot;,true));&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;,&quot;+atm4.getAtomSeqNum()+&quot;]\t[&quot;+v1+&quot;,&quot;+v2+&quot;,&quot;+v3+&quot;]\t[&quot;+theta+&quot;,&quot;+cosTheta+&quot;]\t[&quot;+energy+&quot;]\t[&quot;+dE + &quot;]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		try {&#xD;
			writer.write(&quot;Torsion [theta,cosTheta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;,&quot;+atm4.getAtomSeqNum()+&quot;]\t[&quot;+v1+&quot;,&quot;+v2+&quot;,&quot;+v3+&quot;]\t[&quot;+theta+&quot;,&quot;+cosTheta+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdFtsO2TEeWnDaII1mfokg" name="calVDWI" specification="_OaS4YO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdFtse2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdFtsu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdFts-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdFttO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0, rab=0.0, dE=0.0;&#xD;
		double[] vec = new double[3];&#xD;
		String key1 = &quot;&quot;+atm1.getmmType();&#xD;
		String key2 = &quot;&quot;+atm2.getmmType();&#xD;
		if(vdw.get(key1)==null || vdw.get(key2)==null)&#xD;
			return 0.0;&#xD;
		double[] values1 = vdw.get(key1);&#xD;
		double alpha1 = values1[0];&#xD;
		double N1 = values1[1];&#xD;
		double A1 = values1[2];&#xD;
		double G1 = values1[3];&#xD;
		&#xD;
		double[] values2 = vdw.get(key2);&#xD;
		double alpha2 = values2[0];&#xD;
		double N2 = values2[1];&#xD;
		double A2 = values2[2];&#xD;
		double G2 = values2[3];&#xD;
		&#xD;
		if (gradient) {&#xD;
		      rab = restorativeForceAndDistance(atm1.getCoordinates(), atm2.getCoordinates(), vec);&#xD;
		} else {&#xD;
		      rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		if (isNearZero2(rab, 1.0e-3))&#xD;
		   rab = 1.0e-3;&#xD;
		&#xD;
		double R_ii = A1*Math.pow(alpha1, 0.25);&#xD;
		double R_jj = A2*Math.pow(alpha2, 0.25);&#xD;
		double gamma = (R_ii-R_jj)/(R_ii+R_jj);&#xD;
		double R_ij = 0.5*(R_ii + R_jj)*(1+(0.2*(1-Math.exp(-12*gamma*gamma))));&#xD;
		double emma = ((181.16*G1*G2*alpha1*alpha2)/&#xD;
				(Math.pow((alpha1/N1), 0.5)+Math.pow((alpha2/N2), 0.5))) *&#xD;
				(1/Math.pow(R_ij, 6));&#xD;
		double r_ij = rab / R_ij;&#xD;
		&#xD;
		double f1 = 1.07 /(r_ij+0.07);&#xD;
		double f2 = 1.12/(0.12+ Math.pow(r_ij, 7));&#xD;
		&#xD;
		energy = emma * Math.pow(f1, 7)  * (f2 - 2);&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = -7 * emma * Math.pow(f1, 7) /R_ij &#xD;
		          * (f1 / 1.07 * (f2 - 2) + f2 * f2 * Math.pow(r_ij, 6));&#xD;
		      Atom[] atmList = {atm1,atm2};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;vdw [N1,G1,A1,N2,G2,A2][R_ii,R_jj,R_ij,r_ij][gamma,emma,f1,f2][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]&quot;&#xD;
					+ &quot;\t[&quot;+alpha1+&quot;,&quot;+N1+&quot;,&quot;+A1+&quot;,&quot;+G1+&quot;,&quot;+alpha2+&quot;,&quot;+N2+&quot;,&quot;+A2+&quot;,&quot;+G2+&quot;]&quot;&#xD;
							+ &quot;\t[&quot;+R_ii+&quot;,&quot;+R_jj+&quot;,&quot;+R_ij+&quot;,&quot;+r_ij+&quot;]&quot;&#xD;
									+ &quot;\t[&quot;+gamma+&quot;,&quot;+emma+&quot;,&quot;+f1+&quot;,&quot;+f2+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdGUwO2TEeWnDaII1mfokg" name="calElectroInter" specification="_OaTfcO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdGUwe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdGUwu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdGUw-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdGUxO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0;&#xD;
		double qi = atm1.getPartialCharge();&#xD;
		double qj = atm2.getPartialCharge();&#xD;
		double constant=0.0;&#xD;
		constant = (checkThirdNeighbour(atm1,atm2) ?  249.0537 : 332.0716);&#xD;
		&#xD;
		double a = constant*qi*qj;&#xD;
		double b = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates())+ 0.05);&#xD;
		&#xD;
		energy = a / b;&#xD;
		/*try {&#xD;
			writer.write(&quot;Electrostatic Interaction [qi,qj][a,b][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]\t[&quot;+qi+&quot;,&quot;+qj+&quot;,&quot;+constant+&quot;]\t[&quot;+a+&quot;,&quot;+b+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdGUxe2TEeWnDaII1mfokg" name="restorativeForceAndDistance" specification="_OaUGgO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdGUxu2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdGUx-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdGUyO2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdGUye2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdGUyu2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdGUy-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdGUzO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2,vec);&#xD;
	    double rab = length(vec);&#xD;
	    if (rab &lt; 0.1) {// atoms are too close to each other&#xD;
	      randomizeUnitVector(vec);&#xD;
	      rab = 0.1;&#xD;
	    }&#xD;
	    vec = normalize(vec);&#xD;
	    setCoord(coord1,vec);&#xD;
	    scale(coord1,-1); // -drab/da&#xD;
	    setCoord(coord2,vec); // -drab/db&#xD;
	&#xD;
	    return rab;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdGUze2TEeWnDaII1mfokg" name="randomizeUnitVector" specification="_OaWiwO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdGUzu2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdGUz-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Random ptr = new Random();&#xD;
	&#xD;
	    double l;&#xD;
	    do {&#xD;
	    	vec[0] = ptr.nextDouble() - 0.5;&#xD;
	    	vec[1] = ptr.nextDouble() - 0.5;&#xD;
	    	vec[2] = ptr.nextDouble() - 0.5;&#xD;
	      l = vec[0] * vec[0] + vec[1] * vec[1] + vec[2] * vec[2];&#xD;
	    } while ((l > 1.0) || (l &lt; 1e-4));&#xD;
	    vec=normalize(vec);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdG70O2TEeWnDaII1mfokg" name="restorativeForceAndAngleRadians" specification="_OaWiw-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdG70e2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG70u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG70-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG71O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG71e2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG71u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG71-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2);&#xD;
	    sub(coord3, coord2);&#xD;
	&#xD;
	    double length1 = length(coord1);&#xD;
	    double length3 = length(coord3);&#xD;
	&#xD;
	    if (isNearZero(length1) || isNearZero(length3)) {&#xD;
	        coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
	        coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
	        coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    &#xD;
	    // Calculate normalized bond vectors&#xD;
	    double inverseLenv1 = 1.0 / length1;&#xD;
	    double inverseLenv3 = 1.0 / length3;&#xD;
	    &#xD;
	    scale(coord1, inverseLenv1);&#xD;
	    scale(coord3, inverseLenv3);&#xD;
	&#xD;
	    // Calculate the cross product of coord1 and coord2&#xD;
	    coord2= cross(coord1, coord3);&#xD;
	    &#xD;
	    double length2 = length(coord2);&#xD;
	    if (isNearZero(length2)) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
	        coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
	        coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    scale(coord2, 1 / length2);&#xD;
	&#xD;
	    // Calculate the Math.cos of theta and then theta&#xD;
	    double costheta = coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2];&#xD;
	    double theta;&#xD;
	    if (costheta > 1.0) {&#xD;
	      theta = 0.0;&#xD;
	      costheta = 1.0;&#xD;
	    } else if (costheta &lt; -1.0) {&#xD;
	      theta = Math.PI;&#xD;
	      costheta = -1.0;&#xD;
	    } else {&#xD;
	      theta = Math.acos(costheta);&#xD;
	    }&#xD;
	    &#xD;
	    coord1= cross(coord1, coord2);&#xD;
	    coord1= normalize(coord1);&#xD;
	    coord2= cross(coord3, coord2);&#xD;
	    coord2= normalize(coord2);&#xD;
	&#xD;
	    scale(coord1, -inverseLenv1);&#xD;
	    scale(coord2, inverseLenv3);&#xD;
	&#xD;
	    setCoord(coord3, coord2);&#xD;
	    coord2[0] += coord1[0];&#xD;
	    coord2[1] += coord1[1];&#xD;
	    coord2[2] += coord1[2];&#xD;
	    scale(coord2, -1);&#xD;
	&#xD;
		return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdG72O2TEeWnDaII1mfokg" name="angleRadiansABC" specification="_OaXw4O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdG72e2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG72u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG72-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG73O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG73e2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG73u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG73-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double atm12 = distance(coord1,coord2);&#xD;
	    double atm23 = distance(coord2,coord3);&#xD;
	    double atm13 = distance(coord1,coord3);&#xD;
	    return (isNearZero2(atm12, 1e-3) || isNearZero2(atm23, 1e-3) ? 0 :&#xD;
	    	Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23)));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdG74O2TEeWnDaII1mfokg" name="vectorAngleRadians" specification="_OaYX8-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdG74e2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG74u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG74-2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdG75O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdG75e2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double l1 = length(atm1);&#xD;
		double l2 = length(atm2);&#xD;
		return (isNearZero(l1) || isNearZero(l2) ? &#xD;
				0 : Math.acos((atm1[0] * atm2[0] + atm1[1] * atm2[1] + atm1[2] * atm2[2]) / (l1 * l2)));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdHi4O2TEeWnDaII1mfokg" name="pointPlaneAngleRadians" specification="_OaZmEO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdHi4e2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi4u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi4-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi5O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi5e2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi5u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi5-2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi6O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi6e2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi6u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi6-2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi7O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi7e2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdHi7u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi7-2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdHi8O2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord2, coord3, vec1);&#xD;
	    sub(coord2, coord4, vec2);&#xD;
	    vec3 = cross(vec1, vec2);    &#xD;
	    add(vec2, vec1);&#xD;
	    sub(coord2, coord1, vec1);&#xD;
	    &#xD;
	    double angleA_CD = (b ? vectorAngleRadians(vec2, vec1) : Math.PI); &#xD;
	&#xD;
	    double angleNorm = vectorAngleRadians(vec3, vec1);&#xD;
	    &#xD;
	    if (angleNorm > Math.PI / 2)&#xD;
	      angleNorm = Math.PI - angleNorm;&#xD;
	    double val = Math.PI / 2.0 + (angleA_CD > Math.PI / 2.0 ? &#xD;
	        -angleNorm &#xD;
	        : angleNorm) ;    &#xD;
	    return val;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdIJ8O2TEeWnDaII1mfokg" name="restorativeForceAndOutOfPlaneAngleRadians" specification="_OabbQO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdIJ8e2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ8u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ8-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ9O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ9e2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ9u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ9-2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ-O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ-e2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ-u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ--2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ_O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ_e2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIJ_u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIJ_-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2);&#xD;
		 sub(coord3, coord2);&#xD;
		 sub(coord4,coord2);&#xD;
		    &#xD;
		 double len_ji = length(coord1);&#xD;
		 double len_jk = length(coord3);&#xD;
		 double len_jl = length(coord4);&#xD;
		 if (isNearZero(len_ji) || isNearZero(len_jk) || isNearZero(len_jl)) {&#xD;
			 coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		     coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		     coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		     coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
			 return 0.0;&#xD;
		 }&#xD;
		 coord1 = normalize(coord1);&#xD;
		 coord3 = normalize(coord3);&#xD;
		 coord4 = normalize(coord4);&#xD;
	&#xD;
	    double cos_theta = (coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2]);&#xD;
	    double     theta = Math.acos(cos_theta);&#xD;
	&#xD;
	    // If theta equals 180 degree or 0 degree&#xD;
	    if (isNearZero(theta) || isNearZero(Math.abs(theta - Math.PI))) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		    coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		    coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		    coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
	      return 0.0;&#xD;
	    }&#xD;
	    double csc_theta = 1 / Math.sin(theta);&#xD;
	&#xD;
	    vec1 = cross(coord1, coord3);&#xD;
	    vec2 = cross(coord3, coord4);&#xD;
	    vec3 = cross(coord4, coord1);&#xD;
	&#xD;
	    // the angle from l to the i-j-k plane (Wilson angle):&#xD;
	    &#xD;
	    double sin_dl =  (vec1[0] * coord4[0] + vec1[1] * coord4[1] + vec1[2] * coord4[2]) * csc_theta;&#xD;
	    double     dl = Math.asin(sin_dl);&#xD;
	    double cos_dl = Math.cos(dl);&#xD;
	&#xD;
	    if (cos_dl &lt; 0.0001 || isNearZero(dl) || isNearZero(Math.abs(dl - Math.PI))) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		    coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		    coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		    coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
	      return dl;&#xD;
	    }&#xD;
	        &#xD;
	    coord4 = scaleAdd(-sin_dl / csc_theta, coord4, vec1);&#xD;
	    scale(coord4, csc_theta / len_jl);&#xD;
	&#xD;
	    setCoord(coord2, coord1);&#xD;
	    &#xD;
	    coord1 = scaleAdd(-cos_theta, coord3, coord1);&#xD;
	    coord1 = scaleAdd(-sin_dl * csc_theta, coord1, vec2);&#xD;
	    scale(coord1,csc_theta / len_ji);&#xD;
	&#xD;
	    coord3 = scaleAdd(-cos_theta, coord2, coord3);&#xD;
	    coord3 = scaleAdd(-sin_dl * csc_theta, coord3, vec3);&#xD;
	    scale(coord3, csc_theta / len_jk);&#xD;
	&#xD;
	    setCoord(coord2, coord1);&#xD;
	    add(coord2, coord3);&#xD;
	    add(coord2, coord4);&#xD;
	    scale(coord2, -1);&#xD;
	&#xD;
	    return dl;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdIKAO2TEeWnDaII1mfokg" name="restorativeForceAndTorsionAngleRadians" specification="_OacpYe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdIKAe2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIKAu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIKA-2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIKBO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIKBe2TEeWnDaII1mfokg" name="atm3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIKBu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIKB-2TEeWnDaII1mfokg" name="atm4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIKCO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIKCe2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(atm1, atm2, atm1);&#xD;
	    sub(atm2, atm3, atm2);&#xD;
	    sub(atm3, atm4, atm3);&#xD;
	&#xD;
	    double len_ij = length(atm1);&#xD;
	    double len_jk = length(atm2);&#xD;
	    double len_kl = length(atm3);&#xD;
	    if (isNearZero(len_ij) || isNearZero(len_jk) || isNearZero(len_kl)) {&#xD;
	    	atm1[0]=atm1[1]=atm1[2] = 0;&#xD;
	    	atm2[0]=atm2[1]=atm2[2] = 0;&#xD;
	    	atm3[0]=atm3[1]=atm3[2] = 0;&#xD;
	    	atm4[0]=atm4[1]=atm4[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    &#xD;
	    double ang = vectorAngleRadians(atm1, atm2);&#xD;
	    double sin_j = Math.sin(ang);&#xD;
	    double cos_j = Math.cos(ang);&#xD;
	    &#xD;
	    ang = vectorAngleRadians(atm2, atm3);&#xD;
	    double sin_k = Math.sin(ang);&#xD;
	    double cos_k = Math.cos(ang);&#xD;
	&#xD;
	    // normalize the bond vectors:&#xD;
	    atm1 = normalize(atm1);&#xD;
	    atm2 = normalize(atm2);&#xD;
	    atm3 = normalize(atm3);&#xD;
	&#xD;
	    // use i, k, and l for temporary variables as well&#xD;
	    atm1 = cross(atm1, atm2);  //a&#xD;
	    atm4 = cross(atm2, atm3);  //b&#xD;
	    atm3 = cross(atm1, atm4);  //c&#xD;
	&#xD;
	    double theta = -Math.atan2((atm3[0] * atm2[0] + atm3[1] * atm2[1] + atm3[2] * atm2[2]),&#xD;
	    		(atm1[0] * atm4[0] + atm1[1] * atm4[1] + atm1[2] * atm4[2]));&#xD;
	        &#xD;
	    scale(atm1, (1. / len_ij / sin_j / sin_j));&#xD;
	&#xD;
	    scale(atm4, (-1. / len_kl / sin_k / sin_k));&#xD;
	&#xD;
	    setCoord(atm2, atm1);&#xD;
	    scale(atm2, (-len_ij / len_jk * cos_j - 1.));&#xD;
	    setCoord(atm3, atm4);&#xD;
	    scale(atm3,(-len_kl / len_jk * cos_k));&#xD;
	    sub(atm2, atm3);&#xD;
	    &#xD;
	    setCoord(atm3, atm1);&#xD;
	    add(atm3, atm2);&#xD;
	    add(atm3, atm4);&#xD;
	    scale(atm3,-1);&#xD;
	&#xD;
	    return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdIxAO2TEeWnDaII1mfokg" name="getTorsionAngleRadians" specification="_Oad3gO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdIxAe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxAu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxA-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxBO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxBe2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxBu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxB-2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxCO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxCe2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxCu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxC-2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxDO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxDe2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdIxDu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdIxD-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord2, coord1, vec1); &#xD;
	    sub(coord3, coord2, vec2);&#xD;
	    vec2 = normalize(vec2);&#xD;
	    coord1 = cross(coord1, coord2); //p1&#xD;
	    sub(coord4, coord3, vec3); &#xD;
	    coord3 = cross(coord2, coord3); //p2&#xD;
	    double p1dotp2 = (coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2]);&#xD;
	    vec1 = cross(vec3, vec1);&#xD;
	    double theta = Math.atan2((-vec2[0] * vec1[0] + (-vec2[1]) * vec1[1] + (-vec2[2]) * vec1[2]), p1dotp2);   &#xD;
	    return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdIxEO2TEeWnDaII1mfokg" name="checkThirdNeighbour" specification="_OafssO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdIxEe2TEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdIxEu2TEeWnDaII1mfokg" name="b" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OdIxE-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Atom[] atmNeigh1;&#xD;
		for(int i=0;i&lt;a.getNeighbourAtoms().length;i++){&#xD;
			// get all the neighbouring atoms from current neigh atoms&#xD;
			atmNeigh1 = a.getNeighbourAtoms()[i].getNeighbourAtoms();&#xD;
			for(int j=0;j&lt;atmNeigh1.length;j++){&#xD;
				for(int k=0;k&lt;b.getNeighbourAtoms().length;k++){&#xD;
					if(atmNeigh1[j]==b.getNeighbourAtoms()[k])&#xD;
						return true;&#xD;
				}&#xD;
			}&#xD;
		}		&#xD;
		return false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdIxFO2TEeWnDaII1mfokg" name="distance" specification="_OagTwO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdJYEO2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdJYEe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdJYEu2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdJYE-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdJYFO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double dx = a[0] - b[0];&#xD;
		double dy = a[1] - b[1];&#xD;
		double dz = a[2] - b[2];&#xD;
		return (dx * dx + dy * dy + dz * dz);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdJ_IO2TEeWnDaII1mfokg" name="scale" specification="_Oag60e2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdJ_Ie2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdJ_Iu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdJ_I-2TEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] *= value;&#xD;
		coord[1] *= value;&#xD;
		coord[2] *= value;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdKmMO2TEeWnDaII1mfokg" name="scaleAdd" specification="_Oahh4O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdKmMe2TEeWnDaII1mfokg" name="s">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdKmMu2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmM-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdKmNO2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmNe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdKmNu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmN-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>float[] temp = {&#xD;
	    (float) (s * coord[0] + vec[0]),&#xD;
	    (float) (s * coord[1] + vec[1]),&#xD;
	    (float) (s * coord[2] + vec[2])};&#xD;
	    return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdKmOO2TEeWnDaII1mfokg" name="setCoord" specification="_Oaj-IO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdKmOe2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmOu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdKmO-2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmPO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] = coord2[0];&#xD;
		coord[1] = coord2[1];&#xD;
		coord[2] = coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdKmPe2TEeWnDaII1mfokg" name="setCoord" specification="_OalzUO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdKmPu2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmP-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdKmQO2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdKmQe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] = (float)coord2[0];&#xD;
		coord[1] = (float)coord2[1];&#xD;
		coord[2] = (float)coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdLNQO2TEeWnDaII1mfokg" name="length" specification="_OamaYO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdLNQe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNQu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNQ-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(coord1[0]*coord1[0]+coord1[1]*coord1[1]+coord1[2]*coord1[2]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdLNRO2TEeWnDaII1mfokg" name="length" specification="_OamaZO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdLNRe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNRu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNR-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(coord1[0]*coord1[0]+coord1[1]*coord1[1]+coord1[2]*coord1[2]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdLNSO2TEeWnDaII1mfokg" name="cross" specification="_OanBc-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdLNSe2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNSu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNS-2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNTO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNTe2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNTu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double[] temp = {(a[1]*b[2])-(a[2]*b[1]),&#xD;
				(a[2]*b[0])-(a[0]*b[2]),&#xD;
				(a[0]*b[1])-(a[1]*b[0])};&#xD;
		return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdLNT-2TEeWnDaII1mfokg" name="cross" specification="_OaoPkO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdLNUO2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNUe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNUu2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNU-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdLNVO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdLNVe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>float[] temp = {(a[1]*b[2])-(a[2]*b[1]),&#xD;
						(a[2]*b[0])-(a[0]*b[2]),&#xD;
						(a[0]*b[1])-(a[1]*b[0])};&#xD;
		return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdL0UO2TEeWnDaII1mfokg" name="normalize" specification="_Oapdse2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdL0Ue2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdL0Uu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdL0U-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdL0VO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double d = Math.sqrt((a[0]*a[0])+(a[1]*a[1])+(a[2]*a[2]));&#xD;
		&#xD;
		a[0] /=d;&#xD;
		a[1] /=d;&#xD;
		a[2] /=d;&#xD;
		return a;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdL0Ve2TEeWnDaII1mfokg" name="normalize" specification="_Oaqr0O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdL0Vu2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdL0V-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdL0WO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdL0We2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double d = Math.sqrt((a[0]*a[0])+(a[1]*a[1])+(a[2]*a[2]));&#xD;
		&#xD;
		a[0] /=d;&#xD;
		a[1] /=d;&#xD;
		a[2] /=d;&#xD;
		return a;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdMbYO2TEeWnDaII1mfokg" name="add" specification="_Oar58O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdMbYe2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbYu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdMbY-2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbZO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atm1[0] += atm2[0];&#xD;
		atm1[1] += atm2[1];&#xD;
		atm1[2] += atm2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdMbZe2TEeWnDaII1mfokg" name="sub" specification="_OashAO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdMbZu2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbZ-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdMbaO2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbae2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord1[0] -= coord2[0];&#xD;
		coord1[1] -= coord2[1];&#xD;
		coord1[2] -= coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdMbau2TEeWnDaII1mfokg" name="sub" specification="_OatIEO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdMba-2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbbO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdMbbe2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbbu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdMbb-2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdMbcO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>vec1[0] = coord1[0] - coord2[0];&#xD;
		vec1[1] = coord1[1] - coord2[1];&#xD;
		vec1[2] = coord1[2] - coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNCcO2TEeWnDaII1mfokg" name="sub" specification="_OatvIu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNCce2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdNCcu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCc-2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdNCdO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCde2TEeWnDaII1mfokg" name="atm12">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OdNCdu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atm1[0] = atm2[0] - atm12[0];&#xD;
		atm1[1] = atm2[1] - atm12[1];&#xD;
		atm1[2] = atm2[2] - atm12[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNCd-2TEeWnDaII1mfokg" name="isFinite" specification="_Oau9QO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNCeO2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCee2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return !Double.isInfinite(a) &amp;&amp; !Double.isNaN(a);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNCeu2TEeWnDaII1mfokg" name="isNearZero" specification="_Oau9Q-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNCe-2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCfO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a) &lt; 2e-6);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNCfe2TEeWnDaII1mfokg" name="isNearZero2" specification="_OavkUe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNCfu2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCf-2TEeWnDaII1mfokg" name="ep">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OdNCgO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a) &lt; ep);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNpgO2TEeWnDaII1mfokg" name="readMMFF94Types" specification="_OaxZgO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNpge2TEeWnDaII1mfokg" name="fileLocation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		Pattern pattern = Pattern.compile(&quot;\\s\\s[\\w\\W]+\\s+\\d+\\s[\\w\\W]+$&quot;);&#xD;
		Matcher matcher;&#xD;
		mmffType = new HashMap&lt;String,Integer>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(fileLocation));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;1.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				&#xD;
				matcher = pattern.matcher(line);&#xD;
				if(matcher.find()){&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [1] formula [2] type&#xD;
					mmffType.put(splitLine[1], Integer.valueOf(splitLine[2]));&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(NumberFormatException e){&#xD;
			logger.log(Level.WARNING, &quot;Problem converting type string to int&quot;);&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading mmffType file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNpgu2TEeWnDaII1mfokg" name="assignMMFFTypes" specification="_OayAkO2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double charge=0.0;&#xD;
		readPartialCharge(&quot;res/res/MMFF94-formalCharge.txt&quot;);&#xD;
		HashMap&lt;String, Atom> atomHash = model.getAtomHash();&#xD;
		for(Atom atm : atomHash.values()){&#xD;
			if (atm==null)&#xD;
				continue;&#xD;
			String atmMMType = AtomToMMType.setMMType(atm);&#xD;
			if(atmMMType==null){&#xD;
				System.out.println(&quot;Atom: &quot; + atm.getAtomSeqNum()+ &quot; has no mmType&quot;);&#xD;
				atm.setmmType(0);&#xD;
				atm.setPartialCharge(0.0);&#xD;
				continue;&#xD;
			}&#xD;
			int type = mmffType.get(atmMMType);&#xD;
			if(partialCharge.get(atmMMType)==null)&#xD;
				charge=0.0;&#xD;
			else&#xD;
				charge = partialCharge.get(atmMMType);&#xD;
			atm.setmmType(type);&#xD;
			atm.setPartialCharge(charge);&#xD;
			&#xD;
			//System.out.println(&quot;ATOM: [&quot; + atm.getAtomSeqNum() + &quot;]\t Type: &quot;+ atm.getmmType());&#xD;
		}&#xD;
		assignPartialCharge();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNpg-2TEeWnDaII1mfokg" name="assignPartialCharge" specification="_OayAke2TEeWnDaII1mfokg">
                      <language>java</language>
                      <body>String key,keya,keyb;&#xD;
		double pa,pb,bci,charge,bFactor;&#xD;
		double[] partialChargeVal = new double[model.getAtomHash().size()];&#xD;
		for(Bond bond : model.getBonds()){&#xD;
			if(bond.getAtom1().getmmType()&lt;bond.getAtom2().getmmType()){&#xD;
				key = &quot;&quot;+bond.getAtom1().getmmType()+bond.getAtom2().getmmType();&#xD;
				bFactor = -1;&#xD;
			}&#xD;
			else{&#xD;
				key = &quot;&quot;+bond.getAtom2().getmmType()+bond.getAtom1().getmmType();&#xD;
				bFactor = 1;&#xD;
			}&#xD;
			&#xD;
			if(bondCharge.get(key)==null){&#xD;
				pa = bond.getAtom1().getPartialCharge();&#xD;
				pb = bond.getAtom2().getPartialCharge();&#xD;
				bci = pa-pb;&#xD;
			}&#xD;
			else{&#xD;
				bci = bFactor * bondCharge.get(key);&#xD;
			}&#xD;
			keya = &quot;&quot;+bond.getAtom1().getmmType();&#xD;
			keyb = &quot;&quot;+bond.getAtom2().getmmType();&#xD;
			charge = (electroInter.get(keyb)[1]* bond.getAtom2().getPartialCharge()) - &#xD;
					(electroInter.get(keya)[1] * bond.getAtom1().getPartialCharge()) + bci;&#xD;
			pa = partialChargeVal[bond.getAtom1().getAtomSeqNum()-1] + charge;&#xD;
			pb = partialChargeVal[bond.getAtom2().getAtomSeqNum()-1] - charge;&#xD;
			partialChargeVal[bond.getAtom1().getAtomSeqNum()-1] = pa;&#xD;
			partialChargeVal[bond.getAtom2().getAtomSeqNum()-1] = pb;&#xD;
		}&#xD;
		double finalCharge=0.0;&#xD;
		for(Atom atm : model.getAtomHash().values()){&#xD;
			finalCharge = atm.getPartialCharge() + partialChargeVal[atm.getAtomSeqNum()-1];&#xD;
			atm.setPartialCharge(finalCharge);&#xD;
			//System.out.printf(&quot;[%d,%f]\n&quot;, atm.getAtomSeqNum(), atm.getPartialCharge());&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNphO2TEeWnDaII1mfokg" name="readBondCharge" specification="_OayAku2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNphe2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		bondCharge = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;14.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;);&#xD;
					String key = splitLine[1] + splitLine[2];&#xD;
					double value = Double.parseDouble(splitLine[3]);&#xD;
					bondCharge.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdNphu2TEeWnDaII1mfokg" name="readPartialCharge" specification="_Oaynoe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdNph-2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		partialCharge = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;#&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;);&#xD;
					String key = splitLine[0];&#xD;
					double value = Double.parseDouble(splitLine[2])/12;&#xD;
					partialCharge.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdOQkO2TEeWnDaII1mfokg" name="readBondStretch" specification="_OazOsO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdOQke2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		bondStretch = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;6.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[2] type [3] kb [4] r0&#xD;
					String key = splitLine[1]+splitLine[2];&#xD;
					double[] value = {Double.parseDouble(splitLine[3]),Double.parseDouble(splitLine[4])};&#xD;
					bondStretch.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdOQku2TEeWnDaII1mfokg" name="readAngleBend" specification="_OazOsu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdOQk-2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		angleBend = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;8.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [1]-[3] type [4] ka [5] t0&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double[] value = {Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					angleBend.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading angle bend file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdOQlO2TEeWnDaII1mfokg" name="readStretchBend" specification="_Oaz1we2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdOQle2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		stretchBend = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;9.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[3] type [4] kbaIJK [5] kbaKJI&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double[] value = {Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					stretchBend.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading stretch bend file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdOQlu2TEeWnDaII1mfokg" name="readOOP" specification="_Oa0c0O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdOQl-2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		OOP = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;11.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[3] type [4] koop &#xD;
					String key = splitLine[0]+splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double value = Double.parseDouble(splitLine[4]);&#xD;
					OOP.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading OOP file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdOQmO2TEeWnDaII1mfokg" name="readTorsion" specification="_Oa0c0u2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdOQme2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		torsion = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;12.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[4] type [5] V1 [6] V2 [7] V3&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3]+splitLine[4];&#xD;
					double[] value = {Double.parseDouble(splitLine[5]),Double.parseDouble(splitLine[6]),Double.parseDouble(splitLine[7])};&#xD;
					torsion.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading torsion file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdO3oO2TEeWnDaII1mfokg" name="readVDW" specification="_Oa1D4O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdO3oe2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		vdw = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;13.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0] type [1] alpha-i [2] N-i [3] A-i [4] G-i&#xD;
					String key = splitLine[1];&#xD;
					double[] value = {Double.parseDouble(splitLine[2]),Double.parseDouble(splitLine[3]),&#xD;
										Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					vdw.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading van der Waals file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_OdO3ou2TEeWnDaII1mfokg" name="readElectroInter" specification="_Oa1q8O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OdO3o-2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		electroInter = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;15.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0] type [1] pbci [2] fcadj&#xD;
					String key = splitLine[1];&#xD;
					double[] value = {Double.parseDouble(splitLine[2]),Double.parseDouble(splitLine[3])};&#xD;
					electroInter.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading electrostatic interaction file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_OZ3akO2TEeWnDaII1mfokg" name="Minimizer" method="_Oc_AAO2TEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_OZ4BoO2TEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_OZ4Boe2TEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_OZ3ake2TEeWnDaII1mfokg" name="updateReg" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OZ4Bou2TEeWnDaII1mfokg" type="_OZx7AO2TEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ4Bo-2TEeWnDaII1mfokg" name="setupMinimizing" method="_Oc_AA-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ4osO2TEeWnDaII1mfokg" name="model" type="__A_MEe2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ4ose2TEeWnDaII1mfokg" name="startMinimizing" method="_Oc_nEO2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ5PwO2TEeWnDaII1mfokg" name="steepestDescentSteps" visibility="private" method="_Oc_nEe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ5Pwe2TEeWnDaII1mfokg" name="n">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ520O2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ520e2TEeWnDaII1mfokg" name="setForcesUsingNumericalDerivative" visibility="private" method="_Oc_nFO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ520u2TEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ6d4O2TEeWnDaII1mfokg" name="getDE" visibility="private" method="_Oc_nFu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ7E8O2TEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OZ7E8e2TEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ7E8u2TEeWnDaII1mfokg" name="delta">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ7E8-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ7sAO2TEeWnDaII1mfokg" name="calculateEnergy" visibility="private" method="_OdAOIO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ7sAe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ8TEO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ8TEe2TEeWnDaII1mfokg" name="clearForces" visibility="private" method="_OdA1MO2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ8TEu2TEeWnDaII1mfokg" name="clearValues" visibility="private" method="_OdA1Me2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ86IO2TEeWnDaII1mfokg" name="readMMFFFiles" visibility="private" method="_OdA1Mu2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ86Ie2TEeWnDaII1mfokg" name="updateCoordinates" visibility="private" method="_OdA1M-2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ86Iu2TEeWnDaII1mfokg" name="isNear3" visibility="private" method="_OdBcQO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ86I-2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ9hMO2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ9hMe2TEeWnDaII1mfokg" name="eps">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ9hMu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ9hM-2TEeWnDaII1mfokg" name="restoreCoordinates" visibility="private" method="_OdBcRe2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ-IQO2TEeWnDaII1mfokg" name="saveCoordinates" visibility="private" method="_OdBcRu2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OZ-IQe2TEeWnDaII1mfokg" name="addForces" visibility="private" method="_OdBcR-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ-IQu2TEeWnDaII1mfokg" name="atmList" type="__AVr0O2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OZ-IRO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ-IQ-2TEeWnDaII1mfokg" name="dE">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ-vUO2TEeWnDaII1mfokg" name="getBondedAtom" visibility="private" method="_OdCDUO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ-vUe2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OZ-vUu2TEeWnDaII1mfokg" type="__AVr0O2SEeWnDaII1mfokg" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OZ-vU-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OZ_9cO2TEeWnDaII1mfokg" name="calBondStretch" visibility="private" method="_OdCDVO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OZ_9ce2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OZ_9cu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OZ_9c-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaAkgO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaAkge2TEeWnDaII1mfokg" name="calAngleBend" visibility="private" method="_OdCqYO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaBLkO2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaBLke2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaBLku2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaByoO2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaByoe2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaP1EO2TEeWnDaII1mfokg" name="calStrechBend" visibility="private" method="_OdCqZu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaP1Ee2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaP1Eu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaP1E-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaP1FO2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaQcIO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaRDMO2TEeWnDaII1mfokg" name="calOOP" visibility="private" method="_OdCqbO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaRDMe2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaRDMu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaRDM-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaRDNO2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaRDNe2TEeWnDaII1mfokg" name="atm4" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaRqQO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaRqQe2TEeWnDaII1mfokg" name="calTorsion" visibility="private" method="_OdDRc-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaRqQu2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaRqQ-2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaSRUO2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaSRUe2TEeWnDaII1mfokg" name="atm3" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaSRUu2TEeWnDaII1mfokg" name="atm4" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaSRU-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaS4YO2TEeWnDaII1mfokg" name="calVDWI" visibility="private" method="_OdFtsO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaS4Ye2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaS4Yu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaS4Y-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaS4ZO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaTfcO2TEeWnDaII1mfokg" name="calElectroInter" visibility="private" method="_OdGUwO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaTfce2TEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaTfcu2TEeWnDaII1mfokg" name="atm1" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaTfc-2TEeWnDaII1mfokg" name="atm2" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_OaTfdO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaUGgO2TEeWnDaII1mfokg" name="restorativeForceAndDistance" visibility="private" method="_OdGUxe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaUtkO2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaV7sO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaVUoO2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaV7se2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaVUoe2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaV7su2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaVUou2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaWiwO2TEeWnDaII1mfokg" name="randomizeUnitVector" visibility="private" method="_OdGUze2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaWiwe2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaWiwu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaWiw-2TEeWnDaII1mfokg" name="restorativeForceAndAngleRadians" visibility="private" method="_OdG70O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaXJ0O2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaXJ1O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXJ0e2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaXJ1e2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXJ0u2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaXJ1u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXJ0-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaXw4O2TEeWnDaII1mfokg" name="angleRadiansABC" visibility="private" method="_OdG72O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaXw4e2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaYX8O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXw4u2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaYX8e2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXw4-2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaYX8u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaXw5O2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaYX8-2TEeWnDaII1mfokg" name="vectorAngleRadians" visibility="private" method="_OdG74O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaYX9O2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaY_Au2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaY_AO2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaY_A-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaY_Ae2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaZmEO2TEeWnDaII1mfokg" name="pointPlaneAngleRadians" visibility="private" method="_OdHi4O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaZmEe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaaNIe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmEu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaaNIu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmE-2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaaNI-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmFO2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaa0MO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmFe2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaa0Me2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmFu2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaa0Mu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmF-2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaa0M-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaZmGO2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaaNIO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OabbQO2TEeWnDaII1mfokg" name="restorativeForceAndOutOfPlaneAngleRadians" visibility="private" method="_OdIJ8O2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OabbQe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCUO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbQu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCUe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbQ-2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCUu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbRO2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCU-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbRe2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCVO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbRu2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacCVe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbR-2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OacpYO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OabbSO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OacpYe2TEeWnDaII1mfokg" name="restorativeForceAndTorsionAngleRadians" visibility="private" method="_OdIKAO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OacpYu2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OadQcO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OacpY-2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OadQce2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OacpZO2TEeWnDaII1mfokg" name="atm3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OadQcu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OacpZe2TEeWnDaII1mfokg" name="atm4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OadQc-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OacpZu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oad3gO2TEeWnDaII1mfokg" name="getTorsionAngleRadians" visibility="private" method="_OdIxAO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oad3ge2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaeekO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3gu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaeeke2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3g-2TEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oaeeku2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3hO2TEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OafFoO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3he2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OafFoe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3hu2TEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OafFou2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3h-2TEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OafFo-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oad3iO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OafssO2TEeWnDaII1mfokg" name="checkThirdNeighbour" visibility="private" method="_OdIxEO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oafsse2TEeWnDaII1mfokg" name="a" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Oafssu2TEeWnDaII1mfokg" name="b" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Oafss-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OagTwO2TEeWnDaII1mfokg" name="distance" visibility="private" method="_OdIxFO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OagTwe2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OagTxO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OagTwu2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oag60O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OagTw-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oag60e2TEeWnDaII1mfokg" name="scale" visibility="private" method="_OdJ_IO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oag60u2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oag61O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oag60-2TEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oahh4O2TEeWnDaII1mfokg" name="scaleAdd" visibility="private" method="_OdKmMO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oahh4e2TEeWnDaII1mfokg" name="s">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oahh4u2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OajXEO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oahh4-2TEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OajXEe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oahh5O2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oahh5e2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oaj-IO2TEeWnDaII1mfokg" name="setCoord" visibility="private" method="_OdKmOO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oaj-Ie2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaklMO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oaj-Iu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OalMQO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OalzUO2TEeWnDaII1mfokg" name="setCoord" visibility="private" method="_OdKmPe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OalzUe2TEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OalzU-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OalzUu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OalzVO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OamaYO2TEeWnDaII1mfokg" name="length" visibility="private" method="_OdLNQO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OamaYe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OamaY-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OamaYu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OamaZO2TEeWnDaII1mfokg" name="length" visibility="private" method="_OdLNRO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OanBcO2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OanBcu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OanBce2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OanBc-2TEeWnDaII1mfokg" name="cross" visibility="private" method="_OdLNSO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OanBdO2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OanohO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OanogO2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oanohe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oanoge2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oanogu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaoPkO2TEeWnDaII1mfokg" name="cross" visibility="private" method="_OdLNT-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaoPke2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oao2o-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OaoPku2TEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OapdsO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oao2oO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oao2oe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oapdse2TEeWnDaII1mfokg" name="normalize" visibility="private" method="_OdL0UO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oapdsu2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaqEwu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oapds-2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OaqEwO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oaqr0O2TEeWnDaII1mfokg" name="normalize" visibility="private" method="_OdL0Ve2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oaqr0e2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OarS4u2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oaqr0u2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OarS4O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oar58O2TEeWnDaII1mfokg" name="add" visibility="private" method="_OdMbYO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oar58e2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oar58-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oar58u2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Oar59O2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OashAO2TEeWnDaII1mfokg" name="sub" visibility="private" method="_OdMbZe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OashAe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OashA-2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OashAu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OashBO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OatIEO2TEeWnDaII1mfokg" name="sub" visibility="private" method="_OdMbau2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OatIEe2TEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OatIFO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OatIEu2TEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OatvIO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OatIE-2TEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OatvIe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OatvIu2TEeWnDaII1mfokg" name="sub" visibility="private" method="_OdNCcO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OatvI-2TEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OauWMO2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OatvJO2TEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OauWMe2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OatvJe2TEeWnDaII1mfokg" name="atm12">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_OauWMu2TEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oau9QO2TEeWnDaII1mfokg" name="isFinite" visibility="private" method="_OdNCd-2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oau9Qe2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Oau9Qu2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oau9Q-2TEeWnDaII1mfokg" name="isNearZero" visibility="private" method="_OdNCeu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oau9RO2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OavkUO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OavkUe2TEeWnDaII1mfokg" name="isNearZero2" visibility="private" method="_OdNCfe2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OavkUu2TEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OavkU-2TEeWnDaII1mfokg" name="ep">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_OawLYO2TEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OaxZgO2TEeWnDaII1mfokg" name="readMMFF94Types" visibility="private" method="_OdNpgO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaxZge2TEeWnDaII1mfokg" name="fileLocation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OayAkO2TEeWnDaII1mfokg" name="assignMMFFTypes" visibility="private" method="_OdNpgu2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OayAke2TEeWnDaII1mfokg" name="assignPartialCharge" visibility="private" method="_OdNpg-2TEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_OayAku2TEeWnDaII1mfokg" name="readBondCharge" visibility="private" method="_OdNphO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OaynoO2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oaynoe2TEeWnDaII1mfokg" name="readPartialCharge" visibility="private" method="_OdNphu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oaynou2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OazOsO2TEeWnDaII1mfokg" name="readBondStretch" visibility="private" method="_OdOQkO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_OazOse2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_OazOsu2TEeWnDaII1mfokg" name="readAngleBend" visibility="private" method="_OdOQku2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oaz1wO2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oaz1we2TEeWnDaII1mfokg" name="readStretchBend" visibility="private" method="_OdOQlO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oaz1wu2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oa0c0O2TEeWnDaII1mfokg" name="readOOP" visibility="private" method="_OdOQlu2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oa0c0e2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oa0c0u2TEeWnDaII1mfokg" name="readTorsion" visibility="private" method="_OdOQmO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oa0c0-2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oa1D4O2TEeWnDaII1mfokg" name="readVDW" visibility="private" method="_OdO3oO2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oa1D4e2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Oa1q8O2TEeWnDaII1mfokg" name="readElectroInter" visibility="private" method="_OdO3ou2TEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Oa1q8e2TEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdUXMO2TEeWnDaII1mfokg" name="" memberEnd="_OdUXMe2TEeWnDaII1mfokg _OcZKIO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdUXMe2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdUXMO2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdWMYe2TEeWnDaII1mfokg" name="" memberEnd="_OdWMYu2TEeWnDaII1mfokg _OcaYQO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdWMYu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdWMYe2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdWzce2TEeWnDaII1mfokg" name="" memberEnd="_OdWzcu2TEeWnDaII1mfokg _Oca_Ue2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdWzcu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdWzce2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdXage2TEeWnDaII1mfokg" name="" memberEnd="_OdXagu2TEeWnDaII1mfokg _OcbmYu2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdXagu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdXage2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdYBke2TEeWnDaII1mfokg" name="" memberEnd="_OdYBku2TEeWnDaII1mfokg _Occ0ge2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdYBku2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdYBke2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdYooe2TEeWnDaII1mfokg" name="" memberEnd="_OdYoou2TEeWnDaII1mfokg _Ocmlge2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdYoou2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdYooe2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdZPse2TEeWnDaII1mfokg" name="" memberEnd="_OdZPsu2TEeWnDaII1mfokg _OcnzoO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdZPsu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdZPse2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Odc6EO2TEeWnDaII1mfokg" name="" memberEnd="_Odc6Ee2TEeWnDaII1mfokg _Ocpo0e2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Odc6Ee2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_Odc6EO2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdeIMe2TEeWnDaII1mfokg" name="" memberEnd="_OdeIMu2TEeWnDaII1mfokg _OcsFEO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdeIMu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdeIMe2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdevQe2TEeWnDaII1mfokg" name="" memberEnd="_OdevQu2TEeWnDaII1mfokg _OcuhUO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdevQu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdevQe2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Odf9YO2TEeWnDaII1mfokg" name="" memberEnd="_Odf9Ye2TEeWnDaII1mfokg _OcvIYe2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Odf9Ye2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_Odf9YO2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Odgkce2TEeWnDaII1mfokg" name="" memberEnd="_Odgkcu2TEeWnDaII1mfokg _Ocw9ku2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Odgkcu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_Odgkce2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_OdhLge2TEeWnDaII1mfokg" name="" memberEnd="_OdhLgu2TEeWnDaII1mfokg _Oc4SUO2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_OdhLgu2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_OdhLge2TEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Odhyke2TEeWnDaII1mfokg" name="" memberEnd="_Odhyku2TEeWnDaII1mfokg _Oc4SUu2TEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Odhyku2TEeWnDaII1mfokg" name="" type="_OZx7AO2TEeWnDaII1mfokg" association="_Odhyke2TEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-3HeYO2SEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="__D0doO2SEeWnDaII1mfokg" name="JmolDisplay">
                    <ownedComment xmi:id="__uhAcu2SEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
The main display of the application &#xD;
 *</body>
                    </ownedComment>
                    <generalization xmi:id="__mcCgO2SEeWnDaII1mfokg" general="__mZmQO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qCJEO2SEeWnDaII1mfokg" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qCwIO2SEeWnDaII1mfokg" value="-4721103453203185678L"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qCwIe2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wJ_Me2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qCwIu2SEeWnDaII1mfokg" name="adapter" visibility="private" type="__iWMse2SEeWnDaII1mfokg" association="__wKmQe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qDXMe2SEeWnDaII1mfokg" name="statusListener" visibility="private" type="__iWzwe2SEeWnDaII1mfokg" association="__wLNUe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qDXM-2SEeWnDaII1mfokg" name="currentSize" visibility="protected" isLeaf="true" type="__hml0O2SEeWnDaII1mfokg" isReadOnly="true" association="__wL0Ye2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qD-QO2SEeWnDaII1mfokg" value="new Dimension()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qD-Qu2SEeWnDaII1mfokg" name="rectClip" visibility="protected" type="__iUXge2SEeWnDaII1mfokg" association="__wMbce2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qElUO2SEeWnDaII1mfokg" value="new Rectangle()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qElUu2SEeWnDaII1mfokg" name="verbose" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qFMYe2SEeWnDaII1mfokg" name="jMolSelectionListener" visibility="private" type="__hhtUO2SEeWnDaII1mfokg" association="__wNCge2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qFzcO2SEeWnDaII1mfokg" name="selectedAtoms" visibility="protected" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wNpke2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qGage2SEeWnDaII1mfokg" name="selectedTag" visibility="protected" type="__EZscO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qHBkO2SEeWnDaII1mfokg" name="mediator" visibility="protected" type="__Dg7oO2SEeWnDaII1mfokg" association="__wOQoe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__ma0Ye2SEeWnDaII1mfokg" client="__D0doO2SEeWnDaII1mfokg" supplier="__icTUO2SEeWnDaII1mfokg" contract="__icTUO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__td3kO2SEeWnDaII1mfokg" name="JmolDisplay" specification="__D254O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__td3ke2SEeWnDaII1mfokg" type="__D0doO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();&#xD;
		statusListener = new MyJmolStatusListener(this);&#xD;
		adapter = new SmarterJmolAdapter();&#xD;
		Logger.setLogLevel( verbose?Logger.LEVEL_INFO:Logger.LEVEL_ERROR);&#xD;
		viewer = (Viewer)JmolViewer.allocateViewer(this, adapter);&#xD;
		viewer.setJmolCallbackListener(statusListener);&#xD;
		jMolSelectionListener = new JMolSelectionListener(this);&#xD;
		viewer.addSelectionListener(jMolSelectionListener);&#xD;
		viewer.setMenu(&quot;res/res/jmol.mnu&quot;, true); // load own menu when initialising display&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__td3ku2SEeWnDaII1mfokg" name="paint" specification="__iYo8e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__td3k-2SEeWnDaII1mfokg" name="g" type="__iYB4O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>getSize(currentSize);&#xD;
		g.getClipBounds(rectClip);&#xD;
		viewer.renderScreenImage(g, currentSize.width, currentSize.height);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__teeoO2SEeWnDaII1mfokg" name="openStringInline" specification="__iZQAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__teeoe2SEeWnDaII1mfokg" name="pdbFile" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>viewer.openStringInline(pdbFile);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__teeou2SEeWnDaII1mfokg" name="getMediator" specification="__D3g8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__teeo-2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return this.mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__teepO2SEeWnDaII1mfokg" name="executeCmd" specification="__iZ3EO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__teepe2SEeWnDaII1mfokg" name="rasmolScript" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>viewer.evalString(rasmolScript);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__teepu2SEeWnDaII1mfokg" name="clearDisplay" specification="__D3g8e2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>executeCmd(&quot;zap;&quot;);&#xD;
		&#xD;
		viewer = null;&#xD;
		adapter = null;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfFsO2SEeWnDaII1mfokg" name="getSelectedAtoms" specification="__D4IAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfFse2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return selectedAtoms;	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfFsu2SEeWnDaII1mfokg" name="evaluateUserFunction" specification="__D4vEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfFs-2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>EvaluateUserAction.evaluateAction(mediator, script);		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfFtO2SEeWnDaII1mfokg" name="setMediator" specification="__iZ3Eu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfFte2SEeWnDaII1mfokg" name="mediator" type="__Dg7oO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>this.mediator = mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__D254O2SEeWnDaII1mfokg" name="JmolDisplay" method="__td3kO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__D254e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__D254u2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__D254-2SEeWnDaII1mfokg" type="__D0doO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__D3g8O2SEeWnDaII1mfokg" name="getMediator" method="__teeou2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iZQAu2SEeWnDaII1mfokg" type="__Dg7oO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__D3g8e2SEeWnDaII1mfokg" name="clearDisplay" method="__teepu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__D4IAO2SEeWnDaII1mfokg" name="getSelectedAtoms" method="__tfFsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mbbcO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__D4vEO2SEeWnDaII1mfokg" name="evaluateUserFunction" method="__tfFsu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__D4vEe2SEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iYo8e2SEeWnDaII1mfokg" name="paint" method="__td3ku2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iYo8u2SEeWnDaII1mfokg" name="g" type="__iYB4O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iZQAO2SEeWnDaII1mfokg" name="openStringInline" method="__teeoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iZQAe2SEeWnDaII1mfokg" name="pdbFile" type="__f4HgO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iZ3EO2SEeWnDaII1mfokg" name="executeCmd" method="__teepO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iZ3Ee2SEeWnDaII1mfokg" name="rasmolScript" type="__f4HgO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iZ3Eu2SEeWnDaII1mfokg" name="setMediator" method="__tfFtO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iZ3E-2SEeWnDaII1mfokg" name="mediator" type="__Dg7oO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__D9nkO2SEeWnDaII1mfokg" name="MenuPanel">
                    <ownedAttribute xmi:id="__qIPsO2SEeWnDaII1mfokg" name="jmolPanel" visibility="private" type="__D0doO2SEeWnDaII1mfokg" association="__wO3se2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qI2we2SEeWnDaII1mfokg" name="openPDB" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qI2wu2SEeWnDaII1mfokg" value="&quot;Open PDB File&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qJd0O2SEeWnDaII1mfokg" name="lysGly" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qJd0e2SEeWnDaII1mfokg" value="&quot;Lysine and Glysine&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qJd0u2SEeWnDaII1mfokg" name="ifqins" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qJd0-2SEeWnDaII1mfokg" value="&quot;Ifqins&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qKE4O2SEeWnDaII1mfokg" name="savePDB" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qKE4e2SEeWnDaII1mfokg" value="&quot;Save to PDB File&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qKE4u2SEeWnDaII1mfokg" name="exitProg" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qKE4-2SEeWnDaII1mfokg" value="&quot;Exit Program&quot;"/>
                    </ownedAttribute>
                    <interfaceRealization xmi:id="__md3sO2SEeWnDaII1mfokg" client="__D9nkO2SEeWnDaII1mfokg" supplier="__icTUO2SEeWnDaII1mfokg" contract="__icTUO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfswO2SEeWnDaII1mfokg" name="MenuPanel" specification="__if9sO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfswe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tfswu2SEeWnDaII1mfokg" type="__D9nkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfsw-2SEeWnDaII1mfokg" name="initMenu" specification="__igkwe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfsxO2SEeWnDaII1mfokg" name="frame" type="__hClIe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tfsxe2SEeWnDaII1mfokg" type="__huhoe2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuBar menu = new JMenuBar();&#xD;
&#xD;
		JMenu file = new JMenu(&quot;File&quot;);&#xD;
		file.getAccessibleContext().setAccessibleDescription(&quot;File Menu&quot;);&#xD;
		&#xD;
		JMenuItem openPDB = getOpenPDBMenuItem();&#xD;
		file.add(openPDB);&#xD;
		&#xD;
		JMenu defaultModel = new JMenu(&quot;Default Model&quot;);&#xD;
		JMenuItem lysineModel = getDefaultModel(lysGly);&#xD;
		defaultModel.add(lysineModel);&#xD;
		JMenuItem haemoglobinModel = getDefaultModel(ifqins);&#xD;
		defaultModel.add(haemoglobinModel);&#xD;
		file.add(defaultModel);&#xD;
		&#xD;
		JMenuItem savePDB = getSaveMenuItem();		&#xD;
		file.add(savePDB);&#xD;
		&#xD;
		JMenuItem exitApp = getExitMenuItem();		&#xD;
		file.add(exitApp);&#xD;
		menu.add(file);&#xD;
		&#xD;
		return menu;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfsxu2SEeWnDaII1mfokg" name="getSaveMenuItem" specification="__D_cwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfsx-2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem saveFile = new JMenuItem(savePDB);&#xD;
		//openFile.setMnemonic(KeyEvent.VK_O);&#xD;
		saveFile.addActionListener(this);&#xD;
		return saveFile;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfsyO2SEeWnDaII1mfokg" name="getOpenPDBMenuItem" specification="__EAD0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfsye2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem openFile = new JMenuItem(openPDB);&#xD;
		//openFile.setMnemonic(KeyEvent.VK_O);&#xD;
		openFile.addActionListener(this);&#xD;
		return openFile;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tfsyu2SEeWnDaII1mfokg" name="getDefaultModel" specification="__EAD0e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tfsy-2SEeWnDaII1mfokg" name="modelName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tgT0O2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem model = new JMenuItem(modelName);&#xD;
		model.addActionListener(this);&#xD;
		return model;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tgT0e2SEeWnDaII1mfokg" name="getExitMenuItem" specification="__EAq4e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tgT0u2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem exit =new JMenuItem(exitProg);&#xD;
		exit.addActionListener(this);&#xD;
		return exit;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tgT0-2SEeWnDaII1mfokg" name="actionPerformed" specification="__meewe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tgT1O2SEeWnDaII1mfokg" name="e" type="__h_nYu2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(e.getActionCommand().equals(openPDB)){&#xD;
			//System.out.println(&quot;Event: &quot; +  e.getActionCommand());&#xD;
			JFileChooser fc = new JFileChooser();&#xD;
			fc.setAcceptAllFileFilterUsed(false);&#xD;
			fc.addChoosableFileFilter(new FileNameExtensionFilter(&quot;PDB Files&quot;, &quot;pdb&quot;));&#xD;
			int returnVal = fc.showOpenDialog(jmolPanel);&#xD;
			 &#xD;
         if (returnVal == JFileChooser.APPROVE_OPTION) {&#xD;
             File file = fc.getSelectedFile();&#xD;
             //This is where a real application would open the file.&#xD;
             DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
         } else {&#xD;
         	System.out.println(&quot;Open command cancelled by user.\n&quot;);&#xD;
         }&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(lysGly)){&#xD;
			String dirName = &quot;res/res/lys.pdb&quot;;&#xD;
			File file = new File(dirName);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(ifqins)){&#xD;
			String dirName = &quot;res/res/4R0P.pdb&quot;;&#xD;
			File file = new File(dirName);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(savePDB)){&#xD;
			//System.out.println(&quot;Event: &quot; +  e.getActionCommand());&#xD;
			JFileChooser fc = new JFileChooser();&#xD;
			fc.setAcceptAllFileFilterUsed(false);&#xD;
			fc.addChoosableFileFilter(new FileNameExtensionFilter(&quot;PDB Files&quot;, &quot;pdb&quot;));&#xD;
			fc.setDialogType(JFileChooser.SAVE_DIALOG);&#xD;
			int returnVal = fc.showSaveDialog(jmolPanel);&#xD;
			 &#xD;
         if (returnVal == JFileChooser.APPROVE_OPTION) {&#xD;
             File file = fc.getSelectedFile();&#xD;
//                System.out.println(file);&#xD;
             //This is where a real application would open the file.&#xD;
             DataManager.writeFile(file, jmolPanel.getMediator());&#xD;
         } else {&#xD;
         	System.out.println(&quot;Open command cancelled by user.\n&quot;);&#xD;
         }&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(exitProg)){&#xD;
			System.exit(0);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__D_cwO2SEeWnDaII1mfokg" name="getSaveMenuItem" visibility="private" method="__tfsxu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__meewO2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EAD0O2SEeWnDaII1mfokg" name="getOpenPDBMenuItem" visibility="private" method="__tfsyO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ihL0O2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EAD0e2SEeWnDaII1mfokg" name="getDefaultModel" visibility="private" method="__tfsyu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EAq4O2SEeWnDaII1mfokg" name="modelName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__ihL0e2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EAq4e2SEeWnDaII1mfokg" name="getExitMenuItem" visibility="private" method="__tgT0e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ihL0u2SEeWnDaII1mfokg" type="__ievkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__if9sO2SEeWnDaII1mfokg" name="MenuPanel" method="__tfswO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__if9su2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__if9s-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__if9se2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__igkwO2SEeWnDaII1mfokg" type="__D9nkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__igkwe2SEeWnDaII1mfokg" name="initMenu" method="__tfsw-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uhAc-2SEeWnDaII1mfokg">
                        <body>&#xD;
	 * @param frame</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__igkwu2SEeWnDaII1mfokg" name="frame" type="__hClIe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__igkw-2SEeWnDaII1mfokg" type="__huhoe2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__meewe2SEeWnDaII1mfokg" name="actionPerformed" method="__tgT0-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mfF0O2SEeWnDaII1mfokg" name="e" type="__h_nYu2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__EDuMO2SEeWnDaII1mfokg" name="ToolPanel">
                    <generalization xmi:id="__mlMce2SEeWnDaII1mfokg" general="__jkUse2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qKr8O2SEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="__D0doO2SEeWnDaII1mfokg" association="__wO3tO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qKr8u2SEeWnDaII1mfokg" name="textArea" visibility="protected" type="__mg7Ae2SEeWnDaII1mfokg" association="__wPewu2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qLTAe2SEeWnDaII1mfokg" name="textField" visibility="protected" type="__hvIse2SEeWnDaII1mfokg" association="__wQF0e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qL6EO2SEeWnDaII1mfokg" name="pickingGroup" visibility="protected" type="__iCqsO2SEeWnDaII1mfokg" association="__wQs4e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qL6Eu2SEeWnDaII1mfokg" name="draggingGroup" visibility="protected" type="__iCqsO2SEeWnDaII1mfokg" association="__wRT8e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qMhIO2SEeWnDaII1mfokg" name="setPicking" visibility="protected" type="__iDRwO2SEeWnDaII1mfokg" association="__wR7Ae2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qMhIu2SEeWnDaII1mfokg" name="setDragging" visibility="protected" type="__iDRwO2SEeWnDaII1mfokg" association="__wSiEe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qNvQe2SEeWnDaII1mfokg" name="newline" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qOWUO2SEeWnDaII1mfokg" value="&quot;\n&quot;"/>
                    </ownedAttribute>
                    <interfaceRealization xmi:id="__mg7AO2SEeWnDaII1mfokg" client="__EDuMO2SEeWnDaII1mfokg" supplier="__icTUO2SEeWnDaII1mfokg" contract="__icTUO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tgT1e2SEeWnDaII1mfokg" name="ToolPanel" specification="__imrYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tgT1u2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tgT1-2SEeWnDaII1mfokg" type="__EDuMO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
		JTabbedPane tabbedPane = new JTabbedPane();&#xD;
		//ToolPanelActionListener toolPanelListener = new ToolPanelActionListener(jmolPanel, UserActionType.DISPLAYTYPE);&#xD;
		/**&#xD;
		 * Panel 1 - Style and Model Details&#xD;
		 */&#xD;
		JComponent panel1 = new JPanel();&#xD;
     tabbedPane.addTab(&quot;Style&quot;, panel1);&#xD;
     GridBagLayout layout = new GridBagLayout();&#xD;
     panel1.setLayout(layout);        &#xD;
     GridBagConstraints gbc = new GridBagConstraints();&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     JLabel moleculeStyle = new JLabel(&quot;Molecule Style&quot;);&#xD;
     panel1.add(moleculeStyle, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.weightx = 0.5;&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 0;&#xD;
     JComboBox&lt;DisplayType> styleList = new JComboBox&lt;DisplayType>(DisplayType.values());&#xD;
     styleList.setSelectedItem(DisplayType.BALLNSTICK);&#xD;
     panel1.add(styleList, gbc);&#xD;
     styleList.addActionListener(this);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     gbc.insets = new Insets(10,0,0,0);&#xD;
     JLabel modelDetail = new JLabel(&quot;Model Details&quot;);&#xD;
     panel1.add(modelDetail, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridwidth = 2;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     gbc.ipady = 30;      //make this component tall&#xD;
     textArea = new JTextArea();&#xD;
     textArea.setEditable(false);&#xD;
     panel1.add(textArea, gbc);&#xD;
     &#xD;
     tabbedPane.setMnemonicAt(0, KeyEvent.VK_1);&#xD;
     &#xD;
     /**&#xD;
		 * Panel 2 - Editing of Model&#xD;
		 */&#xD;
     /*JComponent panel2 = new JPanel();&#xD;
     tabbedPane.addTab(&quot;Editing&quot;, panel2);&#xD;
     layout = new GridBagLayout();&#xD;
     panel2.setLayout(layout);        &#xD;
     gbc = new GridBagConstraints();&#xD;
     &#xD;
     JPanel setPickingPanel = new JPanel();&#xD;
     setPickingPanel.setLayout(layout);&#xD;
     setPickingPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Set Picking&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     JSeparator sep = new JSeparator(JSeparator.HORIZONTAL);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 3;&#xD;
     gbc.insets = new Insets(1,1,1,1);&#xD;
     JButton selectionHaloButton = new JButton(&quot;Selection Halos ON&quot;);&#xD;
     selectionHaloButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectionHaloButton, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     gbc.gridwidth = 3;&#xD;
     JButton selectAllButton = new JButton(&quot;Select All&quot;);&#xD;
     selectAllButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectAllButton, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     gbc.gridwidth = 3;&#xD;
     JButton selectNoneButton = new JButton(&quot;Select None&quot;);&#xD;
     selectNoneButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectNoneButton, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.weighty = 1;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 3;&#xD;
     gbc.gridwidth = 3;&#xD;
     setPickingPanel.add(sep, gbc);&#xD;
     &#xD;
     JRadioButton pickAtomButton = new JRadioButton(&quot;Atom&quot;);&#xD;
     JRadioButton pickGroupButton = new JRadioButton(&quot;Group&quot;);&#xD;
     JRadioButton pickChainButton = new JRadioButton(&quot;Chain&quot;);&#xD;
     pickAtomButton.setSelected(true);&#xD;
     pickAtomButton.setActionCommand(&quot;Atom&quot;);&#xD;
     pickGroupButton.setActionCommand(&quot;Group&quot;);&#xD;
     pickChainButton.setActionCommand(&quot;Chain&quot;);&#xD;
     pickingGroup = new ButtonGroup();&#xD;
     pickingGroup.add(pickAtomButton);&#xD;
     pickingGroup.add(pickGroupButton);&#xD;
     pickingGroup.add(pickChainButton);&#xD;
     pickAtomButton.addActionListener(this);&#xD;
     pickGroupButton.addActionListener(this);&#xD;
     pickChainButton.addActionListener(this);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 4;&#xD;
     gbc.gridwidth = 1;&#xD;
     setPickingPanel.add(pickAtomButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 4;&#xD;
     setPickingPanel.add(pickGroupButton, gbc);&#xD;
     gbc.gridx = 2;&#xD;
     gbc.gridy = 4;&#xD;
     setPickingPanel.add(pickChainButton, gbc);&#xD;
     &#xD;
     setPicking = new JButton(&quot;Set Picking ON&quot;);&#xD;
     setPicking.addActionListener(this);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 5;&#xD;
     gbc.gridwidth = 3;&#xD;
     setPickingPanel.add(setPicking, gbc);&#xD;
     &#xD;
     JPanel setModifySelPanel = new JPanel();&#xD;
     setModifySelPanel.setLayout(layout);&#xD;
     setModifySelPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Modify Selected&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 1;&#xD;
     JButton deleteSelButton = new JButton(&quot;Delete&quot;);&#xD;
     deleteSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(deleteSelButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 0;&#xD;
     JButton cutSelButton = new JButton(&quot;Cut&quot;);&#xD;
     cutSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(cutSelButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     JButton pasteSelButton = new JButton(&quot;Paste&quot;);&#xD;
     pasteSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(pasteSelButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 1;&#xD;
     JButton copySelButton = new JButton(&quot;Copy&quot;);&#xD;
     copySelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(copySelButton, gbc);&#xD;
     &#xD;
     JPanel setMinPanel = new JPanel();&#xD;
     setMinPanel.setLayout(layout);&#xD;
     setMinPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Modify Selected&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     &#xD;
     JRadioButton dragAtomButton = new JRadioButton(&quot;Drag Atom&quot;);&#xD;
     JRadioButton dragAtomMinButton = new JRadioButton(&quot;Drag Atom (and Minimize)&quot;);&#xD;
     JRadioButton dragSelAtomButton = new JRadioButton(&quot;Drag Selected Atoms&quot;);&#xD;
     JRadioButton dragSelMinButton = new JRadioButton(&quot;Drag Selected Atoms (and Minimize)&quot;);&#xD;
     dragAtomButton.setSelected(true);&#xD;
     dragAtomButton.setActionCommand(&quot;Drag Atom&quot;);&#xD;
     dragAtomMinButton.setActionCommand(&quot;Drag Atom (and Minimize)&quot;);&#xD;
     dragSelAtomButton.setActionCommand(&quot;Drag Selected Atoms&quot;);&#xD;
     dragSelMinButton.setActionCommand(&quot;Drag Selected Atoms (and Minimize)&quot;);&#xD;
     draggingGroup = new ButtonGroup();&#xD;
     draggingGroup.add(dragAtomButton);&#xD;
     draggingGroup.add(dragAtomMinButton);&#xD;
     draggingGroup.add(dragSelAtomButton);&#xD;
     draggingGroup.add(dragSelMinButton);&#xD;
     dragAtomButton.addActionListener(this);&#xD;
     dragAtomMinButton.addActionListener(this);&#xD;
     dragSelAtomButton.addActionListener(this);&#xD;
     dragSelMinButton.addActionListener(this);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 1;&#xD;
     setMinPanel.add(dragAtomButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     setMinPanel.add(dragAtomMinButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     setMinPanel.add(dragSelAtomButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 3;&#xD;
     setMinPanel.add(dragSelMinButton, gbc);&#xD;
     &#xD;
     setDragging = new JButton(&quot;Drag Atom(s) ON&quot;);&#xD;
     setDragging.addActionListener(this);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 5;&#xD;
     gbc.gridwidth = 3;&#xD;
     setMinPanel.add(setDragging, gbc);&#xD;
&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     panel2.add(setPickingPanel, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     panel2.add(setModifySelPanel, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     panel2.add(setMinPanel, gbc);*/&#xD;
     &#xD;
     add(tabbedPane);&#xD;
     tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);&#xD;
	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tg64O2SEeWnDaII1mfokg" name="makeTextPanel" specification="__in5ge2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tg64e2SEeWnDaII1mfokg" name="text" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tg64u2SEeWnDaII1mfokg" type="__inSc-2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement ToolPanel.makeTextPanel&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tg64-2SEeWnDaII1mfokg" name="setModelText" specification="__miwMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tg65O2SEeWnDaII1mfokg" name="modelList" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String modelDetail  = &quot;&quot;;&#xD;
		for(int i=0;i&lt;modelList.size();i++){&#xD;
			modelDetail += &quot;Model Name: &quot; + modelList.get(i).getModelName() + newline;&#xD;
			modelDetail += &quot;# of Chains: &quot; + modelList.get(i).getMolecules().get(0).getChains().size() + newline;&#xD;
			modelDetail += &quot;# of Atoms: &quot; + modelList.get(i).getAtomHash().size() + newline + newline;&#xD;
		}&#xD;
		textArea.setText(modelDetail);&#xD;
		textArea.repaint();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tg65e2SEeWnDaII1mfokg" name="actionPerformed" specification="__mj-Ue2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tg65u2SEeWnDaII1mfokg" name="event" type="__h_nYu2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(event.getSource() instanceof JComboBox){&#xD;
			ToolPanelHandler.handleJComboBox(event,jmolPanel);	&#xD;
		}&#xD;
		else if(event.getSource() instanceof JButton){&#xD;
			JButton source = (JButton) event.getSource();&#xD;
			if(source.getText().contains(&quot;Picking&quot;)){&#xD;
				ToolPanelHandler.handlePickingFunction(source, jmolPanel, pickingGroup);&#xD;
			}&#xD;
			else if(source.getText().contains(&quot;Select&quot;)){&#xD;
				ToolPanelHandler.handleSelectionHalo(source, jmolPanel);&#xD;
			}&#xD;
			else if(source.getText().contains(&quot;Delete&quot;)|| source.getText().contains(&quot;Cut&quot;) ||&#xD;
					source.getText().contains(&quot;Copy&quot;)|| source.getText().contains(&quot;Paste&quot;)){&#xD;
				ToolPanelHandler.handleModifySelected(source,jmolPanel);&#xD;
			}&#xD;
			if(source.getText().contains(&quot;Drag&quot;)){&#xD;
				ToolPanelHandler.handleDragging(source, jmolPanel, draggingGroup);&#xD;
			}&#xD;
		}&#xD;
		else if(event.getSource() instanceof JRadioButton){&#xD;
			JRadioButton source = (JRadioButton) event.getSource();&#xD;
			if(source.getActionCommand().contains(&quot;Drag&quot;)){&#xD;
				ToolPanelHandler.handleRadioDrag(setDragging, jmolPanel, draggingGroup);&#xD;
			}&#xD;
			else{&#xD;
				ToolPanelHandler.handleRadioPick(setPicking, jmolPanel, pickingGroup);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__imrYO2SEeWnDaII1mfokg" name="ToolPanel" method="__tgT1e2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__inScO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__inSce2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__uhAdO2SEeWnDaII1mfokg">
                        <body>&#xD;
	 * @param jmolPanel</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__imrYe2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__inScu2SEeWnDaII1mfokg" type="__EDuMO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__in5ge2SEeWnDaII1mfokg" name="makeTextPanel" visibility="protected" method="__tg64O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iogkO2SEeWnDaII1mfokg" name="text" type="__f4HgO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__iogke2SEeWnDaII1mfokg" type="__inSc-2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__miwMO2SEeWnDaII1mfokg" name="setModelText" method="__tg64-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mjXQO2SEeWnDaII1mfokg" name="modelList" type="__gLCcO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mj-Ue2SEeWnDaII1mfokg" name="actionPerformed" method="__tg65e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mj-Uu2SEeWnDaII1mfokg" name="event" type="__h_nYu2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wJ_Me2SEeWnDaII1mfokg" name="" memberEnd="__wJ_Mu2SEeWnDaII1mfokg __qCwIe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wJ_Mu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wJ_Me2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wKmQe2SEeWnDaII1mfokg" name="" memberEnd="__wKmQu2SEeWnDaII1mfokg __qCwIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wKmQu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wKmQe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wLNUe2SEeWnDaII1mfokg" name="" memberEnd="__wLNUu2SEeWnDaII1mfokg __qDXMe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wLNUu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wLNUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wL0Ye2SEeWnDaII1mfokg" name="" memberEnd="__wL0Yu2SEeWnDaII1mfokg __qDXM-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wL0Yu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wL0Ye2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wMbce2SEeWnDaII1mfokg" name="" memberEnd="__wMbcu2SEeWnDaII1mfokg __qD-Qu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wMbcu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wMbce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wNCge2SEeWnDaII1mfokg" name="" memberEnd="__wNCgu2SEeWnDaII1mfokg __qFMYe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wNCgu2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wNCge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wNpke2SEeWnDaII1mfokg" name="" memberEnd="__wNpku2SEeWnDaII1mfokg __qFzcO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wNpku2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wNpke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wOQoe2SEeWnDaII1mfokg" name="" memberEnd="__wOQou2SEeWnDaII1mfokg __qHBkO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wOQou2SEeWnDaII1mfokg" name="" type="__D0doO2SEeWnDaII1mfokg" association="__wOQoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wO3se2SEeWnDaII1mfokg" name="" memberEnd="__wO3su2SEeWnDaII1mfokg __qIPsO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wO3su2SEeWnDaII1mfokg" name="" type="__D9nkO2SEeWnDaII1mfokg" association="__wO3se2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wO3tO2SEeWnDaII1mfokg" name="" memberEnd="__wPewO2SEeWnDaII1mfokg __qKr8O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wPewO2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wO3tO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wPewu2SEeWnDaII1mfokg" name="" memberEnd="__wPew-2SEeWnDaII1mfokg __qKr8u2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wPew-2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wPewu2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wQF0e2SEeWnDaII1mfokg" name="" memberEnd="__wQF0u2SEeWnDaII1mfokg __qLTAe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wQF0u2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wQF0e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wQs4e2SEeWnDaII1mfokg" name="" memberEnd="__wQs4u2SEeWnDaII1mfokg __qL6EO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wQs4u2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wQs4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wRT8e2SEeWnDaII1mfokg" name="" memberEnd="__wRT8u2SEeWnDaII1mfokg __qL6Eu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wRT8u2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wRT8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wR7Ae2SEeWnDaII1mfokg" name="" memberEnd="__wR7Au2SEeWnDaII1mfokg __qMhIO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wR7Au2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wR7Ae2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wSiEe2SEeWnDaII1mfokg" name="" memberEnd="__wSiEu2SEeWnDaII1mfokg __qMhIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wSiEu2SEeWnDaII1mfokg" name="" type="__EDuMO2SEeWnDaII1mfokg" association="__wSiEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_-2vD4O2SEeWnDaII1mfokg" name="physics_engine">
                <packagedElement xmi:type="uml:Package" xmi:id="_-2vq8O2SEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="__EaThe2SEeWnDaII1mfokg" name="Atom">
                    <ownedComment xmi:id="__ukDwu2SEeWnDaII1mfokg">
                      <body>@author waiyan
Handle creating of atoms
Solve the acceleration, velocity and position of the atom before/after impact</body>
                    </ownedComment>
                    <generalization xmi:id="__EhoQO2SEeWnDaII1mfokg" general="__AVr0O2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qSnwe2SEeWnDaII1mfokg" name="radius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qTO0e2SEeWnDaII1mfokg" name="mass" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qTO0u2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qUc8O2SEeWnDaII1mfokg" name="valence" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qUc8e2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qUc8-2SEeWnDaII1mfokg" name="atomicSymbol" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ukDw-2SEeWnDaII1mfokg" name="atomicRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ukq0u2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ukq0-2SEeWnDaII1mfokg" name="covalentRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ulR4u2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__ulR4-2SEeWnDaII1mfokg" name="vdwRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__ul48u2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tiwEO2SEeWnDaII1mfokg" name="Atom" specification="__EbhoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tiwEe2SEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tiwEu2SEeWnDaII1mfokg" type="__EaThe2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();
		this.fetchAtomicData(atomicSymbol);
		this.setMass(this.mass);
		this.setRadius(vdwRadius);
		this.setNetCharge(valence);
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.atomicSymbol = atomicSymbol;
		this.setElementSymbol(atomicSymbol.toUpperCase());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tiwE-2SEeWnDaII1mfokg" name="Atom" specification="__iuAIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tiwFO2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tiwFe2SEeWnDaII1mfokg" type="__EaThe2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>//	super();
		this.fetchAtomicData(atom.getElementSymbol().toUpperCase());
		this.setMass(this.mass);
		this.setRadius(vdwRadius);
		this.setNetCharge(valence);
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.atomicSymbol = atom.getElementSymbol().toUpperCase();
		this.setElementSymbol(atomicSymbol.toUpperCase());
		this.position.x = atom.getCoordinates() [0] * 1e-10;
		this.position.y = atom.getCoordinates() [1] * 1e-10;
		this.position.z = atom.getCoordinates() [2] * 1e-10;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tiwFu2SEeWnDaII1mfokg" name="getForceAccumulated" specification="__EcvwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tiwF-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return this.forceAccumulated;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tiwGO2SEeWnDaII1mfokg" name="setNetCharge" specification="__EdW0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tiwGe2SEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.netCharge = charge;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tjXIO2SEeWnDaII1mfokg" name="setRadius" specification="__EdW0u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tjXIe2SEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.radius = radius;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tjXIu2SEeWnDaII1mfokg" name="integrate" specification="__EfzEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tjXI-2SEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// Calculate total acceleration without updating the original ( a = F /m )
		Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
		currentAcceleration.addScaledVector(forceAccumulated, inverseMass);
		
		Vector3D angularAcceleration = inverseInertiaTensor.transform(torqueAccumulated);
		
		// Update current velocity (v = a*t)
		Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
		velocity.addScaledVector(currentAcceleration, duration);
		velocity.round();
		
		
		// Update current position (s = u*t + 0.5*a*t*t)
		position.addScaledVector(initialVelocity, duration);
		position.addScaledVector(currentAcceleration, duration * duration /2);
		
		
		//Update angular velocity
		rotation.addScaledVector(angularAcceleration, duration);
		orientation.addScaledVector(rotation, duration);
		orientation.normalize();
		
//		Matrix4 transformationMatrix = new Matrix4();
//		transformationMatrix.setOrientationAndPos(orientation, position);
//		position = transformationMatrix.transform(position);
		
		// Clear forces
		clearAccumulator();
		
		// Update the centre of the boundingPrimitive 
		boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);
	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tjXJO2SEeWnDaII1mfokg" name="calculateVelocityChange" specification="__ivOQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tjXJe2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tjXJu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tjXJ-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// v1 = u1*(m1-m2) + 2*m2*u2 / m1+m2
		
		double other_mass = other.getMass();
		Vector3D other_velocity = other.getVelocity();
		Vector3D temp = new Vector3D();
		double mass = 1/this.inverseMass;
		double metricDiff = other_velocity.metric - velocity.metric;
		
		if(metricDiff!=0)
			other_velocity.scale(Math.pow(10, metricDiff));
		

		// 0 for inelastic collisions, 1 for elastic collisions
		temp.x = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.x-velocity.x) + mass*velocity.x + other_mass*other_velocity.x)/(mass+other_mass);
		temp.y = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.y-velocity.y) + mass*velocity.y + other_mass*other_velocity.y)/(mass+other_mass);
		temp.z = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.z-velocity.z) + mass*velocity.z + other_mass*other_velocity.z)/(mass+other_mass);
		temp.metric = velocity.metric;
		
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tj-MO2SEeWnDaII1mfokg" name="fetchAtomicData" specification="__EgaIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tj-Me2SEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double data [] = Init.getAtomicData(atomicSymbol);
		mass = data [0];
		valence = (int) data [1];
		atomicRadius = data [2];
		covalentRadius = data [3];
		vdwRadius = data [4];
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tj-Mu2SEeWnDaII1mfokg" name="getInertiaTensor" specification="__iv1UO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tj-M-2SEeWnDaII1mfokg" name="axisOfRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tj-NO2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double x = position.x - axisOfRotation.x;
		double y = position.y - axisOfRotation.y;
		double z = position.z - axisOfRotation.z;
		
		double ixx = mass * (y*y + z*z); double iyy = mass * (x*x + z*z); double izz = mass * (x*x + y*y);
		double ixy = -mass * x * y; double iyx = ixy;
		double ixz = -mass * x * z; double izx = ixz;
		double iyz = -mass * y * z; double izy = iyz;
		Matrix3 inertiaTensor = new Matrix3(ixx,ixy,ixz,iyx,iyy,iyz,izx,izy,izz);
		inertiaTensor.print();
		
		return inertiaTensor;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__EbhoO2SEeWnDaII1mfokg" name="Atom" method="__tiwEO2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__EcIse2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__EcIsu2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__ul48-2SEeWnDaII1mfokg">
                        <body>Create an atom given the atomic symbol
	 * @param atomicSymbol
	 * @throws Exception</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__EcIsO2SEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__EcIs-2SEeWnDaII1mfokg" type="__EaThe2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EcvwO2SEeWnDaII1mfokg" name="getForceAccumulated" method="__tiwFu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iunMO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EdW0O2SEeWnDaII1mfokg" name="setNetCharge" method="__tiwGO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EdW0e2SEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EdW0u2SEeWnDaII1mfokg" name="setRadius" visibility="private" method="__tjXIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EdW0-2SEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EfMAO2SEeWnDaII1mfokg" name="setPrintFlag">
                      <ownedParameter xmi:id="__EfMAe2SEeWnDaII1mfokg" name="flag">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EfzEO2SEeWnDaII1mfokg" name="integrate" method="__tjXIu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ul49O2SEeWnDaII1mfokg">
                        <body>Calculate acceleration, velocity and position of an atom after the given duration</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__EfzEe2SEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EgaIO2SEeWnDaII1mfokg" name="fetchAtomicData" visibility="private" method="__tj-MO2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__umgAe2SEeWnDaII1mfokg">
                        <body>Fetch data from PeriodicTable.com 
	 * Requires JSoup plugin
	 * @param atomicSymbol
	 * @throws Exception</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__EgaIe2SEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iuAIO2SEeWnDaII1mfokg" name="Atom" method="__tiwE-2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__iuAIu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__iuAI-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__iuAIe2SEeWnDaII1mfokg" name="atom" type="__AVr0O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__iuAJO2SEeWnDaII1mfokg" type="__EaThe2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ivOQO2SEeWnDaII1mfokg" name="calculateVelocityChange" method="__tjXJO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__umgAO2SEeWnDaII1mfokg">
                        <body>Calculate velocity change after impact</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__ivOQe2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ivOQu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__ivOQ-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iv1UO2SEeWnDaII1mfokg" name="getInertiaTensor" method="__tj-Mu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__iv1Ue2SEeWnDaII1mfokg" name="axisOfRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__iv1Uu2SEeWnDaII1mfokg" type="__BjMwO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_-5akcO2SEeWnDaII1mfokg" name="Units">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="__jBiIe2SEeWnDaII1mfokg" name="DISTANCE"/>
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="__jCJMe2SEeWnDaII1mfokg" name="MASS"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__ElSoO2SEeWnDaII1mfokg" name="BoundingBox">
                    <ownedComment xmi:id="__umgAu2SEeWnDaII1mfokg">
                      <body>@author waiyan
BoundingBox is to be used for residues</body>
                    </ownedComment>
                    <generalization xmi:id="__izfse2SEeWnDaII1mfokg" general="__AxJoO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qVEAO2SEeWnDaII1mfokg" name="x_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qVrEe2SEeWnDaII1mfokg" name="y_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qWSIe2SEeWnDaII1mfokg" name="z_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tklQO2SEeWnDaII1mfokg" name="BoundingBox" specification="__ixqgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tklQe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tklQu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tklQ-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tklRO2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tklRe2SEeWnDaII1mfokg" type="__ElSoO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>x_length = x;
		y_length = y;
		z_length = z;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlMUO2SEeWnDaII1mfokg" name="overlap" specification="__iy4oO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlMUe2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tlMUu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
		
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bCube.getHalfSize(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bCube.getHalfSize(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bCube.getHalfSize(), 2);
			return x_con || y_con || z_con;
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bSphere.getRadius(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bSphere.getRadius(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bSphere.getRadius(), 2);
			return x_con || y_con || z_con;
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlMU-2SEeWnDaII1mfokg" name="getCentre" specification="__EnH0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlMVO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlMVe2SEeWnDaII1mfokg" name="getXLength" specification="__EnH0e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlMVu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return x_length;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlMV-2SEeWnDaII1mfokg" name="getYLength" specification="__Enu4e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlMWO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return y_length;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlMWe2SEeWnDaII1mfokg" name="getZLength" specification="__Enu4-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlMWu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return z_length;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__EnH0O2SEeWnDaII1mfokg" name="getCentre" method="__tlMU-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__izfsO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__EnH0e2SEeWnDaII1mfokg" name="getXLength" method="__tlMVe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Enu4O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Enu4e2SEeWnDaII1mfokg" name="getYLength" method="__tlMV-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Enu4u2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Enu4-2SEeWnDaII1mfokg" name="getZLength" method="__tlMWe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EoV8O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ixqgO2SEeWnDaII1mfokg" name="BoundingBox" method="__tklQO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__iyRlO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__iyRle2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__iyRkO2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__iyRke2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__iyRku2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__iyRk-2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__iyRlu2SEeWnDaII1mfokg" type="__ElSoO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__iy4oO2SEeWnDaII1mfokg" name="overlap" method="__tlMUO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__umgA-2SEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__iy4oe2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__iy4ou2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__EqLIO2SEeWnDaII1mfokg" name="BoundingCube">
                    <ownedComment xmi:id="__umgBO2SEeWnDaII1mfokg">
                      <body>@author waiyan</body>
                    </ownedComment>
                    <generalization xmi:id="__i1U4e2SEeWnDaII1mfokg" general="__AxJoO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qW5MO2SEeWnDaII1mfokg" name="half_size" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlzYO2SEeWnDaII1mfokg" name="BoundingCube" specification="__i0GwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlzYe2SEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tlzYu2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tlzY-2SEeWnDaII1mfokg" type="__EqLIO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.half_size = half_size;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlzZO2SEeWnDaII1mfokg" name="overlap" specification="__i0t0-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlzZe2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tlzZu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
		
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.centre);
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.half_size + bCube.half_size) * (this.half_size + bCube.half_size);
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.half_size + bSphere.getRadius()) * (this.half_size + bSphere.getRadius());
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlzZ-2SEeWnDaII1mfokg" name="getCentre" specification="__ErZQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlzaO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tlzae2SEeWnDaII1mfokg" name="getHalfSize" specification="__ErZQe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tlzau2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return half_size;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__ErZQO2SEeWnDaII1mfokg" name="getCentre" method="__tlzZ-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__i1U4O2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__ErZQe2SEeWnDaII1mfokg" name="getHalfSize" method="__tlzae2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__EsAUO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i0GwO2SEeWnDaII1mfokg" name="BoundingCube" method="__tlzYO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__i0t0O2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__i0t0e2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__i0Gwe2SEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__i0Gwu2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i0t0u2SEeWnDaII1mfokg" type="__EqLIO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i0t0-2SEeWnDaII1mfokg" name="overlap" method="__tlzZO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__umgBe2SEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i0t1O2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i0t1e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__EtOcO2SEeWnDaII1mfokg" name="BoundingSphere">
                    <ownedComment xmi:id="__unHEO2SEeWnDaII1mfokg">
                      <body>@author waiyan
BoundingSphere is used for setting the shape of Atoms and Molecules</body>
                    </ownedComment>
                    <generalization xmi:id="__i3KEe2SEeWnDaII1mfokg" general="__AxJoO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qW5Mu2SEeWnDaII1mfokg" name="radius" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tmacO2SEeWnDaII1mfokg" name="BoundingSphere" specification="__i178O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tmace2SEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tmacu2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tmac-2SEeWnDaII1mfokg" type="__EtOcO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.radius = radius;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tmadO2SEeWnDaII1mfokg" name="overlap" specification="__i2jA-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tmade2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tmadu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
	
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.radius + bCube.getHalfSize()) * (this.radius + bCube.getHalfSize());
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.radius + bSphere.getRadius()) * (this.radius + bSphere.getRadius());
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tmad-2SEeWnDaII1mfokg" name="getCentre" specification="__EuckO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tmaeO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__EuckO2SEeWnDaII1mfokg" name="getCentre" method="__tmad-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__i3KEO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i178O2SEeWnDaII1mfokg" name="BoundingSphere" method="__tmacO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__i2jAO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__i2jAe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__i178e2SEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__i178u2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i2jAu2SEeWnDaII1mfokg" type="__EtOcO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i2jA-2SEeWnDaII1mfokg" name="overlap" method="__tmadO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHEe2SEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i2jBO2SEeWnDaII1mfokg" name="other" type="__AxJoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i2jBe2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__EyuAO2SEeWnDaII1mfokg" name="ContactResolver">
                    <ownedComment xmi:id="__unHEu2SEeWnDaII1mfokg">
                      <body> @author waiyan
 Resolve the Particles that have collided
 Update the velocities of the Particles after impact</body>
                    </ownedComment>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnBgO2SEeWnDaII1mfokg" name="resolveContacts" specification="__mpd4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnBge2SEeWnDaII1mfokg" name="potentialContacts" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(potentialContacts.isEmpty())
			return;
		
		World.activeParticles.clear();
		
		for (AbstractParticle[] potentialContact : potentialContacts){
			AbstractParticle a1 = potentialContact[0];
			AbstractParticle a2 = potentialContact[1];
			Vector3D v1 = a1.calculateVelocityChange(a2, World.COEFFICENT_OF_RESTITUTION);
			Vector3D v2 = a2.calculateVelocityChange(a1, World.COEFFICENT_OF_RESTITUTION);	
			a1.addVelocityAccumulated(v1.x, v1.y, v1.z);
			a2.addVelocityAccumulated(v2.x, v2.y, v2.z);
	//		System.out.println(&quot;Imparting velocity: &quot; + v1.print() + &quot;\t&quot; + v2.print());
			
			if(!World.allParticlesActive) {
				World.markAsActive(a1);
				World.markAsActive(a2);
			}
		}		
		
		if(World.allParticlesActive) {
			for(AbstractParticle particle: World.octTree.getAllParticles())
				World.markAsActive(particle);
		}
		
		for(AbstractParticle particle: World.activeParticles){
			particle.setVelocityAccumulated();
			if(!World.LJForceActive) {
				particle.setVelocity(0, 0, 0);
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__mpd4O2SEeWnDaII1mfokg" name="resolveContacts" method="__tnBgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mpd4e2SEeWnDaII1mfokg" name="potentialContacts" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__Ez8IO2SEeWnDaII1mfokg" name="ElectricForce">
                    <ownedComment xmi:id="__unHE-2SEeWnDaII1mfokg">
                      <body>@author waiyan
Return the ElectricForce experienced by Particle1 due to particle2
@param particle1 (requires atomic charge)
@param particle2 (requires atomic charge)
@return ElectricForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qXgQO2SEeWnDaII1mfokg" name="electricForce" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__wTJIe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__i3xIO2SEeWnDaII1mfokg" client="__Ez8IO2SEeWnDaII1mfokg" supplier="__E4NkO2SEeWnDaII1mfokg" contract="__E4NkO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnBgu2SEeWnDaII1mfokg" name="ElectricForce" specification="__i4YMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnBg-2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tnBhO2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tnBhe2SEeWnDaII1mfokg" type="__Ez8IO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>electricForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnBhu2SEeWnDaII1mfokg" name="getForce" specification="__E1KQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnBh-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return electricForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnBiO2SEeWnDaII1mfokg" name="getNegativeForce" specification="__E2YYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnBie2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return electricForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnokO2SEeWnDaII1mfokg" name="calculateForce" specification="__i4_Qu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnoke2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tnoku2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tnok-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double COULOMB_CONSTANT = 8.987551787e+9;
		double CHARGE_IN_COULOMB = 1.602e-19;
		
		double charge1 = CHARGE_IN_COULOMB * particle1.getNetCharge();
		double charge2 = CHARGE_IN_COULOMB * particle2.getNetCharge();
		
		// Finding distance between 2 particles
		Vector3D distanceVector = new Vector3D (particle1.getPosition());
		distanceVector.subtract(particle2.getPosition());
	
		// scalar distance
		double scalar_distance = distanceVector.getMagnitude();
		
		// unit vector
		distanceVector.normalize();
		
		if(particle1 instanceof Atom == false || particle2 instanceof Atom == false)
			return new Vector3D();
		
		Atom a1 = (Atom) particle1;
		Atom a2 = (Atom) particle2;
		
		if((a1.getAtomicSymbol().equals(&quot;C&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;C&quot;))
			
				||(a1.getAtomicSymbol().equals(&quot;C&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;N&quot;))
				||(a1.getAtomicSymbol().equals(&quot;N&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;C&quot;)))
			return new Vector3D(0,0,0);
		if(scalar_distance == 0)	
			return new Vector3D();
		
		distanceVector.scale(COULOMB_CONSTANT*charge1*charge2/scalar_distance/scalar_distance);
		return distanceVector;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__E1KQO2SEeWnDaII1mfokg" name="getForce" method="__tnBhu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__i4_QO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__E2YYO2SEeWnDaII1mfokg" name="getNegativeForce" method="__tnBiO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__i4_Qe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i4YMO2SEeWnDaII1mfokg" name="ElectricForce" method="__tnBgu2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__i4YM-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__i4YNO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__i4YMe2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i4YMu2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i4YNe2SEeWnDaII1mfokg" type="__Ez8IO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i4_Qu2SEeWnDaII1mfokg" name="calculateForce" method="__tnokO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHFO2SEeWnDaII1mfokg">
                        <body>Calculate the electric force between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i4_Q-2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i4_RO2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i4_Re2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="__E4NkO2SEeWnDaII1mfokg" name="Force">
                    <ownedComment xmi:id="__unHFe2SEeWnDaII1mfokg">
                      <body>@author waiyan
Forces are applied to Particles. Implemented by VdWForce and ElectricForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__E5bsO2SEeWnDaII1mfokg" name="negativeForce" type="__CK30O2SEeWnDaII1mfokg" isReadOnly="true" association="__vkwYO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__E6CwO2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg" isReadOnly="true" association="__vlXce2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__i5mUO2SEeWnDaII1mfokg" name="calculateForce">
                      <ownedParameter xmi:id="__i5mUe2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i5mUu2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i6NYO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__E7Q4O2SEeWnDaII1mfokg" name="ForceRegistry">
                    <ownedComment xmi:id="__unHFu2SEeWnDaII1mfokg">
                      <body>@author waiyan
ForceRegistry stores Particle,Force pairs</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qYuYO2SEeWnDaII1mfokg" name="registrations" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__wTJJO2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qYuYu2SEeWnDaII1mfokg" value="new HashMap&lt;AbstractParticle,ArrayList&lt;Vector3D>>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnolO2SEeWnDaII1mfokg" name="get" specification="__E738O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnole2SEeWnDaII1mfokg" type="__f25YO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return registrations;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tnolu2SEeWnDaII1mfokg" name="add" specification="__i7bgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tnol-2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tnomO2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(registrations.get(abstractParticle) == null){
			ArrayList&lt;Vector3D> forces = new ArrayList&lt;Vector3D>();
			forces.add(force);
			registrations.put(abstractParticle, forces);
		}
		else
			registrations.get(abstractParticle).add(force);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__toPoO2SEeWnDaII1mfokg" name="updateForce" specification="__i8CkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__toPoe2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__toPou2SEeWnDaII1mfokg" name="oldForce" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__toPo-2SEeWnDaII1mfokg" name="newForce" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null){
			int index = forces.indexOf(oldForce);
			forces.get(index).x = newForce.x;
			forces.get(index).y = newForce.y;
			forces.get(index).z = newForce.z;
			
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__toPpO2SEeWnDaII1mfokg" name="updateAllForces" specification="__mrTEe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__toPpe2SEeWnDaII1mfokg" name="activeParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// electric force, vdw force etc are not stored in force registry
		for(AbstractParticle particle: activeParticles){
			for(AbstractParticle particle2: activeParticles){
				if(!particle.equals(particle2)){
					Force electricForce = new ElectricForce(particle,particle2);
					Force lennardJonesForce = new LennardJonesForce (particle, particle2);
					
					// calculating the total force here saves computation then letting the force registry to handle
					Vector3D totalForce = new Vector3D();
					if(World.electricForceActive)
						totalForce.add(electricForce.getForce());
					if(World.LJForceActive)
						totalForce.add(lennardJonesForce.getForce());
					
					particle.addForce(totalForce);
					particle2.addForce(totalForce.getNegativeVector());
				}
			}
		}
		
		// apply forces that are in the force registry
		applyForces();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__toPpu2SEeWnDaII1mfokg" name="remove" specification="__i8poO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__toPp-2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__toPqO2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null){
			forces.remove(force);
			Vector3D cancelForce = new Vector3D (-force.x, -force.y, -force.z, force.metric);
			abstractParticle.addForce(cancelForce);
		}	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__toPqe2SEeWnDaII1mfokg" name="removeAllForceFrom" specification="__i8po-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__to2sO2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null)
			forces.clear();
		abstractParticle.clearAccumulator();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__to2se2SEeWnDaII1mfokg" name="clear" specification="__E9tIO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>registrations.clear();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__to2su2SEeWnDaII1mfokg" name="applyForce" specification="__i9Qse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__to2s-2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces != null)
			for (Vector3D force: forces)
				abstractParticle.addForce(force);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__to2tO2SEeWnDaII1mfokg" name="applyForces" specification="__E9tIe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Entry&lt;AbstractParticle, ArrayList&lt;Vector3D>> entry: registrations.entrySet()){
			AbstractParticle abstractParticle = entry.getKey();
			applyForce(abstractParticle);
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__E738O2SEeWnDaII1mfokg" name="get" method="__tnolO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mrTEO2SEeWnDaII1mfokg" type="__f25YO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__E9tIO2SEeWnDaII1mfokg" name="clear" method="__to2se2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHG-2SEeWnDaII1mfokg">
                        <body>Clear the registry</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__E9tIe2SEeWnDaII1mfokg" name="applyForces" method="__to2tO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuIe2SEeWnDaII1mfokg">
                        <body>Apply forces to all particles in the registry</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i7bgO2SEeWnDaII1mfokg" name="add" method="__tnolu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__i7bge2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i7bgu2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i8CkO2SEeWnDaII1mfokg" name="updateForce" method="__toPoO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHF-2SEeWnDaII1mfokg">
                        <body>Update the old force of a particle with a new force
	 * @param abstractParticle
	 * @param oldForce
	 * @param newForce</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i8Cke2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i8Cku2SEeWnDaII1mfokg" name="oldForce" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i8Ck-2SEeWnDaII1mfokg" name="newForce" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i8poO2SEeWnDaII1mfokg" name="remove" method="__toPpu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHGe2SEeWnDaII1mfokg">
                        <body>Remove a given particle from the registry
	 * @param abstractParticle
	 * @param force</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i8poe2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__i8pou2SEeWnDaII1mfokg" name="force" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i8po-2SEeWnDaII1mfokg" name="removeAllForceFrom" method="__toPqe2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHGu2SEeWnDaII1mfokg">
                        <body>Remove all force from a given particle
	 * @param abstractParticle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i9QsO2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__i9Qse2SEeWnDaII1mfokg" name="applyForce" method="__to2su2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuIO2SEeWnDaII1mfokg">
                        <body>Apply all the forces (attached to the particle) to that particle
	 * @param abstractParticle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__i9Qsu2SEeWnDaII1mfokg" name="abstractParticle" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__mrTEe2SEeWnDaII1mfokg" name="updateAllForces" method="__toPpO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unHGO2SEeWnDaII1mfokg">
                        <body>*
	 * Apply forces to particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__mrTEu2SEeWnDaII1mfokg" name="activeParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FAwcO2SEeWnDaII1mfokg" name="Init">
                    <ownedComment xmi:id="__unuIu2SEeWnDaII1mfokg">
                      <body>@author waiyan
Initialization Class for the Physics Engine
Periodic Table used for construction of the Atom</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qZVce2SEeWnDaII1mfokg" name="machineEpsilon" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qZ8ge2SEeWnDaII1mfokg" name="originalStream" isStatic="true" type="__hqQMO2SEeWnDaII1mfokg" association="__wTwMe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qajkO2SEeWnDaII1mfokg" name="dummyStream" isStatic="true" type="__hqQMO2SEeWnDaII1mfokg" association="__wUXQe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qajku2SEeWnDaII1mfokg" name="periodicTable" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__qajk-2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qbKoe2SEeWnDaII1mfokg" value="{&#xA;&#x9;&#x9;&quot;H&quot; , &quot;HE&quot;, &quot;LI&quot;, &quot;BE&quot;, &quot;B&quot; , &quot;C&quot; , &quot;N&quot; , &quot;O&quot; , &quot;F&quot; , &quot;NE&quot;,&#xA;&#x9;&#x9;&quot;NA&quot;, &quot;MG&quot;, &quot;AL&quot;, &quot;SI&quot;, &quot;P&quot; , &quot;S&quot; , &quot;CL&quot;, &quot;AR&quot;, &quot;K&quot; , &quot;CA&quot;,&#xA;&#x9;&#x9;&quot;SC&quot;, &quot;TI&quot;, &quot;V&quot;,  &quot;CR&quot;, &quot;MN&quot;, &quot;FE&quot;, &quot;CO&quot;, &quot;NI&quot;, &quot;CU&quot;, &quot;ZN&quot;,&#xA;&#x9;&#x9;&quot;GA&quot;, &quot;GE&quot;, &quot;AS&quot;, &quot;SE&quot;, &quot;BR&quot;, &quot;KR&quot;, &quot;RB&quot;, &quot;SR&quot;, &quot;Y&quot; , &quot;ZR&quot;,&#x9;&#xA;&#x9;&#x9;&quot;NB&quot;, &quot;MO&quot;, &quot;TC&quot;, &quot;RU&quot;, &quot;RH&quot;, &quot;PD&quot;, &quot;AG&quot;, &quot;CD&quot;, &quot;IN&quot;, &quot;SN&quot;,&#x9;&#xA;&#x9;&#x9;&quot;SB&quot;, &quot;TE&quot;, &quot;I&quot; , &quot;XE&quot;, &quot;CS&quot;, &quot;BA&quot;, &quot;LA&quot;, &quot;CE&quot;, &quot;PR&quot;, &quot;ND&quot;,&#x9;&#xA;&#x9;&#x9;&quot;PM&quot;, &quot;SM&quot;, &quot;EU&quot;, &quot;GD&quot;,&#x9;&quot;TB&quot;, &quot;DY&quot;, &quot;HO&quot;, &quot;ER&quot;,&#x9;&quot;TM&quot;, &quot;YB&quot;,&#x9;&#xA;&#x9;&#x9;&quot;LU&quot;, &quot;HF&quot;, &quot;TA&quot;, &quot;W&quot; ,&#x9;&quot;RE&quot;, &quot;OS&quot;, &quot;IR&quot;, &quot;PT&quot;,&#x9;&quot;AU&quot;, &quot;HG&quot;,&#xA;&#x9;&#x9;&quot;TL&quot;, &quot;PB&quot;, &quot;BI&quot;, &quot;PO&quot;, &quot;AT&quot;, &quot;RN&quot;, &quot;FR&quot;, &quot;RA&quot;,&#x9;&quot;AC&quot;, &quot;TH&quot;,&#x9;&#xA;&#x9;&#x9;&quot;PA&quot;, &quot;U&quot; , &quot;NP&quot;, &quot;PU&quot;,&#x9;&quot;AM&quot;, &quot;CM&quot;, &quot;BK&quot;, &quot;CF&quot;, &quot;ES&quot;, &quot;FM&quot;,&#x9;&#xA;&#x9;&#x9;&quot;MD&quot;, &quot;NO&quot;, &quot;LR&quot;, &quot;RF&quot;, &quot;DB&quot;, &quot;SG&quot;, &quot;BH&quot;, &quot;HS&quot;, &quot;MT&quot;, &quot;DS&quot;,&#x9;&#xA;&#x9;&#x9;&quot;RG&quot;, &quot;CN&quot;, &quot;UUT&quot;, &quot;UUQ&quot;, &quot;UUP&quot;, &quot;UUH&quot;, &quot;UUS&quot;, &quot;UUO&quot;&#xA;&#x9;}"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qbKo-2SEeWnDaII1mfokg" name="atomicData" isStatic="true" type="__FB-kO2SEeWnDaII1mfokg" association="__wU-Ue2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__qbKpO2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qbxse2SEeWnDaII1mfokg" value="new AtomData [periodicTable.length]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tpdxO2SEeWnDaII1mfokg" name="init" specification="__FDzwe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>machineEpsilon = calculateMachineEpsilon();
		saveAtomicData(0);	// get H
		saveAtomicData(5);	// get C
		saveAtomicData(6);	// get N
		saveAtomicData(7);	// get O
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tpdxe2SEeWnDaII1mfokg" name="getAtomicData" specification="__FEa0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tpdxu2SEeWnDaII1mfokg" name="symbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tpdx-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tpdyO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = Arrays.asList(periodicTable).indexOf(symbol);
		
		if(index == -1){
			throw new Exception(&quot;Invalid atomic symbol&quot;);
		}
		
		if(atomicData[index] == null)
			saveAtomicData(index);
		
		if(atomicData[index] == null)
			return atomicData[0].data;
		
		return atomicData[index].data;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tpdye2SEeWnDaII1mfokg" name="calculateMachineEpsilon" specification="__FFo8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tpdyu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double machEps = 1.0;
		do{
        machEps /= 2.0;	// operator / is used instead of bit shifting since we do not know the CPU architecture
		} while ((double) (1.0 + (machEps / 2.0)) != 1.0);
     return (machEps);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tpdy-2SEeWnDaII1mfokg" name="saveAtomicData" specification="__FGQAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tpdzO2SEeWnDaII1mfokg" name="index">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>NumberFormat formatter = new DecimalFormat(&quot;000&quot;);
		
		String html = &quot;http://periodictable.com/Elements/&quot; + formatter.format(index+1) + &quot;/data.html&quot;;
		boolean flag = true;
		
		double mass = 0, valence = 0, atomicRadius = 0, covalentRadius = 0, vdwRadius = 0;
		String symbol = periodicTable[index];
		double [] data = new double [5];
		
		try{
			Document doc = Jsoup.connect(html).timeout(0).get();	// set timeout to zero IMPORTANT!!!
			
			// The website does not provide a specific header div/class id for mining. 
			// Absolute positioning is used. 
			
			Element table1 = doc.select(&quot;table&quot;).get(7);
			Elements rows1 = table1.select(&quot;tr&quot;); 
			
			for (int i=0; i &lt; rows1.size(); i++) {
		        Element row = rows1.get(i);
		        Elements columns = row.select(&quot;td&quot;);
		        
		        if(columns.first().text().equals(&quot;Atomic Weight&quot;))
		        	mass = Double.parseDouble(columns.last().text()) * MASS.amu.value();		//mass in amu, 1 amu = 1.66053892e-24 grams
		        
		        if(columns.first().text().equals(&quot;Valence&quot;))
		        	valence = Integer.parseInt(columns.last().text());	
		        
		       // if(columns.size()>1)	output += columns.get(0).text() + &quot;: &quot; + columns.get(1).text() + &quot;\n&quot;;
		    }
			
		
			int tableIndex = 9;
			Elements rows2;
	
			do {
			Element table2 = doc.select(&quot;table&quot;).get(tableIndex);
				rows2 = table2.select(&quot;tr&quot;);
				flag = !rows2.get(0).select(&quot;td&quot;).first().text().equals(&quot;Classifications&quot;);
				tableIndex++;
			} while (flag);
			
			
			for (int j=0; j&lt;rows2.size(); j++){
				Element row = rows2.get(j);
			    Elements columns = row.select(&quot;td&quot;);
			     
			     // All radii are in pm.
			     
			     if(columns.first().text().equals(&quot;Atomic Radius&quot;))
			    	 atomicRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();
			     
			     if(columns.first().text().equals(&quot;Covalent Radius&quot;))
			    	 covalentRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();
			     
			     if(columns.first().text().equals(&quot;Van der Waals Radius&quot;)) {
			    	 vdwRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();	
			    	 break;
			     }
		    }
			
			boolean print_flag = false;
			if(print_flag) {
				System.out.println(&quot;Atom &quot; + symbol);
				System.out.println(&quot;Mass is &quot; + mass + &quot; kg.&quot;);
				System.out.println(&quot;Valence is &quot; + valence);
				System.out.println(&quot;Atomic radius is &quot; + atomicRadius + &quot; m.&quot;);
				System.out.println(&quot;Covalent radius is &quot; + covalentRadius + &quot; m.&quot;);
				System.out.println(&quot;VdW radius is &quot; + vdwRadius + &quot; m.\n&quot;);
			}
		}
		catch (IOException e){
			
			System.out.println(&quot;INTERNET CONNECTION ERROR WHILE CREATING ATOM  &quot; + periodicTable[index]);
			System.out.println(&quot;Using Hydrogen as DEFAULT&quot;);
			symbol = &quot;H&quot;;
			index = 0;
			mass = 1.00794 * MASS.amu.value();
			valence = 1;
			atomicRadius = 53e-12;
			covalentRadius = 37e-12;
			vdwRadius = 120e-12;
			
		}
		
		data[0] = mass;
		data[1] = valence;
		data[2] = atomicRadius;
		data[3] = covalentRadius;
		data[4] = vdwRadius;
		
		if(data[2] == 0 || data[3]==0 || data[4]==0){
			System.out.println(&quot;Unable to fetch the atom data for atom &quot; + symbol);
			System.exit(-1);
		}
		
		atomicData [index] = new AtomData (data) ;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__FDzwe2SEeWnDaII1mfokg" name="init" isStatic="true" method="__tpdxO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__FEa0O2SEeWnDaII1mfokg" name="getAtomicData" isStatic="true" method="__tpdxe2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__FEa0e2SEeWnDaII1mfokg" name="symbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FFB4O2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__FFB4e2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FFo8O2SEeWnDaII1mfokg" name="calculateMachineEpsilon" visibility="private" isStatic="true" method="__tpdye2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__FFo8e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FGQAO2SEeWnDaII1mfokg" name="saveAtomicData" visibility="private" isStatic="true" method="__tpdy-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__FGQAe2SEeWnDaII1mfokg" name="index">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Class" xmi:id="__FB-kO2SEeWnDaII1mfokg" name="AtomData" visibility="private">
                      <eAnnotations xmi:id="__FCloO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__FCloe2SEeWnDaII1mfokg" key="static"/>
                      </eAnnotations>
                      <ownedAttribute xmi:id="__qbxs-2SEeWnDaII1mfokg" name="data" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__qbxtO2SEeWnDaII1mfokg" value="*"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tpdwO2SEeWnDaII1mfokg" name="AtomData" specification="__FDMsO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__tpdwe2SEeWnDaII1mfokg" name="data">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tpdwu2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__tpdw-2SEeWnDaII1mfokg" type="__FB-kO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.data = data.clone();
		</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__FDMsO2SEeWnDaII1mfokg" name="AtomData" method="__tpdwO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__FDMsu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__FDMs-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__FDMse2SEeWnDaII1mfokg" name="data">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__FDzwO2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__FDMtO2SEeWnDaII1mfokg" type="__FB-kO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FIFMO2SEeWnDaII1mfokg" name="LennardJonesForce">
                    <ownedComment xmi:id="__unuI-2SEeWnDaII1mfokg">
                      <body>Return the Lennard-Jones potential (need epsilon + bond length)
@param particle1
@param particle2
@return</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qc_0O2SEeWnDaII1mfokg" name="lennardJonesForce" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__wVlYe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__jFMgO2SEeWnDaII1mfokg" client="__FIFMO2SEeWnDaII1mfokg" supplier="__E4NkO2SEeWnDaII1mfokg" contract="__E4NkO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqE0O2SEeWnDaII1mfokg" name="LennardJonesForce" specification="__jGaoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqE0e2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqE0u2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqE0-2SEeWnDaII1mfokg" type="__FIFMO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>lennardJonesForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqE1O2SEeWnDaII1mfokg" name="getForce" specification="__FJTUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqE1e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return lennardJonesForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqE1u2SEeWnDaII1mfokg" name="getNegativeForce" specification="__FJTUe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqE1-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return lennardJonesForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqr4O2SEeWnDaII1mfokg" name="calculateForce" specification="__jHowO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqr4e2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqr4u2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqr4-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>/*** known as theta */
		double epsilon = 0.1e-8;			// depth of potential well
		double bond_length = 0.28E-9;		// bond length for NaCl
		// bond length or vdw radius?

		// Finding distance between 2 particles
		Vector3D distanceVector = new Vector3D (particle1.getPosition());
		distanceVector.subtract(particle2.getPosition());
		
		// scalar distance
		double scalar_distance = distanceVector.getMagnitude();
		
		// unit vector
		distanceVector.normalize();
				
		if(scalar_distance == 0)
			return new Vector3D();
		
		double term2 = Math.pow(bond_length/scalar_distance, 6);
		double term1 = term2 * term2;
		
		distanceVector.scale(4*epsilon*(term1 - term2));
		return distanceVector;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__FJTUO2SEeWnDaII1mfokg" name="getForce" method="__tqE1O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jHBs-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FJTUe2SEeWnDaII1mfokg" name="getNegativeForce" method="__tqE1u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jHBtO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jGaoO2SEeWnDaII1mfokg" name="LennardJonesForce" method="__tqE0O2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__jHBsO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__jHBse2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__jGaoe2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jGaou2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jHBsu2SEeWnDaII1mfokg" type="__FIFMO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jHowO2SEeWnDaII1mfokg" name="calculateForce" method="__tqr4O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuJO2SEeWnDaII1mfokg">
                        <body>Calculate the LennardJonesForce between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jHowe2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jHowu2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jHow-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FLvkO2SEeWnDaII1mfokg" name="Molecule">
                    <ownedComment xmi:id="__unuJe2SEeWnDaII1mfokg">
                      <body>@author waiyan
Handle creating of molecules
Solve the acceleration, velocity and position of the molecule before/after impact</body>
                    </ownedComment>
                    <generalization xmi:id="__FTrYO2SEeWnDaII1mfokg" general="__BOcoO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qdm4O2SEeWnDaII1mfokg" name="radius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qdm4e2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qdm4-2SEeWnDaII1mfokg" name="atoms" type="__fyn8O2SEeWnDaII1mfokg" isReadOnly="true" association="__wWMce2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qeN8e2SEeWnDaII1mfokg" value="new ArrayList&lt;Atom>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqr5O2SEeWnDaII1mfokg" name="Molecule" specification="__jIP0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqr5e2SEeWnDaII1mfokg" name="mol" type="__BOcoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqr5u2SEeWnDaII1mfokg" type="__FLvkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>//TODO copy everything
		
		double mass=0;
		double r  =0 ;	
		
		for(sg.edu.ntu.aalhossary.fyp2014.common.Chain chain: mol.getChains()){
			for (sg.edu.ntu.aalhossary.fyp2014.common.Residue residue: chain.residues) {
				for (sg.edu.ntu.aalhossary.fyp2014.common.Atom atom: residue.getAtomList()){
					Atom newAtom = new Atom(atom);
					atoms.add(newAtom);
					mass += newAtom.getMass();	
				}
			}
		}
		Vector3D position = getCentroid();
		
		for(Atom atom: atoms){
			// Calculating radius
			Vector3D pos = atom.getPosition();
			double maxDistX = Math.abs(Math.abs(pos.x)-Math.abs(position.x));
			double maxDistY = Math.abs(Math.abs(pos.y)-Math.abs(position.y));
			double maxDistZ = Math.abs(Math.abs(pos.z)-Math.abs(position.z));
			double max_dist = Math.max(Math.max(maxDistX, maxDistY), maxDistZ);
			
			if(radius &lt; max_dist)
				radius = max_dist;
			
			BoundingSphere b = (BoundingSphere)(atom.getBoundingPrimitive());
			r = Math.max(r, b.getRadius());
		}
		
		this.setMass(mass);
		this.molecularMass = (float)mass;
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.position = position;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tqr5-2SEeWnDaII1mfokg" name="Molecule" specification="__muWYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tqr6O2SEeWnDaII1mfokg" name="atoms" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tqr6e2SEeWnDaII1mfokg" type="__FLvkO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();
		Chain chain =  new Chain();		// for consistency with super class
		this.atoms = atoms;
		double mass = 0;
		
		// Calculating position
		Vector3D position = getCentroid();
		double r  =0 ;	
		for (Atom atom : atoms) {
			
			chain.atomSeq.add(atom);
			
			// Calculating total mass
			mass += atom.getMass();	
			
			// Calculating radius
			Vector3D pos = atom.getPosition();
			double maxDistX = Math.abs(Math.abs(pos.x)-Math.abs(position.x));
			double maxDistY = Math.abs(Math.abs(pos.y)-Math.abs(position.y));
			double maxDistZ = Math.abs(Math.abs(pos.z)-Math.abs(position.z));
			double max_dist = Math.max(Math.max(maxDistX, maxDistY), maxDistZ);
			
			if(radius &lt; max_dist)
				radius = max_dist;
			
			BoundingSphere b = (BoundingSphere)(atom.getBoundingPrimitive());
			r = Math.max(r, b.getRadius());
		}
		
		this.chains.add(chain);
		
		this.setMass(mass);
		this.molecularMass = (float)mass;
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.position = position;
		
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__trS8O2SEeWnDaII1mfokg" name="getCentroid" specification="__FNkwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__trS8e2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D();
		for(int i=0; i&lt;atoms.size(); i++){
			pos.add(atoms.get(i).getPosition());
		}
		pos.scale(1.0/atoms.size());
		return pos;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__trS8u2SEeWnDaII1mfokg" name="setPositionAsCentroid" specification="__FNkwe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>this.position = getCentroid();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__trS8-2SEeWnDaII1mfokg" name="setNetCharge" specification="__FOL0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__trS9O2SEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.netCharge = charge;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__trS9e2SEeWnDaII1mfokg" name="setPosition" specification="__FOy4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__trS9u2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__trS9-2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__trS-O2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__trS-e2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D(x, y, z, metric);
		if(this.position.equals(pos))
			return;
		
		pos.subtract(this.position);
		for (Atom a: atoms) 
			a.movePositionBy(pos.x, pos.y, pos.z, metric);
		this.position = new Vector3D (x,y,z,metric);
		this.boundingPrimitive.updateCentre(pos.x, pos.y, pos.z, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tr6AO2SEeWnDaII1mfokg" name="setPosition" specification="__FPZ8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tr6Ae2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6Au2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6A-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D(x, y, z);
		if(this.position.equals(pos))
			return;
		
		pos.subtract(this.position);
	//	pos.round();
		for (Atom a: atoms) 
			a.movePositionBy(pos.x, pos.y, pos.z, position.metric);
		this.position = new Vector3D (x,y,z);
		boundingPrimitive.updateCentre(x, y, z, position.metric);	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tr6BO2SEeWnDaII1mfokg" name="setVelocity" specification="__FQBAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tr6Be2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6Bu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6B-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (Atom a: atoms)
			a.setVelocity(x, y, z);
		this.velocity = new Vector3D(x,y,z);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tr6CO2SEeWnDaII1mfokg" name="setVelocity" specification="__FQoEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tr6Ce2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6Cu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6C-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tr6DO2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (Atom a: atoms)
			a.setVelocity(x, y, z, metric);
		this.velocity = new Vector3D(x,y,z, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tshEO2SEeWnDaII1mfokg" name="setInverseInertiaTensor" specification="__jJd8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tshEe2SEeWnDaII1mfokg" name="axisOfRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double total_ixx = 0, total_ixy = 0, total_ixz = 0;
		double total_iyx = 0, total_iyy = 0, total_iyz = 0;
		double total_izx = 0, total_izy = 0, total_izz = 0;
		
		for(Atom atom: atoms) {
			double x = atom.getPosition().x - axisOfRotation.x;
			double y = atom.getPosition().y - axisOfRotation.y;
			double z = atom.getPosition().z - axisOfRotation.z;
			double mass = atom.getMass();
			total_ixx += mass * (y*y + z*z); 
			total_iyy += mass * (x*x + z*z); 
			total_izz += mass * (x*x + y*y);
			double ixy = -mass * x * y; 
			double ixz = -mass * x * z; 
			double iyz = -mass * y * z; 
			total_ixy += ixy;
			total_iyx += ixy;
			total_ixz += ixz;
			total_izx += ixz;
			total_iyz += iyz;
			total_izy += iyz;
		}
		
		Matrix3 inertiaTensor = new Matrix3(total_ixx,total_ixy,total_ixz,total_iyx,total_iyy,total_iyz,total_izx,total_izy,total_izz);
		inertiaTensor.print();
		super.setInverseInertiaTensor(inertiaTensor);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tshEu2SEeWnDaII1mfokg" name="integrate" specification="__FRPIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tshE-2SEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// Calculate total acceleration without updating the original ( a = F /m )
		Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
		currentAcceleration.addScaledVector(forceAccumulated, inverseMass);
		
		// Update current velocity (v = a*t)
		Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
		Vector3D velocity = new Vector3D (this.velocity.x, this.velocity.y, this.velocity.z, this.velocity.metric);
		velocity.addScaledVector(currentAcceleration, duration);
		velocity.round();
		this.setVelocity(velocity.x, velocity.y, velocity.z);
		
		
		// Update current position (s = u*t + 0.5*a*t*t)
		Vector3D position = new Vector3D (this.position.x, this.position.y, this.position.z, this.position.metric);
		position.addScaledVector(initialVelocity, duration);
		position.addScaledVector(currentAcceleration, duration * duration /2);
		this.setPosition(position.x, position.y, position.z);
		
/*		Vector3D angularAcceleration = inverseInertiaTensor.transform(torqueAccumulated);
		rotation.addScaledVector(angularAcceleration, duration);
		orientation.addScaledVector(rotation, duration);
		orientation.normalize();
*/
		// Clear forces
		clearAccumulator();
		
		
			
		/*
		else if(World.simulationLvlAtomic == true) {
			Vector3D totalAcceleration = new Vector3D();
			for (Atom a: atoms){
				// Calculate total acceleration without updating the original ( a = F /m )
				Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
				currentAcceleration.addScaledVector(a.getForceAccumulated(), a.getInverseMass());
				totalAcceleration.add(currentAcceleration);
			}
			
			// Update current velocity (v = a*t)
			Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
			Vector3D velocity = new Vector3D (this.velocity.x, this.velocity.y, this.velocity.z, this.velocity.metric);
			velocity.addScaledVector(totalAcceleration, duration);
			velocity.round();
			this.setVelocity(velocity.x, velocity.y, velocity.z);
			
			// Update current position (s = u*t + 0.5*a*t*t)
			Vector3D position = new Vector3D (this.position.x, this.position.y, this.position.z, this.position.metric);
			position.addScaledVector(initialVelocity, duration);
			position.addScaledVector(totalAcceleration, duration * duration /2);
			this.setPosition(position.x, position.y, position.z);
			
			// Clear forces
			clearAccumulator();
			
			// Update the centre of the boundingPrimitive 
		//	boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);
		 
		 */
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tshFO2SEeWnDaII1mfokg" name="calculateVelocityChange" specification="__jKFAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tshFe2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tshFu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__tshF-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double other_mass = other.getMass();
		Vector3D other_velocity = other.getVelocity();
		Vector3D temp = new Vector3D();
		double mass = 1/this.inverseMass;
		double metricDiff = other_velocity.metric - velocity.metric;
		
		if(metricDiff!=0)
			other_velocity.scale(Math.pow(10, metricDiff));
		
		// 0 for inelastic collisions, 1 for elastic collisions
		temp.x = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.x-velocity.x) + mass*velocity.x + other_mass*other_velocity.x)/(mass+other_mass);
		temp.y = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.y-velocity.y) + mass*velocity.y + other_mass*other_velocity.y)/(mass+other_mass);
		temp.z = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.z-velocity.z) + mass*velocity.z + other_mass*other_velocity.z)/(mass+other_mass);
		temp.metric = velocity.metric;
		
		return temp;
		/*
		if (World.simulationLvlAtomic == true) {
			ArrayList&lt;Atom> atomList1 = this.atoms;
			ArrayList&lt;AbstractParticle[]> potentialContacts = new ArrayList&lt;>();
			Vector3D total_vel = new Vector3D();
			
			if(other instanceof Molecule){
				Molecule molecule = (Molecule) other;
				ArrayList&lt;Atom> atomList2 = molecule.atoms;
				for (Atom a: atomList1){
					for (Atom b: atomList2){
						double scale1 = Math.pow(10, a.getPosition().metric);
						double scale2 = Math.pow(10, b.getPosition().metric);
						double diff_x = a.getPosition().x * scale1 - b.getPosition().x * scale2;
						double diff_y = a.getPosition().y * scale1 - b.getPosition().y * scale2;
						double diff_z = a.getPosition().z * scale1 - b.getPosition().z * scale2;
						double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
						double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
						double r2 = ((BoundingSphere)(b.getBoundingPrimitive())).getRadius();
						double bond_length = 0.28E-9;
						if(min_dist &lt;= bond_length){
							System.out.println(&quot;The two molecules collided.&quot; + min_dist);
							AbstractParticle [] potentialContact = {a,b};
							potentialContacts.add(potentialContact);
						}
					}
				}
			}
			
			else if (other instanceof Atom){
				Atom atom = (Atom) other;
				for (Atom a: atomList1){
					double scale1 = Math.pow(10, a.getPosition().metric);
					double scale2 = Math.pow(10, atom.getPosition().metric);
					double diff_x = a.getPosition().x * scale1 - atom.getPosition().x * scale2;
					double diff_y = a.getPosition().y * scale1 - atom.getPosition().y * scale2;
					double diff_z = a.getPosition().z * scale1 - atom.getPosition().z * scale2;
					double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
					double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
					double r2 = ((BoundingSphere)(atom.getBoundingPrimitive())).getRadius();
					double bond_length = 0.28E-9;
					if(min_dist &lt;= bond_length){
						System.out.println(&quot;The molecule and the atom collided.&quot;);
						AbstractParticle [] potentialContact = {a,atom};
						potentialContacts.add(potentialContact);
					}
				}
				
			}
			
			for (AbstractParticle[] potentialContact : potentialContacts){
				AbstractParticle a1 = potentialContact[0];
				AbstractParticle a2 = potentialContact[1];
				Vector3D v1 = a1.calculateVelocityChange(a2, World.COEFFICENT_OF_RESTITUTION);
				total_vel.add(v1);
			}
			return total_vel;
		}	
		*/
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__FNkwO2SEeWnDaII1mfokg" name="getCentroid" visibility="private" method="__trS8O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuJ-2SEeWnDaII1mfokg">
                        <body>Get the centroid position of the molecule
	 * @return position</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jI24-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FNkwe2SEeWnDaII1mfokg" name="setPositionAsCentroid" method="__trS8u2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuKO2SEeWnDaII1mfokg">
                        <body>Set the postion of the molecule as the centroid of constituting atoms</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FOL0O2SEeWnDaII1mfokg" name="setNetCharge" method="__trS8-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__FOL0e2SEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FOy4O2SEeWnDaII1mfokg" name="setPosition" method="__trS9e2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__unuKe2SEeWnDaII1mfokg">
                        <body>Set the position of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FOy4e2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FOy4u2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FOy4-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FOy5O2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FPZ8O2SEeWnDaII1mfokg" name="setPosition" method="__tr6AO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVMO2SEeWnDaII1mfokg">
                        <body>Set the position of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FPZ8e2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FPZ8u2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FPZ8-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FQBAO2SEeWnDaII1mfokg" name="setVelocity" method="__tr6BO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVMe2SEeWnDaII1mfokg">
                        <body>Set the velocity of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FQBAe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FQBAu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FQBA-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FQoEO2SEeWnDaII1mfokg" name="setVelocity" method="__tr6CO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVMu2SEeWnDaII1mfokg">
                        <body>Set the velocity of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FQoEe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FQoEu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FQoE-2SEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__FQoFO2SEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FRPIO2SEeWnDaII1mfokg" name="integrate" method="__tshEu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVM-2SEeWnDaII1mfokg">
                        <body>Calculate acceleration, velocity and position of the molecule after the given duration</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FRPIe2SEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jIP0O2SEeWnDaII1mfokg" name="Molecule" method="__tqr5O2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__jI24O2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__jI24e2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__jIP0e2SEeWnDaII1mfokg" name="mol" type="__BOcoO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jI24u2SEeWnDaII1mfokg" type="__FLvkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jJd8O2SEeWnDaII1mfokg" name="setInverseInertiaTensor" method="__tshEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jJd8e2SEeWnDaII1mfokg" name="axisOfRotation" type="__CK30O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jKFAO2SEeWnDaII1mfokg" name="calculateVelocityChange" method="__tshFO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVNO2SEeWnDaII1mfokg">
                        <body>Calculate the velocity change after impact</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jKFAe2SEeWnDaII1mfokg" name="other" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jKFAu2SEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__jKFA-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__muWYO2SEeWnDaII1mfokg" name="Molecule" method="__tqr5-2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__muWYu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__muWY-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__unuJu2SEeWnDaII1mfokg">
                        <body>Construct a molecule given a lsit of atoms
	 * @param atoms</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__muWYe2SEeWnDaII1mfokg" name="atoms" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mu9cO2SEeWnDaII1mfokg" type="__FLvkO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FWHoO2SEeWnDaII1mfokg" name="NarrowCollisionDetector">
                    <ownedComment xmi:id="__uoVNe2SEeWnDaII1mfokg">
                      <body>@author waiyan
Narrow Phase Collision Detector determines which particles are about to be collided</body>
                    </ownedComment>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttIIO2SEeWnDaII1mfokg" name="detectCollision" specification="__mwLkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ttIIe2SEeWnDaII1mfokg" name="octTree" type="__FYj4O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ttIIu2SEeWnDaII1mfokg" name="activeParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ttII-2SEeWnDaII1mfokg" name="potentialContacts" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>potentialContacts.clear();
		ArrayList&lt;Integer> processedParticles = new ArrayList&lt;>();
		
		for (int i=0; i&lt; activeParticles.size(); i++){
			
			AbstractParticle a = activeParticles.get(i);
			processedParticles.add(a.getGUID());
			
			ArrayList &lt;AbstractParticle> neighbouringParticles = octTree.retrieve(a);
			ArrayList&lt;AbstractParticle> filteredParticles = filterNeighbouringParticles(neighbouringParticles, processedParticles);
			
			for (AbstractParticle b: filteredParticles){
	
				double scale1 = Math.pow(10, a.getPosition().metric);
				double scale2 = Math.pow(10, b.getPosition().metric);
				double diff_x = a.getPosition().x * scale1 - b.getPosition().x * scale2;
				double diff_y = a.getPosition().y * scale1 - b.getPosition().y * scale2;
				double diff_z = a.getPosition().z * scale1 - b.getPosition().z * scale2;
				
				double min_dist = Math.sqrt(diff_x*diff_x + diff_y*diff_y + diff_z*diff_z);
	//			double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
				
				double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
				double r2 = ((BoundingSphere)(b.getBoundingPrimitive())).getRadius();
				
	//			double bond_length = 0.28E-9;
				double bond_length = r1+r2;
				
				if(min_dist &lt;= bond_length){
				
		//			System.out.println(&quot;The two particles collided: &quot; + a.getGUID() +&quot; and &quot; + b.getGUID());
					AbstractParticle [] potentialContact = {a,b};
					potentialContacts.add(potentialContact);
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttIJO2SEeWnDaII1mfokg" name="filterNeighbouringParticles" specification="__myAwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ttIJe2SEeWnDaII1mfokg" name="neighbouringParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ttIJu2SEeWnDaII1mfokg" name="processedParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ttIJ-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList&lt;AbstractParticle> filteredParticles = new ArrayList&lt;>();
     for(AbstractParticle a: neighbouringParticles){
     	if(!processedParticles.contains(a.getGUID()))
     		filteredParticles.add(a);
      }
     return filteredParticles;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__mwLkO2SEeWnDaII1mfokg" name="detectCollision" method="__ttIIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__mwLke2SEeWnDaII1mfokg" name="octTree" type="__FYj4O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mwLku2SEeWnDaII1mfokg" name="activeParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mwyoO2SEeWnDaII1mfokg" name="potentialContacts" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__myAwO2SEeWnDaII1mfokg" name="filterNeighbouringParticles" visibility="private" method="__ttIJO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__myAwe2SEeWnDaII1mfokg" name="neighbouringParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__myAwu2SEeWnDaII1mfokg" name="processedParticles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__mzO4O2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FYj4O2SEeWnDaII1mfokg" name="OctTree">
                    <ownedComment xmi:id="__uoVNu2SEeWnDaII1mfokg">
                      <body>@author waiyan
OctTree stores the particles in the engine according to their positions</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qe1AO2SEeWnDaII1mfokg" name="MAX_PARTICLES" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qe1Ae2SEeWnDaII1mfokg" value="10"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qfcEe2SEeWnDaII1mfokg" name="MAX_DEPTH" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qgDIO2SEeWnDaII1mfokg" value="3"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qgDIu2SEeWnDaII1mfokg" name="nodes" visibility="private" type="__FYj4O2SEeWnDaII1mfokg" association="__wWzge2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__qgDI-2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qgqMu2SEeWnDaII1mfokg" name="particles" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__wXake2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qh4UO2SEeWnDaII1mfokg" name="centre" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__wYBoe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qh4Uu2SEeWnDaII1mfokg" name="depth" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qifYe2SEeWnDaII1mfokg" name="half_size" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttvMO2SEeWnDaII1mfokg" name="OctTree" specification="__FZyAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ttvMe2SEeWnDaII1mfokg" type="__FYj4O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>nodes = new OctTree[8];
	   particles = new ArrayList&lt;>();
    this.centre = new Vector3D(0,0,0);
    this.half_size = 100e-10;
    depth = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttvMu2SEeWnDaII1mfokg" name="OctTree" specification="__jMhQO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ttvM-2SEeWnDaII1mfokg" name="level">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__ttvNO2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__ttvNe2SEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__ttvNu2SEeWnDaII1mfokg" type="__FYj4O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>nodes = new OctTree[8];
	   particles = new ArrayList&lt;>();
    this.centre = centre;
    this.half_size = half_size;
    depth = level;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttvN-2SEeWnDaII1mfokg" name="getAllParticles" specification="__FbAIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__ttvOO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> particles = new ArrayList&lt;>();
		particles.addAll(this.particles);
		for(int i=0; i&lt;8; i++){
			if(nodes[0] == null)
				break;
			particles.addAll(nodes[i].getAllParticles());
		}
		return particles;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__ttvOe2SEeWnDaII1mfokg" name="clear" specification="__FcOQO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>particles.clear();
 
   for (int i = 0; i &lt; nodes.length; i++) {
     if (nodes[i] != null) {
       nodes[i].clear();
       nodes[i] = null;
     }
   }
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tuWQO2SEeWnDaII1mfokg" name="split" specification="__FcOQe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double x = centre.x;
		double y = centre.y;
		double z = centre.z;
    
		int new_depth = depth+1;
		double new_half_size = half_size*0.5;		 
   
		Vector3D c1 = new Vector3D(x-new_half_size, y-new_half_size, z-new_half_size);
		Vector3D c2 = new Vector3D(x-new_half_size, y-new_half_size, z+new_half_size);
		Vector3D c3 = new Vector3D(x-new_half_size, y+new_half_size, z-new_half_size);
		Vector3D c4 = new Vector3D(x-new_half_size, y+new_half_size, z+new_half_size);
		Vector3D c5 = new Vector3D(x+new_half_size, y-new_half_size, z-new_half_size);
		Vector3D c6 = new Vector3D(x+new_half_size, y-new_half_size, z+new_half_size);
		Vector3D c7 = new Vector3D(x+new_half_size, y+new_half_size, z-new_half_size);
		Vector3D c8 = new Vector3D(x+new_half_size, y+new_half_size, z+new_half_size);
    
		nodes[0] = new OctTree (new_depth, c1, new_half_size);
		nodes[1] = new OctTree (new_depth, c2, new_half_size);
		nodes[2] = new OctTree (new_depth, c3, new_half_size);
		nodes[3] = new OctTree (new_depth, c4, new_half_size);
		nodes[4] = new OctTree (new_depth, c5, new_half_size);
		nodes[5] = new OctTree (new_depth, c6, new_half_size);
    	nodes[6] = new OctTree (new_depth, c7, new_half_size);
    	nodes[7] = new OctTree (new_depth, c8, new_half_size);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tuWQe2SEeWnDaII1mfokg" name="getIndex" specification="__jNvYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tuWQu2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tuWQ-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = 0;
 	if (centre.x > this.centre.x)	index+=1;
 	if (centre.y > this.centre.y)	index+=2;
 	if (centre.z > this.centre.z)	index+=4;
 	 
 	if(centre.x == this.centre.x || centre.y == this.centre.y || centre.z == this.centre.z)
 		return -1;
 	 
 	return index;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tuWRO2SEeWnDaII1mfokg" name="insert" specification="__jOWcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tuWRe2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// if current node is not leaf, recursively find the leaf node to place particle 
		if (nodes[0] != null) {
		    int index = getIndex(particle.getPosition());
		    
		    // if not on axis
		    if(index != -1) {
		 //   	System.out.println(&quot;inserting to node &quot; + index);
		    	nodes[index].insert(particle);
		    	return;
		    }
		}
		particles.add(particle);
		//System.out.println(&quot;Tree depth:&quot; + depth + &quot; added Particle &quot; + ((Atom)(particle)).getAtomicSymbol());
		
		// if max. particle count is exceeded
		if(particles.size()>MAX_PARTICLES &amp;&amp; depth &lt; MAX_DEPTH) {
			if(nodes[0]==null) 
				split();
			
			int i =0;
			while(i&lt;particles.size()) {
				int index = getIndex(particles.get(i).getPosition());
			    // if not on axis
			    if(index != -1) {
			    	//System.out.println(&quot;Tree depth:&quot; + depth + &quot; removed Particle &quot; + ((Atom)(particles.get(i))).getAtomicSymbol());
			    	nodes[index].insert(particles.remove(i));
			    	 
			    }
			    else {
			    //	System.out.println(&quot;Tree depth:&quot; + depth + &quot; ignored Particle &quot; + ((Atom)(particles.get(i))).getAtomicSymbol());
			   	 	i++;
			    }
			}
		}
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tuWRu2SEeWnDaII1mfokg" name="retrieve" specification="__jOWcu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tuWR-2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tuWSO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> potentialContacts = new ArrayList&lt;>();
 	 int index = getIndex(particle.getPosition());
 	 if (index != -1 &amp;&amp; nodes[0] != null) {
 		 potentialContacts.addAll(nodes[index].retrieve(particle));
 	 }
 	 // can collide with all objects in this node
 	 potentialContacts.addAll(particles);
 	 potentialContacts.remove(particle);
      return potentialContacts;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tu9UO2SEeWnDaII1mfokg" name="remove" specification="__jPkkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tu9Ue2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tu9Uu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = getIndex(particle.getPosition());
 	 if (index != -1 &amp;&amp; nodes[0] != null) {
 		 return nodes[index].remove(particle);
	  	 }
 	 return particles.remove(particle);
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tu9U-2SEeWnDaII1mfokg" name="update" specification="__jQLoe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tu9VO2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(remove(particle))
 		 insert(particle);
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tu9Ve2SEeWnDaII1mfokg" name="updateAllActiveParticles" specification="__Fht0O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> particles = World.activeParticles;
 	 for(int i=0; i&lt; particles.size(); i++)
 		 update(particles.get(i));
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tu9Vu2SEeWnDaII1mfokg" name="getAllParticles" specification="__m1rIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tu9V-2SEeWnDaII1mfokg" name="particles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__tu9WO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>if (nodes[0] != null) {
 		 for(int i=0; i&lt;8; i++)
 			 nodes[i].getAllParticles(particles);
 	 }
 	 particles.addAll(this.particles);
 	 return particles;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tvkYO2SEeWnDaII1mfokg" name="printTree" specification="__jQysO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tvkYe2SEeWnDaII1mfokg" name="tree" type="__FYj4O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(tree.nodes[0] == null &amp;&amp; tree.particles.isEmpty())
 		  return;
 	    
		  System.out.println(&quot;=================\nDepth: &quot; + tree.depth);
		  System.out.println(&quot;centre: (&quot; + tree.centre.x + &quot;, &quot; + tree.centre.y + &quot;, &quot; + tree.centre.z + &quot;)&quot;);
		  for(AbstractParticle p: tree.particles)
			  System.out.println(&quot;Particle: &quot; + ((Atom)p).getAtomicSymbol());
 	  
		  if(tree.nodes[0]!=null) {
			  for (int i=0; i&lt;8; i++) {
 			  printTree(tree.nodes[i]);
 		  }
 	  }
   </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__FZyAO2SEeWnDaII1mfokg" name="OctTree" method="__ttvMO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__FZyAe2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__FZyAu2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__uoVN-2SEeWnDaII1mfokg">
                        <body>Construct a default oct-tree</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__FZyA-2SEeWnDaII1mfokg" type="__FYj4O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FbAIO2SEeWnDaII1mfokg" name="getAllParticles" method="__ttvN-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVOe2SEeWnDaII1mfokg">
                        <body>Return all particles in the oct-tree
	 * @return particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__m1EEO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FcOQO2SEeWnDaII1mfokg" name="clear" method="__ttvOe2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVOu2SEeWnDaII1mfokg">
                        <body>Clear all particles in the oct-tree</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__FcOQe2SEeWnDaII1mfokg" name="split" visibility="private" method="__tuWQO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uoVO-2SEeWnDaII1mfokg">
                        <body>Splits the node into 8 subnodes</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Fht0O2SEeWnDaII1mfokg" name="updateAllActiveParticles" method="__tu9Ve2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8Re2SEeWnDaII1mfokg">
                        <body>Update all active particles in the engine</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jMhQO2SEeWnDaII1mfokg" name="OctTree" method="__ttvMu2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__jNIU-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__jNIVO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__uoVOO2SEeWnDaII1mfokg">
                        <body>Construct a OctTree with the given level and size
	 * @param level
	 * @param centre
	 * @param half_size</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jNIUO2SEeWnDaII1mfokg" name="level">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__jNIUe2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jNIUu2SEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__jNIVe2SEeWnDaII1mfokg" type="__FYj4O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jNvYO2SEeWnDaII1mfokg" name="getIndex" visibility="private" method="__tuWQe2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8QO2SEeWnDaII1mfokg">
                        <body>Get the index of the child node where the given co-ordinate is located
	 * @param centre
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jNvYe2SEeWnDaII1mfokg" name="centre" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jNvYu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jOWcO2SEeWnDaII1mfokg" name="insert" method="__tuWRO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8Qe2SEeWnDaII1mfokg">
                        <body>Insert a new particle into the oct-tree
     * @param particle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jOWce2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jOWcu2SEeWnDaII1mfokg" name="retrieve" method="__tuWRu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8Qu2SEeWnDaII1mfokg">
                        <body>Return all objects that could collide with the given object</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jOWc-2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__m1EEe2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jPkkO2SEeWnDaII1mfokg" name="remove" method="__tu9UO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8Q-2SEeWnDaII1mfokg">
                        <body>Remove the given particle from the oct-tree
      * @param particle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jPkke2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jQLoO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jQLoe2SEeWnDaII1mfokg" name="update" method="__tu9U-2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8RO2SEeWnDaII1mfokg">
                        <body>Update the given particle
      * @param particle
      * @param old_position</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jQLou2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jQysO2SEeWnDaII1mfokg" name="printTree" method="__tvkYO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8R-2SEeWnDaII1mfokg">
                        <body>Print the oct-tree
      * @param tree</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jQyse2SEeWnDaII1mfokg" name="tree" type="__FYj4O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__m1rIO2SEeWnDaII1mfokg" name="getAllParticles" method="__tu9Vu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uo8Ru2SEeWnDaII1mfokg">
                        <body>Get all particles that are in the same node, child nodes and parent node of the given particle
      * @param particles
      * @return particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__m1rIe2SEeWnDaII1mfokg" name="particles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__m2SMe2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__FmmUO2SEeWnDaII1mfokg" name="Units">
                    <ownedComment xmi:id="__uo8SO2SEeWnDaII1mfokg">
                      <body>@author waiyan
Enum variables for Distance, Mass and Time</body>
                    </ownedComment>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__FnNYO2SEeWnDaII1mfokg" name="DISTANCE">
                      <ownedAttribute xmi:id="__qjtgO2SEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="__FppoO2SEeWnDaII1mfokg" name="DISTANCE" visibility="private" method="__tvkYu2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__FqQse2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__FqQsu2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__FqQsO2SEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__FqQs-2SEeWnDaII1mfokg" type="__FnNYO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__Fq3wO2SEeWnDaII1mfokg" name="value" visibility="package" method="__tvkZe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__Fq3we2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__jTO8O2SEeWnDaII1mfokg" name="convert" visibility="package" method="__twLce2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__jTO8e2SEeWnDaII1mfokg" name="from" type="__FnNYO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__jTO8u2SEeWnDaII1mfokg" name="to" type="__FnNYO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__jT2AO2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="__FnNYe2SEeWnDaII1mfokg" name="m">
                        <specification xmi:type="uml:Expression" xmi:id="__FnNYu2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uo8Se2SEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fn0cO2SEeWnDaII1mfokg" name="mm">
                        <specification xmi:type="uml:Expression" xmi:id="__Fn0ce2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uo8Su2SEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fn0cu2SEeWnDaII1mfokg" name="m">
                        <specification xmi:type="uml:Expression" xmi:id="__Fn0c-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uo8S-2SEeWnDaII1mfokg" value="1e-6"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fn0dO2SEeWnDaII1mfokg" name="nm">
                        <specification xmi:type="uml:Expression" xmi:id="__Fn0de2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjUO2SEeWnDaII1mfokg" value="1e-9"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fn0du2SEeWnDaII1mfokg" name="A">
                        <specification xmi:type="uml:Expression" xmi:id="__Fn0d-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjUe2SEeWnDaII1mfokg" value="1e-10"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fn0eO2SEeWnDaII1mfokg" name="pm">
                        <specification xmi:type="uml:Expression" xmi:id="__FobgO2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjUu2SEeWnDaII1mfokg" value="1e-12"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fobge2SEeWnDaII1mfokg" name="fm">
                        <specification xmi:type="uml:Expression" xmi:id="__Fobgu2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjU-2SEeWnDaII1mfokg" value="1e-15"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fobg-2SEeWnDaII1mfokg" name="am">
                        <specification xmi:type="uml:Expression" xmi:id="__FobhO2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjVO2SEeWnDaII1mfokg" value="1e-18"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__Fss8O2SEeWnDaII1mfokg" name="MASS">
                      <ownedAttribute xmi:id="__qk7oO2SEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="__FuiIO2SEeWnDaII1mfokg" name="MASS" visibility="private" method="__twLde2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__FuiIu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__FuiI-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__FuiIe2SEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__FuiJO2SEeWnDaII1mfokg" type="__Fss8O2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__FuiJe2SEeWnDaII1mfokg" name="value" visibility="package" method="__twLeO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__FvJMO2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="__FtUAO2SEeWnDaII1mfokg" name="amu">
                        <specification xmi:type="uml:Expression" xmi:id="__FtUAe2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjVe2SEeWnDaII1mfokg" value="1.66053892e-27"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__FtUAu2SEeWnDaII1mfokg" name="g">
                        <specification xmi:type="uml:Expression" xmi:id="__FtUA-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjVu2SEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__FtUBO2SEeWnDaII1mfokg" name="kg">
                        <specification xmi:type="uml:Expression" xmi:id="__FtUBe2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjV-2SEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__FvwQO2SEeWnDaII1mfokg" name="TIME">
                      <ownedAttribute xmi:id="__qlisO2SEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="__FyzkO2SEeWnDaII1mfokg" name="TIME" visibility="private" method="__twygO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__Fyzku2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__Fyzk-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__Fyzke2SEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__FyzlO2SEeWnDaII1mfokg" type="__FvwQO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__FzaoO2SEeWnDaII1mfokg" name="value" visibility="package" method="__twyg-2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__Fzaoe2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="__FwXUO2SEeWnDaII1mfokg" name="s">
                        <specification xmi:type="uml:Expression" xmi:id="__FwXUe2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__upjWO2SEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fw-YO2SEeWnDaII1mfokg" name="ms">
                        <specification xmi:type="uml:Expression" xmi:id="__Fw-Ye2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKYO2SEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fw-Yu2SEeWnDaII1mfokg" name="s">
                        <specification xmi:type="uml:Expression" xmi:id="__Fw-Y-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKYe2SEeWnDaII1mfokg" value="1e-6"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fw-ZO2SEeWnDaII1mfokg" name="ns">
                        <specification xmi:type="uml:Expression" xmi:id="__Fw-Ze2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKYu2SEeWnDaII1mfokg" value="1e-9"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__FxlcO2SEeWnDaII1mfokg" name="ps">
                        <specification xmi:type="uml:Expression" xmi:id="__Fxlce2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKY-2SEeWnDaII1mfokg" value="1e-12"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fxlcu2SEeWnDaII1mfokg" name="fs">
                        <specification xmi:type="uml:Expression" xmi:id="__Fxlc-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKZO2SEeWnDaII1mfokg" value="1e-15"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__FxldO2SEeWnDaII1mfokg" name="as">
                        <specification xmi:type="uml:Expression" xmi:id="__Fxlde2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKZe2SEeWnDaII1mfokg" value="1e-18"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="__Fxldu2SEeWnDaII1mfokg" name="zs">
                        <specification xmi:type="uml:Expression" xmi:id="__Fxld-2SEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="__uqKZu2SEeWnDaII1mfokg" value="1e-21"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__F2d8O2SEeWnDaII1mfokg" name="VdWForce">
                    <ownedComment xmi:id="__uqKZ-2SEeWnDaII1mfokg">
                      <body>Return VdW force experienced by particle1 due to particle2
@param particle1 (requires BoundingSphere radius)
@param particle2 (requires BoundingSphere radius)
@return VdWForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qmw0O2SEeWnDaII1mfokg" name="vdwForce" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__wYose2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__jVEIO2SEeWnDaII1mfokg" client="__F2d8O2SEeWnDaII1mfokg" supplier="__E4NkO2SEeWnDaII1mfokg" contract="__E4NkO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__twyhe2SEeWnDaII1mfokg" name="VdWForce" specification="__jVrMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__twyhu2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__twyh-2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__twyiO2SEeWnDaII1mfokg" type="__F2d8O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>vdwForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__txZkO2SEeWnDaII1mfokg" name="getForce" specification="__F3sEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__txZke2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return vdwForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__txZku2SEeWnDaII1mfokg" name="getNegativeForce" specification="__F3sEe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__txZk-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return vdwForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__txZlO2SEeWnDaII1mfokg" name="calculateForce" specification="__jWSQu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__txZle2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__txZlu2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__txZl-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double Hamaker_coefficient = 1e-19; //can be positive or negative in sign depending on the intervening medium?
		
		BoundingPrimitive bp1 = particle1.getBoundingPrimitive();
		BoundingPrimitive bp2 = particle2.getBoundingPrimitive();
		
		if(bp1 instanceof BoundingSphere &amp;&amp; bp2 instanceof BoundingSphere){
			BoundingSphere bs1 = (BoundingSphere) bp1;
			BoundingSphere bs2 = (BoundingSphere) bp2;
			double r1 = bs1.getRadius();
			double r2 = bs2.getRadius();
			
			Vector3D distanceVector = new Vector3D(particle1.getPosition());
			distanceVector.subtract(particle2.getPosition());
			double sq_distance = distanceVector.getSquaredMagnitude();
			
			double term1 = 2*r1*r2 / (sq_distance - (r1+r2)*(r1+r2));
			double term2 = 2*r1*r2 / (sq_distance - (r1-r2)*(r1-r2));
			double term3 = Math.log ((sq_distance - (r1+r2)*(r1+r2))/(sq_distance - (r1-r2)*(r1-r2)));
			double VdWScalar = -Hamaker_coefficient/6*(term1 + term2 + term3);
			
			distanceVector.normalize();
			distanceVector.scale(VdWScalar);
			return distanceVector;
		}
		return new Vector3D();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__F3sEO2SEeWnDaII1mfokg" name="getForce" method="__txZkO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jWSQO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__F3sEe2SEeWnDaII1mfokg" name="getNegativeForce" method="__txZku2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jWSQe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jVrMO2SEeWnDaII1mfokg" name="VdWForce" method="__twyhe2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__jVrM-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__jVrNO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__jVrMe2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jVrMu2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jVrNe2SEeWnDaII1mfokg" type="__F2d8O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jWSQu2SEeWnDaII1mfokg" name="calculateForce" method="__txZlO2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__uqKaO2SEeWnDaII1mfokg">
                        <body>Calculate the vdW force between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__jWSQ-2SEeWnDaII1mfokg" name="particle1" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jWSRO2SEeWnDaII1mfokg" name="particle2" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__jWSRe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__F6IUO2SEeWnDaII1mfokg" name="World">
                    <ownedComment xmi:id="__uqKae2SEeWnDaII1mfokg">
                      <body>@author waiyan
Main class of the physics engine</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="__qnX4O2SEeWnDaII1mfokg" name="COEFFICENT_OF_RESTITUTION" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qnX4e2SEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qn-8O2SEeWnDaII1mfokg" name="simlvl" isStatic="true" type="__F7WcO2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qomAO2SEeWnDaII1mfokg" value="SimulationLevel.Atomic"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qpNE-2SEeWnDaII1mfokg" name="simulationLvlAtomic" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qpNFO2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qp0Ie2SEeWnDaII1mfokg" name="simulationLvlPartial" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qp0Iu2SEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qqbMe2SEeWnDaII1mfokg" name="electricForceActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qqbMu2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qqbNO2SEeWnDaII1mfokg" name="LJForceActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qrCQO2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qrCQu2SEeWnDaII1mfokg" name="frameTime_as" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qrCQ-2SEeWnDaII1mfokg" value="50"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qrpUO2SEeWnDaII1mfokg" name="debugRotate" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qrpUe2SEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qrpU-2SEeWnDaII1mfokg" name="inputFilePaths" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wZPwe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qs3ce2SEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qtehe2SEeWnDaII1mfokg" name="outputFilePath" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__quFkO2SEeWnDaII1mfokg" value="&quot;output.txt&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qusoe2SEeWnDaII1mfokg" name="displayUI" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qusou2SEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qvTtO2SEeWnDaII1mfokg" name="particleCount" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qvTte2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qv6we2SEeWnDaII1mfokg" name="simulationStatus" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qv6wu2SEeWnDaII1mfokg" value="&quot;running&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qv6xO2SEeWnDaII1mfokg" name="countDownLatch" isStatic="true" type="__jXgYO2SEeWnDaII1mfokg" association="__wZ20e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__qwh0e2SEeWnDaII1mfokg" name="allParticlesActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qwh0u2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qxI4O2SEeWnDaII1mfokg" name="distance_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qxI4e2SEeWnDaII1mfokg" value="DISTANCE.m.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qxI4-2SEeWnDaII1mfokg" name="time_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qxI5O2SEeWnDaII1mfokg" value="TIME.as.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qxv8e2SEeWnDaII1mfokg" name="mass_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qxv8u2SEeWnDaII1mfokg" value="MASS.kg.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qyXAO2SEeWnDaII1mfokg" name="activeParticles" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wad4e2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qy-EO2SEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__qy-Eu2SEeWnDaII1mfokg" name="allAtoms" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wbE8e2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__qzlIe2SEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q0MMO2SEeWnDaII1mfokg" name="allMolecules" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wbsAe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q0MMu2SEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q0zQe2SEeWnDaII1mfokg" name="potentialContacts" isStatic="true" type="__fyn8O2SEeWnDaII1mfokg" association="__wcTEe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q1aUe2SEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q1aU-2SEeWnDaII1mfokg" name="registry" isStatic="true" type="__E7Q4O2SEeWnDaII1mfokg" association="__wc6Ie2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q2BYO2SEeWnDaII1mfokg" value="new ForceRegistry()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q2ocO2SEeWnDaII1mfokg" name="octTree" isStatic="true" type="__FYj4O2SEeWnDaII1mfokg" association="__wdhMe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q2oce2SEeWnDaII1mfokg" value="new OctTree()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q3PgO2SEeWnDaII1mfokg" name="detector" isStatic="true" type="__FWHoO2SEeWnDaII1mfokg" association="__weIQe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q3Pge2SEeWnDaII1mfokg" value="new NarrowCollisionDetector()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q3Pg-2SEeWnDaII1mfokg" name="resolver" isStatic="true" type="__EyuAO2SEeWnDaII1mfokg" association="__wevUe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__q3PhO2SEeWnDaII1mfokg" value="new ContactResolver()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q32ke2SEeWnDaII1mfokg" name="initialPositions" isStatic="true" type="__f25YO2SEeWnDaII1mfokg" association="__wfWYe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q4dou2SEeWnDaII1mfokg" name="editor" isStatic="true" type="__C868O2SEeWnDaII1mfokg" association="__wf9ce2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q5Ese2SEeWnDaII1mfokg" name="window" isStatic="true" type="__GW0QO2SEeWnDaII1mfokg" association="__wgkge2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q5Es-2SEeWnDaII1mfokg" name="outputStream" isStatic="true" type="__hqQMO2SEeWnDaII1mfokg" association="__whLke2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q5rwe2SEeWnDaII1mfokg" name="defaultStream" isStatic="true" type="__hqQMO2SEeWnDaII1mfokg" association="__whyoe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q5rw-2SEeWnDaII1mfokg" name="dummyStream" isStatic="true" type="__hqQMO2SEeWnDaII1mfokg" association="__wiZsO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q6S0e2SEeWnDaII1mfokg" name="startTime" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q654O2SEeWnDaII1mfokg" name="endTime" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__q654u2SEeWnDaII1mfokg" name="duration" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tyAoO2SEeWnDaII1mfokg" name="main" specification="__F_n4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tyAoe2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tyAou2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>new World().parseArguments(args);
			
		defaultStream = System.out;
		outputStream = new PrintStream(new BufferedOutputStream(new FileOutputStream(outputFilePath)));
		dummyStream    = new PrintStream (new OutputStream(){
		    @Override
			public void write(int b) {
		        //NO-OP
		    }
		});
		
		startTime = System.nanoTime();
		for (String filePath: inputFilePaths){
			parsePDB(filePath);
		}
		
		endTime = System.nanoTime();
		duration = (endTime - startTime);  
		System.out.println(&quot;Time taken to load particles: &quot; + duration/1000);
		startTime = System.nanoTime();
	
			
		ArrayList&lt;AbstractParticle> rotateTestAtoms = new ArrayList&lt;>();
		if(debugRotate) {
			rotateTestAtoms.add(allAtoms.get(5));
			rotateTestAtoms.add(allAtoms.get(6));
			rotateTestAtoms.add(allAtoms.get(7));
			rotateTestAtoms.add(allAtoms.get(8));
		}	

		// check simulation level
		checkSimulationLevel();
		
		// checks which particles will be involved in calculations
		checkForActiveParticles();
		
		if(displayUI){
			 System.setOut(dummyStream);
			 window = new MainWindow();
			 window.getMediator().displayParticles(octTree.getAllParticles());
			 System.setOut(outputStream);
			 initialPositions = new HashMap&lt;>();
			 for (AbstractParticle particle: allAtoms){
				 Vector3D temp = particle.getPosition();
				 initialPositions.put(particle.getGUID(), new Vector3D(temp.x, temp.y, temp.z));
			 }
			 for (AbstractParticle particle: allMolecules){
				 Vector3D temp = particle.getPosition();
				 initialPositions.put(particle.getGUID(), new Vector3D(temp.x, temp.y, temp.z));
			 }
		}
		else {
			System.setOut(outputStream);
		}
		
		int i = 0;
		
		while(true) {
	
			System.out.println(&quot;\nFrame: &quot; + i);
//			startTime = System.nanoTime();
			
			// Applying Forces		
			registry.updateAllForces(activeParticles);
			
			for(AbstractParticle particle: activeParticles){
				if(simulationLvlAtomic)
					particle.integrate(frameTime_as*time_metric);	
				else {
					if(!simulationLvlPartial)
						particle.integrate(i*frameTime_as*time_metric);
					else
						particle.integrate(frameTime_as*time_metric);
				}
				printParticleStatus(particle);
			}
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken to update forces: &quot; + duration/1000);
//			startTime = System.nanoTime();

			// Update tree only after integration
			octTree.updateAllActiveParticles();
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken for broad phase: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			// Collision Detection 
			detector.detectCollision(octTree, activeParticles, potentialContacts);    	 
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken for narrow phase: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			// Resolve Collisions and set active particles
			resolver.resolveContacts(potentialContacts);	
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken to resolve: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			if(displayUI){
			//	AbstractParticle [] temp_particles = activeParticles.toArray(new AbstractParticle[activeParticles.size()]);
			//	editor.getMediator().notifyUpdated(temp_particles);
				if(i%100 == 0){
					System.setOut(dummyStream);
					// Test Rotation
					if(debugRotate &amp;&amp; (simulationLvlAtomic || !simulationLvlAtomic &amp;&amp; simulationLvlPartial))
						testRotate(rotateTestAtoms);
					
					window.getMediator().displayParticles(octTree.getAllParticles());
					System.setOut(outputStream);
				}
				
				if(simulationStatus.equals(&quot;restart&quot;)){
					checkSimulationLevel();
					restartSimulation();
					simulationStatus = &quot;running&quot;;
					i=0;
				}
				
				else if(simulationStatus.equals(&quot;changed&quot;)){
					
					checkSimulationLevel();
					restartSimulation();
					simulationStatus = &quot;running&quot;;
					//i=0;
				}
				
				else if(simulationStatus.equals(&quot;paused&quot;)){
					i--;
					countDownLatch = new CountDownLatch(1);
					countDownLatch.await(Long.MAX_VALUE, TimeUnit.MILLISECONDS);
				}
			}
			
			i++;
			if(i > 10000 &amp;&amp; simulationLvlAtomic || i>20000 &amp;&amp; !simulationLvlAtomic) {
				simulationStatus = &quot;restart&quot;;
				break;
			}
		}
		outputStream.flush();
		
		if(!displayUI)
			new UpdateRegistry().displayParticles(octTree.getAllParticles());
		
		System.setOut(defaultStream);
		endTime = System.nanoTime();
		duration = (endTime - startTime); 
		System.out.println(&quot;Time taken to end: &quot; + duration/1000);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tyAo-2SEeWnDaII1mfokg" name="markAsActive" specification="__jc_8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tyApO2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>for (int index =0; index&lt; World.activeParticles.size(); index++){
			if(World.activeParticles.get(index).getGUID() == particle.getGUID()) {
				return;
			}
		}

		World.activeParticles.add(particle);
		Vector3D temp = new Vector3D();
		temp.x = particle.getPosition().x;
		temp.y = particle.getPosition().y;
		temp.z = particle.getPosition().z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tyApe2SEeWnDaII1mfokg" name="checkForActiveParticles" specification="__GAO8e2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>World.activeParticles.clear();
		ArrayList &lt;AbstractParticle> particles = new ArrayList&lt;>();
		octTree.getAllParticles(particles);
		
		for(AbstractParticle particle: particles)
			markAsActive(particle);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tynsO2SEeWnDaII1mfokg" name="resetActiveParticlesVelocities" specification="__GA2AO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(AbstractParticle particle: activeParticles)
			particle.setVelocity(0, 0, 0);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tynse2SEeWnDaII1mfokg" name="printParticleStatus" specification="__jdnAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tynsu2SEeWnDaII1mfokg" name="p" type="_-_glYO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>System.out.print(&quot;Particle &quot; + p.getGUID() + &quot;\t&quot; +p.getPosition().print()+&quot;\n&quot;);
		//System.out.print(&quot;Particle &quot; + p.getGUID() + &quot;\t&quot; + p.getVelocity().print()+&quot;\t&quot;);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tyns-2SEeWnDaII1mfokg" name="restartSimulation" specification="__GA2Ae2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (AbstractParticle particle: octTree.getAllParticles()) {
			Vector3D pos = initialPositions.get(particle.getGUID());
			if (particle instanceof Atom)
				particle.setPosition(pos.x, pos.y, pos.z);
			else if (particle instanceof Molecule)
				((sg.edu.ntu.aalhossary.fyp2014.physics_engine.core.Molecule) particle).setPositionAsCentroid();
			particle.setVelocity(0, 0, 0);
		}
		
		checkForActiveParticles();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tyntO2SEeWnDaII1mfokg" name="checkSimulationLevel" specification="__GBdEO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>octTree.clear();
		if(simulationLvlAtomic) {
			for(AbstractParticle particle: allAtoms) {
				octTree.insert(particle);
			}
		}
		else {
			for(AbstractParticle particle: allMolecules) {
				octTree.insert(particle);
			}
			if(simulationLvlPartial){
				octTree.clear();
				for(AbstractParticle particle: ((sg.edu.ntu.aalhossary.fyp2014.physics_engine.core.Molecule)allMolecules.get(0)).getAtoms()) {
					octTree.insert(particle);
				}
				
				for(int i=1; i&lt;allMolecules.size(); i++) {
					octTree.insert(allMolecules.get(i));
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tynte2SEeWnDaII1mfokg" name="parseArguments" specification="__GCrMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tyntu2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__tynt-2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>CmdLineParser parser = new CmdLineParser(this);
		 parser.setUsageWidth(100);
		 try {
			 parser.parseArgument(args);
			 System.out.println(&quot;Output will be logged at &quot; + outputFilePath);
			 
			if(inputFilePaths.isEmpty())
				 inputFilePaths.add(&quot;lysine.pdb&quot;);
			 
			 switch (simlvl) {
				case Atomic: 	simulationLvlAtomic = true;
								break;
				case Molecular: simulationLvlAtomic = false;
								simulationLvlPartial = false;
								break;
				case Partial:	simulationLvlAtomic = false;
								simulationLvlPartial = true;
								break;
			}	
		 }
		 catch(CmdLineException e) {
			 System.err.println(e.getMessage());
			 System.err.println(&quot;java World [options...] arguments...&quot;);
			 parser.printUsage(System.err);
			 System.err.println();
			 System.exit(0);
		 }
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tzOwO2SEeWnDaII1mfokg" name="testRotate" specification="__m7xwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tzOwe2SEeWnDaII1mfokg" name="particles" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Vector3D axis = new Vector3D(1,0,0);
		for(AbstractParticle particle: particles) {
			particle.rotateAroundAxis(axis, 1);
		//	markAsActive(particle);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tzOwu2SEeWnDaII1mfokg" name="parsePDB" specification="__GD5Ue2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tzOw-2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>try {
			InputStream ir = World.class.getResourceAsStream(filePath);
			BufferedReader br = new BufferedReader(new InputStreamReader(ir));
			String line = br.readLine();	// MODEL
			while(line!=null){
				ArrayList &lt;Atom> atoms = new ArrayList&lt;>();
				line = br.readLine();		// HETATM
				while(!line.equals(&quot;ENDMDL&quot;) &amp;&amp; !line.equals(&quot;END&quot;)){
					System.out.println(&quot;Parsing &quot; + line);
					double x = Double.parseDouble(line.substring(30, 38)) * 1e-10;
					double y = Double.parseDouble(line.substring(38, 46)) * 1e-10;
					double z = Double.parseDouble(line.substring(46, 54)) * 1e-10;
					int charge = Integer.parseInt(line.substring(78));
					AbstractParticle particle = new Atom(line.substring(12, 16).replace(&quot; &quot;, &quot;&quot;));
					particle.setPosition(x, y, z);
					particle.setNetCharge(charge);
					allAtoms.add(particle);
					atoms.add((Atom)particle);
					line = br.readLine();
				}
				Molecule molecule = new Molecule(atoms);
				allMolecules.add(molecule);
				line = br.readLine();
			}
			
			
			
			/*
			
			File file = new File(filePath);
			Structure struc = DataManager.readFile(file.getAbsolutePath());
			UpdateRegistry reg = new UpdateRegistry();
			reg.createUserModel(struc);
			
			List&lt;Model> models = reg.getModelList();
			for (Model model : models) {
				//upgrade molecules
				ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule> molecules = model.getMolecules();
				ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule> newMolecules= new ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule>(); 
				for (sg.edu.ntu.aalhossary.fyp2014.common.Molecule molecule : molecules) {
					Molecule newMolecule = new Molecule(molecule);
					newMolecules.add(newMolecule);
					for(Atom atom: newMolecule.getAtoms()) {
						allAtoms.add(atom);
					}
				}
				model.setMolecules(newMolecules);
				allMolecules.addAll(newMolecules);
			}
			*/
			 
		} catch (Exception e) {
			
			e.printStackTrace();
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__F_n4O2SEeWnDaII1mfokg" name="main" isStatic="true" method="__tyAoO2SEeWnDaII1mfokg" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__F_n4e2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__GAO8O2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__GAO8e2SEeWnDaII1mfokg" name="checkForActiveParticles" isStatic="true" method="__tyApe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__GA2AO2SEeWnDaII1mfokg" name="resetActiveParticlesVelocities" isStatic="true" method="__tynsO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__GA2Ae2SEeWnDaII1mfokg" name="restartSimulation" visibility="private" isStatic="true" method="__tyns-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__GBdEO2SEeWnDaII1mfokg" name="checkSimulationLevel" visibility="private" isStatic="true" method="__tyntO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__GBdEe2SEeWnDaII1mfokg" name="setCommand" isStatic="true" raisedException="__mnBoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__GBdEu2SEeWnDaII1mfokg" name="command">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__GCrMO2SEeWnDaII1mfokg" name="parseArguments" method="__tynte2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__GCrMe2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__GDSQO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__GD5Ue2SEeWnDaII1mfokg" name="parsePDB" visibility="private" isStatic="true" method="__tzOwu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__GD5Uu2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jc_8O2SEeWnDaII1mfokg" name="markAsActive" isStatic="true" method="__tyAo-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jc_8e2SEeWnDaII1mfokg" name="particle" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__jdnAO2SEeWnDaII1mfokg" name="printParticleStatus" visibility="private" isStatic="true" method="__tynse2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__jdnAe2SEeWnDaII1mfokg" name="p" type="_-_glYO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__m7xwO2SEeWnDaII1mfokg" name="testRotate" visibility="private" isStatic="true" method="__tzOwO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__m7xwe2SEeWnDaII1mfokg" name="particles" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__F7WcO2SEeWnDaII1mfokg" name="SimulationLevel" visibility="package">
                      <ownedLiteral xmi:id="__F79ge2SEeWnDaII1mfokg" name="Atomic"/>
                      <ownedLiteral xmi:id="__F8kkO2SEeWnDaII1mfokg" name="Molecular"/>
                      <ownedLiteral xmi:id="__F8kke2SEeWnDaII1mfokg" name="Partial"/>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__vkwYO2SEeWnDaII1mfokg" name="" memberEnd="__vkwYe2SEeWnDaII1mfokg __E5bsO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__vkwYe2SEeWnDaII1mfokg" name="" type="__E4NkO2SEeWnDaII1mfokg" association="__vkwYO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__vlXce2SEeWnDaII1mfokg" name="" memberEnd="__vl-gO2SEeWnDaII1mfokg __E6CwO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__vl-gO2SEeWnDaII1mfokg" name="" type="__E4NkO2SEeWnDaII1mfokg" association="__vlXce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wTJIe2SEeWnDaII1mfokg" name="" memberEnd="__wTJIu2SEeWnDaII1mfokg __qXgQO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wTJIu2SEeWnDaII1mfokg" name="" type="__Ez8IO2SEeWnDaII1mfokg" association="__wTJIe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wTJJO2SEeWnDaII1mfokg" name="" memberEnd="__wTJJe2SEeWnDaII1mfokg __qYuYO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wTJJe2SEeWnDaII1mfokg" name="" type="__E7Q4O2SEeWnDaII1mfokg" association="__wTJJO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wTwMe2SEeWnDaII1mfokg" name="" memberEnd="__wTwMu2SEeWnDaII1mfokg __qZ8ge2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wTwMu2SEeWnDaII1mfokg" name="" type="__FAwcO2SEeWnDaII1mfokg" association="__wTwMe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wUXQe2SEeWnDaII1mfokg" name="" memberEnd="__wUXQu2SEeWnDaII1mfokg __qajkO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wUXQu2SEeWnDaII1mfokg" name="" type="__FAwcO2SEeWnDaII1mfokg" association="__wUXQe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wU-Ue2SEeWnDaII1mfokg" name="" memberEnd="__wU-Uu2SEeWnDaII1mfokg __qbKo-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wU-Uu2SEeWnDaII1mfokg" name="" type="__FAwcO2SEeWnDaII1mfokg" association="__wU-Ue2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wVlYe2SEeWnDaII1mfokg" name="" memberEnd="__wVlYu2SEeWnDaII1mfokg __qc_0O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wVlYu2SEeWnDaII1mfokg" name="" type="__FIFMO2SEeWnDaII1mfokg" association="__wVlYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wWMce2SEeWnDaII1mfokg" name="" memberEnd="__wWMcu2SEeWnDaII1mfokg __qdm4-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wWMcu2SEeWnDaII1mfokg" name="" type="__FLvkO2SEeWnDaII1mfokg" association="__wWMce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wWzge2SEeWnDaII1mfokg" name="" memberEnd="__wWzgu2SEeWnDaII1mfokg __qgDIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wWzgu2SEeWnDaII1mfokg" name="" type="__FYj4O2SEeWnDaII1mfokg" association="__wWzge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wXake2SEeWnDaII1mfokg" name="" memberEnd="__wXaku2SEeWnDaII1mfokg __qgqMu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wXaku2SEeWnDaII1mfokg" name="" type="__FYj4O2SEeWnDaII1mfokg" association="__wXake2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wYBoe2SEeWnDaII1mfokg" name="" memberEnd="__wYBou2SEeWnDaII1mfokg __qh4UO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wYBou2SEeWnDaII1mfokg" name="" type="__FYj4O2SEeWnDaII1mfokg" association="__wYBoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wYose2SEeWnDaII1mfokg" name="" memberEnd="__wYosu2SEeWnDaII1mfokg __qmw0O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wYosu2SEeWnDaII1mfokg" name="" type="__F2d8O2SEeWnDaII1mfokg" association="__wYose2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wZPwe2SEeWnDaII1mfokg" name="" memberEnd="__wZPwu2SEeWnDaII1mfokg __qrpU-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wZPwu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wZPwe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wZ20e2SEeWnDaII1mfokg" name="" memberEnd="__wZ20u2SEeWnDaII1mfokg __qv6xO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wZ20u2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wZ20e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wad4e2SEeWnDaII1mfokg" name="" memberEnd="__wad4u2SEeWnDaII1mfokg __qyXAO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wad4u2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wad4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wbE8e2SEeWnDaII1mfokg" name="" memberEnd="__wbE8u2SEeWnDaII1mfokg __qy-Eu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wbE8u2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wbE8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wbsAe2SEeWnDaII1mfokg" name="" memberEnd="__wbsAu2SEeWnDaII1mfokg __q0MMO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wbsAu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wbsAe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wcTEe2SEeWnDaII1mfokg" name="" memberEnd="__wcTEu2SEeWnDaII1mfokg __q0zQe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wcTEu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wcTEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wc6Ie2SEeWnDaII1mfokg" name="" memberEnd="__wc6Iu2SEeWnDaII1mfokg __q1aU-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wc6Iu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wc6Ie2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wdhMe2SEeWnDaII1mfokg" name="" memberEnd="__wdhMu2SEeWnDaII1mfokg __q2ocO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wdhMu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wdhMe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__weIQe2SEeWnDaII1mfokg" name="" memberEnd="__weIQu2SEeWnDaII1mfokg __q3PgO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__weIQu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__weIQe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wevUe2SEeWnDaII1mfokg" name="" memberEnd="__wevUu2SEeWnDaII1mfokg __q3Pg-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wevUu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wevUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wfWYe2SEeWnDaII1mfokg" name="" memberEnd="__wfWYu2SEeWnDaII1mfokg __q32ke2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wfWYu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wfWYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wf9ce2SEeWnDaII1mfokg" name="" memberEnd="__wf9cu2SEeWnDaII1mfokg __q4dou2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wf9cu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wf9ce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wgkge2SEeWnDaII1mfokg" name="" memberEnd="__wgkgu2SEeWnDaII1mfokg __q5Ese2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wgkgu2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wgkge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__whLke2SEeWnDaII1mfokg" name="" memberEnd="__whLku2SEeWnDaII1mfokg __q5Es-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__whLku2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__whLke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__whyoe2SEeWnDaII1mfokg" name="" memberEnd="__whyou2SEeWnDaII1mfokg __q5rwe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__whyou2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__whyoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wiZsO2SEeWnDaII1mfokg" name="" memberEnd="__wiZse2SEeWnDaII1mfokg __q5rw-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wiZse2SEeWnDaII1mfokg" name="" type="__F6IUO2SEeWnDaII1mfokg" association="__wiZsO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-5_zQO2SEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="__GW0QO2SEeWnDaII1mfokg" name="MainWindow">
                    <ownedComment xmi:id="__urYg-2SEeWnDaII1mfokg">
                      <body>@author waiyan
GUI for Physics Engine</body>
                    </ownedComment>
                    <generalization xmi:id="__nBRUO2SEeWnDaII1mfokg" general="__hClIe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q9WIO2SEeWnDaII1mfokg" name="contentPane" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wiZs-2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q9WIu2SEeWnDaII1mfokg" name="coeOfResPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wjn0O2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q99Me2SEeWnDaII1mfokg" name="coeOfResSlider" visibility="private" type="__jnYAe2SEeWnDaII1mfokg" association="__wkO4O2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q-kQO2SEeWnDaII1mfokg" name="coeOfResLbl" visibility="private" type="__jmw8e2SEeWnDaII1mfokg" association="__wk18O2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q-kQu2SEeWnDaII1mfokg" name="simSpdPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wk18-2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q_LUO2SEeWnDaII1mfokg" name="simSpdSlider" visibility="private" type="__jnYAe2SEeWnDaII1mfokg" association="__wldAe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q_LUu2SEeWnDaII1mfokg" name="simSpdLbl" visibility="private" type="__jmw8e2SEeWnDaII1mfokg" association="__wmEEu2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q_yYe2SEeWnDaII1mfokg" name="lennardJonesCheckBox" visibility="private" type="__jli0u2SEeWnDaII1mfokg" association="__wmrIe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__q_yY-2SEeWnDaII1mfokg" name="electrostaticCheckBox" visibility="private" type="__jli0u2SEeWnDaII1mfokg" association="__wnSMe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rAZce2SEeWnDaII1mfokg" name="simLvlPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wn5Qe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rAZc-2SEeWnDaII1mfokg" name="forcesPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wogUe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rBAge2SEeWnDaII1mfokg" name="atomicRadioButton" visibility="private" type="__jmJ4e2SEeWnDaII1mfokg" association="__wpHYe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rBnkO2SEeWnDaII1mfokg" name="molecularRadioButton" visibility="private" type="__jmJ4e2SEeWnDaII1mfokg" association="__wpuce2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rCOoO2SEeWnDaII1mfokg" name="commandTextField" visibility="private" type="__hvIse2SEeWnDaII1mfokg" association="__wqVge2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rCOou2SEeWnDaII1mfokg" name="mediator" type="__Dg7oO2SEeWnDaII1mfokg" isReadOnly="true" association="__wq8ke2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rC1sO2SEeWnDaII1mfokg" name="modelList" visibility="private" type="__A_MEe2SEeWnDaII1mfokg" isOrdered="true" association="__wrjoe2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__rC1se2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rDcwO2SEeWnDaII1mfokg" name="lblSimulationMedium" visibility="private" type="__jmw8e2SEeWnDaII1mfokg" association="__wsKse2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rDcwu2SEeWnDaII1mfokg" name="panel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__wsxwe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rED0e2SEeWnDaII1mfokg" name="pauseButton" visibility="private" type="__iDRwO2SEeWnDaII1mfokg" association="__wtY0e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rEq4e2SEeWnDaII1mfokg" name="restartButton" visibility="private" type="__iDRwO2SEeWnDaII1mfokg" association="__wt_4e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rFR8O2SEeWnDaII1mfokg" name="partialMolCheckBox" visibility="private" type="__jli0u2SEeWnDaII1mfokg" association="__wum8e2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tz10O2SEeWnDaII1mfokg" name="MainWindow" specification="__GZQgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__tz10e2SEeWnDaII1mfokg" type="__GW0QO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 900, 600);
		setLocationRelativeTo(null);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));
		setContentPane(contentPane);
			
		// add JMol Panel
		JmolDisplay jmolPanel = new JmolDisplay();
		jmolPanel.setBorder(new EmptyBorder(5,0,5,0));
		contentPane.add(jmolPanel);
		
		// add mediator
		mediator = new UpdateRegistry(jmolPanel.getViewer(), modelList);
		jmolPanel.getViewer().setPercentVdwAtom(100);
     jmolPanel.setMediator(mediator);
		
		// add RHS Panel for user input
		JPanel inputPanel = new JPanel();
		inputPanel.setLayout(new BoxLayout(inputPanel, BoxLayout.Y_AXIS));
		inputPanel.setBorder(new EmptyBorder(0,5,0,5));
		contentPane.add(inputPanel, BorderLayout.EAST);
		
		createSimLvlPanel();
		inputPanel.add(simLvlPanel);
		
		
		JPanel padding = new JPanel();
		padding.setSize(20, 20);
		inputPanel.add(padding);
		
		// add slider and label for coefficient of restitution
		createCoeOfResPanel();
		inputPanel.add(coeOfResPanel);
		JPanel padding2 = new JPanel();
		padding2.setSize(20, 20);
		inputPanel.add(padding2);
		
		createSimSpdPanel();
		inputPanel.add(simSpdPanel);
		JPanel padding4 = new JPanel();
		padding4.setSize(20, 20);
		inputPanel.add(padding4);
		
		
		createForcesPanel();
		inputPanel.add(forcesPanel);
		JPanel padding3 = new JPanel();
		padding3.setSize(20, 20);
		inputPanel.add(padding3);
		
		panel = new JPanel();
		inputPanel.add(panel);
		
		pauseButton = new JButton(&quot;Pause&quot;);
		pauseButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(pauseButton.getText().equals(&quot;Pause&quot;)){
					pauseButton.setText(&quot;Resume&quot;);
					World.simulationStatus = &quot;paused&quot;;
			}
				else{
					pauseButton.setText(&quot;Pause&quot;);
					World.simulationStatus = &quot;running&quot;;
					World.countDownLatch.countDown();
				}
			}
		});
		panel.add(pauseButton);
		
		restartButton = new JButton(&quot;Restart&quot;);
		restartButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(World.simulationStatus.equals(&quot;paused&quot;)){
					World.countDownLatch.countDown();
					pauseButton.setText(&quot;Pause&quot;);
				}
				World.simulationStatus = &quot;restart&quot;;
			}
		});
		panel.add(restartButton);
		
		// add text field for user input
		commandTextField = new JTextField();
		contentPane.add(commandTextField, BorderLayout.SOUTH);
		commandTextField.requestFocusInWindow();
		
		// add action listeners
		addActionListeners();
		this.setVisible(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t0c4O2SEeWnDaII1mfokg" name="createCoeOfResPanel" specification="__GZ3k-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>coeOfResPanel = new JPanel();
		coeOfResPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		coeOfResPanel.setLayout(new BoxLayout(coeOfResPanel, BoxLayout.Y_AXIS));	
		
		JPanel panel1 = new JPanel();
	//	panel1.setLayout(new BoxLayout(panel1, BoxLayout.X_AXIS));
		
		JLabel label1 = new JLabel(&quot;Coefficient of Restitution: &quot;);
		panel1.add(label1);
		
		coeOfResLbl = new JLabel(String.valueOf(World.COEFFICENT_OF_RESTITUTION));
		coeOfResLbl.setAlignmentY(Component.TOP_ALIGNMENT);
		panel1.add(coeOfResLbl);
		
		lblSimulationMedium = new JLabel(&quot;Simulation Medium&quot;);
		lblSimulationMedium.setAlignmentX(Component.CENTER_ALIGNMENT);
		coeOfResPanel.add(lblSimulationMedium);
		
		coeOfResSlider = new JSlider(0,100);
		coeOfResSlider.setSnapToTicks(true);
		coeOfResSlider.setPaintTicks(true);
		coeOfResSlider.setPaintLabels(true);
		coeOfResPanel.add(coeOfResSlider);
		coeOfResSlider.setValue((int)(World.COEFFICENT_OF_RESTITUTION*100));
		
		coeOfResPanel.add(panel1);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t0c4e2SEeWnDaII1mfokg" name="createSimSpdPanel" specification="__GaeoO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simSpdPanel = new JPanel();
		simSpdPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		simSpdPanel.setLayout(new BoxLayout(simSpdPanel, BoxLayout.Y_AXIS));	
		
		JPanel panel1 = new JPanel();
	//	panel1.setLayout(new BoxLayout(panel1, BoxLayout.X_AXIS));
		
		JLabel label1 = new JLabel(&quot;Frame Duration (attosecond): &quot;);
		panel1.add(label1);
		
		simSpdLbl = new JLabel(String.valueOf(World.frameTime_as));
		simSpdLbl.setAlignmentY(Component.TOP_ALIGNMENT);
		panel1.add(simSpdLbl);
		
		JLabel l = new JLabel(&quot;Frame Duration&quot;);
		l.setAlignmentX(Component.CENTER_ALIGNMENT);
		simSpdPanel.add(l);
		
		simSpdSlider = new JSlider(0,100);
		simSpdSlider.setSnapToTicks(true);
		simSpdSlider.setPaintTicks(true);
		simSpdSlider.setPaintLabels(true);
		simSpdPanel.add(simSpdSlider);
		simSpdSlider.setValue((int)(World.frameTime_as));
		simSpdPanel.add(panel1);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t0c4u2SEeWnDaII1mfokg" name="createSimLvlPanel" specification="__Gaeoe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simLvlPanel = new JPanel();
		simLvlPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		simLvlPanel.setLayout(new BoxLayout(simLvlPanel, BoxLayout.Y_AXIS));
		
		JLabel label1 = new JLabel(&quot;Simulation Level&quot;);
		label1.setAlignmentX(Component.CENTER_ALIGNMENT);
		simLvlPanel.add(label1);
		
		ButtonGroup bg = new ButtonGroup();
		
		atomicRadioButton = new JRadioButton(&quot;atomic&quot;);
	    molecularRadioButton = new JRadioButton(&quot;molecular&quot;);
	    bg.add(atomicRadioButton);
	    bg.add(molecularRadioButton);
	    partialMolCheckBox = new JCheckBox(&quot;Partial Molecular&quot;);
	    
	    if(World.simulationLvlAtomic == true) {
	    	atomicRadioButton.setSelected(true);
	    	partialMolCheckBox.setEnabled(false);
	    	partialMolCheckBox.setSelected(false);
	    }
	    else {
	    	molecularRadioButton.setSelected(true);
	    	partialMolCheckBox.setEnabled(true);
	    	partialMolCheckBox.setSelected(World.simulationLvlPartial);
	    }
	    
	    JPanel panel2 = new JPanel();
	    panel2.add(atomicRadioButton);
	    panel2.add(molecularRadioButton);
		simLvlPanel.add(panel2);	
		JPanel panel1 = new JPanel();
		panel1.add(partialMolCheckBox);
		simLvlPanel.add(panel1);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t0c4-2SEeWnDaII1mfokg" name="createForcesPanel" specification="__Gaeou2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>forcesPanel = new JPanel();
		forcesPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
	//	forcesPanel.setLayout(new BoxLayout(forcesPanel, BoxLayout.Y_AXIS));
		forcesPanel.setLayout(new BorderLayout());
		
		ButtonGroup bg = new ButtonGroup();
		lennardJonesCheckBox = new JCheckBox(&quot;Lennard-Jones Force&quot;);
		lennardJonesCheckBox.setAlignmentX(Component.CENTER_ALIGNMENT);
	    electrostaticCheckBox = new JCheckBox(&quot;Electrostatic Force&quot;);
	    electrostaticCheckBox.setAlignmentX(Component.CENTER_ALIGNMENT);
	 
	    if(World.electricForceActive)
	    	electrostaticCheckBox.setSelected(true);
	    if(World.LJForceActive)
	    	lennardJonesCheckBox.setSelected(true);
	    
	    JPanel panel2 = new JPanel();
	    panel2.setLayout(new BoxLayout(panel2, BoxLayout.Y_AXIS));
	    JLabel label1 = new JLabel(&quot;Forces&quot;);
	    label1.setAlignmentX(Component.CENTER_ALIGNMENT);
	    
	    panel2.add(label1);
	    panel2.add(electrostaticCheckBox);
	    panel2.add(lennardJonesCheckBox);
		forcesPanel.add(panel2, BorderLayout.CENTER);	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t0c5O2SEeWnDaII1mfokg" name="addActionListeners" specification="__Gaeo-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>DecimalFormat formatter = new DecimalFormat(&quot;0.00&quot;);
		
		coeOfResSlider.addChangeListener(new ChangeListener() {
			public void stateChanged(ChangeEvent event) {
             double currentVal = ((JSlider)event.getSource()).getValue()/100.0;
             coeOfResLbl.setText(formatter.format(currentVal));
             World.COEFFICENT_OF_RESTITUTION = currentVal;
             World.resetActiveParticlesVelocities();
         }
     });
		
		simSpdSlider.addChangeListener(new ChangeListener() {
			public void stateChanged(ChangeEvent event) {
             int currentVal = ((JSlider)event.getSource()).getValue();
             simSpdLbl.setText(String.valueOf(currentVal));
             World.frameTime_as = currentVal;
             World.resetActiveParticlesVelocities();
         }
     });
		
		commandTextField.addKeyListener(new KeyAdapter() {
         public void keyReleased(KeyEvent e) {
         	if(e.getKeyCode() != 10)	// enter key
         		return;
         	
         	JTextField textField = (JTextField) e.getSource();
             String text = textField.getText();
             commandTextField.setText(text.toUpperCase()); 
             try {
					World.setCommand(textField.getText());
				} catch (Exception e1) {
					e1.printStackTrace();
				}
         }
		});
		
		atomicRadioButton.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JRadioButton button = (JRadioButton) e.getSource();
		        if (button.getText().equals(&quot;atomic&quot;)){
		        	World.simulationLvlAtomic = true;
		        	electrostaticCheckBox.setEnabled(true);
		        	electrostaticCheckBox.setSelected(World.electricForceActive);
		        	
		        	World.frameTime_as = 50;
		        	simSpdLbl.setText(&quot;50&quot;);
		        	simSpdSlider.setValue(50);
		        	partialMolCheckBox.setEnabled(false);
			    	partialMolCheckBox.setSelected(false);
			    	World.simulationStatus = &quot;changed&quot;;
		        }
		    }
		});
		
		molecularRadioButton.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JRadioButton button = (JRadioButton) e.getSource();
		        if (button.getText().equals(&quot;molecular&quot;)){
		        	World.simulationLvlAtomic = false;
		    
		        	partialMolCheckBox.setEnabled(true);
			    	partialMolCheckBox.setSelected(World.simulationLvlPartial);
		        	World.simulationStatus = &quot;changed&quot;;
		        }
		    }
		});
		
		lennardJonesCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Lennard-Jones Force&quot;)){
		        	if(checkBox.isSelected())
		        		World.LJForceActive = true;
		        	else
		        		World.LJForceActive = false;
		        }
		        World.resetActiveParticlesVelocities();
		    }
		});
		
		electrostaticCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Electrostatic Force&quot;)){
		        	if(checkBox.isSelected())
		        		World.electricForceActive = true;
		        	else
		        		World.electricForceActive = false;
		        }
		        World.resetActiveParticlesVelocities();
		     //   World.simulationStatus = &quot;restart&quot;;
		    }
		});
		
		partialMolCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Partial Molecular&quot;)){
		        	if(checkBox.isSelected())
		        		World.simulationLvlPartial = true;
		        	else
		        		World.simulationLvlPartial = false;
		        }
		        World.resetActiveParticlesVelocities();
		        World.simulationStatus = &quot;changed&quot;;
		    }
		});
		
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__GZQgO2SEeWnDaII1mfokg" name="MainWindow" method="__tz10O2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__GZ3kO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__GZ3ke2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__urYhO2SEeWnDaII1mfokg">
                        <body>Create the main frame.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__GZ3ku2SEeWnDaII1mfokg" type="__GW0QO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__GZ3k-2SEeWnDaII1mfokg" name="createCoeOfResPanel" visibility="private" method="__t0c4O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ur_kO2SEeWnDaII1mfokg">
                        <body>Create the panel for setting the coefficient of resolution</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__GaeoO2SEeWnDaII1mfokg" name="createSimSpdPanel" visibility="private" method="__t0c4e2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Gaeoe2SEeWnDaII1mfokg" name="createSimLvlPanel" visibility="private" method="__t0c4u2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ur_ke2SEeWnDaII1mfokg">
                        <body>Create the panel for setting the simulation level (atomic or molecular)</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="__Gaeou2SEeWnDaII1mfokg" name="createForcesPanel" visibility="private" method="__t0c4-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Gaeo-2SEeWnDaII1mfokg" name="addActionListeners" visibility="private" method="__t0c5O2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__ur_ku2SEeWnDaII1mfokg">
                        <body>Add ActionListeners for UI inputs</body>
                      </ownedComment>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wiZs-2SEeWnDaII1mfokg" name="" memberEnd="__wiZtO2SEeWnDaII1mfokg __q9WIO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wiZtO2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wiZs-2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wjn0O2SEeWnDaII1mfokg" name="" memberEnd="__wjn0e2SEeWnDaII1mfokg __q9WIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wjn0e2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wjn0O2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wkO4O2SEeWnDaII1mfokg" name="" memberEnd="__wkO4e2SEeWnDaII1mfokg __q99Me2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wkO4e2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wkO4O2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wk18O2SEeWnDaII1mfokg" name="" memberEnd="__wk18e2SEeWnDaII1mfokg __q-kQO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wk18e2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wk18O2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wk18-2SEeWnDaII1mfokg" name="" memberEnd="__wk19O2SEeWnDaII1mfokg __q-kQu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wk19O2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wk18-2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wldAe2SEeWnDaII1mfokg" name="" memberEnd="__wmEEO2SEeWnDaII1mfokg __q_LUO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wmEEO2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wldAe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wmEEu2SEeWnDaII1mfokg" name="" memberEnd="__wmEE-2SEeWnDaII1mfokg __q_LUu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wmEE-2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wmEEu2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wmrIe2SEeWnDaII1mfokg" name="" memberEnd="__wmrIu2SEeWnDaII1mfokg __q_yYe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wmrIu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wmrIe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wnSMe2SEeWnDaII1mfokg" name="" memberEnd="__wnSMu2SEeWnDaII1mfokg __q_yY-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wnSMu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wnSMe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wn5Qe2SEeWnDaII1mfokg" name="" memberEnd="__wn5Qu2SEeWnDaII1mfokg __rAZce2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wn5Qu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wn5Qe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wogUe2SEeWnDaII1mfokg" name="" memberEnd="__wogUu2SEeWnDaII1mfokg __rAZc-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wogUu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wogUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wpHYe2SEeWnDaII1mfokg" name="" memberEnd="__wpHYu2SEeWnDaII1mfokg __rBAge2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wpHYu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wpHYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wpuce2SEeWnDaII1mfokg" name="" memberEnd="__wpucu2SEeWnDaII1mfokg __rBnkO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wpucu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wpuce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wqVge2SEeWnDaII1mfokg" name="" memberEnd="__wqVgu2SEeWnDaII1mfokg __rCOoO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wqVgu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wqVge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wq8ke2SEeWnDaII1mfokg" name="" memberEnd="__wq8ku2SEeWnDaII1mfokg __rCOou2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wq8ku2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wq8ke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wrjoe2SEeWnDaII1mfokg" name="" memberEnd="__wrjou2SEeWnDaII1mfokg __rC1sO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wrjou2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wrjoe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wsKse2SEeWnDaII1mfokg" name="" memberEnd="__wsKsu2SEeWnDaII1mfokg __rDcwO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wsKsu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wsKse2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wsxwe2SEeWnDaII1mfokg" name="" memberEnd="__wsxwu2SEeWnDaII1mfokg __rDcwu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wsxwu2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wsxwe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wtY0e2SEeWnDaII1mfokg" name="" memberEnd="__wtY0u2SEeWnDaII1mfokg __rED0e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wtY0u2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wtY0e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wt_4e2SEeWnDaII1mfokg" name="" memberEnd="__wt_4u2SEeWnDaII1mfokg __rEq4e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wt_4u2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wt_4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__wum8e2SEeWnDaII1mfokg" name="" memberEnd="__wum8u2SEeWnDaII1mfokg __rFR8O2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__wum8u2SEeWnDaII1mfokg" name="" type="__GW0QO2SEeWnDaII1mfokg" association="__wum8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_-3J6oO2SEeWnDaII1mfokg" name="ss_predictor">
                <packagedElement xmi:type="uml:Class" xmi:id="__C6esO2SEeWnDaII1mfokg" name="PredictorWrapper" isAbstract="true">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tMKwu2SEeWnDaII1mfokg" name="process" specification="__l_9oO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__tMKw-2SEeWnDaII1mfokg" name="is" type="__hkJkO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>// TODO Auto-generated method stub
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__tMKxO2SEeWnDaII1mfokg" name="process" specification="__C7s0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__tMKxe2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>// TODO Auto-generated method stub
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__C7s0O2SEeWnDaII1mfokg" name="process" method="__tMKxO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__C7s0e2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__l_9oO2SEeWnDaII1mfokg" name="process" method="__tMKwu2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__mAksO2SEeWnDaII1mfokg" name="is" type="__hkJkO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-7lHoe2SEeWnDaII1mfokg" name="PredictorController">
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__kjMIe2SEeWnDaII1mfokg" name="InputMethodEnum"/>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__kxOkO2SEeWnDaII1mfokg" name="OutputMethodEnum"/>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="__kx1oe2SEeWnDaII1mfokg" name="PredictorEnum"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__ImP8O2SEeWnDaII1mfokg" name="AlphaHelix">
                  <generalization xmi:id="__kcecO2SEeWnDaII1mfokg" general="__Ip6UO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uHX0O2SEeWnDaII1mfokg" name="setResidues" specification="__n_hsO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uHX0e2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uHX0u2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>ArrayList &lt;Residue> temp = new ArrayList &lt;Residue>();
		if(stride.prediction.equals(&quot;AlphaHelix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uHX0-2SEeWnDaII1mfokg" name="getOrientation" specification="__oAIwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uHX1O2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uHX1e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uHX1u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-4;
		ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
		float [] avg = new float [3];
		float sum0 = 0; float sum1 = 0; float sum2 = 0;
		Residue[] key = new Residue[size];
		Residue[] value = new Residue[size];
		for(int i = 0; i&lt; size; i++){	
				key[i]=residues.get(i);
				value[i]=residues.get(i+4);
				total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
			}
		
		for(float[] f1:total){
	
		sum0 += f1[0];
		sum1 += f1[1];
		sum2 += f1[2];
		
		avg[0] = sum0 /total.size();
		avg[1] = sum1 /total.size();
		avg[2] = sum2 /total.size();
		}
		
		
		
		return avg;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__n_hsO2SEeWnDaII1mfokg" name="setResidues" method="__uHX0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__n_hse2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__n_hsu2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oAIwO2SEeWnDaII1mfokg" name="getOrientation" method="__uHX0-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oAIwe2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oAIwu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__oAIw-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__IoFIO2SEeWnDaII1mfokg" name="AlphaHelixTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uHX1-2SEeWnDaII1mfokg" name="test" specification="__IosMO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		File file = new File(&quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		
		AlphaHelix alpha = new AlphaHelix();
		
		alpha.setResidues(sp.Pregion.get(0), models.get(0));
		
		//PDBFileReader pdbreader = new PDBFileReader();
		//Structure pdb = null;
		
		//pdb = pdbreader.getStructure(pathname);
		
		/*try {
			org.biojava.bio.structure.Chain c = pdb.getChainByPDB(sp.Pregion.get(0).chain);
			for(Residue res:alpha.residues){
				
			}
		} catch (StructureException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}*/
		
		System.out.println(sp.Pregion.size());
		double  t =alpha.getLength(alpha.residues.get(alpha.residues.size()-1).getAtom(&quot;CA&quot;).getCoordinates(), alpha.residues.get(0).getAtom(&quot;CA&quot;).getCoordinates());
		
		System.out.println(t);
		
		
		
		float[] avg = alpha.getOrientation(alpha.residues);
		System.out.println(Helix.Cal_euc_distance(avg));
		System.out.println(Arrays.toString(avg));
		
		

		
		
		
			
	
			
	
			
		
		
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__IosMO2SEeWnDaII1mfokg" name="test" method="__uHX1-2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__Ip6UO2SEeWnDaII1mfokg" name="Helix">
                  <ownedAttribute xmi:id="__r5xUO2SEeWnDaII1mfokg" name="residues" visibility="package" type="__fyn8O2SEeWnDaII1mfokg" association="__xOWMe2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__r6YYu2SEeWnDaII1mfokg" name="orientation" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__r6YY-2SEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uH-4O2SEeWnDaII1mfokg" name="FindDifference" specification="__IrIcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uH-4e2SEeWnDaII1mfokg" name="f1">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-4u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uH-4-2SEeWnDaII1mfokg" name="f2">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-5O2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uH-5e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-5u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>float[] length = new float[3];
		length [0] = f1[0]-f2[0];
		length [1] = f1[1]-f2[1];
		length [2] = f1[2]-f2[2];
		
		return length;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uH-5-2SEeWnDaII1mfokg" name="Cal_euc_distance" specification="__IsWkO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uH-6O2SEeWnDaII1mfokg" name="f">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-6e2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uH-6u2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double e_dist = 0;
		e_dist = Math.sqrt(((f[0]*f[0])+(f[1]*f[1])+(f[2]*f[2])));
		return e_dist;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uH-6-2SEeWnDaII1mfokg" name="getLength" specification="__Is9ou2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uH-7O2SEeWnDaII1mfokg" name="start">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-7e2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uH-7u2SEeWnDaII1mfokg" name="end">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uH-7-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uH-8O2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double length = 0;
		float[] diff = FindDifference(end, start);	
		length = Cal_euc_distance(diff);
		
		return length;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__IrIcO2SEeWnDaII1mfokg" name="FindDifference" isStatic="true" method="__uH-4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IrIce2SEeWnDaII1mfokg" name="f1">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Irvge2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__IrIcu2SEeWnDaII1mfokg" name="f2">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Irvgu2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__IrIc-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__IrIdO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__IsWkO2SEeWnDaII1mfokg" name="Cal_euc_distance" isStatic="true" method="__uH-5-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IsWke2SEeWnDaII1mfokg" name="f">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Is9oe2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Is9oO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Is9ou2SEeWnDaII1mfokg" name="getLength" method="__uH-6-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ItksO2SEeWnDaII1mfokg" name="start">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Itks-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Itkse2SEeWnDaII1mfokg" name="end">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__ItktO2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Itksu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__Iuy0O2SEeWnDaII1mfokg" name="IOutility">
                  <ownedAttribute xmi:id="__r6_cu2SEeWnDaII1mfokg" name="map" visibility="package" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <qualifier xmi:id="__r8Nke2SEeWnDaII1mfokg">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </qualifier>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__r8NkO2SEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uIl8O2SEeWnDaII1mfokg" name="_initializer1" specification="__IwA8O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>map.put(&quot;GLY&quot;, &quot;G&quot;);
		map.put(&quot;ALA&quot;, &quot;A&quot;);
		map.put(&quot;VAL&quot;, &quot;V&quot;);
		map.put(&quot;LEU&quot;, &quot;L&quot;);
		map.put(&quot;ILE&quot;, &quot;I&quot;);
		map.put(&quot;PRO&quot;, &quot;P&quot;);
		map.put(&quot;PHE&quot;, &quot;F&quot;);
		map.put(&quot;TYR&quot;, &quot;Y&quot;);
		map.put(&quot;TRP&quot;, &quot;W&quot;);
		map.put(&quot;SER&quot;, &quot;S&quot;);
		map.put(&quot;THR&quot;, &quot;T&quot;);
		map.put(&quot;CYS&quot;, &quot;C&quot;);
		map.put(&quot;MET&quot;, &quot;M&quot;);
		map.put(&quot;ASN&quot;, &quot;N&quot;);
		map.put(&quot;GLN&quot;, &quot;Q&quot;);
		map.put(&quot;LYS&quot;, &quot;K&quot;);
		map.put(&quot;ARG&quot;, &quot;R&quot;);
		map.put(&quot;HIS&quot;, &quot;H&quot;);
		map.put(&quot;ASP&quot;, &quot;D&quot;);
		map.put(&quot;GLU&quot;, &quot;E&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uIl8e2SEeWnDaII1mfokg" name="fastafileToInputStream" specification="__IwoAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uIl8u2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uIl8-2SEeWnDaII1mfokg" type="__hkJkO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>File f = new File(pathname);
	InputStream inputStream = null;
		if (f.exists()){
			InputStreamProvider isp = new InputStreamProvider();
			try {
				 inputStream = isp.getInputStream(pathname);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		return inputStream;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uIl9O2SEeWnDaII1mfokg" name="pdbFileTofastaString" specification="__IwoAu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uIl9e2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uIl9u2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>StringBuilder sb = new StringBuilder();
			sb.append(&quot;>&quot;).append(&quot;\n&quot;);
			PDBFileReader pdbreader = new PDBFileReader();
			Structure structure = null;
			String sequence = null;
			try{
				structure=pdbreader.getStructure(pathname);
				for(org.biojava.bio.structure.Chain c :structure.getChains()){
					sequence = c.getAtomSequence();
					sb.append(sequence);
					}
				}catch (IOException e){
				e.printStackTrace();
			}
			return sb.toString();
		
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJNAO2SEeWnDaII1mfokg" name="pdbStringTofastaString" specification="__IxPEu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJNAe2SEeWnDaII1mfokg" name="pdbString">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uJNAu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>InputStream is = new ByteArrayInputStream(pdbString.getBytes(StandardCharsets.UTF_8));
		PDBFileParser pdbreader = new PDBFileParser();
		BufferedReader br = new BufferedReader(new InputStreamReader(is));
		StringBuilder sb = new StringBuilder();
		sb.append(&quot;>&quot;).append(&quot;\n&quot;);
		Structure structure = null;
		String sequence = null;
		try{
			structure=pdbreader.parsePDBFile(br);
			for(org.biojava.bio.structure.Chain c :structure.getChains()){
				sequence = c.getAtomSequence();
				sb.append(sequence);
				}
			}catch (IOException e){
			e.printStackTrace();
		}
	//	System.out.println(sb.toString());
		return sb.toString();
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJNA-2SEeWnDaII1mfokg" name="stringToInputStream" specification="__IzEQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJNBO2SEeWnDaII1mfokg" name="input">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uJNBe2SEeWnDaII1mfokg" type="__hkJkO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>InputStream inputStream = null;
		
			if(input==null){
				throw new IllegalStateException(&quot;Input String not yet set&quot;);
				
			}else{
				inputStream = new ByteArrayInputStream(input.getBytes());
			}
				
		return inputStream;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJNBu2SEeWnDaII1mfokg" name="ObjectstoFasta" specification="__oClAu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJNB-2SEeWnDaII1mfokg" name="chains" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uJNCO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>StringBuilder sb = new StringBuilder();
		sb.append(&quot;>&quot;).append(&quot;\n&quot;);
		char x;
		for (Chain c:chains){
			for(Residue res:c.getResidues()){
			AminoAcid aa = (AminoAcid)res;	
			x = aa.getAminoChar();	
			sb.append(x);
			}
		}
		return sb.toString();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJNCe2SEeWnDaII1mfokg" name="ObjectstoPdbString" specification="__oDzIe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJNCu2SEeWnDaII1mfokg" name="models" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uJNC-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return DataManager.modelToPDB(models);
	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJ0EO2SEeWnDaII1mfokg" name="STRIDEWriteToFile" specification="__oFBQe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJ0Ee2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>FileWriter writer = new FileWriter(&quot;/temp/STRIDE_Output.txt&quot;);
			ArrayList&lt;String> strings = new ArrayList&lt;String>();
			for(STRIDE_Output o :output){
				strings.add(o.toString());
			}
			for(String str: strings){
				writer.write(str);
				writer.write(System.getProperty(&quot;line.separator&quot;));
			}
			writer.close();
			
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJ0Eu2SEeWnDaII1mfokg" name="IUPREDWriteToFile" specification="__oGPYO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJ0E-2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>FileWriter writer = new FileWriter(&quot;/temp/IUPRED_Output.txt&quot;);
		ArrayList&lt;String> strings = new ArrayList&lt;String>();
		for(IUPRED_Output o :output){
			strings.add(o.toString());
		}
		for(String str: strings){
			writer.write(str);
			writer.write(System.getProperty(&quot;line.separator&quot;));
		}
		writer.close();
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJ0FO2SEeWnDaII1mfokg" name="createAminoAcid" specification="__kkaQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJ0Fe2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uJ0Fu2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uJ0F-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>PDBFileReader pdbreader = new PDBFileReader();
		 Structure pdb = null;
		 
		 ArrayList&lt;AminoAcid> regions = new ArrayList&lt;AminoAcid>();
		 
		 try {
			pdb = pdbreader.getStructure(pathname);
	
				org.biojava.bio.structure.Chain c = pdb.getChainByPDB(stride.chain);
				for(Group a:c.getGroupsByPDB(stride.startpos, stride.endpos)){
					AminoAcid aa = new AminoAcid();
					aa.setName(a.getPDBName());
					aa.setAminoChar(map.get(a.getPDBName()).charAt(0));
					Chain chain = new Chain();
					aa.setParent(chain);
					chain.setChainName(a.getChainId());
					aa.setResidueSeqNum(Integer.parseInt(a.getPDBCode()));
					aa.setAtomList(a.getAtoms());	
					regions.add(aa);
				}
			
		} catch (IOException | StructureException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		 return regions;
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uJ0GO2SEeWnDaII1mfokg" name="createObjectsFromPDB" specification="__oHdgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uJ0Ge2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uJ0Gu2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ArrayList&lt;ArrayList&lt;AminoAcid>> PaminoAcid=new ArrayList&lt;ArrayList&lt;AminoAcid>>();
		for(STRIDE_Output o : output){
			PaminoAcid.add(IOutility.createAminoAcid(pathname,o));
		}
		
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uKbIO2SEeWnDaII1mfokg" name="createObjectsFromModel" specification="__oLu8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uKbIe2SEeWnDaII1mfokg" name="output" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uKbIu2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uKbI-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>Model m = (Model)input;
		
		ArrayList&lt;Residue> Presidues=new ArrayList&lt;Residue>();
			for(Molecule mol:m.getMolecules()){
				for(Chain c:mol.getChains()){
					if(c.name.equals(output.chain)){
						Presidues = c.getResidues(output.startpos, output.endpos);
					}	
				}
			}
		
			return Presidues;
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__IwA8O2SEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="__uIl8O2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__IwA8e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__IwA8u2SEeWnDaII1mfokg" key="init"/>
                    </eAnnotations>
                  </ownedOperation>
                  <ownedOperation xmi:id="__IwoAO2SEeWnDaII1mfokg" name="fastafileToInputStream" isStatic="true" method="__uIl8e2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IwoAe2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__oClAO2SEeWnDaII1mfokg" type="__hkJkO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__IwoAu2SEeWnDaII1mfokg" name="pdbFileTofastaString" isStatic="true" method="__uIl9O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IxPEO2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__IxPEe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__IxPEu2SEeWnDaII1mfokg" name="pdbStringTofastaString" isStatic="true" method="__uJNAO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IxPE-2SEeWnDaII1mfokg" name="pdbString">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__Ix2IO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__IzEQO2SEeWnDaII1mfokg" name="stringToInputStream" isStatic="true" method="__uJNA-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__IzEQe2SEeWnDaII1mfokg" name="input">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__oClAe2SEeWnDaII1mfokg" type="__hkJkO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__kkaQO2SEeWnDaII1mfokg" name="createAminoAcid" isStatic="true" method="__uJ0FO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kkaQe2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__kkaQu2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oG2ce2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oClAu2SEeWnDaII1mfokg" name="ObjectstoFasta" isStatic="true" method="__uJNBu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oClA-2SEeWnDaII1mfokg" name="chains" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oDMEO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oDzIe2SEeWnDaII1mfokg" name="ObjectstoPdbString" isStatic="true" method="__uJNCe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oDzIu2SEeWnDaII1mfokg" name="models" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oDzI-2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oFBQe2SEeWnDaII1mfokg" name="STRIDEWriteToFile" isStatic="true" method="__uJ0EO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oFBQu2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oGPYO2SEeWnDaII1mfokg" name="IUPREDWriteToFile" isStatic="true" method="__uJ0Eu2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oGPYe2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oHdgO2SEeWnDaII1mfokg" name="createObjectsFromPDB" isStatic="true" method="__uJ0GO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oJ5wO2SEeWnDaII1mfokg" name="output" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oKg0O2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oLu8O2SEeWnDaII1mfokg" name="createObjectsFromModel" isStatic="true" method="__uKbIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oLu8e2SEeWnDaII1mfokg" name="output" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oLu8u2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oMWAe2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__I4j0O2SEeWnDaII1mfokg" name="IOutilityTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uKbJO2SEeWnDaII1mfokg" name="testFastafileToInputStream" specification="__I5K4O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/TEST.txt&quot;;
		String input = &quot;ABCD&quot;;
		StringBuilder sb = new StringBuilder();
		InputStream is = IOutility.fastafileToInputStream(pathname);
		InputStreamReader isr = new InputStreamReader(is);
		BufferedReader br = new BufferedReader(isr);
		String read = br.readLine();
		sb.append(read);
		String result = sb.toString();
		assertEquals(input,result);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uKbJe2SEeWnDaII1mfokg" name="testPdbFileTofastaString" specification="__I5x8u2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		String pdbstring = IOutility.pdbFileTofastaString(pathname);
		String result = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		assertEquals(result,pdbstring);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCMO2SEeWnDaII1mfokg" name="testPdbStringTofastaString" specification="__I6ZA-2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		File file = new File(pathname);
		StringBuilder sb = new StringBuilder((int)file.length());
		Scanner input = new Scanner(file);
		String lineSeparator = System.getProperty(&quot;line.separator&quot;);
		while (input.hasNextLine()){
			sb.append(input.nextLine() + lineSeparator);
		}
		String result = sb.toString();
		//System.out.println(result);
		String test = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		String fastastring = IOutility.pdbStringTofastaString(result);
		assertEquals(test,fastastring);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCMe2SEeWnDaII1mfokg" name="testStringToInputStream" specification="__I7nIu2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String string = &quot;abcd&quot;;
		InputStream is = IOutility.stringToInputStream(string);
		InputStreamReader isr = new InputStreamReader(is);
		StringBuilder sb = new StringBuilder();
		BufferedReader br = new BufferedReader(isr);
		String read = br.readLine();
		sb.append(read);
		String result = sb.toString();
		assertEquals(string,result);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCMu2SEeWnDaII1mfokg" name="testObjectstoFasta" specification="__I81Qu2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		String result = IOutility.ObjectstoFasta(models.get(0).getMolecules().get(0).getChains());
		String test = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		assertEquals(test,result);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCM-2SEeWnDaII1mfokg" name="testObjectstoPdbString" specification="__I9cU-2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		String pdbstring = IOutility.ObjectstoPdbString(models);
		assertNotNull(pdbstring);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCNO2SEeWnDaII1mfokg" name="testSTRIDEWritetoFile" specification="__I-DY-2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		IOutility.STRIDEWriteToFile(sp.Pregion);
		System.out.println(sp.Pregion.get(0).start);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLCNe2SEeWnDaII1mfokg" name="testIUPREDWritetoFile" specification="__I_RgO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/1PGB.fasta.txt&quot;;
		InputStream is = IOutility.fastafileToInputStream(pathname);
		IUPRED_Predictor sp = new IUPRED_Predictor();
		sp.process(is);
		IOutility.IUPREDWriteToFile(sp.Pregion);
		System.out.println(sp.Pregion.get(0).aminoacid);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLpQO2SEeWnDaII1mfokg" name="testCreateAminoAcids" specification="__I_4kO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String projectFolder=System.clearProperty(&quot;user.dir&quot;);
//		System.out.println(System.clearProperty(&quot;current.dir&quot;));
		String pathname = projectFolder+&quot;/res/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		ArrayList&lt;AminoAcid>test = IOutility.createAminoAcid(pathname,sp.Pregion.get(0));
		assertEquals(&quot;PRO&quot;,test.get(0).getName());
	//	System.out.println(test.get(0).getResidueSeqNum());
	//	System.out.println(test.get(0).getName());
	//	float[] coo = test.get(0).getAtomList().get(0).getCoordinates();
	//	System.out.println(Arrays.toString(coo));
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLpQe2SEeWnDaII1mfokg" name="testCreateResiduesFromModel" specification="__JAfou2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		File file = new File(&quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		
		ArrayList&lt;Residue> test =  IOutility.createObjectsFromModel(sp.Pregion.get(0), models.get(0));
		assertEquals(&quot;PRO&quot;,test.get(0).getName());
		/*System.out.println(test.size());
		for(Residue r: test){
			for(Atom a :r.getAtomList()){
			System.out.println(a.getName());
			}
		}*/
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__I5K4O2SEeWnDaII1mfokg" name="testFastafileToInputStream" method="__uKbJO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I5x8u2SEeWnDaII1mfokg" name="testPdbFileTofastaString" method="__uKbJe2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I6ZA-2SEeWnDaII1mfokg" name="testPdbStringTofastaString" method="__uLCMO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I7nIu2SEeWnDaII1mfokg" name="testStringToInputStream" method="__uLCMe2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I81Qu2SEeWnDaII1mfokg" name="testObjectstoFasta" method="__uLCMu2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I9cU-2SEeWnDaII1mfokg" name="testObjectstoPdbString" method="__uLCM-2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I-DY-2SEeWnDaII1mfokg" name="testSTRIDEWritetoFile" method="__uLCNO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I_RgO2SEeWnDaII1mfokg" name="testIUPREDWritetoFile" method="__uLCNe2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__I_4kO2SEeWnDaII1mfokg" name="testCreateAminoAcids" method="__uLpQO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JAfou2SEeWnDaII1mfokg" name="testCreateResiduesFromModel" method="__uLpQe2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JC74O2SEeWnDaII1mfokg" name="IUPRED_Output">
                  <ownedAttribute xmi:id="__r80oO2SEeWnDaII1mfokg" name="position" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__r9bsO2SEeWnDaII1mfokg" name="aminoacid" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__r9bsu2SEeWnDaII1mfokg" name="score" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__r-Cwe2SEeWnDaII1mfokg" name="map" visibility="package" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <qualifier xmi:id="__r_Q4O2SEeWnDaII1mfokg">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </qualifier>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__r-Cwu2SEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLpQu2SEeWnDaII1mfokg" name="_initializer1" specification="__JDi8O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>map.put(&quot;G&quot;, &quot;GLY&quot;);
		map.put(&quot;A&quot;, &quot;ALA&quot;);
		map.put(&quot;V&quot;, &quot;VAL&quot;);
		map.put(&quot;L&quot;, &quot;LEU&quot;);
		map.put(&quot;I&quot;, &quot;ILE&quot;);
		map.put(&quot;P&quot;, &quot;PRO&quot;);
		map.put(&quot;F&quot;, &quot;PHE&quot;);
		map.put(&quot;Y&quot;, &quot;TYR&quot;);
		map.put(&quot;W&quot;, &quot;TRP&quot;);
		map.put(&quot;S&quot;, &quot;SER&quot;);
		map.put(&quot;T&quot;, &quot;THR&quot;);
		map.put(&quot;C&quot;, &quot;CYS&quot;);
		map.put(&quot;M&quot;, &quot;MET&quot;);
		map.put(&quot;N&quot;, &quot;ASN&quot;);
		map.put(&quot;Q&quot;, &quot;GLN&quot;);
		map.put(&quot;K&quot;, &quot;LYS&quot;);
		map.put(&quot;R&quot;, &quot;ARG&quot;);
		map.put(&quot;H&quot;, &quot;HIS&quot;);
		map.put(&quot;D&quot;, &quot;ASP&quot;);
		map.put(&quot;E&quot;, &quot;GLU&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uLpQ-2SEeWnDaII1mfokg" name="outputposition" specification="__JEKAe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uLpRO2SEeWnDaII1mfokg" name="Rposition">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.position = Rposition;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uMQUO2SEeWnDaII1mfokg" name="outputscore" specification="__JExEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uMQUe2SEeWnDaII1mfokg" name="Rscore">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.score=Rscore;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uMQUu2SEeWnDaII1mfokg" name="aminoacid" specification="__JFYIO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uMQU-2SEeWnDaII1mfokg" name="Raminoacid">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.aminoacid= map.get(Raminoacid);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uMQVO2SEeWnDaII1mfokg" name="printRegion" specification="__JFYIu2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>System.out.println(&quot;Pos:&quot;+position+&quot;	AminoAcid:&quot;+aminoacid+&quot; Score:&quot;+score); 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uMQVe2SEeWnDaII1mfokg" name="toString" specification="__JF_MO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uMQVu2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>String string=null;
		string = &quot;Pos:&quot;+position+&quot;	AminoAcid:&quot;+aminoacid+&quot; Score:&quot;+score+&quot;&quot;;
		return string;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JDi8O2SEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="__uLpQu2SEeWnDaII1mfokg">
                    <eAnnotations xmi:id="__JDi8e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="__JDi8u2SEeWnDaII1mfokg" key="init"/>
                    </eAnnotations>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JEKAe2SEeWnDaII1mfokg" name="outputposition" method="__uLpQ-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JEKAu2SEeWnDaII1mfokg" name="Rposition">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JExEO2SEeWnDaII1mfokg" name="outputscore" method="__uMQUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JExEe2SEeWnDaII1mfokg" name="Rscore">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JFYIO2SEeWnDaII1mfokg" name="aminoacid" method="__uMQUu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JFYIe2SEeWnDaII1mfokg" name="Raminoacid">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JFYIu2SEeWnDaII1mfokg" name="printRegion" method="__uMQVO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JF_MO2SEeWnDaII1mfokg" name="toString" method="__uMQVe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JF_Me2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JHNUO2SEeWnDaII1mfokg" name="IUPRED_Predictor">
                  <generalization xmi:id="__ktkMe2SEeWnDaII1mfokg" general="__C6esO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__r_38O2SEeWnDaII1mfokg" name="Pregion" visibility="package" type="__fyn8O2SEeWnDaII1mfokg" association="__xO9Qe2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sAfAe2SEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uM3YO2SEeWnDaII1mfokg" name="process" specification="__oOyQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uM3Ye2SEeWnDaII1mfokg" name="is" type="__hkJkO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>ProcessBuilder pb = new ProcessBuilder();
			pb.directory(new File(&quot;/temp/iupred&quot;));
			String line = null;
			try {

				assert pb.redirectInput() == Redirect.PIPE;
				Vector&lt;String> commands = new Vector&lt;String>();
				commands.add(&quot;./iupred&quot;);
				commands.add(&quot;--&quot;);
				commands.add(&quot;long&quot;);
	//			Map &lt;String, String> env = pb.environment();
//				env.put(&quot;IUPred_PATH&quot;, strLine);
				
			/*	Set&lt;String> keySet = environment.keySet();
				for(String key: keySet){
					String value = environment.get(key);
					System.out.println(key+&quot;\t\t:\t&quot;+value);
				}*/
				pb.command(commands);
				pb.redirectOutput(Redirect.PIPE);
				pb.redirectErrorStream(true);
				
				Process p =pb.start();
				try{
					OutputStream out = p.getOutputStream();
					
					int d;
					while((d = is.read()) != -1){
						out.write(d);
					}
					is.close();
					out.close();
				}
				catch(FileNotFoundException e){
					
				}
				InputStream is1 = p.getInputStream();
				BufferedReader br = new BufferedReader(new InputStreamReader(is1));
				Pregion =new ArrayList &lt;IUPRED_Output>();
					while ((line = br.readLine()) != null){
						Pattern pat = Pattern.compile(&quot;[ ]{2,}&quot;);
		            	Matcher m =pat.matcher(line);
		            	if(m.find()){
		            		ArrayList&lt;String> region_list = new ArrayList&lt;String>();
		            		region_list.add(line);
		            		for(String s:region_list){
		            		IUPRED_Output predicted = new IUPRED_Output();
		            		String []splitArray = s.split(&quot;\\s+&quot;);     		
		            		predicted.outputposition(splitArray[1]);
		            		predicted.aminoacid(splitArray[2]);
		            		predicted.outputscore(splitArray[3]);
		            		Pregion.add(predicted);	
		            		}
		            		
		            	} 
		            
					}	
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			
			}
			
			

			
		</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__oOyQO2SEeWnDaII1mfokg" name="process" method="__uM3YO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oOyQe2SEeWnDaII1mfokg" name="is" type="__hkJkO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JJCgO2SEeWnDaII1mfokg" name="IUPRED_PredictorTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uM3Yu2SEeWnDaII1mfokg" name="testIUPRED_Predictor" specification="__JJpkO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>InputStream is = new FileInputStream(&quot;/Users/benkong/documents/fyp/iupred/P53_HUMAN.seq&quot;);
		IUPRED_Output test = new IUPRED_Output();
		test.position = &quot;342&quot;;
		IUPRED_Predictor predictor = new IUPRED_Predictor();
		try {
			predictor.process(is);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		assertEquals(test.position, predictor.Pregion.get(183).position);
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JJpkO2SEeWnDaII1mfokg" name="testIUPRED_Predictor" method="__uM3Yu2SEeWnDaII1mfokg" raisedException="__kqg4O2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JK3sO2SEeWnDaII1mfokg" name="InputManager">
                  <ownedAttribute xmi:id="__sAfA-2SEeWnDaII1mfokg" name="inputMethod" visibility="package" type="__JfAwO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__sBGEe2SEeWnDaII1mfokg" name="input" visibility="package" type="__h1PUe2SEeWnDaII1mfokg" association="__xPkUe2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uM3Y-2SEeWnDaII1mfokg" name="getInputMethod" specification="__JLewO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uM3ZO2SEeWnDaII1mfokg" type="__JfAwO2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return inputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uM3Ze2SEeWnDaII1mfokg" name="setInputMethod" specification="__kwAce2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uM3Zu2SEeWnDaII1mfokg" name="inputMethod" type="__JfAwO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>//No need to check here till now. will check in next methods
		this.inputMethod = inputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uNecO2SEeWnDaII1mfokg" name="getInput" specification="__oPZUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uNece2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.input = input;
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uNecu2SEeWnDaII1mfokg" name="readFile" specification="__JMF0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uNec-2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__uNedO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>File file = new File(pathname);
		StringBuilder fileContents = new StringBuilder((int)file.length());
		Scanner scanner = new Scanner(file);
		String lineSeparator = System.getProperty(&quot;line.separator&quot;);
		try{
			while(scanner.hasNextLine()){
				fileContents.append(scanner.nextLine()).append(lineSeparator);
			}
			return fileContents.toString();
		}finally{
			scanner.close();
		}
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JLewO2SEeWnDaII1mfokg" name="getInputMethod" method="__uM3Y-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kwAcO2SEeWnDaII1mfokg" type="__JfAwO2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JMF0O2SEeWnDaII1mfokg" name="readFile" method="__uNecu2SEeWnDaII1mfokg" raisedException="__kqg4O2SEeWnDaII1mfokg">
                    <ownedComment xmi:id="__u2-sO2SEeWnDaII1mfokg">
                      <body>@deprecated we may need it later
	 * @param pathname
	 * @return
	 * @throws FileNotFoundException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="__JMF0e2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="__JMs4O2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__kwAce2SEeWnDaII1mfokg" name="setInputMethod" method="__uM3Ze2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kwngO2SEeWnDaII1mfokg" name="inputMethod" type="__JfAwO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oPZUO2SEeWnDaII1mfokg" name="getInput" method="__uNecO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oQAYO2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JN7AO2SEeWnDaII1mfokg" name="OutputManager">
                  <ownedAttribute xmi:id="__sBtIO2SEeWnDaII1mfokg" name="outputMethod" visibility="package" type="__JhdAu2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__sBtIu2SEeWnDaII1mfokg" name="inputManager" type="__JK3sO2SEeWnDaII1mfokg" association="__xQLYO2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sBtI-2SEeWnDaII1mfokg" value="new InputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sCUMe2SEeWnDaII1mfokg" name="sp" type="__J0X8O2SEeWnDaII1mfokg" association="__xQLY-2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sCUMu2SEeWnDaII1mfokg" value="new STRIDE_Predictor()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uNede2SEeWnDaII1mfokg" name="getOutputMethod" specification="__JOiEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uNedu2SEeWnDaII1mfokg" type="__JhdAu2SEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return outputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOFgO2SEeWnDaII1mfokg" name="SetOutputMethod" specification="__kzDwe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uOFge2SEeWnDaII1mfokg" name="output" type="__JhdAu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uOFgu2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>//TODO change into enum
		if (predictor==null) {
			throw new IllegalStateException(&quot;Predictor is not yet set&quot;);
		}	
		else if(predictor==PredictorEnum.IUPRED){
			if (output.equals(OutputMethodEnum.FILE)) {
				//ok, do all necessary assignments
				this.outputMethod = output;
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on predictor&quot;);
			}
		if(predictor.equals(PredictorEnum.STRIDE)){
			if (output.equals(OutputMethodEnum.FILE)) {
				this.outputMethod = output;
			}else if(output.equals(OutputMethodEnum.OBJECTS)) {
				//ok, do all necessary assignments
				this.outputMethod = output;
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on predictor&quot;);
				}
		
			}
		}
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOFg-2SEeWnDaII1mfokg" name="OutputObjects" specification="__kzq0e2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uOFhO2SEeWnDaII1mfokg" name="input" type="__JfAwO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(input==InputMethodEnum.pdb_file_iupred ||input==InputMethodEnum.pdb_file_stride ){
		//	IOutility.createObjectsFromPDB(sp.Pregion);
		}else if(input==InputMethodEnum.objects){
			IOutility.createObjectsFromModel(sp.Pregion.get(0), inputManager.input);
		}
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JOiEO2SEeWnDaII1mfokg" name="getOutputMethod" method="__uNede2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kzDwO2SEeWnDaII1mfokg" type="__JhdAu2SEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JPJIO2SEeWnDaII1mfokg" name="OutputFile"/>
                  <ownedOperation xmi:id="__kzDwe2SEeWnDaII1mfokg" name="SetOutputMethod" method="__uOFgO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kzDwu2SEeWnDaII1mfokg" name="output" type="__JhdAu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__kzq0O2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__kzq0e2SEeWnDaII1mfokg" name="OutputObjects" method="__uOFg-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__kzq0u2SEeWnDaII1mfokg" name="input" type="__JfAwO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JRlYO2SEeWnDaII1mfokg" name="OutputManagerTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOFhe2SEeWnDaII1mfokg" name="testOutputFile" specification="__JSMcO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>fail(&quot;Not yet implemented&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOFhu2SEeWnDaII1mfokg" name="testOutputObjects" specification="__JSzgu2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>fail(&quot;Not yet implemented&quot;);
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JSMcO2SEeWnDaII1mfokg" name="testOutputFile" method="__uOFhe2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JSzgu2SEeWnDaII1mfokg" name="testOutputObjects" method="__uOFhu2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JTake2SEeWnDaII1mfokg" name="PI_Helix">
                  <generalization xmi:id="__k048O2SEeWnDaII1mfokg" general="__Ip6UO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOskO2SEeWnDaII1mfokg" name="setResidues" specification="__oQncO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uOske2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uOsku2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(stride.prediction.equals(&quot;PIHelix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOsk-2SEeWnDaII1mfokg" name="getOrientation" specification="__oR1kO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uOslO2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uOsle2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uOslu2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-5;
	ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
	float [] avg = new float [3];
	float sum0 = 0; float sum1 = 0; float sum2 = 0;
	Residue[] key = new Residue[size];
	Residue[] value = new Residue[size];
	for(int i = 0; i&lt; size; i++){	
			key[i]=residues.get(i);
			value[i]=residues.get(i+5);
			total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
		}
	for(Residue res: key){
		System.out.println(res.getResidueSeqNum());
	}
	for(Residue res1: value){
		System.out.println(res1.getResidueSeqNum());
	}
	
	for(float[] f1:total){

	sum0 += f1[0];
	sum1 += f1[1];
	sum2 += f1[2];
	
	avg[0] = sum0 /total.size();
	avg[1] = sum1 /total.size();
	avg[2] = sum2 /total.size();
	}
	
	
	
	return avg;
</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__oQncO2SEeWnDaII1mfokg" name="setResidues" method="__uOskO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oQnce2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oROgO2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oR1kO2SEeWnDaII1mfokg" name="getOrientation" method="__uOsk-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oR1ke2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oScoO2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__oScoe2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JUosO2SEeWnDaII1mfokg" name="PredictionManager">
                  <ownedAttribute xmi:id="__sC7Qe2SEeWnDaII1mfokg" name="predictor" visibility="package" type="__C6esO2SEeWnDaII1mfokg" association="__xQyce2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sC7Qu2SEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sEJYO2SEeWnDaII1mfokg" name="inputstream" visibility="package" type="__hkJkO2SEeWnDaII1mfokg" association="__xRZge2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__sEJYu2SEeWnDaII1mfokg" name="pathname" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOsl-2SEeWnDaII1mfokg" name="process" specification="__JWd4O2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>if (this.predictor instanceof IUPRED_Predictor){
				predictor.process(this.inputstream);
			}else if(this.predictor instanceof STRIDE_Predictor){
				predictor.process(this.pathname);
			}
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uOsmO2SEeWnDaII1mfokg" name="setPredictor" specification="__oYjQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uOsme2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uOsmu2SEeWnDaII1mfokg" name="inputMethod" type="__JfAwO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uOsm-2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if (inputMethod==null) {
			throw new IllegalStateException(&quot;Input Method is not yet set&quot;);
		}
		switch (inputMethod) {
		case fasta_file:
			if (predictor.equals(PredictorEnum.IUPRED)) {
					if(input instanceof File){
						String filepath = ((File)input).getAbsolutePath();
						inputstream = IOutility.fastafileToInputStream(filepath);
						this.predictor=new IUPRED_Predictor();
				}
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
			}
			break;
		case fasta_string:
			if (predictor.equals(PredictorEnum.IUPRED)) {
					if(input instanceof String){	
						inputstream = IOutility.stringToInputStream((String)input);
						this.predictor=new IUPRED_Predictor();
				}
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
			}
			
			break;
		case objects:
			//TODO prepare (object to PDB or to FASTA) pipeline based on your need
			if(predictor==PredictorEnum.STRIDE){
					if(input instanceof ArrayList&lt;?>){
						if(((ArrayList&lt;?>)input).get(0)instanceof Model){
							IOutility.ObjectstoPdbString((ArrayList&lt;Model>)input);
							this.predictor=new STRIDE_Predictor();
						}		
				}else{
					throw new IllegalArgumentException(&quot;invalid input&quot;);
				}
			}
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			else if(predictor==PredictorEnum.IUPRED){
					if(input instanceof ArrayList&lt;?>){
						if(((ArrayList&lt;?>)input).get(0)instanceof Chain){
							String fasta = IOutility.ObjectstoFasta((ArrayList&lt;Chain>)input);
							inputstream = IOutility.stringToInputStream(fasta);
							this.predictor=new IUPRED_Predictor();	
							}
					}
				} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			
			break;
		case pdb_file_stride://do not have to read file to input stream
			if(predictor==PredictorEnum.STRIDE){
					if(input instanceof File){
						pathname = ((File)input).getAbsolutePath();
						this.predictor=new STRIDE_Predictor();
					}
			}else{
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			break;
		case pdb_file_iupred:	
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			if(predictor==PredictorEnum.IUPRED){
					if(input instanceof File){
						String filepath = ((File)input).getAbsolutePath();
						String fasta = IOutility.pdbFileTofastaString(filepath);
						System.out.println(fasta);
						inputstream = IOutility.stringToInputStream(fasta);
						this.predictor=new IUPRED_Predictor();
					}
			}else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			break;
		case pdb_string:
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			 if(predictor==PredictorEnum.IUPRED){
					 if(input instanceof String){	
						 String fastaString = IOutility.pdbStringTofastaString((String)input);
						 inputstream = IOutility.stringToInputStream(fastaString);
						 this.predictor=new IUPRED_Predictor();
					}
			 }	else {
					throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
					}	 
			break;
			
		default:
			break;
		}		
		

	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JWd4O2SEeWnDaII1mfokg" name="process" method="__uOsl-2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__oYjQO2SEeWnDaII1mfokg" name="setPredictor" method="__uOsmO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oYjQe2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oYjQu2SEeWnDaII1mfokg" name="inputMethod" type="__JfAwO2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oYjQ-2SEeWnDaII1mfokg" name="input" type="__h1PUe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JY6IO2SEeWnDaII1mfokg" name="PredictionManagerTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uPToO2SEeWnDaII1mfokg" name="testSetPredictorFastaFile" specification="__JZhMO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/TEST.txt&quot;;
		Object input = new File (pathname);
		PredictorEnum predictor = PredictorEnum.IUPRED;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.fasta_file);
		//im.setInputMethod(null);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			InputStreamReader isr = new InputStreamReader(pm.inputstream);
			BufferedReader br = new BufferedReader(isr);
			String read = br.readLine();
			
			assertEquals(&quot;ABCD&quot;,read);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uPToe2SEeWnDaII1mfokg" name="testSetPredictorFastaString" specification="__JaIQu2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>PredictorEnum predictor = PredictorEnum.IUPRED;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.fasta_string);
		//im.setInputMethod(null);
		Object input = new String (&quot;ABCD&quot;);
		
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			InputStreamReader isr = new InputStreamReader(pm.inputstream);
			BufferedReader br = new BufferedReader(isr);
			String read = br.readLine();
			assertEquals(&quot;ABCD&quot;,read);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uPTou2SEeWnDaII1mfokg" name="testSetPredictorPDBfile1" specification="__JavU-2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		PredictorEnum predictor = PredictorEnum.STRIDE;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.pdb_file_stride);
		Object input = new File (pathname);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof STRIDE_Predictor){
			assertNotNull(pm.predictor);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uPTo-2SEeWnDaII1mfokg" name="testSetPredictorPDBfile2" specification="__Jb9cO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		PredictorEnum predictor = PredictorEnum.IUPRED;

		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.pdb_file_iupred);
		Object input = new File (pathname);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			assertNotNull(pm.predictor);
		}else{
			assertNull(pm.predictor);
		}

		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JZhMO2SEeWnDaII1mfokg" name="testSetPredictorFastaFile" method="__uPToO2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JaIQu2SEeWnDaII1mfokg" name="testSetPredictorFastaString" method="__uPToe2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JavU-2SEeWnDaII1mfokg" name="testSetPredictorPDBfile1" method="__uPTou2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__Jb9cO2SEeWnDaII1mfokg" name="testSetPredictorPDBfile2" method="__uPTo-2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__JdyoO2SEeWnDaII1mfokg" name="PredictorController">
                  <ownedAttribute xmi:id="__sFXgO2SEeWnDaII1mfokg" name="inputManager" type="__JK3sO2SEeWnDaII1mfokg" association="__xSAke2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sFXge2SEeWnDaII1mfokg" value="new InputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sFXg-2SEeWnDaII1mfokg" name="outputManager" type="__JN7AO2SEeWnDaII1mfokg" association="__xSnoO2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sF-kO2SEeWnDaII1mfokg" value="new OutputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sF-ku2SEeWnDaII1mfokg" name="predictionManager" type="__JUosO2SEeWnDaII1mfokg" association="__xSno-2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sF-k-2SEeWnDaII1mfokg" value="new PredictionManager()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uP6sO2SEeWnDaII1mfokg" name="setInputMethod" specification="__k38QO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uP6se2SEeWnDaII1mfokg" name="input" type="__JfAwO2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>inputManager.setInputMethod(input);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uP6su2SEeWnDaII1mfokg" name="setPredictor" specification="__k38Qu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uP6s-2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>predictionManager.setPredictor(predictor,inputManager.inputMethod,inputManager.input); 
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uP6tO2SEeWnDaII1mfokg" name="setOutputMethod" specification="__k4jUe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uP6te2SEeWnDaII1mfokg" name="output" type="__JhdAu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uP6tu2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>outputManager.SetOutputMethod(output,predictor);
	
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__k38QO2SEeWnDaII1mfokg" name="setInputMethod" method="__uP6sO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__k38Qe2SEeWnDaII1mfokg" name="input" type="__JfAwO2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__k38Qu2SEeWnDaII1mfokg" name="setPredictor" method="__uP6su2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__k4jUO2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__k4jUe2SEeWnDaII1mfokg" name="setOutputMethod" method="__uP6tO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__k4jUu2SEeWnDaII1mfokg" name="output" type="__JhdAu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__k4jU-2SEeWnDaII1mfokg" name="predictor" type="__Jg18e2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__JfAwO2SEeWnDaII1mfokg" name="InputMethodEnum">
                    <ownedLiteral xmi:id="__JgO4O2SEeWnDaII1mfokg" name="pdb_string"/>
                    <ownedLiteral xmi:id="__JgO4e2SEeWnDaII1mfokg" name="pdb_file_stride"/>
                    <ownedLiteral xmi:id="__JgO4u2SEeWnDaII1mfokg" name="pdb_file_iupred"/>
                    <ownedLiteral xmi:id="__JgO4-2SEeWnDaII1mfokg" name="fasta_string"/>
                    <ownedLiteral xmi:id="__JgO5O2SEeWnDaII1mfokg" name="fasta_file"/>
                    <ownedLiteral xmi:id="__Jg18O2SEeWnDaII1mfokg" name="objects"/>
                  </nestedClassifier>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__Jg18e2SEeWnDaII1mfokg" name="PredictorEnum">
                    <ownedLiteral xmi:id="__JhdAO2SEeWnDaII1mfokg" name="STRIDE"/>
                    <ownedLiteral xmi:id="__JhdAe2SEeWnDaII1mfokg" name="IUPRED"/>
                  </nestedClassifier>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="__JhdAu2SEeWnDaII1mfokg" name="OutputMethodEnum">
                    <ownedLiteral xmi:id="__JiEEe2SEeWnDaII1mfokg" name="FILE"/>
                    <ownedLiteral xmi:id="__JiEEu2SEeWnDaII1mfokg" name="OBJECTS"/>
                  </nestedClassifier>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__Jr1Eu2SEeWnDaII1mfokg" name="STRIDE_Output">
                  <ownedAttribute xmi:id="__sGloe2SEeWnDaII1mfokg" name="prediction" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sHMse2SEeWnDaII1mfokg" name="chain" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sHzwO2SEeWnDaII1mfokg" name="start" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sJB4O2SEeWnDaII1mfokg" name="startpos" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sJo8e2SEeWnDaII1mfokg" name="end" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="__sKQAO2SEeWnDaII1mfokg" name="endpos" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uQhwe2SEeWnDaII1mfokg" name="Rpred" specification="__JtDMO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uQhwu2SEeWnDaII1mfokg" name="Rpred">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>prediction = Rpred;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uQhw-2SEeWnDaII1mfokg" name="Rchain" specification="__JtqQO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uQhxO2SEeWnDaII1mfokg" name="Rchain">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>chain = Rchain;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uQhxe2SEeWnDaII1mfokg" name="Rstart" specification="__JuRUO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uQhxu2SEeWnDaII1mfokg" name="Rstart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>start = Rstart;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRI0O2SEeWnDaII1mfokg" name="RstartPos" specification="__Ju4YO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uRI0e2SEeWnDaII1mfokg" name="RstartPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>startpos = RstartPos;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRI0u2SEeWnDaII1mfokg" name="Rend" specification="__Ju4Yu2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uRI0-2SEeWnDaII1mfokg" name="Rend">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>end = Rend;
		 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRI1O2SEeWnDaII1mfokg" name="RendPos" specification="__JvfcO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uRI1e2SEeWnDaII1mfokg" name="RendPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>endpos = RendPos;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRI1u2SEeWnDaII1mfokg" name="printRegion" specification="__Jx7sO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>System.out.println(&quot;Prediction:&quot;+prediction+&quot;	Chain:&quot;+chain+&quot;		Start:&quot;+start+&quot;		End:&quot;+ end);	 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRv4O2SEeWnDaII1mfokg" name="toString" specification="__JyiwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uRv4e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>String string=null;
		 string = &quot;Prediction:&quot;+prediction+&quot;	Chain:&quot;+chain+&quot;		Start:&quot;+start+&quot;		End:&quot;+end+&quot;&quot;; 
		 return string;
	 </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__JtDMO2SEeWnDaII1mfokg" name="Rpred" method="__uQhwe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JtDMe2SEeWnDaII1mfokg" name="Rpred">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JtqQO2SEeWnDaII1mfokg" name="Rchain" method="__uQhw-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JtqQe2SEeWnDaII1mfokg" name="Rchain">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JuRUO2SEeWnDaII1mfokg" name="Rstart" method="__uQhxe2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__JuRUe2SEeWnDaII1mfokg" name="Rstart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Ju4YO2SEeWnDaII1mfokg" name="RstartPos" method="__uRI0O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Ju4Ye2SEeWnDaII1mfokg" name="RstartPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Ju4Yu2SEeWnDaII1mfokg" name="Rend" method="__uRI0u2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Ju4Y-2SEeWnDaII1mfokg" name="Rend">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__JvfcO2SEeWnDaII1mfokg" name="RendPos" method="__uRI1O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Jvfce2SEeWnDaII1mfokg" name="RendPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="__Jx7sO2SEeWnDaII1mfokg" name="printRegion" method="__uRI1u2SEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="__JyiwO2SEeWnDaII1mfokg" name="toString" method="__uRv4O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__Jyiwe2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__J0X8O2SEeWnDaII1mfokg" name="STRIDE_Predictor">
                  <generalization xmi:id="__k6YgO2SEeWnDaII1mfokg" general="__C6esO2SEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="__sK3EO2SEeWnDaII1mfokg" name="Pregion" visibility="package" type="__fyn8O2SEeWnDaII1mfokg" association="__xTOse2SEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="__sLeIe2SEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRv4u2SEeWnDaII1mfokg" name="process" specification="__J1mEO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uRv4-2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ProcessBuilder pb = new ProcessBuilder();
		pb.directory(new File(&quot;/temp/stride&quot;));
		

		try {
		assert pb.redirectInput() == Redirect.PIPE;
		Vector&lt;String> commands = new Vector&lt;String>();
		commands.add(&quot;./stride&quot;);
		commands.add(pathname);
		
		pb.command(commands);
		pb.redirectOutput(Redirect.PIPE);
		pb.redirectErrorStream(true);
		
		Process p =pb.start();
		
		InputStream input = p.getInputStream();
		BufferedReader br = new BufferedReader(new InputStreamReader(input));
		String str;
		
     Pregion = new ArrayList&lt;STRIDE_Output>();
    
		
		    while ((str = br.readLine()) != null) {
		 
		    
		    	Pattern pat = Pattern.compile(&quot;LOC&quot;);
         	Matcher m =pat.matcher(str);
         	if (m.find()){
         	ArrayList&lt;String> region_list = new ArrayList&lt;String>();
         	region_list.add(str);
         	
         	for(String sentence:region_list){
         		STRIDE_Output predicted = new STRIDE_Output();
         		String []splitArray = sentence.split(&quot;\\s+&quot;);
         		predicted.Rpred(splitArray[1]);
         		predicted.Rchain(splitArray[4]);
         		predicted.Rstart(splitArray[2]);
         		predicted.RstartPos(splitArray[3]);
         		predicted.Rend(splitArray[5]);
         		predicted.RendPos(splitArray[6]);
         		Pregion.add(predicted);
         		}
         	}
         	}
		}catch (IOException e){
			e.printStackTrace();
		}
	
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__J1mEO2SEeWnDaII1mfokg" name="process" method="__uRv4u2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__J1mEe2SEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__J3bQO2SEeWnDaII1mfokg" name="STRIDE_PredictorTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uRv5O2SEeWnDaII1mfokg" name="test" specification="__J4CUO2SEeWnDaII1mfokg">
                    <language>java</language>
                    <body>STRIDE_Output test = new STRIDE_Output();
		test.start = &quot;PRO&quot;;
		String pathname = &quot;/Users/benkong/Documents/FYP/stride/4HHB.pdb&quot;;
		STRIDE_Predictor predictor = new STRIDE_Predictor();
		predictor.process(pathname);
		
		assertEquals(test.start, predictor.Pregion.get(0).start);
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__J4CUO2SEeWnDaII1mfokg" name="test" method="__uRv5O2SEeWnDaII1mfokg" raisedException="__hcNwO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__J5Qcu2SEeWnDaII1mfokg" name="ThreeTenHelix">
                  <generalization xmi:id="__k6_kO2SEeWnDaII1mfokg" general="__Ip6UO2SEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uSW8O2SEeWnDaII1mfokg" name="setResidues" specification="__ocNoO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uSW8e2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uSW8u2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(stride.prediction.equals(&quot;310Helix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uSW8-2SEeWnDaII1mfokg" name="getOrientation" specification="__oc0sO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uSW9O2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__uSW9e2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uSW9u2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-3;
	ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
	float [] avg = new float [3];
	float sum0 = 0; float sum1 = 0; float sum2 = 0;
	Residue[] key = new Residue[size];
	Residue[] value = new Residue[size];
	for(int i = 0; i&lt; size; i++){	
			key[i]=residues.get(i);
			value[i]=residues.get(i+3);
			total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
		}
	for(Residue res: key){
		System.out.println(res.getResidueSeqNum());
	}
	for(Residue res1: value){
		System.out.println(res1.getResidueSeqNum());
	}
	
	for(float[] f1:total){

	sum0 += f1[0];
	sum1 += f1[1];
	sum2 += f1[2];
	
	avg[0] = sum0 /total.size();
	avg[1] = sum1 /total.size();
	avg[2] = sum2 /total.size();
	}
	
	
	
	return avg;
</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__ocNoO2SEeWnDaII1mfokg" name="setResidues" method="__uSW8O2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__ocNoe2SEeWnDaII1mfokg" name="stride" type="__Jr1Eu2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__ocNou2SEeWnDaII1mfokg" name="o" type="__h1PUe2SEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="__oc0sO2SEeWnDaII1mfokg" name="getOrientation" method="__uSW8-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__oc0se2SEeWnDaII1mfokg" name="residues" type="__fyn8O2SEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="__oc0su2SEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__oc0s-2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="__J7FoO2SEeWnDaII1mfokg" name="test">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uSW9-2SEeWnDaII1mfokg" name="main" specification="__J7ssO2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__uSW-O2SEeWnDaII1mfokg" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uSW-e2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		System.out.println(models.size());

	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="__J7ssO2SEeWnDaII1mfokg" name="main" isStatic="true" method="__uSW9-2SEeWnDaII1mfokg">
                    <ownedParameter xmi:id="__J8TwO2SEeWnDaII1mfokg" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__J860O2SEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xOWMe2SEeWnDaII1mfokg" name="" memberEnd="__xOWMu2SEeWnDaII1mfokg __r5xUO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xOWMu2SEeWnDaII1mfokg" name="" type="__Ip6UO2SEeWnDaII1mfokg" association="__xOWMe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xO9Qe2SEeWnDaII1mfokg" name="" memberEnd="__xO9Qu2SEeWnDaII1mfokg __r_38O2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xO9Qu2SEeWnDaII1mfokg" name="" type="__JHNUO2SEeWnDaII1mfokg" association="__xO9Qe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xPkUe2SEeWnDaII1mfokg" name="" memberEnd="__xPkUu2SEeWnDaII1mfokg __sBGEe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xPkUu2SEeWnDaII1mfokg" name="" type="__JK3sO2SEeWnDaII1mfokg" association="__xPkUe2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xQLYO2SEeWnDaII1mfokg" name="" memberEnd="__xQLYe2SEeWnDaII1mfokg __sBtIu2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xQLYe2SEeWnDaII1mfokg" name="" type="__JN7AO2SEeWnDaII1mfokg" association="__xQLYO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xQLY-2SEeWnDaII1mfokg" name="" memberEnd="__xQLZO2SEeWnDaII1mfokg __sCUMe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xQLZO2SEeWnDaII1mfokg" name="" type="__JN7AO2SEeWnDaII1mfokg" association="__xQLY-2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xQyce2SEeWnDaII1mfokg" name="" memberEnd="__xQycu2SEeWnDaII1mfokg __sC7Qe2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xQycu2SEeWnDaII1mfokg" name="" type="__JUosO2SEeWnDaII1mfokg" association="__xQyce2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xRZge2SEeWnDaII1mfokg" name="" memberEnd="__xRZgu2SEeWnDaII1mfokg __sEJYO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xRZgu2SEeWnDaII1mfokg" name="" type="__JUosO2SEeWnDaII1mfokg" association="__xRZge2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xSAke2SEeWnDaII1mfokg" name="" memberEnd="__xSAku2SEeWnDaII1mfokg __sFXgO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xSAku2SEeWnDaII1mfokg" name="" type="__JdyoO2SEeWnDaII1mfokg" association="__xSAke2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xSnoO2SEeWnDaII1mfokg" name="" memberEnd="__xSnoe2SEeWnDaII1mfokg __sFXg-2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xSnoe2SEeWnDaII1mfokg" name="" type="__JdyoO2SEeWnDaII1mfokg" association="__xSnoO2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xSno-2SEeWnDaII1mfokg" name="" memberEnd="__xSnpO2SEeWnDaII1mfokg __sF-ku2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xSnpO2SEeWnDaII1mfokg" name="" type="__JdyoO2SEeWnDaII1mfokg" association="__xSno-2SEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="__xTOse2SEeWnDaII1mfokg" name="" memberEnd="__xTOsu2SEeWnDaII1mfokg __sK3EO2SEeWnDaII1mfokg">
                  <ownedEnd xmi:id="__xTOsu2SEeWnDaII1mfokg" name="" type="__J0X8O2SEeWnDaII1mfokg" association="__xTOse2SEeWnDaII1mfokg"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_-6XmsO2SEeWnDaII1mfokg" name="physics_engine2">
                <packagedElement xmi:type="uml:Package" xmi:id="_-6Xmse2SEeWnDaII1mfokg" name="amber03">
                  <packagedElement xmi:type="uml:Package" xmi:id="_-6aC8O2SEeWnDaII1mfokg" name="topology">
                    <packagedElement xmi:type="uml:Class" xmi:id="__HMhwO2SEeWnDaII1mfokg" name="TopologyDatabase">
                      <ownedAttribute xmi:id="__rVJkO2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wzfce2SEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rVJke2SEeWnDaII1mfokg" value="Logger.getLogger( TopologyDatabase.class.getName() )"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rVJku2SEeWnDaII1mfokg" name="instance" isStatic="true" type="__HMhwO2SEeWnDaII1mfokg" isReadOnly="true" association="__wzfdO2SEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rVwoe2SEeWnDaII1mfokg" value="null"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rWXse2SEeWnDaII1mfokg" name="vdParams" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__w0Gge2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rW-wu2SEeWnDaII1mfokg" name="bondParams" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__w0tke2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rYM4O2SEeWnDaII1mfokg" name="angleParams" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__w1Uoe2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rYz8e2SEeWnDaII1mfokg" name="properDihedralParams" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__w17sO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rZbAu2SEeWnDaII1mfokg" name="improperDihedralParams" visibility="private" type="__f25YO2SEeWnDaII1mfokg" association="__w17s-2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7Kk-2SEeWnDaII1mfokg" name="TopologyDatabase" specification="__HNv4O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7KlO2SEeWnDaII1mfokg" type="__HMhwO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>log.info(&quot;Loading Typology Database&quot;);
		loadBondedParams();
		loadNonBondedParams();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7Kle2SEeWnDaII1mfokg" name="getVdParams" specification="__HOW8O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7Klu2SEeWnDaII1mfokg" name="atom">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__t7Kl-2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t7KmO2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return vdParams.get(atom);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7xoO2SEeWnDaII1mfokg" name="getBondParams" specification="__nPTwO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7xoe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t7xou2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t7xo-2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;Double> t = bondParams.get(atoms);
		if (t == null) {
			Collections.reverse(atoms);
			t = bondParams.get(atoms);
		}
		return t;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7xpO2SEeWnDaII1mfokg" name="getAngleParams" specification="__nQh4e2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7xpe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t7xpu2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t7xp-2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;Double> t = angleParams.get(atoms);
		if (t == null) {
			Collections.reverse(atoms);
			t = angleParams.get(atoms);
		}
		return t;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7xqO2SEeWnDaII1mfokg" name="getImproperDihedralParams" specification="__nRwAe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7xqe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t7xqu2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t7xq-2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> key = new ArrayList&lt;String>(atoms);		
		List&lt;String> key2 = new ArrayList&lt;String>(atoms);
		Collections.reverse(key2);
		List&lt;Double> value = improperDihedralParams.get(key);
		if (value == null) {
			value = improperDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(0, &quot;X&quot;);
			value = improperDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(0, &quot;X&quot;);
			value = improperDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(1, &quot;X&quot;);
			value = improperDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(1, &quot;X&quot;);
			value = improperDihedralParams.get(key2);
		}
		return value;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7xrO2SEeWnDaII1mfokg" name="getProperDihedralParams" specification="__nTlMO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t7xre2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t7xru2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t7xr-2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> key = new ArrayList&lt;String>(atoms);
		List&lt;String> key2 = new ArrayList&lt;String>(atoms);
		Collections.reverse(key2);
		List&lt;Double> value = properDihedralParams.get(key);
		if (value == null) {
			value = properDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(0, &quot;X&quot;);
			key.set(3, &quot;X&quot;);
			value = properDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(0, &quot;X&quot;);
			key2.set(3, &quot;X&quot;);
			value = properDihedralParams.get(key2);
		}
		return value;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8YsO2SEeWnDaII1mfokg" name="loadNonBondedParams" specification="__HPlEO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>String fileName = &quot;res/amber03/ffnonbonded.itp&quot;;
		List&lt;String> fileAsList = FileReader.readFile(fileName);
		int atomtypes = fileAsList.indexOf(&quot;[ atomtypes ]&quot;);
		loadVdParams(fileAsList.subList(atomtypes+1,  fileAsList.size()));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8Yse2SEeWnDaII1mfokg" name="loadBondedParams" specification="__HQMIO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>String fileName = &quot;res/amber03/ffbonded.itp&quot;;
		List&lt;String> fileAsList = FileReader.readFile(fileName);
		int bondtypes = fileAsList.indexOf(&quot;[ bondtypes ]&quot;);
		int constrainttypes = fileAsList.indexOf(&quot;[ constrainttypes ]&quot;);
		int angletypes = fileAsList.indexOf(&quot;[ angletypes ]&quot;);
		int improperDihedral = fileAsList.indexOf(&quot;[ dihedraltypes ]&quot;);
		int properDihedral = fileAsList.lastIndexOf(&quot;[ dihedraltypes ]&quot;);
		
//		System.out.println(bondtypes);
//		System.out.println(constrainttypes);
//		System.out.println(angletypes);
//		System.out.println(improperDihedral);
//		System.out.println(properDihedral);
		
		loadBondParams(fileAsList.subList(bondtypes+1, constrainttypes));
		loadAngleParams(fileAsList.subList(angletypes+1, improperDihedral));
		loadImproperDihedralParams(fileAsList.subList(improperDihedral+1, properDihedral));
		loadProperDihedralParams(fileAsList.subList(properDihedral+1, fileAsList.size()));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8Ysu2SEeWnDaII1mfokg" name="loadVdParams" specification="__nUzUe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8Ys-2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>vdParams = new HashMap&lt;String, List&lt;Double>>();
		for (String s : atoms) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 6 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				String key = t[0];
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[5]));
				value.add(Double.parseDouble(t[6]));
//				System.out.println(value);
				vdParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8YtO2SEeWnDaII1mfokg" name="loadBondParams" specification="__nWBce2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8Yte2SEeWnDaII1mfokg" name="bonds" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>bondParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : bonds) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[1]);
				key.add(t[2]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[4]));
				value.add(Double.parseDouble(t[5]));
//				System.out.println(value);
				bondParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8Ytu2SEeWnDaII1mfokg" name="loadAngleParams" specification="__nXPkO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8Yt-2SEeWnDaII1mfokg" name="angles" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>angleParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : angles) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[0]);
				key.add(t[1]);
				key.add(t[2]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[4]));
				value.add(Double.parseDouble(t[5]));
//				System.out.println(value);
				angleParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8_wO2SEeWnDaII1mfokg" name="loadImproperDihedralParams" specification="__nYdsO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8_we2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>improperDihedralParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 6 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[0]);
				key.add(t[1]);
				key.add(t[2]);
				key.add(t[3]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[5]));
				value.add(Double.parseDouble(t[6]));
//				System.out.println(value);
				improperDihedralParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8_wu2SEeWnDaII1mfokg" name="loadProperDihedralParams" specification="__nZEwe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8_w-2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>properDihedralParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 8 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[1]);
				key.add(t[2]);
				key.add(t[3]);
				key.add(t[4]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[6]));
				value.add(Double.parseDouble(t[7]));
				value.add(Double.parseDouble(t[8]));
//				System.out.println(value);
				properDihedralParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__HNv4O2SEeWnDaII1mfokg" name="TopologyDatabase" visibility="private" method="__t7Kk-2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__HNv4e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__HNv4u2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__HNv4-2SEeWnDaII1mfokg" type="__HMhwO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__HOW8O2SEeWnDaII1mfokg" name="getVdParams" method="__t7Kle2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__HOW8e2SEeWnDaII1mfokg" name="atom">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="__HOW8u2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__HOW8-2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__HPlEO2SEeWnDaII1mfokg" name="loadNonBondedParams" visibility="private" method="__t8YsO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__HQMIO2SEeWnDaII1mfokg" name="loadBondedParams" visibility="private" method="__t8Yse2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nPTwO2SEeWnDaII1mfokg" name="getBondParams" method="__t7xoO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nPTwe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nP60O2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__nP60e2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nQh4e2SEeWnDaII1mfokg" name="getAngleParams" method="__t7xpO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nQh4u2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nRI8O2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__nRI8e2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nRwAe2SEeWnDaII1mfokg" name="getImproperDihedralParams" method="__t7xqO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nRwAu2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nSXEO2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__nSXEe2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nTlMO2SEeWnDaII1mfokg" name="getProperDihedralParams" method="__t7xrO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nTlMe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nTlMu2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__nUMQO2SEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nUzUe2SEeWnDaII1mfokg" name="loadVdParams" visibility="private" method="__t8Ysu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nVaYO2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nWBce2SEeWnDaII1mfokg" name="loadBondParams" visibility="private" method="__t8YtO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nWBcu2SEeWnDaII1mfokg" name="bonds" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nXPkO2SEeWnDaII1mfokg" name="loadAngleParams" visibility="private" method="__t8Ytu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nXPke2SEeWnDaII1mfokg" name="angles" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nYdsO2SEeWnDaII1mfokg" name="loadImproperDihedralParams" visibility="private" method="__t8_wO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nYdse2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nZEwe2SEeWnDaII1mfokg" name="loadProperDihedralParams" visibility="private" method="__t8_wu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nZEwu2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__HW50O2SEeWnDaII1mfokg" name="TopologyBuilder">
                      <ownedAttribute xmi:id="__rbQMO2SEeWnDaII1mfokg" name="params" visibility="private" type="__h1PUe2SEeWnDaII1mfokg" association="_Fr56Me26EeWnDaII1mfokg">
                        <qualifier xmi:id="__rb3Qe2SEeWnDaII1mfokg">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </qualifier>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rb3Qu2SEeWnDaII1mfokg" name="m" visibility="package" type="__HljUO2SEeWnDaII1mfokg" association="_Fr5TIO26EeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rb3Q-2SEeWnDaII1mfokg" value="new MolecularSystem()"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rceUe2SEeWnDaII1mfokg" name="T" visibility="package" isLeaf="true" isReadOnly="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rceUu2SEeWnDaII1mfokg" value="288"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rdFYe2SEeWnDaII1mfokg" name="K" visibility="package" isLeaf="true" isReadOnly="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rdFYu2SEeWnDaII1mfokg" value="8.314510e-3"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t8_xO2SEeWnDaII1mfokg" name="build" specification="__nbhAO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t8_xe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t8_xu2SEeWnDaII1mfokg" type="__HljUO2SEeWnDaII1mfokg" direction="return">
                          <name xsi:nil="true"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>//		this.config = config;
		String dir = (String) config.get(&quot;dir&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;/&quot;;
		params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		m.particles = new ArrayList&lt;AbstractParticle>();
		m.interactions = new ArrayList&lt;Interaction>();
		readNameAndPosition(dir + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
		readTopology(dir + (String) config.get(&quot;name&quot;) +&quot;.top&quot;);
		initVelocity();
		return m;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m0O2SEeWnDaII1mfokg" name="readTopology" specification="__HYH8O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t9m0e2SEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> fileAsList = FileReader.readFile(fileName);
		int atoms = fileAsList.indexOf(&quot;[ atoms ]&quot;);
		int bonds = fileAsList.indexOf(&quot;[ bonds ]&quot;);
		int pairs = fileAsList.indexOf(&quot;[ pairs ]&quot;);
		int angles = fileAsList.indexOf(&quot;[ angles ]&quot;);
		int properDihedrals = fileAsList.indexOf(&quot;[ dihedrals ]&quot;);
		int improperDihedrals = fileAsList.lastIndexOf(&quot;[ dihedrals ]&quot;);
		int position_restraints = fileAsList.lastIndexOf(&quot;[ position_restraints ]&quot;);
		
		loadAtoms(fileAsList.subList(atoms+1, bonds));
		
		System.out.println(&quot;Loading bonds...&quot;);
		loadBonds(fileAsList.subList(bonds+1, pairs));
		
		System.out.println(&quot;Loading pairs...&quot;);
		loadPairs(fileAsList.subList(pairs+1, angles));
		
		System.out.println(&quot;Loading angles...&quot;);
		loadAngles(fileAsList.subList(angles+1, properDihedrals));

		System.out.println(&quot;Loading ImproperDihedral...&quot;);
		loadProperDihedrals(fileAsList.subList(properDihedrals+1, improperDihedrals));

		System.out.println(&quot;Loading ProperDihedral...&quot;);
		loadImproperDihedrals(fileAsList.subList(improperDihedrals+1, position_restraints));
		
		updateExclude();
//		generateNonBondedInteraction();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m0u2SEeWnDaII1mfokg" name="updateExclude" specification="__HYvAO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>int n = m.particles.size();
//		boolean visited[] = new boolean[n];
		
		for (int i=0; i&lt;n; i++) {
			Atom atom1 = (Atom) m.particles.get(i);
			ArrayList&lt;Atom> neighbor = atom1.getNeighbor();
			for (Atom atom2: neighbor) {
				m.exclude[atom1.getGUID()-1][atom2.getGUID()-1] = true;
				ArrayList&lt;Atom> neighbor2 = atom2.getNeighbor();
				for (Atom atom3: neighbor2) {
					m.exclude[atom1.getGUID()-1][atom3.getGUID()-1] = true;
				}
			}
		}
		
//		for (int i=0; i&lt;n; i++) {
//			for (int j=0; j&lt;n; j++) {
//				if (m.exclude[i][j]) {
//					System.out.println(i + &quot; &quot; + j);
//				}
//			}
//		}
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m0-2SEeWnDaII1mfokg" name="readNameAndPosition" specification="__HYvAe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t9m1O2SEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> fileAsList = FileReader.readFile(fileName);
		int count = Integer.valueOf(fileAsList.get(1).trim());
		loadNameAndPosition(fileAsList.subList(2, count+2));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m1e2SEeWnDaII1mfokg" name="loadAtoms" specification="__ncvIO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t9m1u2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(atoms.toString());
		int i = 0;
		for (String s : atoms) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 8 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				String type = t[2];
				double charge = Double.parseDouble(t[7]);
				double mass = Double.parseDouble(t[8]);
				Atom atom = (Atom) m.particles.get(i);
				atom.setType(type);
				atom.setCharge(charge);
				atom.setMass(mass);
//				System.out.println(i + &quot; &quot; + atom);
				i++;
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m1-2SEeWnDaII1mfokg" name="loadBonds" specification="__nd9QO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t9m2O2SEeWnDaII1mfokg" name="bonds" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(bonds.toString());
		
		for (String s : bonds) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 3 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				m.interactions.add(new Bond(atoms));
				atom1.addNeighbor(atom2);
				atom2.addNeighbor(atom1);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t9m2e2SEeWnDaII1mfokg" name="loadPairs" specification="__nekUe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t9m2u2SEeWnDaII1mfokg" name="pairs" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(pairs.toString());
		int n = m.particles.size();
		m.exclude = new boolean[n][n];
		
		for (int i=0; i&lt;n; i++) {
			for (int j=0; j&lt;n; j++) {
				m.exclude[i][j] = false;
			}
		}
		
		for (String s : pairs) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 3 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				int n1 = Integer.parseInt(t[1])-1;
				int n2 = Integer.parseInt(t[2])-1;
				
				m.exclude[n1][n2] = true;
				m.exclude[n2][n1] = true;
//				m.interactions.add(new ElectrostaticPotential(atom1, atom2));
//				m.interactions.add(new LennardJonesPotential(atom1, atom2));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-N4O2SEeWnDaII1mfokg" name="loadAngles" specification="__nfycO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t-N4e2SEeWnDaII1mfokg" name="angles" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(angles.toString());
		
		for (String s : angles) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 4 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				m.interactions.add(new Angle(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-N4u2SEeWnDaII1mfokg" name="loadProperDihedrals" specification="__ngZge2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t-N4-2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(dihedrals.toString());
		
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				Atom atom4 = (Atom) m.particles.get(Integer.parseInt(t[4])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				atoms.add(atom4);
				m.interactions.add(new ProperDihedral(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-N5O2SEeWnDaII1mfokg" name="loadImproperDihedrals" specification="__niOsO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t-N5e2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(dihedrals.toString());
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				Atom atom4 = (Atom) m.particles.get(Integer.parseInt(t[4])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				atoms.add(atom4);
				m.interactions.add(new ImproperDihedral(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-N5u2SEeWnDaII1mfokg" name="loadNameAndPosition" specification="__ni1we2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t-N5-2SEeWnDaII1mfokg" name="s" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>for (int i=0; i&lt;s.size(); i++) {
			String[] t = s.get(i).split(&quot; +&quot;);
//			System.out.println(Arrays.toString(t));
			double x = Double.parseDouble(t[4]);
			double y = Double.parseDouble(t[5]);
			double z = Double.parseDouble(t[6]);
			Atom atom = new Atom();
			atom.setPosition(x, y, z, 0);
			atom.setName(t[2]);
			m.particles.add(atom);
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-08O2SEeWnDaII1mfokg" name="generateNonBondedInteraction" specification="__HZWEO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>int count = m.particles.size();
		if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
			for (int i=0; i&lt;count-1; i++) {
				for (int j=i+1; j&lt;count; j++) {
					ElectrostaticPotential e = new ElectrostaticPotential((Atom)m.particles.get(i), (Atom)m.particles.get(j));
					m.interactions.add(e);
				}
			}
		}
		
		if ((Boolean) params.get(&quot;LennardJones&quot;)) {
			for (int i=0; i&lt;count-1; i++) {
				for (int j=i+1; j&lt;count; j++) {
					LennardJonesPotential l = new LennardJonesPotential((Atom)m.particles.get(i), (Atom)m.particles.get(j));
					m.interactions.add(l);
				}
			}
		}
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-08e2SEeWnDaII1mfokg" name="initVelocity" specification="__HZ9IO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Random rand = new Random();
		double p, m1, m2, v1, v2;
		AbstractParticle a1, a2;
		for (int i=0; i&lt;m.particles.size()/2; i++) {
			p = 0.01 * rand.nextDouble() + 1;
			a1 = m.particles.get(i);
			m1 = a1.getMass();
			a2 = m.particles.get(m.particles.size()-i-1);
			m2 = a2.getMass();
			v1 = Math.sqrt(2 * K * T * Math.log(p) / m1 / Math.sqrt(m1 / (2 * Math.PI * K * T)));
			v2 = Math.sqrt(2 * K * T * Math.log(p) / m2 / Math.sqrt(m2 / (2 * Math.PI * K * T)));
			a1.setVelocity(v1, v1, v1);
			a2.setVelocity(-v2, -v2, -v2);
		}
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__HYH8O2SEeWnDaII1mfokg" name="readTopology" visibility="private" method="__t9m0O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__HYH8e2SEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__HYvAO2SEeWnDaII1mfokg" name="updateExclude" visibility="private" method="__t9m0u2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__HYvAe2SEeWnDaII1mfokg" name="readNameAndPosition" visibility="private" method="__t9m0-2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__HYvAu2SEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__HZWEO2SEeWnDaII1mfokg" name="generateNonBondedInteraction" method="__t-08O2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__HZ9IO2SEeWnDaII1mfokg" name="initVelocity" method="__t-08e2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nbhAO2SEeWnDaII1mfokg" name="build" method="__t8_xO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nbhAe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nbhAu2SEeWnDaII1mfokg" type="__HljUO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__ncvIO2SEeWnDaII1mfokg" name="loadAtoms" visibility="private" method="__t9m1e2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__ncvIe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nd9QO2SEeWnDaII1mfokg" name="loadBonds" visibility="private" method="__t9m1-2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nd9Qe2SEeWnDaII1mfokg" name="bonds" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nekUe2SEeWnDaII1mfokg" name="loadPairs" visibility="private" method="__t9m2e2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nekUu2SEeWnDaII1mfokg" name="pairs" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__nfycO2SEeWnDaII1mfokg" name="loadAngles" visibility="private" method="__t-N4O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nfyce2SEeWnDaII1mfokg" name="angles" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__ngZge2SEeWnDaII1mfokg" name="loadProperDihedrals" visibility="private" method="__t-N4u2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__ngZgu2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__niOsO2SEeWnDaII1mfokg" name="loadImproperDihedrals" method="__t-N5O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__niOse2SEeWnDaII1mfokg" name="dihedrals" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__ni1we2SEeWnDaII1mfokg" name="loadNameAndPosition" method="__t-N5u2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__ni1wu2SEeWnDaII1mfokg" name="s" type="__gLCcO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wzfce2SEeWnDaII1mfokg" name="" memberEnd="__wzfcu2SEeWnDaII1mfokg __rVJkO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wzfcu2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__wzfce2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wzfdO2SEeWnDaII1mfokg" name="" memberEnd="__wzfde2SEeWnDaII1mfokg __rVJku2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wzfde2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__wzfdO2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__w0Gge2SEeWnDaII1mfokg" name="" memberEnd="__w0Ggu2SEeWnDaII1mfokg __rWXse2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__w0Ggu2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__w0Gge2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__w0tke2SEeWnDaII1mfokg" name="" memberEnd="__w0tku2SEeWnDaII1mfokg __rW-wu2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__w0tku2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__w0tke2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__w1Uoe2SEeWnDaII1mfokg" name="" memberEnd="__w1Uou2SEeWnDaII1mfokg __rYM4O2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__w1Uou2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__w1Uoe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__w17sO2SEeWnDaII1mfokg" name="" memberEnd="__w17se2SEeWnDaII1mfokg __rYz8e2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__w17se2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__w17sO2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__w17s-2SEeWnDaII1mfokg" name="" memberEnd="__w17tO2SEeWnDaII1mfokg __rZbAu2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__w17tO2SEeWnDaII1mfokg" name="" type="__HMhwO2SEeWnDaII1mfokg" association="__w17s-2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_Fr5TIO26EeWnDaII1mfokg" name="" memberEnd="_Fr5TIe26EeWnDaII1mfokg __rb3Qu2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_Fr5TIe26EeWnDaII1mfokg" name="" type="__HW50O2SEeWnDaII1mfokg" association="_Fr5TIO26EeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_Fr56Me26EeWnDaII1mfokg" name="" memberEnd="_Fr56Mu26EeWnDaII1mfokg __rbQMO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_Fr56Mu26EeWnDaII1mfokg" name="" type="__HW50O2SEeWnDaII1mfokg" association="_Fr56Me26EeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_-6bREO2SEeWnDaII1mfokg" name="models">
                    <packagedElement xmi:type="uml:Class" xmi:id="__GkPoO2SEeWnDaII1mfokg" name="Angle">
                      <generalization xmi:id="__jv64O2SEeWnDaII1mfokg" general="__G2jgO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rF5AO2SEeWnDaII1mfokg" name="th0" visibility="public">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rHHIO2SEeWnDaII1mfokg" name="v_ji" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__wvOAe2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rHuMe2SEeWnDaII1mfokg" name="theta" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__ur_k-2SEeWnDaII1mfokg" name="cth" visibility="public">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__usmoe2SEeWnDaII1mfokg" name="v_jk" visibility="private" type="__CK30O2SEeWnDaII1mfokg" association="__xVD4e2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__utNse2SEeWnDaII1mfokg" name="cosTheta" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__ut0we2SEeWnDaII1mfokg" name="cosThetaSqr" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t1D8O2SEeWnDaII1mfokg" name="Angle" specification="__nEUoO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t1D8e2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t1D8u2SEeWnDaII1mfokg" type="__GkPoO2SEeWnDaII1mfokg" direction="return">
                          <name xsi:nil="true"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getAngleParams(query);
		th0 = Math.toRadians(params.get(0));
		cth = params.get(1);
		
		v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
//		System.out.println(&quot;v_ji: &quot; + v_ji);
//		System.out.println(&quot;v_jk: &quot; + v_jk);
		cosTheta = Geometry.cosTheta(v_ji, v_jk);
//		System.out.println(cosTheta);
		cosThetaSqr = cosTheta * cosTheta;
		theta = Math.acos(cosTheta);
//		System.out.println(&quot;th0: &quot; + String.valueOf(th0) + &quot; theta: &quot; + String.valueOf(theta));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t1D8-2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__GldwO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		cosTheta = Geometry.cosTheta(v_ji, v_jk);
		cosThetaSqr = cosTheta * cosTheta;
		theta = Math.acos(cosTheta);
		
		if (cosThetaSqr >= 1) {
			return;
		}
		
		double dVdt = - 0.5* cth * (theta - th0);
		
//		Vector3D energy = new Vector3D();
		Vector3D force_i = new Vector3D();
		Vector3D force_j = new Vector3D();
		Vector3D force_k = new Vector3D();
		
//		int  m;
     double st, sth;
     double cik, cii, ckk;
     double nrkj2, nrij2;
     double nrkj_1, nrij_1;
//        double f_i, f_j, f_k;
		
     st  = dVdt / Math.sqrt(1 - cosThetaSqr);
     sth = st * cosTheta;
     
     nrij2 = v_ji.getMagnitude() * v_ji.getMagnitude();
     nrkj2 = v_jk.getMagnitude() * v_jk.getMagnitude();

     nrij_1 = 1 / Math.sqrt(nrij2);
     nrkj_1 = 1 / Math.sqrt(nrkj2);

     cik = st*nrij_1*nrkj_1;
     cii = sth*nrij_1*nrij_1;
     ckk = sth*nrkj_1*nrkj_1;
     
     force_i.x = - (cik * v_jk.x - cii * v_ji.x);
     force_i.y = - (cik * v_jk.y - cii * v_ji.y);
     force_i.z = - (cik * v_jk.z - cii * v_ji.z);
     
     force_k.x = - (cik * v_ji.x - ckk * v_jk.x);
     force_k.y = - (cik * v_ji.y - ckk * v_jk.y);
     force_k.z = - (cik * v_ji.z - ckk * v_jk.z);
     
     force_j = force_i.getNegativeVector().addAndReturn(force_k.getNegativeVector());
     
//        atoms.get(0).addForce(force_i.getNegativeVector());
//        atoms.get(1).addForce(force_j.getNegativeVector());
//        atoms.get(2).addForce(force_k.getNegativeVector());
     
     atoms.get(0).addForce(force_i);
     atoms.get(1).addForce(force_j);
     atoms.get(2).addForce(force_k);
     
//        for (m = 0; m &lt; DIM; m++)
//        {           
//            f_i[m]    = -(cik*r_kj[m] - cii*r_ij[m]);
//            f_k[m]    = -(cik*r_ij[m] - ckk*r_kj[m]);
//            f_j[m]    = -f_i[m] - f_k[m];
//            f[ai][m] += f_i[m];
//            f[aj][m] += f_j[m];
//            f[ak][m] += f_k[m];
//        }
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__GldwO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t1D8-2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nEUoO2SEeWnDaII1mfokg" name="Angle" method="__t1D8O2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nEUou2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nEUo-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nEUoe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nEUpO2SEeWnDaII1mfokg" type="__GkPoO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__Gn6AO2SEeWnDaII1mfokg" name="Atom">
                      <generalization xmi:id="__GxD8O2SEeWnDaII1mfokg" general="__Gv10-2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rJjYO2SEeWnDaII1mfokg" name="type" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rKKce2SEeWnDaII1mfokg" name="name" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rKxge2SEeWnDaII1mfokg" name="charge" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rLYke2SEeWnDaII1mfokg" name="neighbor" visibility="package" type="__fyn8O2SEeWnDaII1mfokg" association="__wv1Ee2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t1rAO2SEeWnDaII1mfokg" name="getName" specification="__GohEO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t1rAe2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return name;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t1rAu2SEeWnDaII1mfokg" name="setName" specification="__Gq9UO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t1rA-2SEeWnDaII1mfokg" name="name">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.name = name;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t1rBO2SEeWnDaII1mfokg" name="getType" specification="__GrkYe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t1rBe2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return type;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t2SEO2SEeWnDaII1mfokg" name="setType" specification="__GsLcO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t2SEe2SEeWnDaII1mfokg" name="type">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.type = type;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t2SEu2SEeWnDaII1mfokg" name="getCharge" specification="__GsLcu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t2SE-2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return charge;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t2SFO2SEeWnDaII1mfokg" name="setCharge" specification="__GtZkO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t2SFe2SEeWnDaII1mfokg" name="charge">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.charge = charge;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t2SFu2SEeWnDaII1mfokg" name="getNeighbor" specification="__GuAoO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t2SF-2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>return neighbor;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t2SGO2SEeWnDaII1mfokg" name="addNeighbor" specification="__jxJAO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t2SGe2SEeWnDaII1mfokg" name="atom" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>if (neighbor == null) {
			neighbor = new ArrayList&lt;Atom>();
		}
		neighbor.add(atom);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t25IO2SEeWnDaII1mfokg" name="toString" specification="__GvOwO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t25Ie2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return type + &quot; &quot; + this.getPosition();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__GohEO2SEeWnDaII1mfokg" name="getName" method="__t1rAO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GpIIO2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__Gq9UO2SEeWnDaII1mfokg" name="setName" method="__t1rAu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GrkYO2SEeWnDaII1mfokg" name="name">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GrkYe2SEeWnDaII1mfokg" name="getType" method="__t1rBO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GrkYu2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GsLcO2SEeWnDaII1mfokg" name="setType" method="__t2SEO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GsLce2SEeWnDaII1mfokg" name="type">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GsLcu2SEeWnDaII1mfokg" name="getCharge" method="__t2SEu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GsygO2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GtZkO2SEeWnDaII1mfokg" name="setCharge" method="__t2SFO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GtZke2SEeWnDaII1mfokg" name="charge">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GuAoO2SEeWnDaII1mfokg" name="getNeighbor" method="__t2SFu2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__nFiwO2SEeWnDaII1mfokg" type="__fyn8O2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="__GvOwO2SEeWnDaII1mfokg" name="toString" method="__t25IO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__GvOwe2SEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="__jxJAO2SEeWnDaII1mfokg" name="addNeighbor" method="__t2SGO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__jxJAe2SEeWnDaII1mfokg" name="atom" type="__Gn6AO2SEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__Gy5IO2SEeWnDaII1mfokg" name="Bond">
                      <generalization xmi:id="__jyXIO2SEeWnDaII1mfokg" general="__G2jgO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rMmsO2SEeWnDaII1mfokg" name="b0">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rNNwO2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wwcIe2SEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rNNwe2SEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uub0e2SEeWnDaII1mfokg" name="kb">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t25Iu2SEeWnDaII1mfokg" name="Bond" specification="__nGw4O2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t25I-2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t25JO2SEeWnDaII1mfokg" type="__Gy5IO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getBondParams(query);
//		System.out.println(query.toString());
		b0 = params.get(0);
		kb = params.get(1);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t3gMO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__G0HQO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Atom atom1 = atoms.get(0);
		Atom atom2 = atoms.get(1);
		Vector3D v_ji = Geometry.vector(atom2.getPosition(), atom1.getPosition());
		
		double dr2 = v_ji.getSquaredMagnitude();
		double dr = Math.sqrt(dr2);
		
		double forceMagnitude = - 0.5 * kb * (dr - b0);
		
		forceMagnitude /= dr;
		
		Vector3D force = v_ji;
		force.scale(forceMagnitude);
		
//		Vector3D energy = new Vector3D();
//		Vector3D force = new Vector3D();
//		double d_x = v_ij.x - bond.x;
//		force.x = - 0.5 * kb * d_x;
//		energy.x = kb * d_x * d_x;
		
//		double d_y = v_ij.y - bond.y;
//		force.y = - 0.5 * kb * d_y;
//		energy.y = kb * d_y * d_y;
		
//		double d_z = v_ij.z - bond.z;
//		force.z = - 0.5* kb * d_z;
//		energy.z = kb * d_z;
		
//		atoms.get(0).potentialEnergy.add(energy);
		atom1.addForce(force);
//		atoms.get(1).potentialEnergy.add(energy.getNegativeVector());
		atom2.addForce(force.getNegativeVector());
//		System.out.println(&quot;Force: &quot; + force.toString());
//		log.info(&quot;[B] &quot; + &quot;(&quot; + atom1.getGUID() + &quot;,&quot; + atom2.getGUID() + &quot;)&quot; + force.toString());
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__G0HQO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t3gMO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nGw4O2SEeWnDaII1mfokg" name="Bond" method="__t25Iu2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nGw4u2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nGw4-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nGw4e2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nGw5O2SEeWnDaII1mfokg" type="__Gy5IO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__G2jgO2SEeWnDaII1mfokg" name="BondedInteraction" isAbstract="true">
                      <ownedAttribute xmi:id="__rNNwu2SEeWnDaII1mfokg" name="atoms" visibility="package" type="__Gn6AO2SEeWnDaII1mfokg" isOrdered="true" association="__wxDMO2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__rNNw-2SEeWnDaII1mfokg" value="*"/>
                      </ownedAttribute>
                      <interfaceRealization xmi:id="__jy-MO2SEeWnDaII1mfokg" client="__G2jgO2SEeWnDaII1mfokg" supplier="__HkVMO2SEeWnDaII1mfokg" contract="__HkVMO2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t3gMe2SEeWnDaII1mfokg" name="BondedInteraction" specification="__nH_AO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t3gMu2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t3gM-2SEeWnDaII1mfokg" type="__G2jgO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.atoms = atoms;
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__nH_AO2SEeWnDaII1mfokg" name="BondedInteraction" method="__t3gMe2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nImEO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nImEe2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nH_Ae2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nImEu2SEeWnDaII1mfokg" type="__G2jgO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__G4YsO2SEeWnDaII1mfokg" name="Dihedral" isAbstract="true">
                      <generalization xmi:id="__j0MUO2SEeWnDaII1mfokg" general="__G2jgO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rN00e2SEeWnDaII1mfokg" name="phi0">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rOb4e2SEeWnDaII1mfokg" name="v_ji" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__wxDM-2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rPC8e2SEeWnDaII1mfokg" name="phi" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uvC4u2SEeWnDaII1mfokg" name="kd">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uvp8u2SEeWnDaII1mfokg" name="v_jk" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__xVq8e2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__uwRAe2SEeWnDaII1mfokg" name="v_lk" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__xWSAe2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__uw4Ee2SEeWnDaII1mfokg" name="m" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__xW5EO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__uw4FO2SEeWnDaII1mfokg" name="n" visibility="protected" type="__CK30O2SEeWnDaII1mfokg" association="__xW5E-2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__uxfIu2SEeWnDaII1mfokg" name="dp" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uyGMu2SEeWnDaII1mfokg" name="dVdphi" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t4HQO2SEeWnDaII1mfokg" name="Dihedral" specification="__nJ0MO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t4HQe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t4HQu2SEeWnDaII1mfokg" type="__G4YsO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t4HQ-2SEeWnDaII1mfokg" name="updateProperties" specification="__G6N4O2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_lk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(3).getPosition());
		
	    m = v_ji.getCrossProduct(v_jk);
	    n = v_jk.getCrossProduct(v_lk);
	    
	    phi = Geometry.phi(m, n);
		dp = phi - phi0;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t4HRO2SEeWnDaII1mfokg" name="calcForce" specification="__G6N4e2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D f_i, f_j, f_k, f_l;
	    Vector3D uvec, vvec, svec;
	    double iprm, iprn, nrkj, nrkj2, nrkj_1, nrkj_2;
	    double a, b, p, q;
		
		iprm  = m.getSquaredMagnitude();
	    iprn  = n.getSquaredMagnitude();
	    nrkj2 = v_jk.getSquaredMagnitude();
	    
	    if ((iprm > 1e-8) &amp;&amp; (iprn > 1e-8)) {
	        nrkj_1 = 1/Math.sqrt(nrkj2);
	        nrkj_2 = nrkj_1*nrkj_1;
	        nrkj   = nrkj2*nrkj_1;
	        // f_i
	        a      = -dVdphi*nrkj/iprm;
	        f_i = new Vector3D();
	        f_i.addScaledVector(m, a);
	        // f_l
	        b     = dVdphi*nrkj/iprn;
	        f_l = new Vector3D();
	        f_l.addScaledVector(n, b);
	        
	        p     = v_ji.getScalarProduct(v_jk);
	        p    *= nrkj_2;
	        q     = v_lk.getScalarProduct(v_jk);
	        q    *= nrkj_2;
	        uvec = new Vector3D();
	        uvec.addScaledVector(f_i, p);
	        vvec = new Vector3D();
	        vvec.addScaledVector(f_l, q);
	        
	        // f_j
	        svec = Geometry.vector(vvec, uvec);
	        f_j = Geometry.vector(svec, f_i);
	        // f_k
	        f_k = new Vector3D();
	        f_k.add(f_l);
	        f_k.add(svec);
	        
	        atoms.get(0).addForce(f_i);
	        atoms.get(1).addForce(f_j.getNegativeVector());
	        atoms.get(2).addForce(f_k.getNegativeVector());
	        atoms.get(3).addForce(f_l);
	        
//	        atoms.get(0).addForce(f_i.getNegativeVector());
//	        atoms.get(1).addForce(f_j);
//	        atoms.get(2).addForce(f_k);
//	        atoms.get(3).addForce(f_l.getNegativeVector());
	    }
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__G5m0O2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" isAbstract="true"/>
                      <ownedOperation xmi:id="__G6N4O2SEeWnDaII1mfokg" name="updateProperties" method="__t4HQ-2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__G6N4e2SEeWnDaII1mfokg" name="calcForce" visibility="protected" method="__t4HRO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nJ0MO2SEeWnDaII1mfokg" name="Dihedral" method="__t4HQO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nJ0Mu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nJ0M-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nJ0Me2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nJ0NO2SEeWnDaII1mfokg" type="__G4YsO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__G8DEO2SEeWnDaII1mfokg" name="ElectrostaticPotential">
                      <generalization xmi:id="__j1adO2SEeWnDaII1mfokg" general="__HFNAO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rQREO2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wxqQe2SEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rQREe2SEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rQ4IO2SEeWnDaII1mfokg" name="f" isStatic="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rQ4Ie2SEeWnDaII1mfokg" value="138.935485"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rRfMO2SEeWnDaII1mfokg" name="epsilon_r" isStatic="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rRfMe2SEeWnDaII1mfokg" value="1"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t4uUO2SEeWnDaII1mfokg" name="ElectrostaticPotential" specification="__j0zYO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t4uUe2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t4uUu2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t4uU-2SEeWnDaII1mfokg" type="__G8DEO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(i, j);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t5VYO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__G9RMO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D v_ij = Geometry.vector(i.getPosition(), j.getPosition());
		
		double dist = v_ij.getMagnitude();		
		Vector3D force = new Vector3D();
		
		double forceMagnitude = f * i.charge * j.charge / epsilon_r / dist;
		force = v_ij.getUnitVector();
		force.scale(forceMagnitude);
		

//		if (Math.abs(u.x) - 1e-10 > 0) {
//			force.x = - u.x / v_ij.x;
//		}
//		if (Math.abs(u.y) - 1e-10 > 0) {
//			force.y = - u.y / v_ij.y;
//		}
//		if (Math.abs(u.z) - 1e-10 > 0) {
//			force.z = - u.z / v_ij.z;
//		}
		
		i.addForce(force);
		j.addForce(force.getNegativeVector());
		log.info(&quot;[E]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + forceMagnitude);
		log.info(&quot;[E]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + force.toString());
//		System.out.println(i.getAccumulatedForce());
//		i.potentialEnergy.add(energy);
//		j.potentialEnergy.add(energy.getNegativeVector());
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__G9RMO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t5VYO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__j0zYO2SEeWnDaII1mfokg" name="ElectrostaticPotential" method="__t4uUO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__j1ace2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__j1acu2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__j0zYe2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j1acO2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j1ac-2SEeWnDaII1mfokg" type="__G8DEO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__G_GYO2SEeWnDaII1mfokg" name="ImproperDihedral">
                      <generalization xmi:id="__j2okO2SEeWnDaII1mfokg" general="__G4YsO2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t5VYe2SEeWnDaII1mfokg" name="ImproperDihedral" specification="__nLpYO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t5VYu2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t5VY-2SEeWnDaII1mfokg" type="__G_GYO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getImproperDihedralParams(query);
		phi0 = Math.toRadians(params.get(0));
		kd = params.get(1);
		
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t5VZO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__G_tcO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>updateProperties();
		dVdphi = - kd * dp;
	    calcForce();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__G_tcO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t5VZO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nLpYO2SEeWnDaII1mfokg" name="ImproperDihedral" method="__t5VYe2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nLpYu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nLpY-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nLpYe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nLpZO2SEeWnDaII1mfokg" type="__G_GYO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__HBioO2SEeWnDaII1mfokg" name="LennardJonesPotential">
                      <generalization xmi:id="__j3Ppu2SEeWnDaII1mfokg" general="__HFNAO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rSGQO2SEeWnDaII1mfokg" name="sigma_i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__rStUe2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__wyRUe2SEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="__rTUYO2SEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uytQO2SEeWnDaII1mfokg" name="sigma_j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uzUUe2SEeWnDaII1mfokg" name="epsilon_i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="__uzUVO2SEeWnDaII1mfokg" name="epsilon_j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t58cO2SEeWnDaII1mfokg" name="LennardJonesPotential" specification="__j3PoO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t58ce2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t58cu2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t58c-2SEeWnDaII1mfokg" type="__HBioO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(i, j);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;Double>param_i = db.getVdParams(i.type);
		List&lt;Double>param_j = db.getVdParams(j.type);
		sigma_i = param_i.get(0);
		sigma_j = param_j.get(0);
		
//		sigma_i *= 0.1;
//		sigma_j *= 0.1;
		
		epsilon_i = param_i.get(1);
		epsilon_j = param_j.get(1);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t58dO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__HCJsO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D v_ij = Geometry.vector(i.getPosition(), j.getPosition());
		double dist = v_ij.getMagnitude();
		
//		double ci6 = 4 * epsilon_i * Math.pow(sigma_i, 6);
//		double ci12 = 4 * epsilon_i * Math.pow(sigma_i, 12);
//		double cj6 = 4 * epsilon_j * Math.pow(sigma_j, 6);
//		double cj12 = 4 * epsilon_j * Math.pow(sigma_j, 12);
//		double cij6 = Math.sqrt(ci6 * cj6);
//		double cij12 = Math.sqrt(ci12 * cj12);
		
		double epsilon_ij = Math.sqrt(epsilon_i * epsilon_j);
		double sigma_ij = 0.5 * (sigma_i + sigma_j);
		double cij12 = 4 * epsilon_ij * Math.pow(sigma_ij, 12);
		double cij6 = 4 * epsilon_ij * Math.pow(sigma_ij, 6);
		
//		log.info(&quot;[DIST]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + dist);
//		log.info(&quot;[SIGMA]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + 0.5 * (sigma_i + sigma_j));
		
		double forceMagnitude = 12 * cij12 / Math.pow(dist, 13) - 6 * cij6 / Math.pow(dist, 7);
		
//		double sigma_ij = (sigma_i + sigma_j) * 0.5;
//		double epsilon_ij = Math.sqrt(epsilon_i * epsilon_j);
		
//		double forceMagnitude = epsilon_ij * (12 * (1 &lt;&lt; 6) * Math.pow(sigma_ij, 12) / Math.pow(dist, 13) - 6 * 2 * Math.pow(sigma_ij, 6) / Math.pow(dist, 7) );
		
		Vector3D force = v_ij.getUnitVector();
		force.scale(forceMagnitude);
		
		i.addForce(force);
		j.addForce(force.getNegativeVector());
//		log.info(&quot;[L] &quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + forceMagnitude);
//		log.info(&quot;[L] &quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + force.toString());
//		System.out.println(i.getAccumulatedForce());
//		i.potentialEnergy.add(energy.getNegativeVector());
//		j.potentialEnergy.add(energy);
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__HCJsO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t58dO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__j3PoO2SEeWnDaII1mfokg" name="LennardJonesPotential" method="__t58cO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__j3Po-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__j3PpO2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__j3Poe2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j3Pou2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j3Ppe2SEeWnDaII1mfokg" type="__HBioO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__HFNAO2SEeWnDaII1mfokg" name="NonBondedInteraction" isAbstract="true">
                      <ownedAttribute xmi:id="__rTUYe2SEeWnDaII1mfokg" name="i" visibility="package" type="__Gn6AO2SEeWnDaII1mfokg" association="__wy4Ye2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__u0icO2SEeWnDaII1mfokg" name="j" visibility="package" type="__Gn6AO2SEeWnDaII1mfokg" association="__xXgIe2SEeWnDaII1mfokg"/>
                      <interfaceRealization xmi:id="__j4dwO2SEeWnDaII1mfokg" client="__HFNAO2SEeWnDaII1mfokg" supplier="__HkVMO2SEeWnDaII1mfokg" contract="__HkVMO2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t6jgO2SEeWnDaII1mfokg" name="NonBondedInteraction" specification="__j4dwe2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t6jge2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t6jgu2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t6jg-2SEeWnDaII1mfokg" type="__HFNAO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.i = i; this.j = j;
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__j4dwe2SEeWnDaII1mfokg" name="NonBondedInteraction" method="__t6jgO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__j5E0O2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__j5E0e2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__j4dwu2SEeWnDaII1mfokg" name="i" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j4dw-2SEeWnDaII1mfokg" name="j" type="__Gn6AO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__j5E0u2SEeWnDaII1mfokg" type="__HFNAO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="__HHpQO2SEeWnDaII1mfokg" name="ProperDihedral">
                      <generalization xmi:id="__j5r4O2SEeWnDaII1mfokg" general="__G4YsO2SEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="__rUigO2SEeWnDaII1mfokg" name="mult" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t6jhO2SEeWnDaII1mfokg" name="ProperDihedral" specification="__nNekO2SEeWnDaII1mfokg">
                        <ownedParameter xmi:id="__t6jhe2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__t6jhu2SEeWnDaII1mfokg" type="__HHpQO2SEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
//		System.out.println(query);
		List&lt;Double> params = db.getProperDihedralParams(query);
		phi0 = Math.toRadians(params.get(0));
		kd = params.get(1);
		mult = params.get(2);
		
		updateProperties();
		
		System.out.println(&quot;phi0: &quot; + String.valueOf(phi0) + &quot; phi: &quot; + String.valueOf(phi) + &quot; kd: &quot; + kd + &quot; mult: &quot; + mult);

	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t7KkO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="__HI3YO2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>updateProperties();
		
		double mdphi, sdphi;
		mdphi = mult * phi - phi0;
		sdphi = Math.sin(mdphi);
		dVdphi = - 0.5 * kd * mult * sdphi;
		
		calcForce();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__HI3YO2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="__t7KkO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__nNekO2SEeWnDaII1mfokg" name="ProperDihedral" method="__t6jhO2SEeWnDaII1mfokg">
                        <eAnnotations xmi:id="__nNeku2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="__nNek-2SEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="__nNeke2SEeWnDaII1mfokg" name="atoms" type="__gLCcO2SEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="__nNelO2SEeWnDaII1mfokg" type="__HHpQO2SEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wvOAe2SEeWnDaII1mfokg" name="" memberEnd="__wvOAu2SEeWnDaII1mfokg __rHHIO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wvOAu2SEeWnDaII1mfokg" name="" type="__GkPoO2SEeWnDaII1mfokg" association="__wvOAe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wv1Ee2SEeWnDaII1mfokg" name="" memberEnd="__wv1Eu2SEeWnDaII1mfokg __rLYke2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wv1Eu2SEeWnDaII1mfokg" name="" type="__Gn6AO2SEeWnDaII1mfokg" association="__wv1Ee2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wwcIe2SEeWnDaII1mfokg" name="" memberEnd="__wwcIu2SEeWnDaII1mfokg __rNNwO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wwcIu2SEeWnDaII1mfokg" name="" type="__Gy5IO2SEeWnDaII1mfokg" association="__wwcIe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wxDMO2SEeWnDaII1mfokg" name="" memberEnd="__wxDMe2SEeWnDaII1mfokg __rNNwu2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wxDMe2SEeWnDaII1mfokg" name="" type="__G2jgO2SEeWnDaII1mfokg" association="__wxDMO2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wxDM-2SEeWnDaII1mfokg" name="" memberEnd="__wxDNO2SEeWnDaII1mfokg __rOb4e2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wxDNO2SEeWnDaII1mfokg" name="" type="__G4YsO2SEeWnDaII1mfokg" association="__wxDM-2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wxqQe2SEeWnDaII1mfokg" name="" memberEnd="__wxqQu2SEeWnDaII1mfokg __rQREO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wxqQu2SEeWnDaII1mfokg" name="" type="__G8DEO2SEeWnDaII1mfokg" association="__wxqQe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wyRUe2SEeWnDaII1mfokg" name="" memberEnd="__wyRUu2SEeWnDaII1mfokg __rStUe2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wyRUu2SEeWnDaII1mfokg" name="" type="__HBioO2SEeWnDaII1mfokg" association="__wyRUe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__wy4Ye2SEeWnDaII1mfokg" name="" memberEnd="__wy4Yu2SEeWnDaII1mfokg __rTUYe2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__wy4Yu2SEeWnDaII1mfokg" name="" type="__HFNAO2SEeWnDaII1mfokg" association="__wy4Ye2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xVD4e2SEeWnDaII1mfokg" name="" memberEnd="__xVD4u2SEeWnDaII1mfokg __usmoe2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xVD4u2SEeWnDaII1mfokg" name="" type="__GkPoO2SEeWnDaII1mfokg" association="__xVD4e2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xVq8e2SEeWnDaII1mfokg" name="" memberEnd="__xVq8u2SEeWnDaII1mfokg __uvp8u2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xVq8u2SEeWnDaII1mfokg" name="" type="__G4YsO2SEeWnDaII1mfokg" association="__xVq8e2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xWSAe2SEeWnDaII1mfokg" name="" memberEnd="__xWSAu2SEeWnDaII1mfokg __uwRAe2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xWSAu2SEeWnDaII1mfokg" name="" type="__G4YsO2SEeWnDaII1mfokg" association="__xWSAe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xW5EO2SEeWnDaII1mfokg" name="" memberEnd="__xW5Ee2SEeWnDaII1mfokg __uw4Ee2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xW5Ee2SEeWnDaII1mfokg" name="" type="__G4YsO2SEeWnDaII1mfokg" association="__xW5EO2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xW5E-2SEeWnDaII1mfokg" name="" memberEnd="__xW5FO2SEeWnDaII1mfokg __uw4FO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xW5FO2SEeWnDaII1mfokg" name="" type="__G4YsO2SEeWnDaII1mfokg" association="__xW5E-2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xXgIe2SEeWnDaII1mfokg" name="" memberEnd="__xXgIu2SEeWnDaII1mfokg __u0icO2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xXgIu2SEeWnDaII1mfokg" name="" type="__HFNAO2SEeWnDaII1mfokg" association="__xXgIe2SEeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_-8JvYO2SEeWnDaII1mfokg" name="typology">
                    <packagedElement xmi:type="uml:Class" xmi:id="__J860e2SEeWnDaII1mfokg" name="TypologyDatabaseTest">
                      <eAnnotations xmi:id="__J9h4O2SEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
                        <contents xmi:type="ecore:EAnnotation" xmi:id="__J9h4e2SEeWnDaII1mfokg" source="codegen">
                          <details xmi:id="__J9h4u2SEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test"/>
                        </contents>
                      </eAnnotations>
                      <ownedAttribute xmi:id="__sMFMe2SEeWnDaII1mfokg" name="db" visibility="private" isStatic="true" type="__HMhwO2SEeWnDaII1mfokg" association="__xT1we2SEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uSW-u2SEeWnDaII1mfokg" name="oneTimeSetUp" specification="__J-I8O2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>db = TopologyDatabase.getInstance();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uS-AO2SEeWnDaII1mfokg" name="testVdParams" specification="__KBMQu2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;Double> H0 = new ArrayList&lt;Double>();
		List&lt;Double> Cs = new ArrayList&lt;Double>();
		List&lt;Double> OW_spc = new ArrayList&lt;Double>();
		List&lt;Double> Zn = new ArrayList&lt;Double>();
		
		H0.add(2.47135e-01);
		H0.add(6.56888e-02);
		
		Cs.add(6.04920e-01);
		Cs.add(3.37230e-04);
		
		OW_spc.add(3.16557e-01);
		OW_spc.add(6.50629e-01);

		Zn.add(1.95998e-01);
		Zn.add(5.23000e-02);
		
		assertEquals(H0, db.getVdParams(&quot;H0&quot;));
		assertEquals(Cs, db.getVdParams(&quot;Cs&quot;));
		assertEquals(OW_spc, db.getVdParams(&quot;OW_spc&quot;));
		assertEquals(Zn, db.getVdParams(&quot;Zn&quot;));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uS-Ae2SEeWnDaII1mfokg" name="testBondParams" specification="__KBzU-2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> CT_H0_key = new ArrayList&lt;String>();
		List&lt;String> CT_F_key = new ArrayList&lt;String>();
		List&lt;Double> CT_H0_value = new ArrayList&lt;Double>();
		List&lt;Double> CT_F_value = new ArrayList&lt;Double>();
		
		CT_H0_key.add(&quot;CT&quot;);
		CT_H0_key.add(&quot;H0&quot;);
		
		CT_F_key.add(&quot;CT&quot;);
		CT_F_key.add(&quot;F&quot;);
		
		CT_H0_value.add(0.10900);
		CT_H0_value.add(284512.0);
		
		CT_F_value.add(0.13800);
		CT_F_value.add(307105.6);

		assertEquals(CT_H0_value, db.getBondParams(CT_H0_key));
		assertEquals(CT_F_value, db.getBondParams(CT_F_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uS-Au2SEeWnDaII1mfokg" name="testAngleParams" specification="__KCaY-2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> H0_CT_H0_key = new ArrayList&lt;String>();
		List&lt;String> N_C_N_key = new ArrayList&lt;String>();
		List&lt;Double> H0_CT_H0_value = new ArrayList&lt;Double>();
		List&lt;Double> N_C_N_value = new ArrayList&lt;Double>();
		
		H0_CT_H0_key.add(&quot;H0&quot;);
		H0_CT_H0_key.add(&quot;CT&quot;);
		H0_CT_H0_key.add(&quot;H0&quot;);
		
		N_C_N_key.add(&quot;N&quot;);
		N_C_N_key.add(&quot;C&quot;);
		N_C_N_key.add(&quot;N&quot;);
		
		H0_CT_H0_value.add(109.500);
		H0_CT_H0_value.add(292.880);
		
		N_C_N_value.add(120.000);
		N_C_N_value.add(585.760);

		assertEquals(H0_CT_H0_value, db.getAngleParams(H0_CT_H0_key));
		assertEquals(N_C_N_value, db.getAngleParams(N_C_N_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uS-A-2SEeWnDaII1mfokg" name="testImproperDihedralParams" specification="__KDBc-2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> X_O2_C_O2_key = new ArrayList&lt;String>();
		List&lt;String> X_X_CA_H5_key = new ArrayList&lt;String>();
		List&lt;Double> X_O2_C_O2_value = new ArrayList&lt;Double>();
		List&lt;Double> X_X_CA_H5_value = new ArrayList&lt;Double>();
		
		X_O2_C_O2_key.add(&quot;H0&quot;);
		X_O2_C_O2_key.add(&quot;O2&quot;);
		X_O2_C_O2_key.add(&quot;C&quot;);
		X_O2_C_O2_key.add(&quot;O2&quot;);
		
		X_X_CA_H5_key.add(&quot;H0&quot;);
		X_X_CA_H5_key.add(&quot;H0&quot;);
		X_X_CA_H5_key.add(&quot;CA&quot;);
		X_X_CA_H5_key.add(&quot;H5&quot;);
		
		X_O2_C_O2_value.add(180.000);
		X_O2_C_O2_value.add(43.93200);
		
		X_X_CA_H5_value.add(180.000);
		X_X_CA_H5_value.add(4.60240);

		assertEquals(X_O2_C_O2_value, db.getImproperDihedralParams(X_O2_C_O2_key));
		assertEquals(X_X_CA_H5_value, db.getImproperDihedralParams(X_X_CA_H5_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uS-BO2SEeWnDaII1mfokg" name="testProperDihedralParams" specification="__KDog-2SEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> X_C_C_X_key = new ArrayList&lt;String>();
		List&lt;Double> X_C_C_X_value = new ArrayList&lt;Double>();
		
		X_C_C_X_key.add(&quot;H0&quot;);
		X_C_C_X_key.add(&quot;C&quot;);
		X_C_C_X_key.add(&quot;C&quot;);
		X_C_C_X_key.add(&quot;O2&quot;);
		
		X_C_C_X_value.add(180.000);
		X_C_C_X_value.add(15.16700);
		X_C_C_X_value.add(2.0);

		assertEquals(X_C_C_X_value, db.getProperDihedralParams(X_C_C_X_key));
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="__J-I8O2SEeWnDaII1mfokg" name="oneTimeSetUp" isStatic="true" method="__uSW-u2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__KBMQu2SEeWnDaII1mfokg" name="testVdParams" method="__uS-AO2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__KBzU-2SEeWnDaII1mfokg" name="testBondParams" method="__uS-Ae2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__KCaY-2SEeWnDaII1mfokg" name="testAngleParams" method="__uS-Au2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__KDBc-2SEeWnDaII1mfokg" name="testImproperDihedralParams" method="__uS-A-2SEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="__KDog-2SEeWnDaII1mfokg" name="testProperDihedralParams" method="__uS-BO2SEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="__xT1we2SEeWnDaII1mfokg" name="" memberEnd="__xT1wu2SEeWnDaII1mfokg __sMFMe2SEeWnDaII1mfokg">
                      <ownedEnd xmi:id="__xT1wu2SEeWnDaII1mfokg" name="" type="__J860e2SEeWnDaII1mfokg" association="__xT1we2SEeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-6aC8e2SEeWnDaII1mfokg" name="math">
                  <packagedElement xmi:type="uml:Class" xmi:id="__HsRAO2SEeWnDaII1mfokg" name="Geometry" isAbstract="true">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uAqIO2SEeWnDaII1mfokg" name="vector" specification="__kIVYO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uAqIe2SEeWnDaII1mfokg" name="a" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uAqIu2SEeWnDaII1mfokg" name="b" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uAqI-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return b.subtractAndReturn(a);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uAqJO2SEeWnDaII1mfokg" name="cosTheta" specification="__kI8cO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uAqJe2SEeWnDaII1mfokg" name="v_ji" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uAqJu2SEeWnDaII1mfokg" name="v_jk" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uAqJ-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (v_ji.x * v_jk.x + v_ji.y * v_jk.y + v_ji.z * v_jk.z) / v_ji.getMagnitude() / v_jk.getMagnitude();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uAqKO2SEeWnDaII1mfokg" name="theta" specification="__HtfIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uAqKe2SEeWnDaII1mfokg" name="cos">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__uAqKu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.acos(cos);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uBRMO2SEeWnDaII1mfokg" name="phi" specification="__kI8dO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uBRMe2SEeWnDaII1mfokg" name="m" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uBRMu2SEeWnDaII1mfokg" name="n" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uBRM-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double p = theta(cosTheta(m, n));
		if (p &lt; 0) {
			p *= -1;
		}
//		System.out.println(p);
		return p;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__HtfIO2SEeWnDaII1mfokg" name="theta" isStatic="true" method="__uAqKO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__HtfIe2SEeWnDaII1mfokg" name="cos">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__HtfIu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__kIVYO2SEeWnDaII1mfokg" name="vector" isStatic="true" method="__uAqIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kIVYe2SEeWnDaII1mfokg" name="a" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kIVYu2SEeWnDaII1mfokg" name="b" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kIVY-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__kI8cO2SEeWnDaII1mfokg" name="cosTheta" isStatic="true" method="__uAqJO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kI8ce2SEeWnDaII1mfokg" name="v_ji" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kI8cu2SEeWnDaII1mfokg" name="v_jk" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kI8c-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__kI8dO2SEeWnDaII1mfokg" name="phi" isStatic="true" method="__uBRMO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kI8de2SEeWnDaII1mfokg" name="m" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kJjgO2SEeWnDaII1mfokg" name="n" type="__CK30O2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__kJjge2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__JoxwO2SEeWnDaII1mfokg" name="GeometryTest">
                    <eAnnotations xmi:id="__JpY0O2SEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
                      <contents xmi:type="ecore:EAnnotation" xmi:id="__JpY0e2SEeWnDaII1mfokg" source="codegen">
                        <details xmi:id="__JpY0u2SEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test"/>
                      </contents>
                    </eAnnotations>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uP6t-2SEeWnDaII1mfokg" name="testVector" specification="__JpY0-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(0, 0, 0);
		Vector3D b = new Vector3D(1, 2, 3);
		assertEquals(new Vector3D(1, 2, 3), Geometry.vector(a, b));
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uP6uO2SEeWnDaII1mfokg" name="testTheta" specification="__Jqm8O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(1, 0, 0);
		Vector3D b = new Vector3D(0, 1, 0);
		Vector3D c = new Vector3D(1, 1, 0);
		assertEquals(90.0/180*Math.PI, Geometry.theta(Geometry.cosTheta(a, b)), 1e-6);
		assertEquals(45.0/180*Math.PI, Geometry.theta(Geometry.cosTheta(a, c)), 1e-6);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uQhwO2SEeWnDaII1mfokg" name="testPhi" specification="__JrOAe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(1, 0, 0);
		Vector3D b = new Vector3D(0, 1, 0);
		Vector3D c = new Vector3D(0, 0, -1);
		Vector3D d = new Vector3D(1, 0, -1);
		
		Vector3D m = a.getCrossProduct(b);
		Vector3D n1 = c.getCrossProduct(b);
		Vector3D n2 = d.getCrossProduct(b);
		
		assertEquals(90.0/180*Math.PI, Geometry.phi(m, n1), 1e-6);
		assertEquals(45.0/180*Math.PI, Geometry.phi(m, n2), 1e-6);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__JpY0-2SEeWnDaII1mfokg" name="testVector" method="__uP6t-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Jqm8O2SEeWnDaII1mfokg" name="testTheta" method="__uP6uO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__JrOAe2SEeWnDaII1mfokg" name="testPhi" method="__uQhwO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-6eUYO2SEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="__Gv10-2SEeWnDaII1mfokg" name="AbstractParticle">
                    <generalization xmi:id="__HgDwO2SEeWnDaII1mfokg" general="_-_glYO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t-08u2SEeWnDaII1mfokg" name="getAccumulatedForce" specification="__He1oO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__t-08-2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return forceAccumulated;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t_cAO2SEeWnDaII1mfokg" name="getAccumulatedAcceleration" specification="__He1oe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__t_cAe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D a = new Vector3D();
//		System.out.println(forceAccumulated);
		a.addScaledVector(forceAccumulated, inverseMass);
//		System.out.println(a);
		return a;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t_cAu2SEeWnDaII1mfokg" name="resetCount" specification="__HfcsO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>particleCount = 0;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__He1oO2SEeWnDaII1mfokg" name="getAccumulatedForce" method="__t-08u2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kBAoO2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__He1oe2SEeWnDaII1mfokg" name="getAccumulatedAcceleration" method="__t_cAO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kBAoe2SEeWnDaII1mfokg" type="__CK30O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__HfcsO2SEeWnDaII1mfokg" name="resetCount" isStatic="true" method="__t_cAu2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__Hgq0O2SEeWnDaII1mfokg" name="Application">
                    <ownedAttribute xmi:id="__rdscO2SEeWnDaII1mfokg" name="enableUI" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rdsce2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__reTge2SEeWnDaII1mfokg" name="totalFrame" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__reTgu2SEeWnDaII1mfokg" value="10000"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__reThO2SEeWnDaII1mfokg" name="dir" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__re6kO2SEeWnDaII1mfokg" value="&quot;res/amber03_test/&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__re6ku2SEeWnDaII1mfokg" name="config" visibility="private" isStatic="true" type="__h1PUe2SEeWnDaII1mfokg" association="__w3w4e2SEeWnDaII1mfokg">
                      <qualifier xmi:id="__rfhoe2SEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__re6k-2SEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rfhou2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__w4X8e2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rfho-2SEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t_cA-2SEeWnDaII1mfokg" name="init" specification="__Hh48O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>FileHandler fh;

		try {
	        fh = new FileHandler(&quot;Log.txt&quot;);
	        log.addHandler(fh);
	        SimpleFormatter formatter = new SimpleFormatter();  
	        fh.setFormatter(formatter);
	        log.setUseParentHandlers(false);
	    } catch (SecurityException e) {
	        e.printStackTrace();  
	    } catch (IOException e) {  
	        e.printStackTrace();
	    }
		
		config.put(&quot;frame&quot;, totalFrame);
		config.put(&quot;dir&quot;, dir);
		config.put(&quot;name&quot;, &quot;AFS&quot;);
		config.put(&quot;timeDelta&quot;, 0.0002);
		config.put(&quot;forceField&quot;, &quot;Amber03&quot;);
		
		Map&lt;String, Object> params = new HashMap&lt;String, Object>();
		params.put(&quot;Bond&quot;, false);
		params.put(&quot;Angle&quot;, false);
		params.put(&quot;ProperDihedral&quot;, false);
		params.put(&quot;ImproperDihedral&quot;, false);
		params.put(&quot;Electrostatic&quot;, false);
		params.put(&quot;LennardJones&quot;, true);
		
		config.put(&quot;ffParams&quot;, params);
		
		log.info(&quot;Application starts&quot;);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__t_cBO2SEeWnDaII1mfokg" name="main" specification="__Hh48e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__t_cBe2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__t_cBu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>init();
	    
		Controller controller = ControllerFactory.createController(enableUI, config);
		controller.start();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Hh48O2SEeWnDaII1mfokg" name="init" visibility="private" isStatic="true" method="__t_cA-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Hh48e2SEeWnDaII1mfokg" name="main" isStatic="true" method="__t_cBO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Hh48u2SEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__HigAO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="__HkVMO2SEeWnDaII1mfokg" name="Interaction">
                    <generalization xmi:id="__Hk8QO2SEeWnDaII1mfokg" general="__A_MEO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Hk8Qe2SEeWnDaII1mfokg" name="calcPotentialEnergyTerm"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__HljUO2SEeWnDaII1mfokg" name="MolecularSystem">
                    <ownedAttribute xmi:id="__rgIsO2SEeWnDaII1mfokg" name="particles" type="__fyn8O2SEeWnDaII1mfokg" association="__w4_Ae2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rgvwe2SEeWnDaII1mfokg" name="interactions" type="__fyn8O2SEeWnDaII1mfokg" association="__w5mEe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rhW0e2SEeWnDaII1mfokg" name="rlist" type="__fyn8O2SEeWnDaII1mfokg" association="__w6NIe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rh94u2SEeWnDaII1mfokg" name="exclude">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__rh94-2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rik8e2SEeWnDaII1mfokg" name="timeDelta">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rik8u2SEeWnDaII1mfokg" value="0.0002"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rik8-2SEeWnDaII1mfokg" name="params" type="__h1PUe2SEeWnDaII1mfokg" association="__w60Me2SEeWnDaII1mfokg">
                      <qualifier xmi:id="__rjMAO2SEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rjMAe2SEeWnDaII1mfokg" name="R" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rjMAu2SEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rjzEO2SEeWnDaII1mfokg" name="updateRlistStep">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rjzEe2SEeWnDaII1mfokg" value="20"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rjzEu2SEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" isReadOnly="true" association="__w7bQe2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rjzE-2SEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADEO2SEeWnDaII1mfokg" name="MolecularSystem" specification="__HmxcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uADEe2SEeWnDaII1mfokg" type="__HljUO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>AbstractParticle.resetCount();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADEu2SEeWnDaII1mfokg" name="initRlist" specification="__HnYg-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Rebuild rlist&quot;);
		if (particles == null || particles.size() == 0) {
			return;
		}
		rlist = new ArrayList&lt;ArrayList&lt;AbstractParticle>>();
		for (int i=0; i&lt;particles.size(); i++) {
			ArrayList&lt;AbstractParticle> l = new ArrayList&lt;AbstractParticle>();
			rlist.add(l);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADE-2SEeWnDaII1mfokg" name="updateRlist" specification="__HnYhO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>initRlist();
		int n = particles.size();
		
		for (int i=0; i&lt;n; i++) {
			for (int j=i+1; j&lt;n; j++) {
				AbstractParticle p1 = particles.get(i);
				AbstractParticle p2 = particles.get(j);
				double dist = p1.getPosition().subtractAndReturn(p2.getPosition()).getMagnitude();
				if (dist &lt; R &amp;&amp; !exclude[i][j]) {
					rlist.get(i).add(p2);
					rlist.get(j).add(p1);
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADFO2SEeWnDaII1mfokg" name="nextFrame" specification="__Hn_kO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>updateEnergyPotential();
		integrate();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADFe2SEeWnDaII1mfokg" name="updateEnergyPotential" specification="__Hn_ke2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Interaction interaction: interactions) {
			if (interaction instanceof Bond) {
				if ((Boolean) params.get(&quot;Bond&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof Angle) {
				if ((Boolean) params.get(&quot;Angle&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof ProperDihedral) {
				if ((Boolean) params.get(&quot;ProperDihedral&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof ImproperDihedral) {
				if ((Boolean) params.get(&quot;ImproperDihedral&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
		}
		
		if ((Boolean) params.get(&quot;LennardJones&quot;) || (Boolean) params.get(&quot;Electrostatic&quot;)) {
			int n = rlist.size();
			for (int i=0; i&lt;n; i++) {
				for (AbstractParticle p: rlist.get(i)) {
					if (p.getGUID()-1 > i) {
						if ((Boolean) params.get(&quot;LennardJones&quot;)) {
							Interaction ljInteraction = new LennardJonesPotential((Atom)particles.get(i), (Atom)p);
							ljInteraction.calcPotentialEnergyTerm();
						}
						if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
							Interaction elecInteraction = new ElectrostaticPotential((Atom)particles.get(i), (Atom)p);
							elecInteraction.calcPotentialEnergyTerm();
						}
					}
				}
			}
		}
		
//		if ((Boolean) params.get(&quot;LennardJones&quot;)) {
//   			interaction.calcPotentialEnergyTerm();
//		}
//		else if (interaction instanceof ElectrostaticPotential) {
//			if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
//	   			interaction.calcPotentialEnergyTerm();
//			}
//		}
		
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uADFu2SEeWnDaII1mfokg" name="integrate" specification="__Hn_ku2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>/**
		 * Velocity Verlet Algorithm
		 */
		for (AbstractParticle particle: particles) {
			Vector3D r = particle.getPosition();
			Vector3D v = particle.getVelocity();
			Vector3D a = particle.getAcceleration();
			Vector3D a2 = particle.getAccumulatedAcceleration();
//			log.info(&quot;[ACC]&quot; + a2);
						
			Vector3D dr = new Vector3D();
			dr.x = v.x * timeDelta + 0.5 * a.x * timeDelta * timeDelta;
			dr.y = v.y * timeDelta + 0.5 * a.y * timeDelta * timeDelta;
			dr.z = v.z * timeDelta + 0.5 * a.z * timeDelta * timeDelta;
			r.add(dr);
			
			Vector3D dv = new Vector3D();
			dv.x = 0.5 * (a.x + a2.x) * timeDelta;
			dv.y = 0.5 * (a.y + a2.y) * timeDelta;
			dv.z = 0.5 * (a.z + a2.z) * timeDelta;
			v.add(dv);
			
			particle.setAcceleration(a2.x, a2.y, a2.z);
			particle.clearAccumulator();
			
//			System.out.println(&quot;Positon: &quot; + particle.getPosition());
//			System.out.println(&quot;Velocity: &quot; + particle.getVelocity());
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__HmxcO2SEeWnDaII1mfokg" name="MolecularSystem" method="__uADEO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__HnYgO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__HnYge2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__HnYgu2SEeWnDaII1mfokg" type="__HljUO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__HnYg-2SEeWnDaII1mfokg" name="initRlist" method="__uADEu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__HnYhO2SEeWnDaII1mfokg" name="updateRlist" method="__uADE-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Hn_kO2SEeWnDaII1mfokg" name="nextFrame" method="__uADFO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Hn_ke2SEeWnDaII1mfokg" name="updateEnergyPotential" method="__uADFe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Hn_ku2SEeWnDaII1mfokg" name="integrate" method="__uADFu2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w3w4e2SEeWnDaII1mfokg" name="" memberEnd="__w3w4u2SEeWnDaII1mfokg __re6ku2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w3w4u2SEeWnDaII1mfokg" name="" type="__Hgq0O2SEeWnDaII1mfokg" association="__w3w4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w4X8e2SEeWnDaII1mfokg" name="" memberEnd="__w4X8u2SEeWnDaII1mfokg __rfhou2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w4X8u2SEeWnDaII1mfokg" name="" type="__Hgq0O2SEeWnDaII1mfokg" association="__w4X8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w4_Ae2SEeWnDaII1mfokg" name="" memberEnd="__w4_Au2SEeWnDaII1mfokg __rgIsO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w4_Au2SEeWnDaII1mfokg" name="" type="__HljUO2SEeWnDaII1mfokg" association="__w4_Ae2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w5mEe2SEeWnDaII1mfokg" name="" memberEnd="__w5mEu2SEeWnDaII1mfokg __rgvwe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w5mEu2SEeWnDaII1mfokg" name="" type="__HljUO2SEeWnDaII1mfokg" association="__w5mEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w6NIe2SEeWnDaII1mfokg" name="" memberEnd="__w6NIu2SEeWnDaII1mfokg __rhW0e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w6NIu2SEeWnDaII1mfokg" name="" type="__HljUO2SEeWnDaII1mfokg" association="__w6NIe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w60Me2SEeWnDaII1mfokg" name="" memberEnd="__w60Mu2SEeWnDaII1mfokg __rik8-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w60Mu2SEeWnDaII1mfokg" name="" type="__HljUO2SEeWnDaII1mfokg" association="__w60Me2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w7bQe2SEeWnDaII1mfokg" name="" memberEnd="__w7bQu2SEeWnDaII1mfokg __rjzEu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w7bQu2SEeWnDaII1mfokg" name="" type="__HljUO2SEeWnDaII1mfokg" association="__w7bQe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-6uzEO2SEeWnDaII1mfokg" name="util">
                  <packagedElement xmi:type="uml:Class" xmi:id="__IlB0O2SEeWnDaII1mfokg" name="FileReader">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGwxO2SEeWnDaII1mfokg" name="readFile" specification="__Ilo4O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uGwxe2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__uGwxu2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uGwx-2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;String> lines = new ArrayList&lt;String>();
	    File file = new File(filePath);
		Charset charset = Charset.defaultCharset();
		Path path = Paths.get(file.getAbsolutePath());

		try {
			lines = Files.readAllLines(path, charset);
		} catch (IOException e) {
			System.out.println(e);
		}
//		for (String line : lines) {
//			System.out.println(line);
//		}
		return lines;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__Ilo4O2SEeWnDaII1mfokg" name="readFile" isStatic="true" method="__uGwxO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Ilo4e2SEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__Ilo4u2SEeWnDaII1mfokg" isOrdered="true" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Ilo4-2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_-65yMe2SEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="__HwicO2SEeWnDaII1mfokg" name="CliController">
                    <generalization xmi:id="__kKKkO2SEeWnDaII1mfokg" general="__H3QIO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uBRNO2SEeWnDaII1mfokg" name="CliController" specification="__nmgIO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uBRNe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uBRNu2SEeWnDaII1mfokg" type="__HwicO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super(config);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uBRN-2SEeWnDaII1mfokg" name="start" specification="__H1a8O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>super.start();
//		for (AbstractParticle particle: m.particles) {
//			System.out.println(particle.getPosition().toString());
//		}
		System.out.println(Geometry.vector(m.particles.get(0).getPosition(), m.particles.get(1).getPosition()).getMagnitude());
//		System.out.println(m.particles.get(0).getAcceleration());
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__H1a8O2SEeWnDaII1mfokg" name="start" method="__uBRN-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__nmgIO2SEeWnDaII1mfokg" name="CliController" method="__uBRNO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__nnHMO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__nnHMe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__nmgIe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nnHMu2SEeWnDaII1mfokg" type="__HwicO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__H3QIO2SEeWnDaII1mfokg" name="Controller" isAbstract="true">
                    <ownedAttribute xmi:id="__rkaIO2SEeWnDaII1mfokg" name="STOPPED" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rkaIe2SEeWnDaII1mfokg" value="-1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rkaI-2SEeWnDaII1mfokg" name="PAUSED" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rlBMO2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rlBMu2SEeWnDaII1mfokg" name="RUNNING" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rlBM-2SEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rloQe2SEeWnDaII1mfokg" name="config" type="__h1PUe2SEeWnDaII1mfokg" association="__w8CUe2SEeWnDaII1mfokg">
                      <qualifier xmi:id="__rmPUe2SEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rmPUu2SEeWnDaII1mfokg" name="status">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rm2YO2SEeWnDaII1mfokg" value="STOPPED"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rm2Yu2SEeWnDaII1mfokg" name="m" visibility="protected" type="__HljUO2SEeWnDaII1mfokg" association="__w8pYe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rndce2SEeWnDaII1mfokg" name="currentFrame">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rndcu2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rnddO2SEeWnDaII1mfokg" name="totalFrame">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__roEgO2SEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__roEgu2SEeWnDaII1mfokg" name="tb" visibility="package" type="__HW50O2SEeWnDaII1mfokg" association="__w93ge2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uB4QO2SEeWnDaII1mfokg" name="Controller" specification="__noVUO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uB4Qe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uB4Qu2SEeWnDaII1mfokg" type="__H3QIO2SEeWnDaII1mfokg" direction="return">
                        <name xsi:nil="true"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.config = config;
		totalFrame = (Integer) config.get(&quot;frame&quot;);
		init();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uB4Q-2SEeWnDaII1mfokg" name="buildTopology" specification="__H4eQO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Building topology...&quot;);
		tb = new TopologyBuilder();
		m = tb.build(config);
		m.setTimeDelta((Double) config.get(&quot;timeDelta&quot;));
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		m.setParams(params);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uB4RO2SEeWnDaII1mfokg" name="init" specification="__H4eQe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>buildTopology();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__H4eQO2SEeWnDaII1mfokg" name="buildTopology" method="__uB4Q-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__H4eQe2SEeWnDaII1mfokg" name="init" method="__uB4RO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__H5FUO2SEeWnDaII1mfokg" name="start"/>
                    <ownedOperation xmi:id="__noVUO2SEeWnDaII1mfokg" name="Controller" method="__uB4QO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__noVUu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__no8YO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__noVUe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__no8Ye2SEeWnDaII1mfokg" type="__H3QIO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__H7hkO2SEeWnDaII1mfokg" name="ControllerFactory">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uB4Re2SEeWnDaII1mfokg" name="createController" specification="__nqKgO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uB4Ru2SEeWnDaII1mfokg" name="enableUI">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__uB4R-2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uB4SO2SEeWnDaII1mfokg" type="__H3QIO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>if (enableUI) {
			return new GuiController(config);
		}
		else {
			return new CliController(config);
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__nqKgO2SEeWnDaII1mfokg" name="createController" isStatic="true" method="__uB4Re2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__nqxkO2SEeWnDaII1mfokg" name="enableUI">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__nqxke2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nqxku2SEeWnDaII1mfokg" type="__H3QIO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="__H8vsO2SEeWnDaII1mfokg" name="EventListener">
                    <ownedAttribute xmi:id="__H990e2SEeWnDaII1mfokg" name="status" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="__H9WwO2SEeWnDaII1mfokg" name="onRestart"/>
                    <ownedOperation xmi:id="__H9Wwe2SEeWnDaII1mfokg" name="onStop"/>
                    <ownedOperation xmi:id="__H9Wwu2SEeWnDaII1mfokg" name="onPause"/>
                    <ownedOperation xmi:id="__H990O2SEeWnDaII1mfokg" name="onResume"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__H-k4O2SEeWnDaII1mfokg" name="GuiController">
                    <generalization xmi:id="__kNN4O2SEeWnDaII1mfokg" general="__H3QIO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rorkO2SEeWnDaII1mfokg" name="v" visibility="package" type="__IT8EO2SEeWnDaII1mfokg" association="__w_Foe2SEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="__kMm0O2SEeWnDaII1mfokg" client="__H-k4O2SEeWnDaII1mfokg" supplier="__H8vsO2SEeWnDaII1mfokg" contract="__H8vsO2SEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uCfUO2SEeWnDaII1mfokg" name="GuiController" specification="__nr_sO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uCfUe2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uCfUu2SEeWnDaII1mfokg" type="__H-k4O2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super(config);
		v = new View(this, config);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uCfU-2SEeWnDaII1mfokg" name="start" specification="__H_L8O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>status = RUNNING;
		
		// main loop
		while (currentFrame &lt; totalFrame) {
			if (status == STOPPED || status == PAUSED) {
				break;
			}
			
			if (currentFrame % m.getUpdateRlistStep() == 0) {
				m.initRlist();
			}
			
//			if (status == PAUSED) {
//				// on hold when application is not running
//				System.out.println(&quot;Pending...&quot;);
//				try {
//					Thread.sleep(1000);
//					continue;
//				} catch (InterruptedException e) {
//					e.printStackTrace();
//				}
//			}
			
			currentFrame++;
			System.out.println(&quot;Frame &quot; + currentFrame);
			
			m.nextFrame();
			// update Jmol viewer
			try {
				v.getMediator().updateViewerCoord(m.particles);
			}
			catch (Exception e) {
				e.printStackTrace();
			}
			// pause 1s for each frame
			try {
				Thread.sleep(100);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uCfVO2SEeWnDaII1mfokg" name="onRestart" specification="__H_zA-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulation restarts...&quot;);
     		status = STOPPED;
     		currentFrame = 0;
     		v.reload();
     		init();
     		v.disableConfig();
     		status = RUNNING;
     		start();
         }
     }, &quot;Restart&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uCfVe2SEeWnDaII1mfokg" name="getStatus" specification="__IAaE-2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uCfVu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return status;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDGYO2SEeWnDaII1mfokg" name="onStop" specification="__IBBJO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulaton stops.&quot;);
     		currentFrame = 0;
     		status = STOPPED;
         }
     }, &quot;Stop&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDGYe2SEeWnDaII1mfokg" name="onPause" specification="__IBoM-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulaton pauses.&quot;);
     		status = PAUSED;
         }
     }, &quot;Pause&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDGYu2SEeWnDaII1mfokg" name="onResume" specification="__ICPQ-2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	if (status == STOPPED) {
     			return;
     		}
     		System.out.println(&quot;Simulaton resumes.&quot;);
     		m.setTimeDelta((Double) config.get(&quot;timeDelta&quot;));
     		start();
         }
     }, &quot;Resume&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__H_L8O2SEeWnDaII1mfokg" name="start" method="__uCfU-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__H_zA-2SEeWnDaII1mfokg" name="onRestart" method="__uCfVO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IAaE-2SEeWnDaII1mfokg" name="getStatus" method="__uCfVe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__IBBIO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__IBBJO2SEeWnDaII1mfokg" name="onStop" method="__uDGYO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IBoM-2SEeWnDaII1mfokg" name="onPause" method="__uDGYe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__ICPQ-2SEeWnDaII1mfokg" name="onResume" method="__uDGYu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__nr_sO2SEeWnDaII1mfokg" name="GuiController" method="__uCfUO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__nsmwO2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__nsmwe2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__nr_se2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nsmwu2SEeWnDaII1mfokg" type="__H-k4O2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__IErgO2SEeWnDaII1mfokg" name="UpdateRegistry">
                    <ownedComment xmi:id="__u1JgO2SEeWnDaII1mfokg">
                      <body>@author Wenjie
 *
 *	This class acts as the &quot;middle-man&quot; between JmolDisplay 
 *	and back end calculations and object model.
 *	Contains sections:
 *	- Methods called when there's changes to object model
 *	- Methods called when there's changes in JmolDisplay
 *	- Methods called to notify Viewer of new changes to object Model
 *	- private methods used only within class.</body>
                    </ownedComment>
                    <generalization xmi:id="__INOYO2SEeWnDaII1mfokg" general="__Dg7oO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rpSoO2SEeWnDaII1mfokg" name="dragMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rpSou2SEeWnDaII1mfokg" name="addMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rp5se2SEeWnDaII1mfokg" name="storeAddAtom" visibility="protected" type="__AVr0O2SEeWnDaII1mfokg" association="__xATwO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rqgwO2SEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="__D0doO2SEeWnDaII1mfokg" association="__xA60e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rrH0O2SEeWnDaII1mfokg" name="minimizeMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rrH0u2SEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="__hDzQe2SEeWnDaII1mfokg" association="__xBh4e2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rrH0-2SEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(UpdateRegistry.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rru4e2SEeWnDaII1mfokg" name="viewer" visibility="private" type="__iIKQe2SEeWnDaII1mfokg" association="__xCI8e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rsV8e2SEeWnDaII1mfokg" name="toolPanel" visibility="private" type="__EDuMO2SEeWnDaII1mfokg" association="__xCwAe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rs9AO2SEeWnDaII1mfokg" name="modelList" visibility="private" type="__A_MEe2SEeWnDaII1mfokg" isOrdered="true" association="__xDXEe2SEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__rs9Ae2SEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rs9A-2SEeWnDaII1mfokg" name="selectedAtoms" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__xD-Ie2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__ruLIu2SEeWnDaII1mfokg" name="savedAtoms" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__xElMe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rvZQO2SEeWnDaII1mfokg" name="offset" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__rvZQe2SEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rvZQ-2SEeWnDaII1mfokg" value="new double[3]"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rwAUe2SEeWnDaII1mfokg" name="atomselected" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rwAUu2SEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDtcO2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__nub8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uDtce2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDtcu2SEeWnDaII1mfokg" name="toolPanel" type="__EDuMO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDtc-2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDtdO2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;
		this.viewer = jmolPanel.getViewer();
		this.modelList = models;
		this.toolPanel = toolPanel;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
		this.addMode = false;
		this.minimizeMode = false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDtde2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__nw4MO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uDtdu2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDtd-2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDteO2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;
		this.modelList = models;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uDtee2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__nzUcO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uDteu2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uDte-2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;
		this.modelList = null;
		this.dragMode = -1;
		this.mouseState = new MouseState();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uEUgO2SEeWnDaII1mfokg" name="UpdateRegistry" specification="__IHu0O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uEUge2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = null;
		this.modelList = new ArrayList&lt;Model>();
		this.toolPanel = null;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uEUgu2SEeWnDaII1mfokg" name="setSelectedAtoms" specification="__nz7gO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uEUg-2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//System.out.println(&quot;Selected: &quot; + values);
		if(selectedAtoms==null)
			selectedAtoms = new ArrayList&lt;Atom>();
		else
			selectedAtoms.clear();

		String[] valueGet = values.toString().split(&quot;[{ }]&quot;);
		if(modelList!=null){
			Model currentModel = modelList.get(viewer.getDisplayModelIndex());
			for(int i=0;i&lt;valueGet.length;i++){
				if(valueGet[i].compareTo(&quot;&quot;)!= 0){
					// if its list of continuous atoms
					if(valueGet[i].contains(&quot;:&quot;)){
						int start = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[0])+1;
						int end = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[1])+1;
						for(int j=start;j&lt;=end;j++){
							selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+j));
						}
					}
					else{
						selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+(Integer.parseInt(valueGet[i])+1)));
					}
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uEUhO2SEeWnDaII1mfokg" name="atomMoved" specification="__n1JoO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uEUhe2SEeWnDaII1mfokg" name="atomsMoved" type="__hi7c-2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// get the list of atoms moved.
		if(atomselected)
			setSelectedAtoms(atomsMoved);
		
		// update the atoms moved in user model.
		for(int i=0;i&lt;selectedAtoms.size();i++){
			int atomIndex = selectedAtoms.get(i).getAtomSeqNum()-1;
			double[] coords = {viewer.ms.at[atomIndex].x,viewer.ms.at[atomIndex].y,viewer.ms.at[atomIndex].z};
			if(coords[0]!=selectedAtoms.get(i).getCoordinates()[0]){
				offset[0] = selectedAtoms.get(i).getCoordinates()[0]- coords[0];
				offset[1] = selectedAtoms.get(i).getCoordinates()[1]- coords[1];
				offset[2] = selectedAtoms.get(i).getCoordinates()[2]- coords[2];
				selectedAtoms.get(i).setCoordinates(coords);
			}
			else{
				coords[0] = selectedAtoms.get(i).getCoordinates()[0]-offset[0];
				coords[1] = selectedAtoms.get(i).getCoordinates()[1]-offset[1];
				coords[2] = selectedAtoms.get(i).getCoordinates()[2]-offset[2];
				viewer.ms.at[atomIndex].x = (float)coords[0]; 
				viewer.ms.at[atomIndex].y = (float)coords[1]; 
				viewer.ms.at[atomIndex].z = (float)coords[2]; 
				selectedAtoms.get(i).setCoordinates(coords);
			}
			
			//System.out.println(&quot;COORD:&quot; + selectedAtoms.get(i).getCoordinates()[0]);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uEUhu2SEeWnDaII1mfokg" name="capCoord" specification="__IKLEe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uEUh-2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__uEUiO2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)
			return Math.max(-999.000, coord);
		return Math.min(coord, +999.000);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uE7kO2SEeWnDaII1mfokg" name="display" specification="__n1wsO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uE7ke2SEeWnDaII1mfokg" name="list" type="__fyn8O2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//		String gro = 	&quot;HEMOGLOBIN (DEOXY) (ALPHA CHAIN);; HEMOGLOBIN (DEOXY) (BETA CHAIN);&quot; +
//						&quot;   38&quot; +
//						&quot;    1VAL      N    1   0.620   1.687   0.485&quot; +
//						&quot;    1VAL     H1    2   0.641   1.610   0.425&quot; +
//						&quot;    1VAL     H2    3   0.634   1.659   0.581&quot; +
//						&quot;    1VAL     H3    4   0.525   1.715   0.472&quot; +
//						&quot;    1VAL     CA    5   0.691   1.776   0.461&quot; +
//						&quot;    1VAL     HA    6   0.671   1.775   0.363&quot; +
//						&quot;    1VAL     CB    7   0.637   1.904   0.581&quot; +
//						&quot;    1VAL     HB    8   0.634   1.943   0.673&quot; +
//						&quot;    1VAL    CG1    9   0.701   2.013   0.542&quot; +
//						&quot;    1VAL   HG11   10   0.677   2.089   0.602&quot; +
//						&quot;    1VAL   HG12   11   0.799   1.996   0.546&quot; +
//						&quot;    1VAL   HG13   12   0.674   2.035   0.448&quot; +
//						&quot;    1VAL    CG2   13   0.525   1.853   0.568&quot; +
//						&quot;    1VAL   HG21   14   0.459   1.902   0.626&quot; +
//						&quot;    1VAL   HG22   15   0.496   1.859   0.472&quot; +
//						&quot;    1VAL   HG23   16   0.528   1.757   0.596&quot; +
//						&quot;    1VAL      C   17   0.850   1.738   0.480&quot; +
//						&quot;    1VAL      O   18   0.881   1.701   0.594&quot; +
//						&quot;    2LEU      N   19   0.910   1.804   0.386&quot; +
//						&quot;    2LEU      H   20   0.870   1.852   0.307&quot; +
//						&quot;    2LEU     CA   21   1.060   1.789   0.428&quot; +
//						&quot;    2LEU     HA   22   1.079   1.703   0.476&quot; +
//						&quot;    2LEU     CB   23   1.110   1.801   0.282&quot; +
//						&quot;    2LEU    HB1   24   1.199   1.846   0.282&quot; +
//						&quot;    2LEU    HB2   25   1.045   1.856   0.230&quot; +
//						&quot;    2LEU     CG   26   1.132   1.696   0.193&quot; +
//						&quot;    2LEU     HG   27   1.125   1.695   0.293&quot; +
//						&quot;    2LEU    CD1   28   1.147   1.560   0.234&quot; +
//						&quot;    2LEU   HD11   29   1.162   1.502   0.153&quot; +
//						&quot;    2LEU   HD12   30   1.225   1.551   0.296&quot; +
//						&quot;    2LEU   HD13   31   1.064   1.530   0.281&quot; +
//						&quot;    2LEU    CD2   32   1.142   1.727   0.030&quot; +
//						&quot;    2LEU   HD21   33   1.158   1.641  -0.019&quot; +
//						&quot;    2LEU   HD22   34   1.057   1.768  -0.001&quot; +
//						&quot;    2LEU   HD23   35   1.218   1.790   0.013&quot; +
//						&quot;    2LEU      C   36   1.127   1.918   0.530&quot; +
//						&quot;    2LEU    OC1   37   1.182   1.914   0.613&quot; +
//						&quot;    2LEU    OC2   38   1.081   2.018   0.465&quot; +
//						&quot;   6.31500   8.35900   5.30868   0.00000   0.00000   0.00000   0.00000  -0.87313   0.00000&quot;;
		

	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uE7ku2SEeWnDaII1mfokg" name="notifyUpdated" specification="__kPDEO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uE7k-2SEeWnDaII1mfokg" name="particles" type="__Gv10-2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uE7lO2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;Atom> atomsUpdated = new ArrayList&lt;Atom>();
		
		// When the two particles are part of common model
//		if(modelList.size()!=0){
//			for(int i=0;i&lt;particles.length;i++){
//				if(particles[i] instanceof Atom){ // if particle is Atom type
//					// get the updated atom from model
//					atomsUpdated.add(modelList.get(0).getAtomHash().get(modelList.get(0).getModelName()+((Atom)particles[i]).getChainSeqNum()));
//				}
//			}
//			// update atoms in jmol display
//			for(int i=0;i&lt;atomsUpdated.size();i++){
//				Atom atom = atomsUpdated.get(i);
//				float xOffset = (float)atom.getPosition().x - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).x;
//				float yOffset = (float)atom.getPosition().y - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).y;
//				float zOffset = (float)atom.getPosition().z - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).z;
//				viewer.evalString(&quot;select atomno=&quot;+ atom.getChainSeqNum());
//				viewer.evalString(&quot;translateSelected {&quot; + xOffset + &quot; &quot; + yOffset + &quot; &quot; + zOffset + &quot;}&quot;);
//			}
//		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uE7le2SEeWnDaII1mfokg" name="updateViewerCoord" specification="__n2-0e2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uE7lu2SEeWnDaII1mfokg" name="particles" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>for(AbstractParticle p: particles) {
			Vector3D position = p.getPosition();
	    	viewer.ms.setAtomCoord((p.getGUID()-1), (float)position.x*10, (float)position.y*10, (float)position.z*10);
	    }
		viewer.refresh(3, &quot;Simulation&quot;);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__IHu0O2SEeWnDaII1mfokg" name="UpdateRegistry" method="__uEUgO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__IHu0e2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__IIV4O2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__IIV4e2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__II88O2SEeWnDaII1mfokg" name="atomMoved"/>
                    <ownedOperation xmi:id="__IJkAe2SEeWnDaII1mfokg" name="setModelBonds"/>
                    <ownedOperation xmi:id="__IKLEe2SEeWnDaII1mfokg" name="capCoord" visibility="private" method="__uEUhu2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__IKLEu2SEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__IKLE-2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__IKyIO2SEeWnDaII1mfokg" name="setMouseState">
                      <ownedParameter xmi:id="__IKyIe2SEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__IKyIu2SEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="__IKyI-2SEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__kPDEO2SEeWnDaII1mfokg" name="notifyUpdated" method="__uE7ku2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__kPDEe2SEeWnDaII1mfokg" name="particles" type="__Gv10-2SEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__kPDEu2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__nub8O2SEeWnDaII1mfokg" name="UpdateRegistry" method="__uDtcO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__nvqEu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__nvqE-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__u1wkO2SEeWnDaII1mfokg">
                        <body>*****************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__nvDAO2SEeWnDaII1mfokg" name="jmolPanel" type="__D0doO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nvqEO2SEeWnDaII1mfokg" name="toolPanel" type="__EDuMO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nvqEe2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nvqFO2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__nw4MO2SEeWnDaII1mfokg" name="UpdateRegistry" method="__uDtde2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__nxfQu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__nxfQ-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__nxfQO2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nxfQe2SEeWnDaII1mfokg" name="models" type="__gLCcO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nxfRO2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__nzUcO2SEeWnDaII1mfokg" name="UpdateRegistry" method="__uDtee2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__nzUcu2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__nzUc-2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="__nzUce2SEeWnDaII1mfokg" name="viewer" type="__iIKQe2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__nzUdO2SEeWnDaII1mfokg" type="__IErgO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__nz7gO2SEeWnDaII1mfokg" name="setSelectedAtoms" method="__uEUgu2SEeWnDaII1mfokg">
                      <ownedComment xmi:id="__u1wke2SEeWnDaII1mfokg">
                        <body>*******************************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__nz7ge2SEeWnDaII1mfokg" name="values" type="__hi7c-2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__n1JoO2SEeWnDaII1mfokg" name="atomMoved" method="__uEUhO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__n1Joe2SEeWnDaII1mfokg" name="atomsMoved" type="__hi7c-2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__n1wsO2SEeWnDaII1mfokg" name="display" method="__uE7kO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__n1wse2SEeWnDaII1mfokg" name="list" type="__fyn8O2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="__n2-0e2SEeWnDaII1mfokg" name="updateViewerCoord" method="__uE7le2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__n2-0u2SEeWnDaII1mfokg" name="particles" type="__gLCcO2SEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="__IT8EO2SEeWnDaII1mfokg" name="View">
                    <generalization xmi:id="__n9FcO2SEeWnDaII1mfokg" general="__hClIe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rxOcO2SEeWnDaII1mfokg" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__rxOce2SEeWnDaII1mfokg" value="1L"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__rxOcu2SEeWnDaII1mfokg" name="listener" visibility="package" type="__H8vsO2SEeWnDaII1mfokg" association="__xFMQe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rx1ge2SEeWnDaII1mfokg" name="contentPane" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__xFzUe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rycke2SEeWnDaII1mfokg" name="simulationPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__xGaYe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__ryck-2SEeWnDaII1mfokg" name="forcesPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__xHBce2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rzDoe2SEeWnDaII1mfokg" name="commandTextField" visibility="private" type="__hvIse2SEeWnDaII1mfokg" association="__xHBdO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rzqse2SEeWnDaII1mfokg" name="mediator" type="__IErgO2SEeWnDaII1mfokg" isReadOnly="true" association="__xHoge2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__rzqsu2SEeWnDaII1mfokg" name="controlPanel" visibility="private" type="__jkUse2SEeWnDaII1mfokg" association="__xIPke2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r0Rwe2SEeWnDaII1mfokg" name="pauseButton" visibility="private" type="__iDRwO2SEeWnDaII1mfokg" association="__xI2oe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r0Rw-2SEeWnDaII1mfokg" name="stopButton" visibility="private" type="__iDRwO2SEeWnDaII1mfokg" association="__xJdse2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r040e2SEeWnDaII1mfokg" name="restartButton" visibility="private" type="__iDRwO2SEeWnDaII1mfokg" association="__xKEwe2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r1f4e2SEeWnDaII1mfokg" name="config" visibility="private" type="__h1PUe2SEeWnDaII1mfokg" association="__xKr0e2SEeWnDaII1mfokg">
                      <qualifier xmi:id="__r2G8e2SEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="__r2G8u2SEeWnDaII1mfokg" name="viewer" visibility="private" type="__iIKQe2SEeWnDaII1mfokg" association="__xLS4e2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r2uAe2SEeWnDaII1mfokg" name="cbMolecule" visibility="private" type="__iDRwu2SEeWnDaII1mfokg" association="__xMhAO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r3VEO2SEeWnDaII1mfokg" name="tfTimeDelta" visibility="private" type="__hvIse2SEeWnDaII1mfokg" association="__xNIEO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r3VEu2SEeWnDaII1mfokg" name="cbForceField" visibility="private" type="__iDRwu2SEeWnDaII1mfokg" association="__xNvIO2SEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="__r38Ie2SEeWnDaII1mfokg" name="ffParamComponents" visibility="private" type="__fyn8O2SEeWnDaII1mfokg" association="__xNvI-2SEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="__r4jMe2SEeWnDaII1mfokg" value="new ArrayList&lt;JComponent>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uFioO2SEeWnDaII1mfokg" name="View" specification="__n73UO2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uFioe2SEeWnDaII1mfokg" name="listener" type="__H8vsO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uFiou2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__uFio-2SEeWnDaII1mfokg" type="__IT8EO2SEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super((String) config.get(&quot;name&quot;));
		
		this.listener = listener;
		this.config = config;
		
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 900, 600);
		setLocationRelativeTo(null);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));
		setContentPane(contentPane);
		
		// add JMol Panel
		JmolDisplay jmolPanel = new JmolDisplay();
		jmolPanel.setBorder(new EmptyBorder(5,0,5,0));
		contentPane.add(jmolPanel);
		
		// add mediator
		
		viewer = jmolPanel.getViewer();
		viewer.evalString(&quot;set debug OFF;&quot;);
		mediator = new UpdateRegistry(viewer);
		viewer.setPercentVdwAtom(20);
		viewer.evalString(&quot;&quot;);
		viewer.evalString(&quot;load &quot; + (String) config.get(&quot;dir&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
		viewer.evalString(&quot;wireframe only;wireframe reset;spacefill reset;&quot;);
//		viewer.evalString(&quot;set mouseDragFactor 1.0&quot;);
     jmolPanel.setMediator(mediator);
		
		// add RHS Panel for user input
		JPanel inputPanel = new JPanel();
		inputPanel.setBorder(new EmptyBorder(0,5,0,5));
		contentPane.add(inputPanel, BorderLayout.EAST);
		
		createSimulationPanel();

		inputPanel.setLayout(new BorderLayout(0, 1));
		inputPanel.add(simulationPanel, BorderLayout.NORTH);
		
		createForcesPanel();
		inputPanel.add(forcesPanel, BorderLayout.CENTER);

		controlPanel = new JPanel();
		controlPanel.setAlignmentX(LEFT_ALIGNMENT);
		inputPanel.add(controlPanel, BorderLayout.SOUTH);
		
		pauseButton = new JButton(&quot;Pause&quot;);
		pauseButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if (listener.getStatus() > 0){
					pauseButton.setText(&quot;Resume&quot;);
					partialEnableSimulationPanel();
					enableForcePanel();
					listener.onPause();
				}
				else {
					pauseButton.setText(&quot;Pause&quot;);
					saveParams();
					disableForcePanel();
					disableSimulationPanel();
					listener.onResume();
				}
			}
		});
		controlPanel.add(pauseButton);
		
		stopButton = new JButton(&quot;Stop&quot;);
		stopButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(stopButton.getText().equals(&quot;Stop&quot;)){
					stopButton.setText(&quot;Start&quot;);
					pauseButton.setEnabled(false);
					enableConfig();
					listener.onStop();
				}
				else{
					stopButton.setText(&quot;Stop&quot;);
					pauseButton.setText(&quot;Pause&quot;);
					pauseButton.setEnabled(true);
					saveParams();
					listener.onRestart();
					System.out.println(&quot;restart done&quot;);
				}
			}
		});
		controlPanel.add(stopButton);
		
		restartButton = new JButton(&quot;Restart&quot;);
		restartButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopButton.setText(&quot;Stop&quot;);
				pauseButton.setText(&quot;Pause&quot;);
				pauseButton.setEnabled(true);
				saveParams();
				listener.onRestart();
			}
		});
		controlPanel.add(restartButton);
		
		// add text field for user input
//		commandTextField = new JTextField();
//		contentPane.add(commandTextField, BorderLayout.SOUTH);
//		commandTextField.requestFocusInWindow();
		
		this.setVisible(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uFipO2SEeWnDaII1mfokg" name="reload" specification="__IWYUO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Reloading view...&quot;);
		reloadViewer();
		reloadParams();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uFipe2SEeWnDaII1mfokg" name="reloadViewer" specification="__IXmcO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>viewer.evalString(&quot;load &quot; + (String) config.get(&quot;dir&quot;) + (String) config.get(&quot;name&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uFipu2SEeWnDaII1mfokg" name="reloadParams" specification="__IYNgO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>//		forcesPanel = null;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uFip-2SEeWnDaII1mfokg" name="createSimulationPanel" specification="__IY0kO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simulationPanel = new JPanel();
     simulationPanel.setBorder(BorderFactory.createTitledBorder(&quot;Simulation Parameters&quot;));
//        simulationPanel.setToolTipText(&quot;sample text&quot;);
//        simulationPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
     GridBagLayout gbl_simulationPanel = new GridBagLayout();
     gbl_simulationPanel.columnWeights = new double[]{0.0, 1.0};
     gbl_simulationPanel.rowWeights = new double[]{0.0, 0.0, 0.0};
     simulationPanel.setLayout(gbl_simulationPanel);
             
     JLabel lbTimeDelta = new JLabel(&quot;Time Delta(ns): &quot;, SwingConstants.RIGHT);
     
     GridBagConstraints gbc_lbTimeDelta = new GridBagConstraints();
     gbc_lbTimeDelta.fill = GridBagConstraints.HORIZONTAL;
     gbc_lbTimeDelta.insets = new Insets(0, 0, 5, 5);
     gbc_lbTimeDelta.gridx = 0;
     gbc_lbTimeDelta.gridy = 0;
     simulationPanel.add(lbTimeDelta, gbc_lbTimeDelta);
             
     tfTimeDelta = new JTextField(config.get(&quot;timeDelta&quot;).toString());
     GridBagConstraints gbc_tfTimeDelta = new GridBagConstraints();
     gbc_tfTimeDelta.fill = GridBagConstraints.BOTH;
     gbc_tfTimeDelta.insets = new Insets(0, 0, 5, 0);
     gbc_tfTimeDelta.gridx = 1;
     gbc_tfTimeDelta.gridy = 0;
     simulationPanel.add(tfTimeDelta, gbc_tfTimeDelta);
     JLabel lbMolecule = new JLabel(&quot;Molecule: &quot;, SwingConstants.RIGHT);
     
     GridBagConstraints gbc_lbMolecule = new GridBagConstraints();
     gbc_lbMolecule.anchor = GridBagConstraints.EAST;
     gbc_lbMolecule.insets = new Insets(0, 0, 5, 5);
     gbc_lbMolecule.fill = GridBagConstraints.VERTICAL;
     gbc_lbMolecule.gridx = 0;
     gbc_lbMolecule.gridy = 1;
     simulationPanel.add(lbMolecule, gbc_lbMolecule);
		
		cbMolecule = new JComboBox();
		GridBagConstraints gbc_comboBox = new GridBagConstraints();
		
		String[] molecules = getMoleculeList(); 
		
		cbMolecule.setModel(new DefaultComboBoxModel(molecules));
		
		String name = (String) config.get(&quot;name&quot;);
		System.out.println(name);
		for (int i=0; i&lt;molecules.length; i++) {
			System.out.println(molecules[i]);
			if (name.equals(molecules[i])) {
				cbMolecule.setSelectedIndex(i);
				break;
			}
		}
		
		gbc_comboBox.insets = new Insets(0, 0, 5, 0);
		gbc_comboBox.fill = GridBagConstraints.HORIZONTAL;
		gbc_comboBox.gridx = 1;
		gbc_comboBox.gridy = 1;
		simulationPanel.add(cbMolecule, gbc_comboBox);
		JLabel lbForceField = new JLabel(&quot;Force Field: &quot;, SwingConstants.RIGHT);
		
		GridBagConstraints gbc_lbForceField = new GridBagConstraints();
		gbc_lbForceField.fill = GridBagConstraints.BOTH;
		gbc_lbForceField.insets = new Insets(0, 0, 0, 5);
		gbc_lbForceField.gridx = 0;
		gbc_lbForceField.gridy = 2;
		simulationPanel.add(lbForceField, gbc_lbForceField);
		        
     cbForceField = new JComboBox();
     cbForceField.setModel(new DefaultComboBoxModel(new String[] {&quot;Amber03&quot;}));
     cbForceField.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
         	
         }
     });
     GridBagConstraints gbc_cbForceField = new GridBagConstraints();
     gbc_cbForceField.fill = GridBagConstraints.HORIZONTAL;
     gbc_cbForceField.gridx = 1;
     gbc_cbForceField.gridy = 2;
     simulationPanel.add(cbForceField, gbc_cbForceField);
     
     disableSimulationPanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJsO2SEeWnDaII1mfokg" name="disableSimulationPanel" specification="__IY0ke2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(false);
		cbMolecule.setEnabled(false);
		cbForceField.setEnabled(false);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJse2SEeWnDaII1mfokg" name="partialEnableSimulationPanel" specification="__IZboO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(true);
//		cbMolecule.setEnabled(false);
//		cbForceField.setEnabled(false);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJsu2SEeWnDaII1mfokg" name="enableSimulationPanel" specification="__IZboe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(true);
		cbMolecule.setEnabled(true);
		cbForceField.setEnabled(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJs-2SEeWnDaII1mfokg" name="createForcesPanel" specification="__IaCsO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>forcesPanel = new JPanel();
		forcesPanel.setBorder(BorderFactory.createTitledBorder(&quot;Force Field Parameters&quot;));
		forcesPanel.setLayout(new BoxLayout(forcesPanel, BoxLayout.Y_AXIS));
		
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		
		for (Map.Entry&lt;String, Object> e: params.entrySet()) {
			if (e.getValue() instanceof Boolean) {
				JCheckBox cb = new JCheckBox(e.getKey());
				cb.setAlignmentX(LEFT_ALIGNMENT);
				if ((Boolean) e.getValue()) {
					cb.setSelected(true);
				}
				cb.addActionListener(new ActionListener(){
				    public void actionPerformed(ActionEvent e) {
				    	JCheckBox cb = (JCheckBox) e.getSource();
				    	config.put(cb.getText(), cb.isSelected());
				    }
				});
				forcesPanel.add(cb);
				ffParamComponents.add(cb);
			}
		}

	    JLabel label1 = new JLabel(&quot;Forces&quot;);
	    label1.setAlignmentX(Component.LEFT_ALIGNMENT);
	    
	    disableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJtO2SEeWnDaII1mfokg" name="disableForcePanel" specification="__IapwO2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (JComponent c: ffParamComponents) {
			c.setEnabled(false);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJte2SEeWnDaII1mfokg" name="enableForcePanel" specification="__Iapwe2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (JComponent c: ffParamComponents) {
			c.setEnabled(true);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJtu2SEeWnDaII1mfokg" name="saveParams" specification="__IbQ0O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// fields in simulation panel
		config.put(&quot;name&quot;, (String) cbMolecule.getSelectedItem());
		config.put(&quot;timeDelta&quot;, Double.parseDouble(tfTimeDelta.getText()));
		config.put(&quot;forceField&quot;, (String) cbForceField.getSelectedItem());
		// fields in force panel
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		
		for (JComponent c: ffParamComponents) {
			if (c instanceof JCheckBox) {
				JCheckBox cb = (JCheckBox) c;
				String key = cb.getText();
				Boolean value = cb.isSelected();
				params.put(key, value);
			}
		}
		System.out.println(params.toString());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGJt-2SEeWnDaII1mfokg" name="disableConfig" specification="__Ib34O2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>disableSimulationPanel();
		disableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGwwO2SEeWnDaII1mfokg" name="enableConfig" specification="__Ib34e2SEeWnDaII1mfokg">
                      <language>java</language>
                      <body>enableSimulationPanel();
		enableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="__uGwwe2SEeWnDaII1mfokg" name="getMoleculeList" specification="__Ice8O2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__uGwwu2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__uGww-2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>File f = null;
	    String[] paths = {};
	    List&lt;String> molecules = new ArrayList&lt;String>();
	            
	    try{      
	    	f = new File(&quot;res/amber03_test/&quot;);
         paths = f.list();
	    	for(String path:paths) {
	    		if (!path.equals(&quot;.DS_Store&quot;)) {
	    			molecules.add(path);
	    		}
	    	}
	    }catch(Exception e){
	    	e.printStackTrace();
	    }
		return molecules.toArray(new String[molecules.size()]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="__IWYUO2SEeWnDaII1mfokg" name="reload" method="__uFipO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IXmcO2SEeWnDaII1mfokg" name="reloadViewer" visibility="private" method="__uFipe2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IYNgO2SEeWnDaII1mfokg" name="reloadParams" visibility="private" method="__uFipu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IY0kO2SEeWnDaII1mfokg" name="createSimulationPanel" visibility="private" method="__uFip-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IY0ke2SEeWnDaII1mfokg" name="disableSimulationPanel" visibility="protected" method="__uGJsO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IZboO2SEeWnDaII1mfokg" name="partialEnableSimulationPanel" visibility="protected" method="__uGJse2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IZboe2SEeWnDaII1mfokg" name="enableSimulationPanel" visibility="protected" method="__uGJsu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IaCsO2SEeWnDaII1mfokg" name="createForcesPanel" visibility="private" method="__uGJs-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IapwO2SEeWnDaII1mfokg" name="disableForcePanel" visibility="protected" method="__uGJtO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Iapwe2SEeWnDaII1mfokg" name="enableForcePanel" visibility="protected" method="__uGJte2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__IbQ0O2SEeWnDaII1mfokg" name="saveParams" visibility="protected" method="__uGJtu2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Ib34O2SEeWnDaII1mfokg" name="disableConfig" visibility="protected" method="__uGJt-2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Ib34e2SEeWnDaII1mfokg" name="enableConfig" visibility="protected" method="__uGwwO2SEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="__Ice8O2SEeWnDaII1mfokg" name="getMoleculeList" visibility="protected" method="__uGwwe2SEeWnDaII1mfokg">
                      <ownedParameter xmi:id="__Ice8e2SEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="__Ice8u2SEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="__n73UO2SEeWnDaII1mfokg" name="View" method="__uFioO2SEeWnDaII1mfokg">
                      <eAnnotations xmi:id="__n73U-2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="__n73VO2SEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="__u1wku2SEeWnDaII1mfokg">
                        <body>Create the main frame.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="__n73Ue2SEeWnDaII1mfokg" name="listener" type="__H8vsO2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__n73Uu2SEeWnDaII1mfokg" name="config" type="__h45su2SEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="__n73Ve2SEeWnDaII1mfokg" type="__IT8EO2SEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w8CUe2SEeWnDaII1mfokg" name="" memberEnd="__w8CUu2SEeWnDaII1mfokg __rloQe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w8CUu2SEeWnDaII1mfokg" name="" type="__H3QIO2SEeWnDaII1mfokg" association="__w8CUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w8pYe2SEeWnDaII1mfokg" name="" memberEnd="__w8pYu2SEeWnDaII1mfokg __rm2Yu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w8pYu2SEeWnDaII1mfokg" name="" type="__H3QIO2SEeWnDaII1mfokg" association="__w8pYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w93ge2SEeWnDaII1mfokg" name="" memberEnd="__w93gu2SEeWnDaII1mfokg __roEgu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w93gu2SEeWnDaII1mfokg" name="" type="__H3QIO2SEeWnDaII1mfokg" association="__w93ge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__w_Foe2SEeWnDaII1mfokg" name="" memberEnd="__w_Fou2SEeWnDaII1mfokg __rorkO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__w_Fou2SEeWnDaII1mfokg" name="" type="__H-k4O2SEeWnDaII1mfokg" association="__w_Foe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xATwO2SEeWnDaII1mfokg" name="" memberEnd="__xATwe2SEeWnDaII1mfokg __rp5se2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xATwe2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xATwO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xA60e2SEeWnDaII1mfokg" name="" memberEnd="__xA60u2SEeWnDaII1mfokg __rqgwO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xA60u2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xA60e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xBh4e2SEeWnDaII1mfokg" name="" memberEnd="__xBh4u2SEeWnDaII1mfokg __rrH0u2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xBh4u2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xBh4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xCI8e2SEeWnDaII1mfokg" name="" memberEnd="__xCI8u2SEeWnDaII1mfokg __rru4e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xCI8u2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xCI8e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xCwAe2SEeWnDaII1mfokg" name="" memberEnd="__xCwAu2SEeWnDaII1mfokg __rsV8e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xCwAu2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xCwAe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xDXEe2SEeWnDaII1mfokg" name="" memberEnd="__xDXEu2SEeWnDaII1mfokg __rs9AO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xDXEu2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xDXEe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xD-Ie2SEeWnDaII1mfokg" name="" memberEnd="__xD-Iu2SEeWnDaII1mfokg __rs9A-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xD-Iu2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xD-Ie2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xElMe2SEeWnDaII1mfokg" name="" memberEnd="__xElMu2SEeWnDaII1mfokg __ruLIu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xElMu2SEeWnDaII1mfokg" name="" type="__IErgO2SEeWnDaII1mfokg" association="__xElMe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xFMQe2SEeWnDaII1mfokg" name="" memberEnd="__xFMQu2SEeWnDaII1mfokg __rxOcu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xFMQu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xFMQe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xFzUe2SEeWnDaII1mfokg" name="" memberEnd="__xFzUu2SEeWnDaII1mfokg __rx1ge2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xFzUu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xFzUe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xGaYe2SEeWnDaII1mfokg" name="" memberEnd="__xGaYu2SEeWnDaII1mfokg __rycke2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xGaYu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xGaYe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xHBce2SEeWnDaII1mfokg" name="" memberEnd="__xHBcu2SEeWnDaII1mfokg __ryck-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xHBcu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xHBce2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xHBdO2SEeWnDaII1mfokg" name="" memberEnd="__xHBde2SEeWnDaII1mfokg __rzDoe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xHBde2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xHBdO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xHoge2SEeWnDaII1mfokg" name="" memberEnd="__xHogu2SEeWnDaII1mfokg __rzqse2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xHogu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xHoge2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xIPke2SEeWnDaII1mfokg" name="" memberEnd="__xIPku2SEeWnDaII1mfokg __rzqsu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xIPku2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xIPke2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xI2oe2SEeWnDaII1mfokg" name="" memberEnd="__xI2ou2SEeWnDaII1mfokg __r0Rwe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xI2ou2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xI2oe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xJdse2SEeWnDaII1mfokg" name="" memberEnd="__xJdsu2SEeWnDaII1mfokg __r0Rw-2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xJdsu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xJdse2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xKEwe2SEeWnDaII1mfokg" name="" memberEnd="__xKEwu2SEeWnDaII1mfokg __r040e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xKEwu2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xKEwe2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xKr0e2SEeWnDaII1mfokg" name="" memberEnd="__xKr0u2SEeWnDaII1mfokg __r1f4e2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xKr0u2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xKr0e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xLS4e2SEeWnDaII1mfokg" name="" memberEnd="__xLS4u2SEeWnDaII1mfokg __r2G8u2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xLS4u2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xLS4e2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xMhAO2SEeWnDaII1mfokg" name="" memberEnd="__xMhAe2SEeWnDaII1mfokg __r2uAe2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xMhAe2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xMhAO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xNIEO2SEeWnDaII1mfokg" name="" memberEnd="__xNIEe2SEeWnDaII1mfokg __r3VEO2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xNIEe2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xNIEO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xNvIO2SEeWnDaII1mfokg" name="" memberEnd="__xNvIe2SEeWnDaII1mfokg __r3VEu2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xNvIe2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xNvIO2SEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="__xNvI-2SEeWnDaII1mfokg" name="" memberEnd="__xNvJO2SEeWnDaII1mfokg __r38Ie2SEeWnDaII1mfokg">
                    <ownedEnd xmi:id="__xNvJO2SEeWnDaII1mfokg" name="" type="__IT8EO2SEeWnDaII1mfokg" association="__xNvI-2SEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_-1oQoO2SEeWnDaII1mfokg" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_-1oQoe2SEeWnDaII1mfokg" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="__fyn8O2SEeWnDaII1mfokg" name="ArrayList"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_-29tYO2SEeWnDaII1mfokg" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="__hB-Ee2SEeWnDaII1mfokg" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__hDzQe2SEeWnDaII1mfokg" name="Logger"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__hsFYe2SEeWnDaII1mfokg" name="FileHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__hssce2SEeWnDaII1mfokg" name="Handler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__htTge2SEeWnDaII1mfokg" name="SimpleFormatter"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-5Vr8O2SEeWnDaII1mfokg" name="Map">
          <packagedElement xmi:type="uml:Interface" xmi:id="__i6NYe2SEeWnDaII1mfokg" name="Entry"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-57h0O2SEeWnDaII1mfokg" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="__jXgYO2SEeWnDaII1mfokg" name="CountDownLatch"/>
          <packagedElement xmi:type="uml:Enumeration" xmi:id="__jYHce2SEeWnDaII1mfokg" name="TimeUnit"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-7xU4e2SEeWnDaII1mfokg" name="regex">
          <packagedElement xmi:type="uml:Class" xmi:id="__ksWEu2SEeWnDaII1mfokg" name="Matcher"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__ks9Ie2SEeWnDaII1mfokg" name="Pattern"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="__f25YO2SEeWnDaII1mfokg" name="HashMap"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__gLCcO2SEeWnDaII1mfokg" name="List"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__h45su2SEeWnDaII1mfokg" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iVloO2SEeWnDaII1mfokg" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__i-e0O2SEeWnDaII1mfokg" name="Arrays"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__j9WQO2SEeWnDaII1mfokg" name="Random"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__koEoO2SEeWnDaII1mfokg" name="Scanner"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ksWEO2SEeWnDaII1mfokg" name="Vector"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-1r7Ae2SEeWnDaII1mfokg" name="lang">
        <packagedElement xmi:type="uml:DataType" xmi:id="__f4HgO2SEeWnDaII1mfokg" name="String"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_-7xU4O2SEeWnDaII1mfokg" name="ProcessBuilder">
          <packagedElement xmi:type="uml:Class" xmi:id="__krvAO2SEeWnDaII1mfokg" name="Redirect"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="__h1PUe2SEeWnDaII1mfokg" name="Object"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__ldLEO2SEeWnDaII1mfokg" name="Cloneable"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__lfAQu2SEeWnDaII1mfokg" name="CloneNotSupportedException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__l2Moe2SEeWnDaII1mfokg" name="StringBuffer"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__mnBoO2SEeWnDaII1mfokg" name="Exception"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-2z8YO2SEeWnDaII1mfokg" name="text">
        <packagedElement xmi:type="uml:Class" xmi:id="__gyGcO2SEeWnDaII1mfokg" name="DecimalFormat"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__gzUkO2SEeWnDaII1mfokg" name="NumberFormat"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-29GUO2SEeWnDaII1mfokg" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="__hBXAO2SEeWnDaII1mfokg" name="File"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hcNwO2SEeWnDaII1mfokg" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__heqAO2SEeWnDaII1mfokg" name="BufferedWriter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hkJkO2SEeWnDaII1mfokg" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hml0u2SEeWnDaII1mfokg" name="BufferedOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hnM4e2SEeWnDaII1mfokg" name="BufferedReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hnz8e2SEeWnDaII1mfokg" name="FileOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hobAe2SEeWnDaII1mfokg" name="InputStreamReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hpCEe2SEeWnDaII1mfokg" name="OutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hqQMO2SEeWnDaII1mfokg" name="PrintStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hq3QO2SEeWnDaII1mfokg" name="PrintWriter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iHjMO2SEeWnDaII1mfokg" name="FileWriter"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__ic6Ye2SEeWnDaII1mfokg" name="FileFilter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kfhwO2SEeWnDaII1mfokg" name="ByteArrayInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kqg4O2SEeWnDaII1mfokg" name="FileNotFoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kuyUO2SEeWnDaII1mfokg" name="FileInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_OcB9wO2TEeWnDaII1mfokg" name="FileReader"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-3KhsO2SEeWnDaII1mfokg" name="awt">
        <packagedElement xmi:type="uml:Class" xmi:id="__hl-wO2SEeWnDaII1mfokg" name="Container"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_-3Khse2SEeWnDaII1mfokg" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="__h9yMO2SEeWnDaII1mfokg" name="MouseEvent"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__h_nYu2SEeWnDaII1mfokg" name="ActionEvent"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__iA1gO2SEeWnDaII1mfokg" name="KeyEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__icTUO2SEeWnDaII1mfokg" name="ActionListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__jjtoO2SEeWnDaII1mfokg" name="KeyAdapter"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__mCZ4e2SEeWnDaII1mfokg" name="WindowAdapter"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__mDoAO2SEeWnDaII1mfokg" name="WindowEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__mJHkO2SEeWnDaII1mfokg" name="MouseListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="__hml0O2SEeWnDaII1mfokg" name="Dimension"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iUXge2SEeWnDaII1mfokg" name="Rectangle"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iYB4O2SEeWnDaII1mfokg" name="Graphics"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ijoEO2SEeWnDaII1mfokg" name="BorderLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ikPIe2SEeWnDaII1mfokg" name="GridBagConstraints"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ik2Me2SEeWnDaII1mfokg" name="GridBagLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ildQe2SEeWnDaII1mfokg" name="Insets"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jpNMO2SEeWnDaII1mfokg" name="Component"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kVwwO2SEeWnDaII1mfokg" name="GridLayout"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-3LIwO2SEeWnDaII1mfokg" name="net">
        <packagedElement xmi:type="uml:Class" xmi:id="__hq3Qu2SEeWnDaII1mfokg" name="ServerSocket"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hreUe2SEeWnDaII1mfokg" name="Socket"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-65LIO2SEeWnDaII1mfokg" name="nio">
        <packagedElement xmi:type="uml:Package" xmi:id="_-65yMO2SEeWnDaII1mfokg" name="file">
          <packagedElement xmi:type="uml:Class" xmi:id="__kBnsO2SEeWnDaII1mfokg" name="FileSystems"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__kBnsu2SEeWnDaII1mfokg" name="Path"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-7fBAO2SEeWnDaII1mfokg" name="charset">
          <packagedElement xmi:type="uml:Class" xmi:id="__kbQUO2SEeWnDaII1mfokg" name="Charset"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__kgI0e2SEeWnDaII1mfokg" name="StandardCharsets"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_-2DHYO2SEeWnDaII1mfokg" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_-2DHYe2SEeWnDaII1mfokg" name="biojava">
        <packagedElement xmi:type="uml:Package" xmi:id="_-2DHYu2SEeWnDaII1mfokg" name="bio">
          <packagedElement xmi:type="uml:Package" xmi:id="_-2DHY-2SEeWnDaII1mfokg" name="structure">
            <packagedElement xmi:type="uml:Interface" xmi:id="__gGJ8O2SEeWnDaII1mfokg" name="Group"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_-3FCIO2SEeWnDaII1mfokg" name="io">
              <packagedElement xmi:type="uml:Class" xmi:id="__hc00e2SEeWnDaII1mfokg" name="MMCIFFileReader"/>
              <packagedElement xmi:type="uml:Class" xmi:id="__hdb4e2SEeWnDaII1mfokg" name="PDBFileReader"/>
              <packagedElement xmi:type="uml:Class" xmi:id="__khW8e2SEeWnDaII1mfokg" name="PDBFileParser"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_-4diMO2SEeWnDaII1mfokg" name="align">
              <packagedElement xmi:type="uml:Package" xmi:id="_-4diMe2SEeWnDaII1mfokg" name="gui">
                <packagedElement xmi:type="uml:Class" xmi:id="__mZmQO2SEeWnDaII1mfokg" name="JPrintPanel"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="__gGxAe2SEeWnDaII1mfokg" name="HetatomImpl"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="__gH_IO2SEeWnDaII1mfokg" name="Chain"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="__gLpge2SEeWnDaII1mfokg" name="Structure"/>
            <packagedElement xmi:type="uml:Class" xmi:id="__hYjYO2SEeWnDaII1mfokg" name="StructureException"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="__kgv4e2SEeWnDaII1mfokg" name="Atom"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-3Cl4O2SEeWnDaII1mfokg" name="jmol">
        <packagedElement xmi:type="uml:Package" xmi:id="_-3Cl4e2SEeWnDaII1mfokg" name="api">
          <packagedElement xmi:type="uml:Class" xmi:id="__hZKce2SEeWnDaII1mfokg" name="JmolViewer"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__hhtUO2SEeWnDaII1mfokg" name="JmolSelectionListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__iWMse2SEeWnDaII1mfokg" name="JmolAdapter"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__iWzwe2SEeWnDaII1mfokg" name="JmolStatusListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-3IsgO2SEeWnDaII1mfokg" name="java">
          <packagedElement xmi:type="uml:Class" xmi:id="__hi7c-2SEeWnDaII1mfokg" name="BS"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-313IO2SEeWnDaII1mfokg" name="c">
          <packagedElement xmi:type="uml:Enumeration" xmi:id="__hzaIO2SEeWnDaII1mfokg" name="CBK"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4LOUO2SEeWnDaII1mfokg" name="viewer">
          <packagedElement xmi:type="uml:Class" xmi:id="__iIKQe2SEeWnDaII1mfokg" name="Viewer"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4diMu2SEeWnDaII1mfokg" name="adapter">
          <packagedElement xmi:type="uml:Package" xmi:id="_-4diM-2SEeWnDaII1mfokg" name="smarter">
            <packagedElement xmi:type="uml:Class" xmi:id="__iRUMO2SEeWnDaII1mfokg" name="SmarterJmolAdapter"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4eJQO2SEeWnDaII1mfokg" name="modelkit">
          <packagedElement xmi:type="uml:Class" xmi:id="__iSiUO2SEeWnDaII1mfokg" name="ModelKitPopup"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__iSiUu2SEeWnDaII1mfokg" name="ModelKitPopupResourceBundle"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4eJQe2SEeWnDaII1mfokg" name="popup">
          <packagedElement xmi:type="uml:Class" xmi:id="__iTJYe2SEeWnDaII1mfokg" name="PopupResource"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4eJQu2SEeWnDaII1mfokg" name="util">
          <packagedElement xmi:type="uml:Class" xmi:id="__iTwce2SEeWnDaII1mfokg" name="Logger"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_OZN6Ue2TEeWnDaII1mfokg" name="minimize">
          <packagedElement xmi:type="uml:Class" xmi:id="_OcDL4e2TEeWnDaII1mfokg" name="MinAtom"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_OcEaAe2TEeWnDaII1mfokg" name="Util"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-5Z9YO2SEeWnDaII1mfokg" name="jsoup">
        <packagedElement xmi:type="uml:Class" xmi:id="__i_F4e2SEeWnDaII1mfokg" name="Jsoup"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_-5Z9Ye2SEeWnDaII1mfokg" name="nodes">
          <packagedElement xmi:type="uml:Class" xmi:id="__i_s8e2SEeWnDaII1mfokg" name="Document"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__jAUAe2SEeWnDaII1mfokg" name="Element"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-5Z9Yu2SEeWnDaII1mfokg" name="select">
          <packagedElement xmi:type="uml:Class" xmi:id="__jA7Ee2SEeWnDaII1mfokg" name="Elements"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-57h0e2SEeWnDaII1mfokg" name="kohsuke">
        <packagedElement xmi:type="uml:Package" xmi:id="_-57h0u2SEeWnDaII1mfokg" name="args4j">
          <packagedElement xmi:type="uml:Interface" xmi:id="__jYuge2SEeWnDaII1mfokg" name="Argument"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__jZVkO2SEeWnDaII1mfokg" name="CmdLineException"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__jZ8oO2SEeWnDaII1mfokg" name="CmdLineParser"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__jajsO2SEeWnDaII1mfokg" name="Option"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-7g2MO2SEeWnDaII1mfokg" name="junit">
        <packagedElement xmi:type="uml:Class" xmi:id="__kdFgO2SEeWnDaII1mfokg" name="Assert"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__keToO2SEeWnDaII1mfokg" name="Test"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_-7kgkO2SEeWnDaII1mfokg" name="biojava3">
        <packagedElement xmi:type="uml:Package" xmi:id="_-7kgke2SEeWnDaII1mfokg" name="core">
          <packagedElement xmi:type="uml:Package" xmi:id="_-7kgku2SEeWnDaII1mfokg" name="util">
            <packagedElement xmi:type="uml:Class" xmi:id="__kh-Ae2SEeWnDaII1mfokg" name="InputStreamProvider"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-7lHoO2SEeWnDaII1mfokg" name="structure">
          <packagedElement xmi:type="uml:Class" xmi:id="__kilEe2SEeWnDaII1mfokg" name="StructureIO"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_-29tYe2SEeWnDaII1mfokg" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_-29tYu2SEeWnDaII1mfokg" name="swing">
        <packagedElement xmi:type="uml:Class" xmi:id="__hClIe2SEeWnDaII1mfokg" name="JFrame"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_-4mFEO2SEeWnDaII1mfokg" name="filechooser">
          <packagedElement xmi:type="uml:Class" xmi:id="__ifWoO2SEeWnDaII1mfokg" name="FileNameExtensionFilter"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-6Pq4O2SEeWnDaII1mfokg" name="border">
          <packagedElement xmi:type="uml:Class" xmi:id="__jk7we2SEeWnDaII1mfokg" name="EmptyBorder"/>
          <packagedElement xmi:type="uml:Class" xmi:id="__jpNMu2SEeWnDaII1mfokg" name="EtchedBorder"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_-6QR8O2SEeWnDaII1mfokg" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="__jn_Ee2SEeWnDaII1mfokg" name="ChangeEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="__jomIO2SEeWnDaII1mfokg" name="ChangeListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="__hDMMe2SEeWnDaII1mfokg" name="JOptionPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ht6ke2SEeWnDaII1mfokg" name="Box"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__huhoe2SEeWnDaII1mfokg" name="JMenuBar"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__hvIse2SEeWnDaII1mfokg" name="JTextField"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iCqsO2SEeWnDaII1mfokg" name="ButtonGroup"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iDRwO2SEeWnDaII1mfokg" name="JButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__iDRwu2SEeWnDaII1mfokg" name="JComboBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__idhce2SEeWnDaII1mfokg" name="JFileChooser"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ieIge2SEeWnDaII1mfokg" name="JMenu"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__ievkO2SEeWnDaII1mfokg" name="JMenuItem"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__inSc-2SEeWnDaII1mfokg" name="JComponent"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jkUse2SEeWnDaII1mfokg" name="JPanel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jli0O2SEeWnDaII1mfokg" name="BoxLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jli0u2SEeWnDaII1mfokg" name="JCheckBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jmJ4e2SEeWnDaII1mfokg" name="JRadioButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jmw8e2SEeWnDaII1mfokg" name="JLabel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__jnYAe2SEeWnDaII1mfokg" name="JSlider"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kStcO2SEeWnDaII1mfokg" name="BorderFactory"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kT7kO2SEeWnDaII1mfokg" name="DefaultComboBoxModel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__kUioO2SEeWnDaII1mfokg" name="SpringLayout"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="__kVJsO2SEeWnDaII1mfokg" name="SwingConstants"/>
        <packagedElement xmi:type="uml:Class" xmi:id="__mg7Ae2SEeWnDaII1mfokg" name="JTextArea"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_-39L4O2SEeWnDaII1mfokg" name="javajs">
      <packagedElement xmi:type="uml:Package" xmi:id="_-39y8O2SEeWnDaII1mfokg" name="awt">
        <packagedElement xmi:type="uml:Class" xmi:id="__h6H0u2SEeWnDaII1mfokg" name="Dimension"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_OZN6UO2TEeWnDaII1mfokg" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_OcCk0e2TEeWnDaII1mfokg" name="T3d"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_8Vf2MO2SEeWnDaII1mfokg">
      <eAnnotations xmi:id="_8Vf2Me2SEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_8VgdQO2SEeWnDaII1mfokg" base_Package="_8ICB8O2SEeWnDaII1mfokg">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:Generics xmi:id="__AeOsO2SEeWnDaII1mfokg" genericsValue="Bond" base_Element="__AdnoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__Ah5EO2SEeWnDaII1mfokg" base_Element="__AhSAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__AjHMO2SEeWnDaII1mfokg" base_Element="__AigIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__AjuRO2SEeWnDaII1mfokg" base_Element="__AjuQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Ak8YO2SEeWnDaII1mfokg" base_Element="__AkVUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__AljcO2SEeWnDaII1mfokg" base_Element="__AkVUO2SEeWnDaII1mfokg">
    <annotations xmi:id="__Aljce2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="__A4eYO2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__A33UO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__A5FcO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__A4eYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__BDdgO2SEeWnDaII1mfokg" genericsValue="Molecule" base_Element="__BBBQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__BGg0u2SEeWnDaII1mfokg" base_Element="__BF5we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__BHu8O2SEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="__BHH4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__BJkIe2SEeWnDaII1mfokg" base_Element="__BIWAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__BRf8O2SEeWnDaII1mfokg" genericsValue="Chain" base_Element="__BQ44O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__BY0sO2SEeWnDaII1mfokg" base_Element="__BXmkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__BdtMO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__BdGIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__B6ZIe2SEeWnDaII1mfokg" base_Element="__B5yEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__B7AMe2SEeWnDaII1mfokg" dimensions="1" base_Element="__B5yE-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Cj5Y-2SEeWnDaII1mfokg" base_Element="__Cj5YO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Cluk-2SEeWnDaII1mfokg" base_Element="__ClukO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__C_XMe2SEeWnDaII1mfokg" base_Element="__C-wIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__DMLgO2SEeWnDaII1mfokg" genericsValue="int []" base_Element="__DLkc-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__D4IAe2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__D4IAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__EYeUO2SEeWnDaII1mfokg" base_Element="__EX3QO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__EfMAu2SEeWnDaII1mfokg" base_Element="__EfMAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__E8fAO2SEeWnDaII1mfokg" genericsValue="AbstractParticle, ArrayList&lt;Vector3D>" base_Element="__E738O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__FFB4u2SEeWnDaII1mfokg" base_Element="__FEa0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__FbnMO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__FbAIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__F79gO2SEeWnDaII1mfokg" base_Element="__F7WcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__GCEIO2SEeWnDaII1mfokg" base_Element="__GBdEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__GCrMu2SEeWnDaII1mfokg" base_Element="__GCrMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__GDSQe2SEeWnDaII1mfokg" base_Element="__GCrMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__GDSQu2SEeWnDaII1mfokg" base_Element="__GCrMO2SEeWnDaII1mfokg">
    <annotations xmi:id="__GDSQ-2SEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="__GD5UO2SEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__urYgu2SEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__GmE0O2SEeWnDaII1mfokg" base_Element="__GldwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__GmE0e2SEeWnDaII1mfokg" base_Element="__GldwO2SEeWnDaII1mfokg">
    <annotations xmi:id="__GmE0u2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="__GunsO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__GuAoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Gv10O2SEeWnDaII1mfokg" base_Element="__GvOwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__Gv10e2SEeWnDaII1mfokg" base_Element="__GvOwO2SEeWnDaII1mfokg">
    <annotations xmi:id="__Gv10u2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__G0uUO2SEeWnDaII1mfokg" base_Element="__G0HQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__G1VYO2SEeWnDaII1mfokg" base_Element="__G0HQO2SEeWnDaII1mfokg">
    <annotations xmi:id="__G1VYe2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__G94QO2SEeWnDaII1mfokg" base_Element="__G9RMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__G94Qe2SEeWnDaII1mfokg" base_Element="__G9RMO2SEeWnDaII1mfokg">
    <annotations xmi:id="__G94Qu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__HAUgO2SEeWnDaII1mfokg" base_Element="__G_tcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__HAUge2SEeWnDaII1mfokg" base_Element="__G_tcO2SEeWnDaII1mfokg">
    <annotations xmi:id="__HAUgu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__HDX0O2SEeWnDaII1mfokg" base_Element="__HCJsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__HD-4O2SEeWnDaII1mfokg" base_Element="__HCJsO2SEeWnDaII1mfokg">
    <annotations xmi:id="__HD-4e2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__HJecO2SEeWnDaII1mfokg" base_Element="__HI3YO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__HJece2SEeWnDaII1mfokg" base_Element="__HI3YO2SEeWnDaII1mfokg">
    <annotations xmi:id="__HJecu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__H2CAO2SEeWnDaII1mfokg" base_Element="__H1a8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__H2pEO2SEeWnDaII1mfokg" base_Element="__H1a8O2SEeWnDaII1mfokg">
    <annotations xmi:id="__H2pEe2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__H5FUe2SEeWnDaII1mfokg" base_Element="__H5FUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__H_zAO2SEeWnDaII1mfokg" base_Element="__H_L8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__H_zAe2SEeWnDaII1mfokg" base_Element="__H_L8O2SEeWnDaII1mfokg">
    <annotations xmi:id="__H_zAu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IAaEO2SEeWnDaII1mfokg" base_Element="__H_zA-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__IAaEe2SEeWnDaII1mfokg" base_Element="__H_zA-2SEeWnDaII1mfokg">
    <annotations xmi:id="__IAaEu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IBBIe2SEeWnDaII1mfokg" base_Element="__IAaE-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__IBBIu2SEeWnDaII1mfokg" base_Element="__IAaE-2SEeWnDaII1mfokg">
    <annotations xmi:id="__IBBI-2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IBoMO2SEeWnDaII1mfokg" base_Element="__IBBJO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__IBoMe2SEeWnDaII1mfokg" base_Element="__IBBJO2SEeWnDaII1mfokg">
    <annotations xmi:id="__IBoMu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ICPQO2SEeWnDaII1mfokg" base_Element="__IBoM-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__ICPQe2SEeWnDaII1mfokg" base_Element="__IBoM-2SEeWnDaII1mfokg">
    <annotations xmi:id="__ICPQu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IC2UO2SEeWnDaII1mfokg" base_Element="__ICPQ-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__IC2Ue2SEeWnDaII1mfokg" base_Element="__ICPQ-2SEeWnDaII1mfokg">
    <annotations xmi:id="__IC2Uu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IJkAO2SEeWnDaII1mfokg" base_Element="__II88O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IKLEO2SEeWnDaII1mfokg" base_Element="__IJkAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ILZMO2SEeWnDaII1mfokg" base_Element="__IKyIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__IdGAO2SEeWnDaII1mfokg" base_Element="__Ice8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IpTQO2SEeWnDaII1mfokg" base_Element="__IosMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__IpTQe2SEeWnDaII1mfokg" base_Element="__IosMO2SEeWnDaII1mfokg">
    <annotations xmi:id="__IpTQu2SEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="__IpTQ-2SEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__u2XoO2SEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
    <annotations xmi:id="__IpTRO2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="__IrvgO2SEeWnDaII1mfokg" base_Element="__IrIcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__IwA8-2SEeWnDaII1mfokg" base_Element="__IwA8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I5K4e2SEeWnDaII1mfokg" base_Element="__I5K4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I5x8O2SEeWnDaII1mfokg" base_Element="__I5K4O2SEeWnDaII1mfokg">
    <annotations xmi:id="__I5x8e2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I6ZAO2SEeWnDaII1mfokg" base_Element="__I5x8u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I6ZAe2SEeWnDaII1mfokg" base_Element="__I5x8u2SEeWnDaII1mfokg">
    <annotations xmi:id="__I6ZAu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I7AEO2SEeWnDaII1mfokg" base_Element="__I6ZA-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I7nIO2SEeWnDaII1mfokg" base_Element="__I6ZA-2SEeWnDaII1mfokg">
    <annotations xmi:id="__I7nIe2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I8OMO2SEeWnDaII1mfokg" base_Element="__I7nIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I81QO2SEeWnDaII1mfokg" base_Element="__I7nIu2SEeWnDaII1mfokg">
    <annotations xmi:id="__I81Qe2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I9cUO2SEeWnDaII1mfokg" base_Element="__I81Qu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I9cUe2SEeWnDaII1mfokg" base_Element="__I81Qu2SEeWnDaII1mfokg">
    <annotations xmi:id="__I9cUu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I-DYO2SEeWnDaII1mfokg" base_Element="__I9cU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I-DYe2SEeWnDaII1mfokg" base_Element="__I9cU-2SEeWnDaII1mfokg">
    <annotations xmi:id="__I-DYu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I-qcO2SEeWnDaII1mfokg" base_Element="__I-DY-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I-qce2SEeWnDaII1mfokg" base_Element="__I-DY-2SEeWnDaII1mfokg">
    <annotations xmi:id="__I-qcu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I_Rge2SEeWnDaII1mfokg" base_Element="__I_RgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__I_Rgu2SEeWnDaII1mfokg" base_Element="__I_RgO2SEeWnDaII1mfokg">
    <annotations xmi:id="__I_Rg-2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__I_4ke2SEeWnDaII1mfokg" base_Element="__I_4kO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JAfoO2SEeWnDaII1mfokg" base_Element="__I_4kO2SEeWnDaII1mfokg">
    <annotations xmi:id="__JAfoe2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JBGsO2SEeWnDaII1mfokg" base_Element="__JAfou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JBGse2SEeWnDaII1mfokg" base_Element="__JAfou2SEeWnDaII1mfokg">
    <annotations xmi:id="__JBGsu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JEKAO2SEeWnDaII1mfokg" base_Element="__JDi8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JJpke2SEeWnDaII1mfokg" base_Element="__JJpkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JKQoO2SEeWnDaII1mfokg" base_Element="__JJpkO2SEeWnDaII1mfokg">
    <annotations xmi:id="__JKQoe2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JPwMO2SEeWnDaII1mfokg" base_Element="__JPJIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JSMce2SEeWnDaII1mfokg" base_Element="__JSMcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JSzgO2SEeWnDaII1mfokg" base_Element="__JSMcO2SEeWnDaII1mfokg">
    <annotations xmi:id="__JSzge2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JSzg-2SEeWnDaII1mfokg" base_Element="__JSzgu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JSzhO2SEeWnDaII1mfokg" base_Element="__JSzgu2SEeWnDaII1mfokg">
    <annotations xmi:id="__JTakO2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JZhMe2SEeWnDaII1mfokg" base_Element="__JZhMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JaIQO2SEeWnDaII1mfokg" base_Element="__JZhMO2SEeWnDaII1mfokg">
    <annotations xmi:id="__JaIQe2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JavUO2SEeWnDaII1mfokg" base_Element="__JaIQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JavUe2SEeWnDaII1mfokg" base_Element="__JaIQu2SEeWnDaII1mfokg">
    <annotations xmi:id="__JavUu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JbWYO2SEeWnDaII1mfokg" base_Element="__JavU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__JbWYe2SEeWnDaII1mfokg" base_Element="__JavU-2SEeWnDaII1mfokg">
    <annotations xmi:id="__JbWYu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JckgO2SEeWnDaII1mfokg" base_Element="__Jb9cO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__Jckge2SEeWnDaII1mfokg" base_Element="__Jb9cO2SEeWnDaII1mfokg">
    <annotations xmi:id="__Jckgu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Jfn0O2SEeWnDaII1mfokg" base_Element="__JfAwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JiEEO2SEeWnDaII1mfokg" base_Element="__JhdAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Jp_4O2SEeWnDaII1mfokg" base_Element="__JpY0-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__Jp_4e2SEeWnDaII1mfokg" base_Element="__JpY0-2SEeWnDaII1mfokg">
    <annotations xmi:id="__Jp_4u2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__Jqm8e2SEeWnDaII1mfokg" base_Element="__Jqm8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__Jqm8u2SEeWnDaII1mfokg" base_Element="__Jqm8O2SEeWnDaII1mfokg">
    <annotations xmi:id="__JrOAO2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__JrOAu2SEeWnDaII1mfokg" base_Element="__JrOAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__Jr1EO2SEeWnDaII1mfokg" base_Element="__JrOAe2SEeWnDaII1mfokg">
    <annotations xmi:id="__Jr1Ee2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__J4pYO2SEeWnDaII1mfokg" base_Element="__J4CUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__J5QcO2SEeWnDaII1mfokg" base_Element="__J4CUO2SEeWnDaII1mfokg">
    <annotations xmi:id="__J5Qce2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KAlMO2SEeWnDaII1mfokg" base_Element="__J-I8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KBMQO2SEeWnDaII1mfokg" base_Element="__J-I8O2SEeWnDaII1mfokg">
    <annotations xmi:id="__KBMQe2SEeWnDaII1mfokg" name="BeforeClass"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KBzUO2SEeWnDaII1mfokg" base_Element="__KBMQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KBzUe2SEeWnDaII1mfokg" base_Element="__KBMQu2SEeWnDaII1mfokg">
    <annotations xmi:id="__KBzUu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KCaYO2SEeWnDaII1mfokg" base_Element="__KBzU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KCaYe2SEeWnDaII1mfokg" base_Element="__KBzU-2SEeWnDaII1mfokg">
    <annotations xmi:id="__KCaYu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KDBcO2SEeWnDaII1mfokg" base_Element="__KCaY-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KDBce2SEeWnDaII1mfokg" base_Element="__KCaY-2SEeWnDaII1mfokg">
    <annotations xmi:id="__KDBcu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KDogO2SEeWnDaII1mfokg" base_Element="__KDBc-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KDoge2SEeWnDaII1mfokg" base_Element="__KDBc-2SEeWnDaII1mfokg">
    <annotations xmi:id="__KDogu2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__KEPkO2SEeWnDaII1mfokg" base_Element="__KDog-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__KEPke2SEeWnDaII1mfokg" base_Element="__KDog-2SEeWnDaII1mfokg">
    <annotations xmi:id="__KEPku2SEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="__f1EMO2SEeWnDaII1mfokg" base_Element="__fyn8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__f3gcO2SEeWnDaII1mfokg" base_Element="__f25YO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__f4ukO2SEeWnDaII1mfokg" base_Element="__f4HgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gGxAO2SEeWnDaII1mfokg" base_Element="__gGJ8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gGxAu2SEeWnDaII1mfokg" base_Element="__gGxAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gH_Ie2SEeWnDaII1mfokg" base_Element="__gH_IO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gLpgO2SEeWnDaII1mfokg" base_Element="__gLCcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gMQkO2SEeWnDaII1mfokg" base_Element="__gLpge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__gX2wO2SEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Chain" base_Element="__gRJEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gytgO2SEeWnDaII1mfokg" base_Element="__gyGcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__gzUke2SEeWnDaII1mfokg" base_Element="__gzUkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hB-EO2SEeWnDaII1mfokg" base_Element="__hBXAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hClIO2SEeWnDaII1mfokg" base_Element="__hB-Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hDMMO2SEeWnDaII1mfokg" base_Element="__hClIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hDzQO2SEeWnDaII1mfokg" base_Element="__hDMMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hEaUO2SEeWnDaII1mfokg" base_Element="__hDzQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hZKcO2SEeWnDaII1mfokg" base_Element="__hYjYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hZxgO2SEeWnDaII1mfokg" base_Element="__hZKce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hc00O2SEeWnDaII1mfokg" base_Element="__hcNwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hdb4O2SEeWnDaII1mfokg" base_Element="__hc00e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__heC8O2SEeWnDaII1mfokg" base_Element="__hdb4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hfREO2SEeWnDaII1mfokg" base_Element="__heqAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hiUYO2SEeWnDaII1mfokg" base_Element="__hhtUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hjigO2SEeWnDaII1mfokg" base_Element="__hi7c-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hkwoO2SEeWnDaII1mfokg" base_Element="__hkJkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hl-we2SEeWnDaII1mfokg" base_Element="__hl-wO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hml0e2SEeWnDaII1mfokg" base_Element="__hml0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hnM4O2SEeWnDaII1mfokg" base_Element="__hml0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hnz8O2SEeWnDaII1mfokg" base_Element="__hnM4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hobAO2SEeWnDaII1mfokg" base_Element="__hnz8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hpCEO2SEeWnDaII1mfokg" base_Element="__hobAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hppIO2SEeWnDaII1mfokg" base_Element="__hpCEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hqQMe2SEeWnDaII1mfokg" base_Element="__hqQMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hq3Qe2SEeWnDaII1mfokg" base_Element="__hq3QO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hreUO2SEeWnDaII1mfokg" base_Element="__hq3Qu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hsFYO2SEeWnDaII1mfokg" base_Element="__hreUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hsscO2SEeWnDaII1mfokg" base_Element="__hsFYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__htTgO2SEeWnDaII1mfokg" base_Element="__hssce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ht6kO2SEeWnDaII1mfokg" base_Element="__htTge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__huhoO2SEeWnDaII1mfokg" base_Element="__ht6ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hvIsO2SEeWnDaII1mfokg" base_Element="__huhoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__hvvwO2SEeWnDaII1mfokg" base_Element="__hvIse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__h0BMO2SEeWnDaII1mfokg" base_Element="__hzaIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__h12YO2SEeWnDaII1mfokg" base_Element="__h1PUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__h3Egu2SEeWnDaII1mfokg" dimensions="2" base_Element="__h2dce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__h3rl-2SEeWnDaII1mfokg" dimensions="3" base_Element="__h3rkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__h5gwO2SEeWnDaII1mfokg" base_Element="__h45su2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__h6u4O2SEeWnDaII1mfokg" base_Element="__h6H0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__h-ZQO2SEeWnDaII1mfokg" base_Element="__h9yMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iAOcO2SEeWnDaII1mfokg" base_Element="__h_nYu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iA1ge2SEeWnDaII1mfokg" base_Element="__iA1gO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iCqse2SEeWnDaII1mfokg" base_Element="__iCqsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iDRwe2SEeWnDaII1mfokg" base_Element="__iDRwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iD40O2SEeWnDaII1mfokg" base_Element="__iDRwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iIKQO2SEeWnDaII1mfokg" base_Element="__iHjMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iIxUO2SEeWnDaII1mfokg" base_Element="__iIKQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iR7QO2SEeWnDaII1mfokg" base_Element="__iRUMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iSiUe2SEeWnDaII1mfokg" base_Element="__iSiUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iTJYO2SEeWnDaII1mfokg" base_Element="__iSiUu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iTwcO2SEeWnDaII1mfokg" base_Element="__iTJYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iUXgO2SEeWnDaII1mfokg" base_Element="__iTwce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iU-kO2SEeWnDaII1mfokg" base_Element="__iUXge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iWMsO2SEeWnDaII1mfokg" base_Element="__iVloO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iWzwO2SEeWnDaII1mfokg" base_Element="__iWMse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iXa0O2SEeWnDaII1mfokg" base_Element="__iWzwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__iYo8O2SEeWnDaII1mfokg" base_Element="__iYB4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ic6YO2SEeWnDaII1mfokg" base_Element="__icTUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__idhcO2SEeWnDaII1mfokg" base_Element="__ic6Ye2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ieIgO2SEeWnDaII1mfokg" base_Element="__idhce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ieIgu2SEeWnDaII1mfokg" base_Element="__ieIge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ievke2SEeWnDaII1mfokg" base_Element="__ievkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ifWoe2SEeWnDaII1mfokg" base_Element="__ifWoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ikPIO2SEeWnDaII1mfokg" base_Element="__ijoEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ik2MO2SEeWnDaII1mfokg" base_Element="__ikPIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ildQO2SEeWnDaII1mfokg" base_Element="__ik2Me2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__imEUO2SEeWnDaII1mfokg" base_Element="__ildQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__in5gO2SEeWnDaII1mfokg" base_Element="__inSc-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__i60cO2SEeWnDaII1mfokg" base_Element="__i6NYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__i_F4O2SEeWnDaII1mfokg" base_Element="__i-e0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__i_s8O2SEeWnDaII1mfokg" base_Element="__i_F4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jAUAO2SEeWnDaII1mfokg" base_Element="__i_s8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jA7EO2SEeWnDaII1mfokg" base_Element="__jAUAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jBiIO2SEeWnDaII1mfokg" base_Element="__jA7Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jCJMO2SEeWnDaII1mfokg" base_Element="__jBiIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jCwQO2SEeWnDaII1mfokg" base_Element="__jCJMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__jO9gO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__jOWcu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jYHcO2SEeWnDaII1mfokg" base_Element="__jXgYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jYugO2SEeWnDaII1mfokg" base_Element="__jYHce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jYugu2SEeWnDaII1mfokg" base_Element="__jYuge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jZVke2SEeWnDaII1mfokg" base_Element="__jZVkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jZ8oe2SEeWnDaII1mfokg" base_Element="__jZ8oO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jbKwO2SEeWnDaII1mfokg" base_Element="__jajsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jkUsO2SEeWnDaII1mfokg" base_Element="__jjtoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jk7wO2SEeWnDaII1mfokg" base_Element="__jkUse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jk7wu2SEeWnDaII1mfokg" base_Element="__jk7we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jli0e2SEeWnDaII1mfokg" base_Element="__jli0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jmJ4O2SEeWnDaII1mfokg" base_Element="__jli0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jmw8O2SEeWnDaII1mfokg" base_Element="__jmJ4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jnYAO2SEeWnDaII1mfokg" base_Element="__jmw8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jn_EO2SEeWnDaII1mfokg" base_Element="__jnYAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jn_Eu2SEeWnDaII1mfokg" base_Element="__jn_Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jomIe2SEeWnDaII1mfokg" base_Element="__jomIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jpNMe2SEeWnDaII1mfokg" base_Element="__jpNMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__jp0QO2SEeWnDaII1mfokg" base_Element="__jpNMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__j99UO2SEeWnDaII1mfokg" base_Element="__j9WQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kBnse2SEeWnDaII1mfokg" base_Element="__kBnsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kED8O2SEeWnDaII1mfokg" base_Element="__kBnsu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kTUgO2SEeWnDaII1mfokg" base_Element="__kStcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kT7ke2SEeWnDaII1mfokg" base_Element="__kT7kO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kUioe2SEeWnDaII1mfokg" base_Element="__kUioO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kVJse2SEeWnDaII1mfokg" base_Element="__kVJsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kWX0O2SEeWnDaII1mfokg" base_Element="__kVwwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kb3YO2SEeWnDaII1mfokg" base_Element="__kbQUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kdskO2SEeWnDaII1mfokg" base_Element="__kdFgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__keToe2SEeWnDaII1mfokg" base_Element="__keToO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kgI0O2SEeWnDaII1mfokg" base_Element="__kfhwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kgv4O2SEeWnDaII1mfokg" base_Element="__kgI0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__khW8O2SEeWnDaII1mfokg" base_Element="__kgv4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kh-AO2SEeWnDaII1mfokg" base_Element="__khW8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kilEO2SEeWnDaII1mfokg" base_Element="__kh-Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kjMIO2SEeWnDaII1mfokg" base_Element="__kilEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kjzMO2SEeWnDaII1mfokg" base_Element="__kjMIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__klBUO2SEeWnDaII1mfokg" genericsValue="AminoAcid" base_Element="__kkaQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__kloYO2SEeWnDaII1mfokg" base_Element="__kkaQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__kloYe2SEeWnDaII1mfokg" base_Element="__kkaQO2SEeWnDaII1mfokg">
    <annotations xmi:id="__kloYu2SEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="__kmPcO2SEeWnDaII1mfokg" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__u2Xoe2SEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="__korsO2SEeWnDaII1mfokg" base_Element="__koEoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__krH8O2SEeWnDaII1mfokg" base_Element="__kqg4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__krvAe2SEeWnDaII1mfokg" base_Element="__krvAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ksWEe2SEeWnDaII1mfokg" base_Element="__ksWEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ks9IO2SEeWnDaII1mfokg" base_Element="__ksWEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ktkMO2SEeWnDaII1mfokg" base_Element="__ks9Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kvZYO2SEeWnDaII1mfokg" base_Element="__kuyUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kx1oO2SEeWnDaII1mfokg" base_Element="__kxOkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__kycsO2SEeWnDaII1mfokg" base_Element="__kx1oe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__lau0O2SEeWnDaII1mfokg" base_Element="__laHwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__lau0e2SEeWnDaII1mfokg" base_Element="__laHwO2SEeWnDaII1mfokg">
    <annotations xmi:id="__lau0u2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="__ldyIO2SEeWnDaII1mfokg" base_Element="__ldLEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__lfnUO2SEeWnDaII1mfokg" base_Element="__lfAQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__lj4wO2SEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="__ljRse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__lmVAO2SEeWnDaII1mfokg" genericsValue="Molecule" base_Element="__llt8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__lm8EO2SEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Chain" base_Element="__lmVAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__loxQO2SEeWnDaII1mfokg" genericsValue="Bond" base_Element="__lnjIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__lqmcO2SEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="__lp_Ye2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ltpwO2SEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Atom" base_Element="__lsbou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__lu34O2SEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="__luQ0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__lwtEO2SEeWnDaII1mfokg" base_Element="__lwGAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__lwtEe2SEeWnDaII1mfokg" base_Element="__lwGAO2SEeWnDaII1mfokg">
    <annotations xmi:id="__lwtEu2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__lyiQ-2SEeWnDaII1mfokg" base_Element="__lyiQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__lzJUO2SEeWnDaII1mfokg" base_Element="__lyiQO2SEeWnDaII1mfokg">
    <annotations xmi:id="__lzJUe2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="__l2MoO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__l1lkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__l2zsO2SEeWnDaII1mfokg" base_Element="__l2Moe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__mDA8O2SEeWnDaII1mfokg" base_Element="__mCZ4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__mDoAe2SEeWnDaII1mfokg" base_Element="__mDoAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__mJuoO2SEeWnDaII1mfokg" base_Element="__mJHkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mS4kO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__mRqc-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mUGsO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__mTfou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mXKAO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__mWi8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mYYIO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__mXxEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__ma0YO2SEeWnDaII1mfokg" base_Element="__mZmQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__mfF0e2SEeWnDaII1mfokg" base_Element="__meewe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__mfs4O2SEeWnDaII1mfokg" base_Element="__meewe2SEeWnDaII1mfokg">
    <annotations xmi:id="__mfs4e2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="__mhiEO2SEeWnDaII1mfokg" base_Element="__mg7Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mj-UO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__mjXQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__mklYO2SEeWnDaII1mfokg" base_Element="__mj-Ue2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__mklYe2SEeWnDaII1mfokg" base_Element="__mj-Ue2SEeWnDaII1mfokg">
    <annotations xmi:id="__mlMcO2SEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="__mnosO2SEeWnDaII1mfokg" base_Element="__mnBoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mqE8O2SEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="__mpd4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mr6IO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__mrTEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mvkgO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__muWYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mxZsO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__mwLku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mxZse2SEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="__mwyoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__myn0O2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__myAwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mz18O2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__myAwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__mz18e2SEeWnDaII1mfokg" genericsValue="Integer" base_Element="__myAwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__m2SMO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__m1rIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__m25QO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__m1rIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__m7xwu2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__m7xwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nE7sO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nEUoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nHX8O2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nGw4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nJNIO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nH_Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nKbQO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nJ0Me2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nMQcO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nLpYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nOFoO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__nNeke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nQh4O2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nPTwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nRwAO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nQh4u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nS-IO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nRwAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nUzUO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nTlMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nWBcO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nVaYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nWogO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nWBcu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nX2oO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nXPke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nZEwO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nYdse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nZr0O2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nZEwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ncIEO2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__nbhAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ndWMO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__ncvIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nekUO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nd9Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nfLYO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nekUu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ngZgO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__nfyce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nhnoO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__ngZgu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ni1wO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__niOse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__njc0O2SEeWnDaII1mfokg" genericsValue="String" base_Element="__ni1wu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nnuQO2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__nmgIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__npjcO2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__noVUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nrYoO2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__nqxke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ntN0O2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__nr_se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nwRIO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__nvqEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__nytYO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__nxfQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__n2-0O2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__n1wse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__n4M8O2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__n2-0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__n8eYO2SEeWnDaII1mfokg" genericsValue="String, Object" base_Element="__n73Uu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__oAv0O2SEeWnDaII1mfokg" base_Element="__oAIwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oBW4O2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__oAIwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oDzIO2SEeWnDaII1mfokg" genericsValue="Chain" base_Element="__oClA-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oFBQO2SEeWnDaII1mfokg" genericsValue="Model" base_Element="__oDzIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oFoUO2SEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="__oFBQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oG2cO2SEeWnDaII1mfokg" genericsValue="IUPRED_Output" base_Element="__oGPYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oLH4O2SEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="__oJ5wO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oMWAO2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__oLu8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__oWuEO2SEeWnDaII1mfokg" base_Element="__oR1kO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oXVIO2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__oR1ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__oYjRO2SEeWnDaII1mfokg" base_Element="__oYjQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__oZKUO2SEeWnDaII1mfokg" base_Element="__oYjQO2SEeWnDaII1mfokg">
    <annotations xmi:id="__oZKUe2SEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="__oZxYO2SEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__u2-se2SEeWnDaII1mfokg" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="__odbwO2SEeWnDaII1mfokg" base_Element="__oc0sO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__oeC0O2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__oc0se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__oyL4e2SEeWnDaII1mfokg" base_Element="__oxk0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__oyy8O2SEeWnDaII1mfokg" base_Element="__oyL4u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o0BEO2SEeWnDaII1mfokg" base_Element="__ozaAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o0oIO2SEeWnDaII1mfokg" base_Element="__o0BEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o1PMO2SEeWnDaII1mfokg" base_Element="__o0oIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o12QO2SEeWnDaII1mfokg" base_Element="__o1PMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o3EYO2SEeWnDaII1mfokg" base_Element="__o2dUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o3rcO2SEeWnDaII1mfokg" base_Element="__o3EYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o45kO2SEeWnDaII1mfokg" base_Element="__o4SgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o5goe2SEeWnDaII1mfokg" base_Element="__o5goO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o6uwO2SEeWnDaII1mfokg" base_Element="__o6HsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o6uwu2SEeWnDaII1mfokg" base_Element="__o6uwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o7V0e2SEeWnDaII1mfokg" base_Element="__o7V0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o784O2SEeWnDaII1mfokg" base_Element="__o7V0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o784u2SEeWnDaII1mfokg" base_Element="__o784e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o-ZIO2SEeWnDaII1mfokg" base_Element="__o9yEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__o_nQO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__o_AMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__o_nQe2SEeWnDaII1mfokg" base_Element="__o_AMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pA1YO2SEeWnDaII1mfokg" base_Element="__pAOUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pA1Yu2SEeWnDaII1mfokg" base_Element="__pA1Ye2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pBcce2SEeWnDaII1mfokg" base_Element="__pBccO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pD4sO2SEeWnDaII1mfokg" base_Element="__pBccu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pEfwO2SEeWnDaII1mfokg" base_Element="__pD4se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pEfwu2SEeWnDaII1mfokg" base_Element="__pEfwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pFG0e2SEeWnDaII1mfokg" base_Element="__pFG0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pFt4e2SEeWnDaII1mfokg" base_Element="__pFt4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pGU8O2SEeWnDaII1mfokg" base_Element="__pFt4u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pG8AO2SEeWnDaII1mfokg" base_Element="__pGU8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pG8A-2SEeWnDaII1mfokg" base_Element="__pG8Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pHjEO2SEeWnDaII1mfokg" base_Element="__pG8Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pIKIO2SEeWnDaII1mfokg" base_Element="__pHjEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pIKIe2SEeWnDaII1mfokg" base_Element="__pHjEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pIxMe2SEeWnDaII1mfokg" base_Element="__pIxMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pJYQe2SEeWnDaII1mfokg" genericsValue="Bond" base_Element="__pJYQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pJ_UO2SEeWnDaII1mfokg" base_Element="__pJYQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pJ_Uu2SEeWnDaII1mfokg" base_Element="__pJ_Ue2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__pLNce2SEeWnDaII1mfokg" base_Property="__pLNcO2SEeWnDaII1mfokg" siblings="__ubg4e2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pL0gO2SEeWnDaII1mfokg" base_Element="__pLNcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pMbkO2SEeWnDaII1mfokg" base_Element="__pL0ge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pNCoO2SEeWnDaII1mfokg" base_Element="__pMbke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pNpsO2SEeWnDaII1mfokg" base_Element="__pNCoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pOQwO2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__pNpse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pOQwe2SEeWnDaII1mfokg" base_Element="__pNpse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pPe4O2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__pOQwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pPe4e2SEeWnDaII1mfokg" base_Element="__pOQwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pQF8e2SEeWnDaII1mfokg" base_Element="__pQF8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pRUEO2SEeWnDaII1mfokg" base_Element="__pQtAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pR7IO2SEeWnDaII1mfokg" base_Element="__pRUEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pSiMO2SEeWnDaII1mfokg" genericsValue="Molecule" base_Element="__pR7Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pSiMe2SEeWnDaII1mfokg" base_Element="__pR7Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pTJQO2SEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="__pSiMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pTJQe2SEeWnDaII1mfokg" base_Element="__pSiMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pTwUu2SEeWnDaII1mfokg" base_Element="__pTwUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pUXYO2SEeWnDaII1mfokg" base_Element="__pTwUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pU-cO2SEeWnDaII1mfokg" base_Element="__pUXYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pU-cu2SEeWnDaII1mfokg" base_Element="__pU-ce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pVlge2SEeWnDaII1mfokg" base_Element="__pVlgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pWMkO2SEeWnDaII1mfokg" base_Element="__pVlgu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pWMku2SEeWnDaII1mfokg" base_Element="__pWMke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pWzoe2SEeWnDaII1mfokg" genericsValue="Chain" base_Element="__pWzoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pXasO2SEeWnDaII1mfokg" base_Element="__pWzoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pYBwO2SEeWnDaII1mfokg" base_Element="__pXase2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pYo0O2SEeWnDaII1mfokg" base_Element="__pYBwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pZP4O2SEeWnDaII1mfokg" base_Element="__pYo0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pZP4u2SEeWnDaII1mfokg" base_Element="__pZP4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pZ28e2SEeWnDaII1mfokg" base_Element="__pZ28O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__paeAO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__pZ28u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pbFEO2SEeWnDaII1mfokg" base_Element="__pZ28u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pbsIO2SEeWnDaII1mfokg" genericsValue="Integer" base_Element="__pbFEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pbsIe2SEeWnDaII1mfokg" base_Element="__pbFEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pcTMe2SEeWnDaII1mfokg" genericsValue="Vector3D" base_Element="__pcTMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pc6QO2SEeWnDaII1mfokg" base_Element="__pcTMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pdhUe2SEeWnDaII1mfokg" base_Element="__pc6Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pevce2SEeWnDaII1mfokg" base_Element="__peIYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pevc-2SEeWnDaII1mfokg" base_Element="__peIYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pf9kO2SEeWnDaII1mfokg" base_Element="__pfWgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pf9ku2SEeWnDaII1mfokg" base_Element="__pf9ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pgkoO2SEeWnDaII1mfokg" base_Element="__pf9k-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__phLse2SEeWnDaII1mfokg" base_Element="__phLsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__piZ0O2SEeWnDaII1mfokg" base_Element="__phywO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pjA4O2SEeWnDaII1mfokg" base_Element="__piZ0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pjn8O2SEeWnDaII1mfokg" base_Element="__pjA4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pjn8u2SEeWnDaII1mfokg" base_Element="__pjn8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pk2Eu2SEeWnDaII1mfokg" base_Element="__pk2EO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pldIe2SEeWnDaII1mfokg" base_Element="__pk2E-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pmEMO2SEeWnDaII1mfokg" base_Element="__pldIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pnSUO2SEeWnDaII1mfokg" base_Element="__pmEMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pq8sO2SEeWnDaII1mfokg" base_Element="__pqVou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__prjwO2SEeWnDaII1mfokg" base_Element="__pq8se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__prjwu2SEeWnDaII1mfokg" base_Element="__prjwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__psK0e2SEeWnDaII1mfokg" base_Element="__psK0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__psx4O2SEeWnDaII1mfokg" base_Element="__psK0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ptY8O2SEeWnDaII1mfokg" base_Element="__psx4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ptY8u2SEeWnDaII1mfokg" base_Element="__ptY8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__puAAe2SEeWnDaII1mfokg" base_Element="__puAAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__punEe2SEeWnDaII1mfokg" base_Element="__puAAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pvOIO2SEeWnDaII1mfokg" base_Element="__punEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pv1MO2SEeWnDaII1mfokg" base_Element="__pvOIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pwcQe2SEeWnDaII1mfokg" base_Element="__pwcQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__pxDUe2SEeWnDaII1mfokg" dimensions="1" base_Element="__pwcQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pxDUu2SEeWnDaII1mfokg" base_Element="__pwcQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__pyRcO2SEeWnDaII1mfokg" genericsValue="int[]" base_Element="__pxqYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__pyRce2SEeWnDaII1mfokg" base_Element="__pxqYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__py4ge2SEeWnDaII1mfokg" base_Element="__pyRcu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__py4gu2SEeWnDaII1mfokg" base_Element="__pyRcu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p0Goe2SEeWnDaII1mfokg" base_Element="__p0GoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p0tsO2SEeWnDaII1mfokg" base_Element="__p0Gou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p170O2SEeWnDaII1mfokg" base_Element="__p1UwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__p3J8O2SEeWnDaII1mfokg" genericsValue="String" base_Element="__p2i4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p3J8e2SEeWnDaII1mfokg" base_Element="__p2i4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p3xAe2SEeWnDaII1mfokg" base_Element="__p3xAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p4_IO2SEeWnDaII1mfokg" base_Element="__p4YEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p5mMe2SEeWnDaII1mfokg" base_Element="__p5mMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p6NQO2SEeWnDaII1mfokg" base_Element="__p5mMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p6NQu2SEeWnDaII1mfokg" base_Element="__p6NQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p60Ue2SEeWnDaII1mfokg" base_Element="__p60UO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p7bYO2SEeWnDaII1mfokg" base_Element="__p60Uu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p8CcO2SEeWnDaII1mfokg" base_Element="__p7bYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p8Cc-2SEeWnDaII1mfokg" base_Element="__p8Cce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p8pge2SEeWnDaII1mfokg" base_Element="__p8pgO2SEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="__p9QkO2SEeWnDaII1mfokg" name="getViewer" method="__tZmKO2SEeWnDaII1mfokg">
      <ownedParameter xmi:id="__p9Qke2SEeWnDaII1mfokg" type="__hZKce2SEeWnDaII1mfokg" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="__p93oO2SEeWnDaII1mfokg" base_Element="__p9Qku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__p_FwO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__p-esO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__p_s0O2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__p_Fwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qAT4O2SEeWnDaII1mfokg" base_Element="__p_Fwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__qA68O2SEeWnDaII1mfokg" base_Element="__qAT4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qA68u2SEeWnDaII1mfokg" base_Element="__qAT4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qBiAe2SEeWnDaII1mfokg" base_Element="__qA68-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qDXMO2SEeWnDaII1mfokg" base_Element="__qCwIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qDXMu2SEeWnDaII1mfokg" base_Element="__qDXMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qD-Qe2SEeWnDaII1mfokg" base_Element="__qDXM-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qElUe2SEeWnDaII1mfokg" base_Element="__qD-Qu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qFMYO2SEeWnDaII1mfokg" base_Element="__qElUu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qFMYu2SEeWnDaII1mfokg" base_Element="__qFMYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qFzce2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__qFzcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qGagO2SEeWnDaII1mfokg" base_Element="__qFzcO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qGagu2SEeWnDaII1mfokg" base_Element="__qGage2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qHooO2SEeWnDaII1mfokg" base_Element="__qHBkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qI2wO2SEeWnDaII1mfokg" base_Element="__qIPsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qKr8e2SEeWnDaII1mfokg" base_Element="__qKr8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qLTAO2SEeWnDaII1mfokg" base_Element="__qKr8u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qLTAu2SEeWnDaII1mfokg" base_Element="__qLTAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qL6Ee2SEeWnDaII1mfokg" base_Element="__qL6EO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qL6E-2SEeWnDaII1mfokg" base_Element="__qL6Eu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qMhIe2SEeWnDaII1mfokg" base_Element="__qMhIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qNvQO2SEeWnDaII1mfokg" base_Element="__qMhIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qPkcO2SEeWnDaII1mfokg" base_Element="__qO9YO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qQLge2SEeWnDaII1mfokg" base_Element="__qQLgO2SEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="__qQLgu2SEeWnDaII1mfokg" name="getAtomicMass" method="__tg65-2SEeWnDaII1mfokg">
      <ownedParameter xmi:id="__qQykO2SEeWnDaII1mfokg" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qRZoO2SEeWnDaII1mfokg" base_Element="__qQyke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qSnwO2SEeWnDaII1mfokg" base_Element="__qSAsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qTO0O2SEeWnDaII1mfokg" base_Element="__qSnwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__qTO0-2SEeWnDaII1mfokg" base_Property="__qTO0e2SEeWnDaII1mfokg" siblings="__ukDw-2SEeWnDaII1mfokg __ukq0-2SEeWnDaII1mfokg __ulR4-2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qT14O2SEeWnDaII1mfokg" base_Element="__qTO0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qUc8u2SEeWnDaII1mfokg" base_Element="__qUc8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qVrEO2SEeWnDaII1mfokg" base_Element="__qVEAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qWSIO2SEeWnDaII1mfokg" base_Element="__qVrEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qWSIu2SEeWnDaII1mfokg" base_Element="__qWSIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qW5Me2SEeWnDaII1mfokg" base_Element="__qW5MO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qXgQe2SEeWnDaII1mfokg" base_Element="__qXgQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qYuYe2SEeWnDaII1mfokg" genericsValue="AbstractParticle, ArrayList&lt;Vector3D>" base_Element="__qYuYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qZVcO2SEeWnDaII1mfokg" base_Element="__qYuYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qZ8gO2SEeWnDaII1mfokg" base_Element="__qZVce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qZ8gu2SEeWnDaII1mfokg" base_Element="__qZ8ge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qajke2SEeWnDaII1mfokg" base_Element="__qajkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__qbKoO2SEeWnDaII1mfokg" base_Element="__qajku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qbKou2SEeWnDaII1mfokg" base_Element="__qajku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__qbxsO2SEeWnDaII1mfokg" base_Element="__qbKo-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qbxsu2SEeWnDaII1mfokg" base_Element="__qbKo-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__qcYwO2SEeWnDaII1mfokg" base_Element="__qbxs-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qcYwe2SEeWnDaII1mfokg" base_Element="__qbxs-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qc_0e2SEeWnDaII1mfokg" base_Element="__qc_0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qdm4u2SEeWnDaII1mfokg" base_Element="__qdm4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qeN8O2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__qdm4-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qfcEO2SEeWnDaII1mfokg" base_Element="__qe1AO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qgDIe2SEeWnDaII1mfokg" base_Element="__qfcEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__qgqMO2SEeWnDaII1mfokg" dimensions="1" base_Element="__qgDIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qgqMe2SEeWnDaII1mfokg" base_Element="__qgDIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qhRQO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__qgqMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qhRQe2SEeWnDaII1mfokg" base_Element="__qgqMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qh4Ue2SEeWnDaII1mfokg" base_Element="__qh4UO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qifYO2SEeWnDaII1mfokg" base_Element="__qh4Uu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qifYu2SEeWnDaII1mfokg" base_Element="__qifYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qkUkO2SEeWnDaII1mfokg" base_Element="__qjtgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qk7oe2SEeWnDaII1mfokg" base_Element="__qk7oO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qmJwO2SEeWnDaII1mfokg" base_Element="__qlisO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qmw0e2SEeWnDaII1mfokg" base_Element="__qmw0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qnX4u2SEeWnDaII1mfokg" base_Element="__qnX4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qomAe2SEeWnDaII1mfokg" base_Element="__qn-8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__qomAu2SEeWnDaII1mfokg" base_Element="__qn-8O2SEeWnDaII1mfokg">
    <annotations xmi:id="__qomA-2SEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="__qpNEO2SEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxcO2SEeWnDaII1mfokg" value="&quot;-l&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__qpNEe2SEeWnDaII1mfokg" name="aliases" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxce2SEeWnDaII1mfokg" value="&quot;-level&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__qpNEu2SEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxcu2SEeWnDaII1mfokg" value="&quot;Simulation Level&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qp0IO2SEeWnDaII1mfokg" base_Element="__qpNE-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qqbMO2SEeWnDaII1mfokg" base_Element="__qp0Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qqbM-2SEeWnDaII1mfokg" base_Element="__qqbMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qrCQe2SEeWnDaII1mfokg" base_Element="__qqbNO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qrCRO2SEeWnDaII1mfokg" base_Element="__qrCQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qrpUu2SEeWnDaII1mfokg" base_Element="__qrpUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qs3cO2SEeWnDaII1mfokg" genericsValue="String" base_Element="__qrpU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qtegO2SEeWnDaII1mfokg" base_Element="__qrpU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__qtege2SEeWnDaII1mfokg" base_Element="__qrpU-2SEeWnDaII1mfokg">
    <annotations xmi:id="__qtegu2SEeWnDaII1mfokg" name="Argument">
      <annotationParameters xmi:id="__qteg-2SEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxc-2SEeWnDaII1mfokg" value="&quot;inputs of the Engine&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__qtehO2SEeWnDaII1mfokg" name="metaVar" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxdO2SEeWnDaII1mfokg" value="&quot;INPUTS&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__quFke2SEeWnDaII1mfokg" base_Element="__qtehe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__quFku2SEeWnDaII1mfokg" base_Element="__qtehe2SEeWnDaII1mfokg">
    <annotations xmi:id="__quFk-2SEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="__quFlO2SEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxde2SEeWnDaII1mfokg" value="&quot;-o&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__quFle2SEeWnDaII1mfokg" name="aliases" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxdu2SEeWnDaII1mfokg" value="&quot;-output&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__quFlu2SEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxd-2SEeWnDaII1mfokg" value="&quot;output of the engine&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__qusoO2SEeWnDaII1mfokg" name="metaVar" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__uqxeO2SEeWnDaII1mfokg" value="&quot;OUTPUT&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__quso-2SEeWnDaII1mfokg" base_Element="__qusoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="__qvTsO2SEeWnDaII1mfokg" base_Element="__qusoe2SEeWnDaII1mfokg">
    <annotations xmi:id="__qvTse2SEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="__qvTsu2SEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__urYgO2SEeWnDaII1mfokg" value="&quot;-gui&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="__qvTs-2SEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="__urYge2SEeWnDaII1mfokg" value="&quot;enable GUI&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qv6wO2SEeWnDaII1mfokg" base_Element="__qvTtO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qv6w-2SEeWnDaII1mfokg" base_Element="__qv6we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qwh0O2SEeWnDaII1mfokg" base_Element="__qv6xO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qwh0-2SEeWnDaII1mfokg" base_Element="__qwh0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qxI4u2SEeWnDaII1mfokg" base_Element="__qxI4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qxv8O2SEeWnDaII1mfokg" base_Element="__qxI4-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qxv8-2SEeWnDaII1mfokg" base_Element="__qxv8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qyXAe2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__qyXAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qy-Ee2SEeWnDaII1mfokg" base_Element="__qyXAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__qzlIO2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__qy-Eu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__qzlIu2SEeWnDaII1mfokg" base_Element="__qy-Eu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__q0MMe2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__q0MMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q0zQO2SEeWnDaII1mfokg" base_Element="__q0MMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__q1aUO2SEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="__q0zQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q1aUu2SEeWnDaII1mfokg" base_Element="__q0zQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q2BYe2SEeWnDaII1mfokg" base_Element="__q1aU-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q2ocu2SEeWnDaII1mfokg" base_Element="__q2ocO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q3Pgu2SEeWnDaII1mfokg" base_Element="__q3PgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q32kO2SEeWnDaII1mfokg" base_Element="__q3Pg-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__q4doO2SEeWnDaII1mfokg" genericsValue="Integer,Vector3D" base_Element="__q32ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q4doe2SEeWnDaII1mfokg" base_Element="__q32ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q5EsO2SEeWnDaII1mfokg" base_Element="__q4dou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q5Esu2SEeWnDaII1mfokg" base_Element="__q5Ese2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q5rwO2SEeWnDaII1mfokg" base_Element="__q5Es-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q5rwu2SEeWnDaII1mfokg" base_Element="__q5rwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q6S0O2SEeWnDaII1mfokg" base_Element="__q5rw-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q6S0u2SEeWnDaII1mfokg" base_Element="__q6S0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q654e2SEeWnDaII1mfokg" base_Element="__q654O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q7g8O2SEeWnDaII1mfokg" base_Element="__q654u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q9WIe2SEeWnDaII1mfokg" base_Element="__q9WIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q99MO2SEeWnDaII1mfokg" base_Element="__q9WIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q99Mu2SEeWnDaII1mfokg" base_Element="__q99Me2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q-kQe2SEeWnDaII1mfokg" base_Element="__q-kQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q-kQ-2SEeWnDaII1mfokg" base_Element="__q-kQu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q_LUe2SEeWnDaII1mfokg" base_Element="__q_LUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q_yYO2SEeWnDaII1mfokg" base_Element="__q_LUu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__q_yYu2SEeWnDaII1mfokg" base_Element="__q_yYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rAZcO2SEeWnDaII1mfokg" base_Element="__q_yY-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rAZcu2SEeWnDaII1mfokg" base_Element="__rAZce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rBAgO2SEeWnDaII1mfokg" base_Element="__rAZc-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rBAgu2SEeWnDaII1mfokg" base_Element="__rBAge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rBnke2SEeWnDaII1mfokg" base_Element="__rBnkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rCOoe2SEeWnDaII1mfokg" base_Element="__rCOoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rC1su2SEeWnDaII1mfokg" base_Element="__rC1sO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rDcwe2SEeWnDaII1mfokg" base_Element="__rDcwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rED0O2SEeWnDaII1mfokg" base_Element="__rDcwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rEq4O2SEeWnDaII1mfokg" base_Element="__rED0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rEq4u2SEeWnDaII1mfokg" base_Element="__rEq4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rFR8e2SEeWnDaII1mfokg" base_Element="__rFR8O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rGgEO2SEeWnDaII1mfokg" base_Property="__rF5AO2SEeWnDaII1mfokg" siblings="__ur_k-2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rGgEe2SEeWnDaII1mfokg" base_Element="__rF5AO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rHHIe2SEeWnDaII1mfokg" base_Property="__rHHIO2SEeWnDaII1mfokg" siblings="__usmoe2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rHuMO2SEeWnDaII1mfokg" base_Element="__rHHIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rIVQO2SEeWnDaII1mfokg" base_Property="__rHuMe2SEeWnDaII1mfokg" siblings="__utNse2SEeWnDaII1mfokg __ut0we2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rI8UO2SEeWnDaII1mfokg" base_Element="__rHuMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rKKcO2SEeWnDaII1mfokg" base_Element="__rJjYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rKxgO2SEeWnDaII1mfokg" base_Element="__rKKce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rLYkO2SEeWnDaII1mfokg" base_Element="__rKxge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rL_oO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__rLYke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rL_oe2SEeWnDaII1mfokg" base_Element="__rLYke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rMmse2SEeWnDaII1mfokg" base_Property="__rMmsO2SEeWnDaII1mfokg" siblings="__uub0e2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rMmsu2SEeWnDaII1mfokg" base_Element="__rMmsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rN00O2SEeWnDaII1mfokg" base_Element="__rNNwu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rN00u2SEeWnDaII1mfokg" base_Property="__rN00e2SEeWnDaII1mfokg" siblings="__uvC4u2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rOb4O2SEeWnDaII1mfokg" base_Element="__rN00e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rOb4u2SEeWnDaII1mfokg" base_Property="__rOb4e2SEeWnDaII1mfokg" siblings="__uvp8u2SEeWnDaII1mfokg __uwRAe2SEeWnDaII1mfokg __uw4Ee2SEeWnDaII1mfokg __uw4FO2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rPC8O2SEeWnDaII1mfokg" base_Element="__rOb4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rPqAO2SEeWnDaII1mfokg" base_Property="__rPC8e2SEeWnDaII1mfokg" siblings="__uxfIu2SEeWnDaII1mfokg __uyGMu2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rPqAe2SEeWnDaII1mfokg" base_Element="__rPC8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rQ4Iu2SEeWnDaII1mfokg" base_Element="__rQ4IO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rRfMu2SEeWnDaII1mfokg" base_Element="__rRfMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rSGQe2SEeWnDaII1mfokg" base_Property="__rSGQO2SEeWnDaII1mfokg" siblings="__uytQO2SEeWnDaII1mfokg __uzUUe2SEeWnDaII1mfokg __uzUVO2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rStUO2SEeWnDaII1mfokg" base_Element="__rSGQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__rT7cO2SEeWnDaII1mfokg" base_Property="__rTUYe2SEeWnDaII1mfokg" siblings="__u0icO2SEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rT7ce2SEeWnDaII1mfokg" base_Element="__rTUYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rUige2SEeWnDaII1mfokg" base_Element="__rUigO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rVwoO2SEeWnDaII1mfokg" base_Element="__rVJku2SEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="__rVwou2SEeWnDaII1mfokg" name="getInstance" isStatic="true" method="__t7Kke2SEeWnDaII1mfokg">
      <ownedParameter xmi:id="__rWXsO2SEeWnDaII1mfokg" type="__HMhwO2SEeWnDaII1mfokg" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Generics xmi:id="__rW-wO2SEeWnDaII1mfokg" genericsValue="String, List&lt;Double>" base_Element="__rWXse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rW-we2SEeWnDaII1mfokg" base_Element="__rWXse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rXl0O2SEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="__rW-wu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rXl0e2SEeWnDaII1mfokg" base_Element="__rW-wu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rYM4e2SEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="__rYM4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rYz8O2SEeWnDaII1mfokg" base_Element="__rYM4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rZbAO2SEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="__rYz8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rZbAe2SEeWnDaII1mfokg" base_Element="__rYz8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__raCEO2SEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="__rZbAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__raCEe2SEeWnDaII1mfokg" base_Element="__rZbAu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rb3QO2SEeWnDaII1mfokg" base_Element="__rbQMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rceUO2SEeWnDaII1mfokg" base_Element="__rb3Qu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rdFYO2SEeWnDaII1mfokg" base_Element="__rceUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rdFY-2SEeWnDaII1mfokg" base_Element="__rdFYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__reTgO2SEeWnDaII1mfokg" base_Element="__rdscO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__reTg-2SEeWnDaII1mfokg" base_Element="__reTge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__re6ke2SEeWnDaII1mfokg" base_Element="__reThO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rfhoO2SEeWnDaII1mfokg" base_Element="__re6ku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rgIse2SEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="__rgIsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rgvwO2SEeWnDaII1mfokg" base_Element="__rgIsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rgvwu2SEeWnDaII1mfokg" genericsValue="Interaction" base_Element="__rgvwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rhW0O2SEeWnDaII1mfokg" base_Element="__rgvwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__rh94O2SEeWnDaII1mfokg" genericsValue="ArrayList&lt;AbstractParticle>" base_Element="__rhW0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rh94e2SEeWnDaII1mfokg" base_Element="__rhW0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__rh95O2SEeWnDaII1mfokg" dimensions="2" base_Element="__rh94u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rik8O2SEeWnDaII1mfokg" base_Element="__rh94u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rjMA-2SEeWnDaII1mfokg" base_Element="__rjMAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rkaIu2SEeWnDaII1mfokg" base_Element="__rkaIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rlBMe2SEeWnDaII1mfokg" base_Element="__rkaI-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rloQO2SEeWnDaII1mfokg" base_Element="__rlBMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rmPUO2SEeWnDaII1mfokg" base_Element="__rloQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rm2Ye2SEeWnDaII1mfokg" base_Element="__rmPUu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rndcO2SEeWnDaII1mfokg" base_Element="__rm2Yu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rndc-2SEeWnDaII1mfokg" base_Element="__rndce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__roEge2SEeWnDaII1mfokg" base_Element="__rnddO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__roEg-2SEeWnDaII1mfokg" base_Element="__roEgu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rorke2SEeWnDaII1mfokg" base_Element="__rorkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rpSoe2SEeWnDaII1mfokg" base_Element="__rpSoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rp5sO2SEeWnDaII1mfokg" base_Element="__rpSou2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rp5su2SEeWnDaII1mfokg" base_Element="__rp5se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rqgwe2SEeWnDaII1mfokg" base_Element="__rqgwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rrH0e2SEeWnDaII1mfokg" base_Element="__rrH0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rru4O2SEeWnDaII1mfokg" base_Element="__rrH0u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rsV8O2SEeWnDaII1mfokg" base_Element="__rru4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rsV8u2SEeWnDaII1mfokg" base_Element="__rsV8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rs9Au2SEeWnDaII1mfokg" base_Element="__rs9AO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ruLIO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__rs9A-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ruLIe2SEeWnDaII1mfokg" base_Element="__rs9A-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__ruyMO2SEeWnDaII1mfokg" genericsValue="Atom" base_Element="__ruLIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ruyMe2SEeWnDaII1mfokg" base_Element="__ruLIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__rvZQu2SEeWnDaII1mfokg" base_Element="__rvZQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rwAUO2SEeWnDaII1mfokg" base_Element="__rvZQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rwAU-2SEeWnDaII1mfokg" base_Element="__rwAUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rx1gO2SEeWnDaII1mfokg" base_Element="__rxOcu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ryckO2SEeWnDaII1mfokg" base_Element="__rx1ge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rycku2SEeWnDaII1mfokg" base_Element="__rycke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rzDoO2SEeWnDaII1mfokg" base_Element="__ryck-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__rzqsO2SEeWnDaII1mfokg" base_Element="__rzDoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r0RwO2SEeWnDaII1mfokg" base_Element="__rzqsu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r0Rwu2SEeWnDaII1mfokg" base_Element="__r0Rwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r040O2SEeWnDaII1mfokg" base_Element="__r0Rw-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r1f4O2SEeWnDaII1mfokg" base_Element="__r040e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r2G8O2SEeWnDaII1mfokg" base_Element="__r1f4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r2uAO2SEeWnDaII1mfokg" base_Element="__r2G8u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r2uAu2SEeWnDaII1mfokg" base_Element="__r2uAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r3VEe2SEeWnDaII1mfokg" base_Element="__r3VEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r38IO2SEeWnDaII1mfokg" base_Element="__r3VEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__r4jMO2SEeWnDaII1mfokg" genericsValue="JComponent" base_Element="__r38Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r4jMu2SEeWnDaII1mfokg" base_Element="__r38Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__r6YYO2SEeWnDaII1mfokg" genericsValue="Residue" base_Element="__r5xUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r6YYe2SEeWnDaII1mfokg" base_Element="__r5xUO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="__r6_cO2SEeWnDaII1mfokg" dimensions="1" base_Element="__r6YYu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r6_ce2SEeWnDaII1mfokg" base_Element="__r6YYu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r80oe2SEeWnDaII1mfokg" base_Element="__r80oO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r9bse2SEeWnDaII1mfokg" base_Element="__r9bsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__r-CwO2SEeWnDaII1mfokg" base_Element="__r9bsu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__sAfAO2SEeWnDaII1mfokg" genericsValue="IUPRED_Output" base_Element="__r_38O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sAfAu2SEeWnDaII1mfokg" base_Element="__r_38O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sBGEO2SEeWnDaII1mfokg" base_Element="__sAfA-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sBGEu2SEeWnDaII1mfokg" base_Element="__sBGEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sBtIe2SEeWnDaII1mfokg" base_Element="__sBtIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sCUMO2SEeWnDaII1mfokg" base_Element="__sBtIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sC7QO2SEeWnDaII1mfokg" base_Element="__sCUMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sDiUO2SEeWnDaII1mfokg" base_Element="__sC7Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sEJYe2SEeWnDaII1mfokg" base_Element="__sEJYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sEwcO2SEeWnDaII1mfokg" base_Element="__sEJYu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sFXgu2SEeWnDaII1mfokg" base_Element="__sFXgO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sF-ke2SEeWnDaII1mfokg" base_Element="__sFXg-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sGloO2SEeWnDaII1mfokg" base_Element="__sF-ku2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sHMsO2SEeWnDaII1mfokg" base_Element="__sGloe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sHMsu2SEeWnDaII1mfokg" base_Element="__sHMse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sHzwe2SEeWnDaII1mfokg" base_Element="__sHzwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sJo8O2SEeWnDaII1mfokg" base_Element="__sJB4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sJo8u2SEeWnDaII1mfokg" base_Element="__sJo8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sKQAe2SEeWnDaII1mfokg" base_Element="__sKQAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="__sLeIO2SEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="__sK3EO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sMFMO2SEeWnDaII1mfokg" base_Element="__sK3EO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__sMsQO2SEeWnDaII1mfokg" base_Element="__sMFMe2SEeWnDaII1mfokg"/>
  <uml:OpaqueBehavior xmi:id="__szJMO2SEeWnDaII1mfokg" name="getName" specification="__BXmkO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__szJMe2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return &quot;PARTICLE&quot;;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tZmKO2SEeWnDaII1mfokg" name="getViewer" specification="__p9QkO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__taNMO2SEeWnDaII1mfokg" type="__hZKce2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>return viewer;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tg65-2SEeWnDaII1mfokg" name="getAtomicMass" specification="__qQLgu2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__thh8O2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return atomicMass;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__thh8e2SEeWnDaII1mfokg" name="AtomType" specification="__EOGQO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__thh8u2SEeWnDaII1mfokg" name="name">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <ownedParameter xmi:id="__thh8-2SEeWnDaII1mfokg" name="atomicMass">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="__thh9O2SEeWnDaII1mfokg" name="atomicNum">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="__thh9e2SEeWnDaII1mfokg" type="__EKb4O2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.name = name;&#xD;
		this.atomicMass = atomicMass;&#xD;
		this.atomicNum = atomicNum;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__thh9u2SEeWnDaII1mfokg" name="getAtomName" specification="__EPUYO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__thh9-2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__thh-O2SEeWnDaII1mfokg" name="getAtomicNum" specification="__EPUYu2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__thh-e2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <language>java</language>
    <body>return atomicNum;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tiJAO2SEeWnDaII1mfokg" name="BondType" specification="__EWCEO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__tiJAe2SEeWnDaII1mfokg" name="name">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <ownedParameter xmi:id="__tiJAu2SEeWnDaII1mfokg" type="__ERJkO2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.name = name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tiJA-2SEeWnDaII1mfokg" name="toString" specification="__EWpI-2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__tiJBO2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tvkYu2SEeWnDaII1mfokg" name="DISTANCE" specification="__FppoO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__tvkY-2SEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="__tvkZO2SEeWnDaII1mfokg" type="__FnNYO2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__tvkZe2SEeWnDaII1mfokg" name="value" specification="__Fq3wO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twLcO2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__twLce2SEeWnDaII1mfokg" name="convert" specification="__jTO8O2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twLcu2SEeWnDaII1mfokg" name="from" type="__FnNYO2SEeWnDaII1mfokg"/>
    <ownedParameter xmi:id="__twLc-2SEeWnDaII1mfokg" name="to" type="__FnNYO2SEeWnDaII1mfokg"/>
    <ownedParameter xmi:id="__twLdO2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return from.value/to.value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__twLde2SEeWnDaII1mfokg" name="MASS" specification="__FuiIO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twLdu2SEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="__twLd-2SEeWnDaII1mfokg" type="__Fss8O2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__twLeO2SEeWnDaII1mfokg" name="value" specification="__FuiJe2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twLee2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__twygO2SEeWnDaII1mfokg" name="TIME" specification="__FyzkO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twyge2SEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="__twygu2SEeWnDaII1mfokg" type="__FvwQO2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__twyg-2SEeWnDaII1mfokg" name="value" specification="__FzaoO2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__twyhO2SEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="__t7Kke2SEeWnDaII1mfokg" name="getInstance" specification="__rVwou2SEeWnDaII1mfokg">
    <ownedParameter xmi:id="__t7Kku2SEeWnDaII1mfokg" type="__HMhwO2SEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>if (instance == null) {
			instance = new TopologyDatabase();
		}
		return instance;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:MultiDeclaration xmi:id="__ucH8O2SEeWnDaII1mfokg" base_Property="__ubg4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ucH8e2SEeWnDaII1mfokg" base_Element="__ubg4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__ukq0O2SEeWnDaII1mfokg" base_Property="__ukDw-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ukq0e2SEeWnDaII1mfokg" base_Element="__ukDw-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__ulR4O2SEeWnDaII1mfokg" base_Property="__ukq0-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ulR4e2SEeWnDaII1mfokg" base_Element="__ukq0-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__ul48O2SEeWnDaII1mfokg" base_Property="__ulR4-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ul48e2SEeWnDaII1mfokg" base_Element="__ulR4-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__ur_lO2SEeWnDaII1mfokg" base_Property="__ur_k-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__usmoO2SEeWnDaII1mfokg" base_Element="__ur_k-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__usmou2SEeWnDaII1mfokg" base_Property="__usmoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__utNsO2SEeWnDaII1mfokg" base_Element="__usmoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__utNsu2SEeWnDaII1mfokg" base_Property="__utNse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__ut0wO2SEeWnDaII1mfokg" base_Element="__utNse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__ut0wu2SEeWnDaII1mfokg" base_Property="__ut0we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uub0O2SEeWnDaII1mfokg" base_Element="__ut0we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uvC4O2SEeWnDaII1mfokg" base_Property="__uub0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uvC4e2SEeWnDaII1mfokg" base_Element="__uub0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uvp8O2SEeWnDaII1mfokg" base_Property="__uvC4u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uvp8e2SEeWnDaII1mfokg" base_Element="__uvC4u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uvp8-2SEeWnDaII1mfokg" base_Property="__uvp8u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uwRAO2SEeWnDaII1mfokg" base_Element="__uvp8u2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uwRAu2SEeWnDaII1mfokg" base_Property="__uwRAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uw4EO2SEeWnDaII1mfokg" base_Element="__uwRAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uw4Eu2SEeWnDaII1mfokg" base_Property="__uw4Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uw4E-2SEeWnDaII1mfokg" base_Element="__uw4Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uxfIO2SEeWnDaII1mfokg" base_Property="__uw4FO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uxfIe2SEeWnDaII1mfokg" base_Element="__uw4FO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uyGMO2SEeWnDaII1mfokg" base_Property="__uxfIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uyGMe2SEeWnDaII1mfokg" base_Element="__uxfIu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uyGM-2SEeWnDaII1mfokg" base_Property="__uyGMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uyGNO2SEeWnDaII1mfokg" base_Element="__uyGMu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uytQe2SEeWnDaII1mfokg" base_Property="__uytQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uzUUO2SEeWnDaII1mfokg" base_Element="__uytQO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uzUUu2SEeWnDaII1mfokg" base_Property="__uzUUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uzUU-2SEeWnDaII1mfokg" base_Element="__uzUUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__uz7YO2SEeWnDaII1mfokg" base_Property="__uzUVO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__uz7Ye2SEeWnDaII1mfokg" base_Element="__uzUVO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="__u0ice2SEeWnDaII1mfokg" base_Property="__u0icO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="__u0icu2SEeWnDaII1mfokg" base_Element="__u0icO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vlXcO2SEeWnDaII1mfokg" base_Element="__vkwYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vl-ge2SEeWnDaII1mfokg" base_Element="__vlXce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vnMoO2SEeWnDaII1mfokg" base_Element="__vmlkO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vnzsO2SEeWnDaII1mfokg" base_Element="__vnMoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__voawO2SEeWnDaII1mfokg" base_Element="__vnzse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__voaw-2SEeWnDaII1mfokg" base_Element="__voawe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vpB0O2SEeWnDaII1mfokg" base_Element="__voaxO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vpo4O2SEeWnDaII1mfokg" base_Element="__vpB0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vqP8O2SEeWnDaII1mfokg" base_Element="__vpo4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vqP8-2SEeWnDaII1mfokg" base_Element="__vqP8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vq3AO2SEeWnDaII1mfokg" base_Element="__vqP9O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vreEO2SEeWnDaII1mfokg" base_Element="__vq3Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vsFIO2SEeWnDaII1mfokg" base_Element="__vreEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vsFI-2SEeWnDaII1mfokg" base_Element="__vsFIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vssMO2SEeWnDaII1mfokg" base_Element="__vsFJO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vtTQO2SEeWnDaII1mfokg" base_Element="__vssMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vuhYO2SEeWnDaII1mfokg" base_Element="__vt6UO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vvIcO2SEeWnDaII1mfokg" base_Element="__vuhYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vvvgO2SEeWnDaII1mfokg" base_Element="__vvIce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vwWkO2SEeWnDaII1mfokg" base_Element="__vvvge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vw9oO2SEeWnDaII1mfokg" base_Element="__vwWke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vyLwO2SEeWnDaII1mfokg" base_Element="__vxksO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vyy0O2SEeWnDaII1mfokg" base_Element="__vyLwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__vzZ4O2SEeWnDaII1mfokg" base_Element="__vyy0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v0A8O2SEeWnDaII1mfokg" base_Element="__vzZ4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v0oAO2SEeWnDaII1mfokg" base_Element="__v0A8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v1PEO2SEeWnDaII1mfokg" base_Element="__v0oAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v12IO2SEeWnDaII1mfokg" base_Element="__v1PEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v2dMO2SEeWnDaII1mfokg" base_Element="__v12Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v3EQO2SEeWnDaII1mfokg" base_Element="__v2dMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v3rUO2SEeWnDaII1mfokg" base_Element="__v3EQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v4SYO2SEeWnDaII1mfokg" base_Element="__v3rUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v45cO2SEeWnDaII1mfokg" base_Element="__v4SYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v5ggO2SEeWnDaII1mfokg" base_Element="__v45ce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v6HkO2SEeWnDaII1mfokg" base_Element="__v5gge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v6uoO2SEeWnDaII1mfokg" base_Element="__v6Hke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v7VsO2SEeWnDaII1mfokg" base_Element="__v6uoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v78wO2SEeWnDaII1mfokg" base_Element="__v7Vse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v9K4O2SEeWnDaII1mfokg" base_Element="__v78we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v9x8O2SEeWnDaII1mfokg" base_Element="__v9K4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v-ZAO2SEeWnDaII1mfokg" base_Element="__v9x8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__v_AEO2SEeWnDaII1mfokg" base_Element="__v-ZAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wAOMO2SEeWnDaII1mfokg" base_Element="__v_AEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wA1QO2SEeWnDaII1mfokg" base_Element="__wAOMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wBcUO2SEeWnDaII1mfokg" base_Element="__wA1Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wCDYO2SEeWnDaII1mfokg" base_Element="__wBcUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wCqcO2SEeWnDaII1mfokg" base_Element="__wCDYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wDRgO2SEeWnDaII1mfokg" base_Element="__wCqce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wD4kO2SEeWnDaII1mfokg" base_Element="__wDRge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wEfoO2SEeWnDaII1mfokg" base_Element="__wD4ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wFGsO2SEeWnDaII1mfokg" base_Element="__wEfoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wFGs-2SEeWnDaII1mfokg" base_Element="__wFGse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wFtwu2SEeWnDaII1mfokg" base_Element="__wFtwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wGU0O2SEeWnDaII1mfokg" base_Element="__wFtw-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wG74O2SEeWnDaII1mfokg" base_Element="__wGU0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wHi8O2SEeWnDaII1mfokg" base_Element="__wG74e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wIKAu2SEeWnDaII1mfokg" base_Element="__wIKAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wIxEO2SEeWnDaII1mfokg" base_Element="__wIKA-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wJYIO2SEeWnDaII1mfokg" base_Element="__wIxEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wJ_MO2SEeWnDaII1mfokg" base_Element="__wJYIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wKmQO2SEeWnDaII1mfokg" base_Element="__wJ_Me2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wLNUO2SEeWnDaII1mfokg" base_Element="__wKmQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wL0YO2SEeWnDaII1mfokg" base_Element="__wLNUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wMbcO2SEeWnDaII1mfokg" base_Element="__wL0Ye2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wNCgO2SEeWnDaII1mfokg" base_Element="__wMbce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wNpkO2SEeWnDaII1mfokg" base_Element="__wNCge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wOQoO2SEeWnDaII1mfokg" base_Element="__wNpke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wO3sO2SEeWnDaII1mfokg" base_Element="__wOQoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wO3s-2SEeWnDaII1mfokg" base_Element="__wO3se2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wPewe2SEeWnDaII1mfokg" base_Element="__wO3tO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wQF0O2SEeWnDaII1mfokg" base_Element="__wPewu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wQs4O2SEeWnDaII1mfokg" base_Element="__wQF0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wRT8O2SEeWnDaII1mfokg" base_Element="__wQs4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wR7AO2SEeWnDaII1mfokg" base_Element="__wRT8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wSiEO2SEeWnDaII1mfokg" base_Element="__wR7Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wTJIO2SEeWnDaII1mfokg" base_Element="__wSiEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wTJI-2SEeWnDaII1mfokg" base_Element="__wTJIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wTwMO2SEeWnDaII1mfokg" base_Element="__wTJJO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wUXQO2SEeWnDaII1mfokg" base_Element="__wTwMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wU-UO2SEeWnDaII1mfokg" base_Element="__wUXQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wVlYO2SEeWnDaII1mfokg" base_Element="__wU-Ue2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wWMcO2SEeWnDaII1mfokg" base_Element="__wVlYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wWzgO2SEeWnDaII1mfokg" base_Element="__wWMce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wXakO2SEeWnDaII1mfokg" base_Element="__wWzge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wYBoO2SEeWnDaII1mfokg" base_Element="__wXake2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wYosO2SEeWnDaII1mfokg" base_Element="__wYBoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wZPwO2SEeWnDaII1mfokg" base_Element="__wYose2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wZ20O2SEeWnDaII1mfokg" base_Element="__wZPwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wad4O2SEeWnDaII1mfokg" base_Element="__wZ20e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wbE8O2SEeWnDaII1mfokg" base_Element="__wad4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wbsAO2SEeWnDaII1mfokg" base_Element="__wbE8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wcTEO2SEeWnDaII1mfokg" base_Element="__wbsAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wc6IO2SEeWnDaII1mfokg" base_Element="__wcTEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wdhMO2SEeWnDaII1mfokg" base_Element="__wc6Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__weIQO2SEeWnDaII1mfokg" base_Element="__wdhMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wevUO2SEeWnDaII1mfokg" base_Element="__weIQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wfWYO2SEeWnDaII1mfokg" base_Element="__wevUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wf9cO2SEeWnDaII1mfokg" base_Element="__wfWYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wgkgO2SEeWnDaII1mfokg" base_Element="__wf9ce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__whLkO2SEeWnDaII1mfokg" base_Element="__wgkge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__whyoO2SEeWnDaII1mfokg" base_Element="__whLke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__whyo-2SEeWnDaII1mfokg" base_Element="__whyoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wiZsu2SEeWnDaII1mfokg" base_Element="__wiZsO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wjAwO2SEeWnDaII1mfokg" base_Element="__wiZs-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wjn0u2SEeWnDaII1mfokg" base_Element="__wjn0O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wkO4u2SEeWnDaII1mfokg" base_Element="__wkO4O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wk18u2SEeWnDaII1mfokg" base_Element="__wk18O2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wldAO2SEeWnDaII1mfokg" base_Element="__wk18-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wmEEe2SEeWnDaII1mfokg" base_Element="__wldAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wmrIO2SEeWnDaII1mfokg" base_Element="__wmEEu2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wnSMO2SEeWnDaII1mfokg" base_Element="__wmrIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wn5QO2SEeWnDaII1mfokg" base_Element="__wnSMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wogUO2SEeWnDaII1mfokg" base_Element="__wn5Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wpHYO2SEeWnDaII1mfokg" base_Element="__wogUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wpucO2SEeWnDaII1mfokg" base_Element="__wpHYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wqVgO2SEeWnDaII1mfokg" base_Element="__wpuce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wq8kO2SEeWnDaII1mfokg" base_Element="__wqVge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wrjoO2SEeWnDaII1mfokg" base_Element="__wq8ke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wsKsO2SEeWnDaII1mfokg" base_Element="__wrjoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wsxwO2SEeWnDaII1mfokg" base_Element="__wsKse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wtY0O2SEeWnDaII1mfokg" base_Element="__wsxwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wt_4O2SEeWnDaII1mfokg" base_Element="__wtY0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wum8O2SEeWnDaII1mfokg" base_Element="__wt_4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wvOAO2SEeWnDaII1mfokg" base_Element="__wum8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wv1EO2SEeWnDaII1mfokg" base_Element="__wvOAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wwcIO2SEeWnDaII1mfokg" base_Element="__wv1Ee2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wwcI-2SEeWnDaII1mfokg" base_Element="__wwcIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wxDMu2SEeWnDaII1mfokg" base_Element="__wxDMO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wxqQO2SEeWnDaII1mfokg" base_Element="__wxDM-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wyRUO2SEeWnDaII1mfokg" base_Element="__wxqQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wy4YO2SEeWnDaII1mfokg" base_Element="__wyRUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wzfcO2SEeWnDaII1mfokg" base_Element="__wy4Ye2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__wzfc-2SEeWnDaII1mfokg" base_Element="__wzfce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w0GgO2SEeWnDaII1mfokg" base_Element="__wzfdO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w0tkO2SEeWnDaII1mfokg" base_Element="__w0Gge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w1UoO2SEeWnDaII1mfokg" base_Element="__w0tke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w1Uo-2SEeWnDaII1mfokg" base_Element="__w1Uoe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w17su2SEeWnDaII1mfokg" base_Element="__w17sO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w2iwO2SEeWnDaII1mfokg" base_Element="__w17s-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w4X8O2SEeWnDaII1mfokg" base_Element="__w3w4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w4_AO2SEeWnDaII1mfokg" base_Element="__w4X8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w5mEO2SEeWnDaII1mfokg" base_Element="__w4_Ae2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w6NIO2SEeWnDaII1mfokg" base_Element="__w5mEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w60MO2SEeWnDaII1mfokg" base_Element="__w6NIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w7bQO2SEeWnDaII1mfokg" base_Element="__w60Me2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w8CUO2SEeWnDaII1mfokg" base_Element="__w7bQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w8pYO2SEeWnDaII1mfokg" base_Element="__w8CUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w93gO2SEeWnDaII1mfokg" base_Element="__w8pYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w_FoO2SEeWnDaII1mfokg" base_Element="__w93ge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__w_ssO2SEeWnDaII1mfokg" base_Element="__w_Foe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xA60O2SEeWnDaII1mfokg" base_Element="__xATwO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xBh4O2SEeWnDaII1mfokg" base_Element="__xA60e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xCI8O2SEeWnDaII1mfokg" base_Element="__xBh4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xCwAO2SEeWnDaII1mfokg" base_Element="__xCI8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xDXEO2SEeWnDaII1mfokg" base_Element="__xCwAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xD-IO2SEeWnDaII1mfokg" base_Element="__xDXEe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xElMO2SEeWnDaII1mfokg" base_Element="__xD-Ie2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xFMQO2SEeWnDaII1mfokg" base_Element="__xElMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xFzUO2SEeWnDaII1mfokg" base_Element="__xFMQe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xGaYO2SEeWnDaII1mfokg" base_Element="__xFzUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xHBcO2SEeWnDaII1mfokg" base_Element="__xGaYe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xHBc-2SEeWnDaII1mfokg" base_Element="__xHBce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xHogO2SEeWnDaII1mfokg" base_Element="__xHBdO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xIPkO2SEeWnDaII1mfokg" base_Element="__xHoge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xI2oO2SEeWnDaII1mfokg" base_Element="__xIPke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xJdsO2SEeWnDaII1mfokg" base_Element="__xI2oe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xKEwO2SEeWnDaII1mfokg" base_Element="__xJdse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xKr0O2SEeWnDaII1mfokg" base_Element="__xKEwe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xLS4O2SEeWnDaII1mfokg" base_Element="__xKr0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xL58O2SEeWnDaII1mfokg" base_Element="__xLS4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xMhAu2SEeWnDaII1mfokg" base_Element="__xMhAO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xNIEu2SEeWnDaII1mfokg" base_Element="__xNIEO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xNvIu2SEeWnDaII1mfokg" base_Element="__xNvIO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xOWMO2SEeWnDaII1mfokg" base_Element="__xNvI-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xO9QO2SEeWnDaII1mfokg" base_Element="__xOWMe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xPkUO2SEeWnDaII1mfokg" base_Element="__xO9Qe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xPkU-2SEeWnDaII1mfokg" base_Element="__xPkUe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xQLYu2SEeWnDaII1mfokg" base_Element="__xQLYO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xQycO2SEeWnDaII1mfokg" base_Element="__xQLY-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xRZgO2SEeWnDaII1mfokg" base_Element="__xQyce2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xSAkO2SEeWnDaII1mfokg" base_Element="__xRZge2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xSAk-2SEeWnDaII1mfokg" base_Element="__xSAke2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xSnou2SEeWnDaII1mfokg" base_Element="__xSnoO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xTOsO2SEeWnDaII1mfokg" base_Element="__xSno-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xT1wO2SEeWnDaII1mfokg" base_Element="__xTOse2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xUc0O2SEeWnDaII1mfokg" base_Element="__xT1we2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xVD4O2SEeWnDaII1mfokg" base_Element="__xUc0e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xVq8O2SEeWnDaII1mfokg" base_Element="__xVD4e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xWSAO2SEeWnDaII1mfokg" base_Element="__xVq8e2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xWSA-2SEeWnDaII1mfokg" base_Element="__xWSAe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xW5Eu2SEeWnDaII1mfokg" base_Element="__xW5EO2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xXgIO2SEeWnDaII1mfokg" base_Element="__xW5E-2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="__xYHMO2SEeWnDaII1mfokg" base_Element="__xXgIe2SEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_OZ_WYO2TEeWnDaII1mfokg" base_Element="_OZ-vUO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Oahh5u2TEeWnDaII1mfokg" base_Element="_Oahh4O2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Oanog-2TEeWnDaII1mfokg" base_Element="_OanBc-2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Oao2ou2TEeWnDaII1mfokg" base_Element="_OaoPkO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_OaqEwe2TEeWnDaII1mfokg" base_Element="_Oapdse2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_OarS4e2TEeWnDaII1mfokg" base_Element="_Oaqr0O2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OcCk0O2TEeWnDaII1mfokg" base_Element="_OcB9wO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OcDL4O2TEeWnDaII1mfokg" base_Element="_OcCk0e2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OcEaAO2TEeWnDaII1mfokg" base_Element="_OcDL4e2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OcFBEO2TEeWnDaII1mfokg" base_Element="_OcEaAe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcZxMe2TEeWnDaII1mfokg" base_Element="_OcZKIO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcaYQe2TEeWnDaII1mfokg" genericsValue="String,Integer" base_Element="_OcaYQO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oca_UO2TEeWnDaII1mfokg" base_Element="_OcaYQO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcbmYO2TEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_Oca_Ue2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcbmYe2TEeWnDaII1mfokg" base_Element="_Oca_Ue2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OccNcO2TEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_OcbmYu2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Occ0gO2TEeWnDaII1mfokg" base_Element="_OcbmYu2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Ocl-cO2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_Occ0ge2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcmlgO2TEeWnDaII1mfokg" base_Element="_Occ0ge2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcnMkO2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_Ocmlge2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcnMke2TEeWnDaII1mfokg" base_Element="_Ocmlge2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcpBwO2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_OcnzoO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ocpo0O2TEeWnDaII1mfokg" base_Element="_OcnzoO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcreAO2TEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_Ocpo0e2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcreAe2TEeWnDaII1mfokg" base_Element="_Ocpo0e2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Oct6QO2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_OcsFEO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oct6Qe2TEeWnDaII1mfokg" base_Element="_OcsFEO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcuhUe2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_OcuhUO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcvIYO2TEeWnDaII1mfokg" base_Element="_OcuhUO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_OcvvcO2TEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_OcvIYe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ocvvce2TEeWnDaII1mfokg" base_Element="_OcvIYe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcwWgu2TEeWnDaII1mfokg" base_Element="_OcwWgO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ocw9ke2TEeWnDaII1mfokg" base_Element="_OcwWg-2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcxkoO2TEeWnDaII1mfokg" base_Element="_Ocw9ku2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OcyLsO2TEeWnDaII1mfokg" base_Element="_Ocxkoe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ocyywe2TEeWnDaII1mfokg" base_Element="_OcyLse2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_OczZ0e2TEeWnDaII1mfokg" base_Element="_Ocyywu2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc0A4u2TEeWnDaII1mfokg" base_Element="_Oc0A4O2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc0n8u2TEeWnDaII1mfokg" base_Element="_Oc0n8O2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc2dIO2TEeWnDaII1mfokg" base_Element="_Oc0n8-2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc3EMe2TEeWnDaII1mfokg" base_Element="_Oc2dIe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Oc3rQu2TEeWnDaII1mfokg" dimensions="2" base_Element="_Oc3rQO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc3rQ-2TEeWnDaII1mfokg" base_Element="_Oc3rQO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc4SUe2TEeWnDaII1mfokg" base_Element="_Oc4SUO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc45YO2TEeWnDaII1mfokg" base_Element="_Oc4SUu2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc5gcO2TEeWnDaII1mfokg" base_Element="_Oc45Ye2TEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Oc5gc-2TEeWnDaII1mfokg" base_Element="_Oc5gce2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdWMYO2TEeWnDaII1mfokg" base_Element="_OdUXMO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdWzcO2TEeWnDaII1mfokg" base_Element="_OdWMYe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdXagO2TEeWnDaII1mfokg" base_Element="_OdWzce2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdYBkO2TEeWnDaII1mfokg" base_Element="_OdXage2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdYooO2TEeWnDaII1mfokg" base_Element="_OdYBke2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdZPsO2TEeWnDaII1mfokg" base_Element="_OdYooe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Odbr8O2TEeWnDaII1mfokg" base_Element="_OdZPse2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdeIMO2TEeWnDaII1mfokg" base_Element="_Odc6EO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdevQO2TEeWnDaII1mfokg" base_Element="_OdeIMe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdfWUO2TEeWnDaII1mfokg" base_Element="_OdevQe2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdgkcO2TEeWnDaII1mfokg" base_Element="_Odf9YO2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdhLgO2TEeWnDaII1mfokg" base_Element="_Odgkce2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_OdhykO2TEeWnDaII1mfokg" base_Element="_OdhLge2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Odhyk-2TEeWnDaII1mfokg" base_Element="_Odhyke2TEeWnDaII1mfokg"/>
  <UMLLabProfile:Patch xmi:id="_RAGdAO2TEeWnDaII1mfokg" base_Element="__F6IUO2SEeWnDaII1mfokg" patchText="@@ -1102,16 +1102,18 @@&#xA; Partial%7D&#xA;+;%0A&#xA; %09public &#xA;" conflicting="false"/>
  <UMLLabProfile:Reference xmi:id="_Fr56MO26EeWnDaII1mfokg" base_Element="_Fr5TIO26EeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Fr56M-26EeWnDaII1mfokg" base_Element="_Fr56Me26EeWnDaII1mfokg"/>
</xmi:XMI>
