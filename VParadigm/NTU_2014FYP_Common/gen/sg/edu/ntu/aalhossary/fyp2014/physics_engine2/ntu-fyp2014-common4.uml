<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_Qq4eIO2XEeWnDaII1mfokg" name="ntu_fyp2014_common4">
    <eAnnotations xmi:id="_Q5zD4O2XEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_Q5zD4e2XEeWnDaII1mfokg" source="codegen">
        <details xmi:id="_Q5zD4u2XEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen"/>
        <details xmi:id="_zpXS4O2aEeWnDaII1mfokg" key="AssociatedSourceCode" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/AbstractParticle.java;3760498299/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/AminoAcid.java;2127865308/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Atom.java;1992265417/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Bond.java;3373043677/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/BoundingPrimitive.java;3656345719/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Chain.java;1851714343/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Interaction.java;1104814563/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Model.java;694890868/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Molecule.java;1619744335/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Particle.java;492705328/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/Residue.java;4243495755/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Matrix3.java;3727283361/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Matrix4.java;3989833990/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Quaternion.java;4159345452/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/common/math/Vector3D.java;4116939835/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/AtomToMMType.java;1983279416/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/DataManager.java;1943241546/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/EvaluateUserAction.java;2950568227/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/FileReader.java;2790908863/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/FileWriter.java;716454667/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/GestureManager.java;1551608128/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/JMolSelectionListener.java;2244299517/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IOutilityTest.java;2801768709/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MoleculeEditor.java;2403214459/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MouseState.java;3213428312/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/MyJmolStatusListener.java;3316600801/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/RasmolFieldListener.java;4255224950/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/ToolPanelHandler.java;1892228377/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/UpdateRegistry.java;3297099907/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/JmolDisplay.java;479606090/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/MenuPanel.java;4036485676/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/ui/ToolPanel.java;521023011/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/AtomType.java;1939126389/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/BondType.java;2639220522/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/DisplayType.java;1342894671/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/userenum/UserActionType.java;2360938474/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Atom.java;3218400659/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingBox.java;1178082874/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingCube.java;1679986297/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/BoundingSphere.java;1634656337/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ContactResolver.java;4083151585/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ElectricForce.java;144889617/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Force.java;2710411080/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/ForceRegistry.java;2058143372/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Init.java;3435228402/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/LennardJonesForce.java;2921252992/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Molecule.java;2532385749/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/NarrowCollisionDetector.java;3384073370/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/OctTree.java;3796088690/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/Units.java;2477360742/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/VdWForce.java;2718039460/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/core/World.java;838014563/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine/ui/MainWindow.java;2030548895/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Angle.java;3171024970/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Atom.java;3480699081/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Bond.java;4010659148/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/BondedInteraction.java;379504308/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/Dihedral.java;1120898602/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ElectrostaticPotential.java;2838802859/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ImproperDihedral.java;1132402893/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/LennardJonesPotential.java;2448162005/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/NonBondedInteraction.java;2995370367/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/models/ProperDihedral.java;1292464388/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/topology/TopologyDatabase.java;6805914/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/AbstractParticle.java;1803526141/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/Application.java;222538169/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/Interaction.java;1414721966/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/core/MolecularSystem.java;1968983951/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/math/Geometry.java;14323886/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/CliController.java;933985092/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/Controller.java;3156761481/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/ControllerFactory.java;1160752186/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/EventListener.java;1209164627/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/GuiController.java;1953666486/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IOutility.java;1226132797/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/View.java;395563663/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/util/FileReader.java;3330989103/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/AlphaHelix.java;2712542623/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/AlphaHelixTest.java;857349684/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/Helix.java;2466667966/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/ui/UpdateRegistry.java;874153945/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/math/GeometryTest.java;2128364845/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_Output.java;230599447/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_Predictor.java;3538192497/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/IUPRED_PredictorTest.java;2188446380/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/InputManager.java;2576005046/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/OutputManager.java;1232744442/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/OutputManagerTest.java;1967505828/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PI_Helix.java;56015137/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictionManager.java;2566908373/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictionManagerTest.java;3610767374/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictorController.java;127393172/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/PredictorWrapper.java;2017555388/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_Output.java;1950405151/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_Predictor.java;3859711655/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/STRIDE_PredictorTest.java;3759875948/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/ThreeTenHelix.java;2496651279/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/ss_predictor/test.java;358824791/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/typology/TypologyDatabaseTest.java;681555897/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/moleculeeditor/core/Minimizer.java;1135990921/1;/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/gen/sg/edu/ntu/aalhossary/fyp2014/physics_engine2/amber03/topology/TopologyBuilder.java;3746477782/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_Sr7I0O2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v4O2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v4e2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v4u2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v4-2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v5O2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v5e2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_Sr7v5u2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_Sr8W8O2XEeWnDaII1mfokg">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_SkIewO2XEeWnDaII1mfokg" name="sg">
      <packagedElement xmi:type="uml:Package" xmi:id="_SkIewe2XEeWnDaII1mfokg" name="edu">
        <packagedElement xmi:type="uml:Package" xmi:id="_SkIewu2XEeWnDaII1mfokg" name="ntu">
          <packagedElement xmi:type="uml:Package" xmi:id="_SkJF0O2XEeWnDaII1mfokg" name="aalhossary">
            <packagedElement xmi:type="uml:Package" xmi:id="_SkJF0e2XEeWnDaII1mfokg" name="fyp2014">
              <packagedElement xmi:type="uml:Package" xmi:id="_SkJF0u2XEeWnDaII1mfokg" name="common">
                <packagedElement xmi:type="uml:Class" xmi:id="_Sr3ecO2XEeWnDaII1mfokg" name="AbstractParticle" isAbstract="true">
                  <ownedAttribute xmi:id="_TfeFoO2XEeWnDaII1mfokg" name="particleCount" visibility="protected" isStatic="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_TfeFoe2XEeWnDaII1mfokg" value="0"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfessO2XEeWnDaII1mfokg" name="guid" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfessu2XEeWnDaII1mfokg" name="position" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkV-kO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TffTwe2XEeWnDaII1mfokg" name="velocity" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkWloO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TffTw-2XEeWnDaII1mfokg" name="acceleration" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkWlo-2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tff60e2XEeWnDaII1mfokg" name="forceAccumulated" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkXMse2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfgh4O2XEeWnDaII1mfokg" name="torqueAccumulated" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkXzwe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfgh4u2XEeWnDaII1mfokg" name="velocityAccumulated" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkYa0e2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfhI8O2XEeWnDaII1mfokg" name="inverseMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfhI8u2XEeWnDaII1mfokg" name="inverseInertiaTensor" visibility="protected" type="_SuTHYO2XEeWnDaII1mfokg" association="_TkYa1O2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfhwAO2XEeWnDaII1mfokg" name="orientation" visibility="protected" type="_SuoekO2XEeWnDaII1mfokg" association="_TkZB4e2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfhwAu2XEeWnDaII1mfokg" name="rotation" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkZo8e2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfhwBO2XEeWnDaII1mfokg" name="transformMatrix" visibility="protected" type="_SuhJ0O2XEeWnDaII1mfokg" association="_TkZo9O2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfiXEe2XEeWnDaII1mfokg" name="boundingPrimitive" visibility="protected" type="_StsqcO2XEeWnDaII1mfokg" association="_TkaQAO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfiXE-2XEeWnDaII1mfokg" name="netCharge" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_Sr6hwO2XEeWnDaII1mfokg" client="_Sr3ecO2XEeWnDaII1mfokg" supplier="_Sr5ToO2XEeWnDaII1mfokg" contract="_Sr5ToO2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TijO0O2XEeWnDaII1mfokg" name="AbstractParticle" specification="_Sr9lEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TijO0e2XEeWnDaII1mfokg" type="_Sr3ecO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>position = new Vector3D(0,0,0);
		velocity = new Vector3D(0,0,0);
		acceleration = new Vector3D(0,0,0);
		forceAccumulated = new Vector3D(0,0,0);
		torqueAccumulated = new Vector3D(0,0,0);
		velocityAccumulated = new Vector3D(0,0,0);
		inverseMass = 0;
		inverseInertiaTensor = new Matrix3();
		orientation = new Quaternion(1,0,0,0);
		rotation = new Vector3D(0,0,0);
		netCharge = 0;
		particleCount++;
		guid = particleCount;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TijO0u2XEeWnDaII1mfokg" name="getGUID" specification="_Sr-MI-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TijO0-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return guid;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij14O2XEeWnDaII1mfokg" name="getPosition" specification="_Sr-zMO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij14e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.position;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij14u2XEeWnDaII1mfokg" name="setPosition" specification="_Sr-zMe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij14-2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij15O2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij15e2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij15u2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>position.x = x; position.y = y; position.z = z; position.metric = metric;
//		boundingPrimitive.updateCentre(x, y, z, metric);	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij15-2XEeWnDaII1mfokg" name="setPosition" specification="_SsB2gO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij16O2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij16e2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij16u2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>position.x = x; position.y = y; position.z = z;
		boundingPrimitive.updateCentre(x, y, z, position.metric);	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij16-2XEeWnDaII1mfokg" name="movePositionBy" specification="_SsCdkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij17O2XEeWnDaII1mfokg" name="dist_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij17e2XEeWnDaII1mfokg" name="dist_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij17u2XEeWnDaII1mfokg" name="dist_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij17-2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double metricDiff = metric - position.metric;
		if(metricDiff == 0) {
			position.x += dist_x;
			position.y += dist_y;
			position.z += dist_z;
		}
		else {
			double scale = Math.pow(10, metricDiff);
			position.x += dist_x*scale;
			position.y += dist_y*scale;
			position.z += dist_z*scale;
		}
		boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij18O2XEeWnDaII1mfokg" name="getVelocity" specification="_SsDrsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij18e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.velocity;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tij18u2XEeWnDaII1mfokg" name="setVelocity" specification="_SsESwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tij18-2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij19O2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tij19e2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc8O2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocity.x = x; velocity.y = y; velocity.z = z; velocity.metric = metric;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tikc8e2XEeWnDaII1mfokg" name="setVelocity" specification="_SsE50u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tikc8u2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc8-2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc9O2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocity.x = x; velocity.y = y; velocity.z = z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tikc9e2XEeWnDaII1mfokg" name="setVelocityAccumulated" specification="_SsFg4-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>setVelocity(velocityAccumulated.x,velocityAccumulated.y,velocityAccumulated.z);
		velocityAccumulated.clear();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tikc9u2XEeWnDaII1mfokg" name="addVelocityAccumulated" specification="_SsGH8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tikc9-2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc-O2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc-e2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc-u2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocityAccumulated.add(new Vector3D(x,y,z,metric));
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tikc--2XEeWnDaII1mfokg" name="addVelocityAccumulated" specification="_SsGvAe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tikc_O2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc_e2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tikc_u2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>velocityAccumulated.x += x; velocityAccumulated.y += y; velocityAccumulated.z += z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tikc_-2XEeWnDaII1mfokg" name="calculateVelocityChange" specification="_TUCRsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TikdAO2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TikdAe2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TikdAu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>if(this instanceof Atom) {
			Atom atom = (Atom) this;
			return atom.calculateVelocityChange(other, COEFFICIENT_OF_RESTITUTION);
		}
		else if (this instanceof Molecule){
			Molecule molecule = (Molecule) this;
			return molecule.calculateVelocityChange(other, COEFFICIENT_OF_RESTITUTION);
		}
		return null;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilEAO2XEeWnDaII1mfokg" name="getAcceleration" specification="_SsIkMO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilEAe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.acceleration;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilEAu2XEeWnDaII1mfokg" name="setAcceleration" specification="_SsJLQO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilEA-2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TilEBO2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TilEBe2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TilEBu2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>acceleration.x = x; acceleration.y = y; acceleration.z = z; acceleration.metric = metric;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilEB-2XEeWnDaII1mfokg" name="setAcceleration" specification="_SsKZYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilECO2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TilECe2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TilECu2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>acceleration.x = x; acceleration.y = y; acceleration.z = z;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilrEO2XEeWnDaII1mfokg" name="getMass" specification="_SsLngO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilrEe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return 1/this.inverseMass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilrEu2XEeWnDaII1mfokg" name="setMass" specification="_SsLngu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilrE-2XEeWnDaII1mfokg" name="mass">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(mass==0) 
			inverseMass = 0;
		else
			inverseMass = 1/mass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilrFO2XEeWnDaII1mfokg" name="getInverseMass" specification="_SsMOke2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilrFe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.inverseMass;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TilrFu2XEeWnDaII1mfokg" name="integrate" specification="_SsM1oO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TilrF-2XEeWnDaII1mfokg" name="duration">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(this instanceof Atom) {
			Atom atom = (Atom) this;
			atom.integrate(duration);
		}
		
		else if (this instanceof Molecule) {
			Molecule molecule = (Molecule) this;
			molecule.integrate(duration);
		}
		
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TimSIO2XEeWnDaII1mfokg" name="setInverseInertiaTensor" specification="_TUDf0e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TimSIe2XEeWnDaII1mfokg" name="inertiaTensor" type="_SuTHYO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.inverseInertiaTensor.setInverse(inertiaTensor);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TimSIu2XEeWnDaII1mfokg" name="rotateAroundAxis" specification="_SsNcsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TimSI-2XEeWnDaII1mfokg" name="axis_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TimSJO2XEeWnDaII1mfokg" name="axis_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TimSJe2XEeWnDaII1mfokg" name="axis_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TimSJu2XEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>rotateAroundAxis(new Vector3D(axis_x, axis_y, axis_z), angle);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TimSJ-2XEeWnDaII1mfokg" name="rotateAroundAxis" specification="_TUEt8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TimSKO2XEeWnDaII1mfokg" name="axis" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TimSKe2XEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Quaternion quaternion = new Quaternion(axis, angle);
		orientation.multiply(quaternion);
		Vector3D pos = position.rotatebyMatrix(orientation.toMatrix3());
		setPosition(pos.x, pos.y, pos.z);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TimSKu2XEeWnDaII1mfokg" name="clearAccumulator" specification="_SsODwe2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>forceAccumulated.clear();
		torqueAccumulated.clear();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TimSK-2XEeWnDaII1mfokg" name="addForce" specification="_TUEt8-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TimSLO2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>forceAccumulated.add(force);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5MO2XEeWnDaII1mfokg" name="addForceAtPoint" specification="_TUFVAe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5Me2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tim5Mu2XEeWnDaII1mfokg" name="point" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>forceAccumulated.add(force);
	    
		// Convert to coordinates relative to center of mass.
	    Vector3D dist = point;
	    dist.subtract(position);
	    
	    Vector3D torque = new Vector3D();
	    torque = dist.getCrossProduct(force);
	    torqueAccumulated.add(torque);    
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5M-2XEeWnDaII1mfokg" name="addTorque" specification="_TUI_YO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5NO2XEeWnDaII1mfokg" name="torque" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>torqueAccumulated.add(torque);    
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5Ne2XEeWnDaII1mfokg" name="getRotation" specification="_SsOq0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5Nu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.rotation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5N-2XEeWnDaII1mfokg" name="setRotation" specification="_TUJmce2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5OO2XEeWnDaII1mfokg" name="aRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.rotation = aRotation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5Oe2XEeWnDaII1mfokg" name="getOrientation" specification="_SsPR4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5Ou2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.orientation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tim5O-2XEeWnDaII1mfokg" name="setOrientation" specification="_TUKNge2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tim5PO2XEeWnDaII1mfokg" name="aOrientation" type="_SuoekO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.orientation = aOrientation;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TingQO2XEeWnDaII1mfokg" name="getBoundingPrimitive" specification="_SsP48O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TingQe2XEeWnDaII1mfokg" type="_StsqcO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.boundingPrimitive;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TingQu2XEeWnDaII1mfokg" name="setNetCharge" specification="_SsP48e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TingQ-2XEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>netCharge = charge;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TingRO2XEeWnDaII1mfokg" name="getNetCharge" specification="_SsQgAe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TingRe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return netCharge;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TingRu2XEeWnDaII1mfokg" name="equals" specification="_TcMvMO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TingR-2XEeWnDaII1mfokg" name="particle" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TingSO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if (particle == null) 
	        return false;
	    
	    if (getClass() != particle.getClass()) 
	        return false;
	    
	    final AbstractParticle other = (AbstractParticle) particle;
	    
	    //if(this.position != other.position || this.velocity != other.velocity || this.acceleration != other.acceleration || this.inverseMass != other.inverseMass)
	    if(this.guid != other.guid)	
	    	return false;
	    
	    return true;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_Sr9lEO2XEeWnDaII1mfokg" name="AbstractParticle" method="_TijO0O2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_Sr-MIO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_Sr-MIe2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_Sr-MIu2XEeWnDaII1mfokg" type="_Sr3ecO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sr-MI-2XEeWnDaII1mfokg" name="getGUID" method="_TijO0u2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4IO2XEeWnDaII1mfokg">
                      <body>Return the GUID assigned to this particle
	 * @return guid</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_Sr-MJO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sr-zMO2XEeWnDaII1mfokg" name="getPosition" method="_Tij14O2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4Ie2XEeWnDaII1mfokg">
                      <body>Return the position of this particle
	 * @return position</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TT8yIO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sr-zMe2XEeWnDaII1mfokg" name="setPosition" method="_Tij14u2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4Iu2XEeWnDaII1mfokg">
                      <body>Set the position of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_Sr_aQO2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Sr_aQe2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Sr_aQu2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Sr_aQ-2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsB2gO2XEeWnDaII1mfokg" name="setPosition" method="_Tij15-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4I-2XEeWnDaII1mfokg">
                      <body>Set the position of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsB2ge2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsB2gu2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsB2g-2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsCdkO2XEeWnDaII1mfokg" name="movePositionBy" method="_Tij16-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4JO2XEeWnDaII1mfokg">
                      <body>Move this particle by given distances
	 * @param dist_x
	 * @param dist_y
	 * @param dist_z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsDEoO2XEeWnDaII1mfokg" name="dist_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsDEoe2XEeWnDaII1mfokg" name="dist_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsDEou2XEeWnDaII1mfokg" name="dist_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsDEo-2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsDrsO2XEeWnDaII1mfokg" name="getVelocity" method="_Tij18O2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4Je2XEeWnDaII1mfokg">
                      <body>Return the velocity of this particle
	 * @return velocity</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUBqoO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsESwO2XEeWnDaII1mfokg" name="setVelocity" method="_Tij18u2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4Ju2XEeWnDaII1mfokg">
                      <body>Set the velocity of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsESwe2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsESwu2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsE50O2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsE50e2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsE50u2XEeWnDaII1mfokg" name="setVelocity" method="_Tikc8e2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4J-2XEeWnDaII1mfokg">
                      <body>Set the velocity of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsFg4O2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsFg4e2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsFg4u2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsFg4-2XEeWnDaII1mfokg" name="setVelocityAccumulated" method="_Tikc9e2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_Tjg4KO2XEeWnDaII1mfokg">
                      <body>Set the velocity accumulated as the velocity of this paricle</body>
                    </ownedComment>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsGH8O2XEeWnDaII1mfokg" name="addVelocityAccumulated" method="_Tikc9u2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfMO2XEeWnDaII1mfokg">
                      <body>Add the given velocity to velocity accumulated 
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsGH8e2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsGH8u2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsGH8-2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsGvAO2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsGvAe2XEeWnDaII1mfokg" name="addVelocityAccumulated" method="_Tikc--2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfMe2XEeWnDaII1mfokg">
                      <body>Add the given velocity to the velocity accumulated
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsGvAu2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsHWEO2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsHWEe2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsIkMO2XEeWnDaII1mfokg" name="getAcceleration" method="_TilEAO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfM-2XEeWnDaII1mfokg">
                      <body>Return acceleration of this particle
	 * @return acceleration</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUDf0O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsJLQO2XEeWnDaII1mfokg" name="setAcceleration" method="_TilEAu2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfNO2XEeWnDaII1mfokg">
                      <body>Set the acceleration of this particle
	 * @param x
	 * @param y
	 * @param z
	 * @param metric</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsJyUO2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsJyUe2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsJyUu2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsJyU-2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsKZYO2XEeWnDaII1mfokg" name="setAcceleration" method="_TilEB-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfNe2XEeWnDaII1mfokg">
                      <body>Set the acceleration of this particle
	 * @param x
	 * @param y
	 * @param z</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsKZYe2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsKZYu2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsKZY-2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsLngO2XEeWnDaII1mfokg" name="getMass" method="_TilrEO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfNu2XEeWnDaII1mfokg">
                      <body>Return mass of this particle
	 * @return mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsLnge2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsLngu2XEeWnDaII1mfokg" name="setMass" method="_TilrEu2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfN-2XEeWnDaII1mfokg">
                      <body>Set the mass of this particle
	 * @param mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsMOkO2XEeWnDaII1mfokg" name="mass">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsMOke2XEeWnDaII1mfokg" name="getInverseMass" method="_TilrFO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfOO2XEeWnDaII1mfokg">
                      <body>Return the inverse mass (1/mass) of this particle
	 * @return inverse mass</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsMOku2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsM1oO2XEeWnDaII1mfokg" name="integrate" method="_TilrFu2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfOe2XEeWnDaII1mfokg">
                      <body>Calculate the position, velocity and acceleration of the particle given a duration
	 * @param duration</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsM1oe2XEeWnDaII1mfokg" name="duration">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsNcsO2XEeWnDaII1mfokg" name="rotateAroundAxis" method="_TimSIu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsNcse2XEeWnDaII1mfokg" name="axis_x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsNcsu2XEeWnDaII1mfokg" name="axis_y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsNcs-2XEeWnDaII1mfokg" name="axis_z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_SsODwO2XEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsODwe2XEeWnDaII1mfokg" name="clearAccumulator" method="_TimSKu2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfOu2XEeWnDaII1mfokg">
                      <body>Clear the forces and torques accumulated</body>
                    </ownedComment>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsOq0O2XEeWnDaII1mfokg" name="getRotation" method="_Tim5Ne2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUJmcO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsPR4O2XEeWnDaII1mfokg" name="getOrientation" method="_Tim5Oe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUKNgO2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsP48O2XEeWnDaII1mfokg" name="getBoundingPrimitive" method="_TingQO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfPu2XEeWnDaII1mfokg">
                      <body>Return the bounding primitive of this particle
	 * @return bounding primitive</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUK0kO2XEeWnDaII1mfokg" type="_StsqcO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsP48e2XEeWnDaII1mfokg" name="setNetCharge" method="_TingQu2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfP-2XEeWnDaII1mfokg">
                      <body>Set the net charge of this particle
	 * @param charge</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsQgAO2XEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsQgAe2XEeWnDaII1mfokg" name="getNetCharge" method="_TingRO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfQO2XEeWnDaII1mfokg">
                      <body>Return the net charge of this particle
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_SsQgAu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUCRsO2XEeWnDaII1mfokg" name="calculateVelocityChange" method="_Tikc_-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfMu2XEeWnDaII1mfokg">
                      <body>Calculate the velocity of the particle after impact (given another particle)
	 * @param other
	 * @param COEFFICIENT_OF_RESTITUTION
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUCRse2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUCRsu2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TUCRs-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUDf0e2XEeWnDaII1mfokg" name="setInverseInertiaTensor" method="_TimSIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUEG4O2XEeWnDaII1mfokg" name="inertiaTensor" type="_SuTHYO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUEt8O2XEeWnDaII1mfokg" name="rotateAroundAxis" method="_TimSJ-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUEt8e2XEeWnDaII1mfokg" name="axis" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUEt8u2XEeWnDaII1mfokg" name="angle">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUEt8-2XEeWnDaII1mfokg" name="addForce" method="_TimSK-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfO-2XEeWnDaII1mfokg">
                      <body>Attach the given force to the particle
	 * @param force</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUFVAO2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUFVAe2XEeWnDaII1mfokg" name="addForceAtPoint" method="_Tim5MO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfPO2XEeWnDaII1mfokg">
                      <body>Apply the given force to the particle at the given point
	 * @param force
	 * @param point</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUFVAu2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUIYUO2XEeWnDaII1mfokg" name="point" type="_SuxogO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUI_YO2XEeWnDaII1mfokg" name="addTorque" method="_Tim5M-2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjhfPe2XEeWnDaII1mfokg">
                      <body>Add the given torque to this particle
	 * @param torque</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TUI_Ye2XEeWnDaII1mfokg" name="torque" type="_SuxogO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUJmce2XEeWnDaII1mfokg" name="setRotation" method="_Tim5N-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUJmcu2XEeWnDaII1mfokg" name="aRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUKNge2XEeWnDaII1mfokg" name="setOrientation" method="_Tim5O-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUKNgu2XEeWnDaII1mfokg" name="aOrientation" type="_SuoekO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcMvMO2XEeWnDaII1mfokg" name="equals" method="_TingRu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcMvMe2XEeWnDaII1mfokg" name="particle" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TcMvMu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SkJs4O2XEeWnDaII1mfokg" name="math">
                  <packagedElement xmi:type="uml:Class" xmi:id="_SuTHYO2XEeWnDaII1mfokg" name="Matrix3">
                    <ownedComment xmi:id="_TjjUYO2XEeWnDaII1mfokg">
                      <body>@author waiyan
Maths Module for 3x3 Matrix Calculations</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tf7_sO2XEeWnDaII1mfokg" name="data" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tf7_se2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tf8mwO2XEeWnDaII1mfokg" value="new double [9]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwqMO2XEeWnDaII1mfokg" name="Matrix3" specification="_SuTucO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TiwqMe2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>for(int i=0; i&lt;9; i++) data[i]=0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwqMu2XEeWnDaII1mfokg" name="Matrix3" specification="_SuUVgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TiwqM-2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqNO2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqNe2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqNu2XEeWnDaII1mfokg" name="d">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqN-2XEeWnDaII1mfokg" name="e">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqOO2XEeWnDaII1mfokg" name="f">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqOe2XEeWnDaII1mfokg" name="g">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqOu2XEeWnDaII1mfokg" name="h">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqO-2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiwqPO2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data[0] = a;	data[1] = b;	data[2] = c;
		data[3] = d;	data[4] = e;	data[5] = f;
		data[6] = g;	data[7] = h;	data[8] = i;	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwqPe2XEeWnDaII1mfokg" name="Matrix3" specification="_TVMIQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TiwqPu2XEeWnDaII1mfokg" name="v1" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TiwqP-2XEeWnDaII1mfokg" name="v2" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TiwqQO2XEeWnDaII1mfokg" name="v3" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TiwqQe2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data[0] = v1.x;	data[1]=v2.x;	data[2]=v3.x;
		data[3] = v1.y; data[4]=v2.y;	data[5]=v3.y;
		data[6] = v1.z; data[7]=v2.z;	data[8]=v3.z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TixRQO2XEeWnDaII1mfokg" name="equals" specification="_TcsecO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TixRQe2XEeWnDaII1mfokg" name="matrix3" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TixRQu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double epsilon = 1e-6;
		
	    if (matrix3 == null) 
	        return false;
	    
	    if (getClass() != matrix3.getClass()) 
	        return false;
	    
	    final Matrix3 other = (Matrix3) matrix3;
	    for(int i=0; i&lt;9; i++) {
	    	if(Math.abs(this.data[i]-other.data[i]) > epsilon)
	    		return false;
	    }
	    return true;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TixRQ-2XEeWnDaII1mfokg" name="multiplyAndReturn" specification="_TVMvUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TixRRO2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TixRRe2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 temp = new Matrix3();
		temp = this;
		temp.multiply(matrix);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TixRRu2XEeWnDaII1mfokg" name="multiply" specification="_TVNWYe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TixRR-2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Matrix3 temp = new Matrix3();
		temp.data[0] = data[0]*matrix.data[0] + data[1]*matrix.data[3] + data[2]*matrix.data[6];
		temp.data[1] = data[0]*matrix.data[1] + data[1]*matrix.data[4] + data[2]*matrix.data[7];
		temp.data[2] = data[0]*matrix.data[2] + data[1]*matrix.data[5] + data[2]*matrix.data[8];

		temp.data[3] = data[3]*matrix.data[0] + data[4]*matrix.data[3] + data[5]*matrix.data[6];
		temp.data[4] = data[3]*matrix.data[1] + data[4]*matrix.data[4] + data[5]*matrix.data[7];
		temp.data[5] = data[3]*matrix.data[2] + data[4]*matrix.data[5] + data[5]*matrix.data[8];
	
		temp.data[6] = data[6]*matrix.data[0] + data[7]*matrix.data[3] + data[8]*matrix.data[6];
		temp.data[7] = data[6]*matrix.data[1] + data[7]*matrix.data[4] + data[8]*matrix.data[7];
		temp.data[8] = data[6]*matrix.data[2] + data[7]*matrix.data[5] + data[8]*matrix.data[8];
		
		for(int i=0; i&lt;9; i++)
			data[i] =  temp.data[i];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TixRSO2XEeWnDaII1mfokg" name="scaleAndReturn" specification="_SuWxwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TixRSe2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TixRSu2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 matrix = new Matrix3();
		matrix = this;
		matrix.scale(scale);
		return matrix;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tix4UO2XEeWnDaII1mfokg" name="scale" specification="_SuXY0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tix4Ue2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0]*=scale; data[1]*= scale; data[2]*=scale;
		data[3]*=scale; data[4]*= scale; data[5]*=scale;
		data[6]*=scale; data[7]*= scale; data[8]*=scale;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tix4Uu2XEeWnDaII1mfokg" name="add" specification="_TVN9ce2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tix4U-2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] += matrix.data[0];	data[1] += matrix.data[1];	data[2] += matrix.data[2];
		data[3] += matrix.data[3];	data[4] += matrix.data[4];	data[5] += matrix.data[5];
		data[6] += matrix.data[6];	data[7] += matrix.data[7];	data[8] += matrix.data[8];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tix4VO2XEeWnDaII1mfokg" name="setDiagonal" specification="_SuX_4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tix4Ve2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tix4Vu2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tix4V-2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>setInertiaTensorCoeffs(a,b,c,0,0,0);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiyfYO2XEeWnDaII1mfokg" name="setInertiaTensorCoeffs" specification="_SuZOAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TiyfYe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiyfYu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiyfY-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiyfZO2XEeWnDaII1mfokg" name="xy">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiyfZe2XEeWnDaII1mfokg" name="xz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TiyfZu2XEeWnDaII1mfokg" name="yz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0] = x;
     data[1] = data[3] = -xy;
     data[2] = data[6] = -xz;
     data[4] = y;
     data[5] = data[7] = -yz;
     data[8] = z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TizGcO2XEeWnDaII1mfokg" name="transform" specification="_TVOkgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TizGce2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TizGcu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[1] + vector.z*data[2],
								vector.x*data[3] + vector.y*data[4] + vector.z*data[5],
								vector.x*data[6] + vector.y*data[7] + vector.z*data[8] );
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TizGc-2XEeWnDaII1mfokg" name="transform" specification="_TVPLkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TizGdO2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TizGde2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Matrix3 (
				data[0]*matrix.data[0] + data[1]*matrix.data[3] + data[2]*matrix.data[6],
				data[0]*matrix.data[1] + data[1]*matrix.data[4] + data[2]*matrix.data[7],
				data[0]*matrix.data[2] + data[1]*matrix.data[5] + data[2]*matrix.data[8],
				data[3]*matrix.data[0] + data[4]*matrix.data[3] + data[5]*matrix.data[6],
				data[3]*matrix.data[1] + data[4]*matrix.data[4] + data[5]*matrix.data[7],
				data[3]*matrix.data[2] + data[4]*matrix.data[5] + data[5]*matrix.data[8],
				data[6]*matrix.data[0] + data[7]*matrix.data[3] + data[8]*matrix.data[6],
				data[6]*matrix.data[1] + data[7]*matrix.data[4] + data[8]*matrix.data[7],
				data[6]*matrix.data[2] + data[7]*matrix.data[5] + data[8]*matrix.data[8]
		);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TizGdu2XEeWnDaII1mfokg" name="transformTranspose" specification="_TVPyoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TizGd-2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TizGeO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(
         vector.x * data[0] + vector.y * data[3] + vector.z * data[6],
         vector.x * data[1] + vector.y * data[4] + vector.z * data[7],
         vector.x * data[2] + vector.y * data[5] + vector.z * data[8]
     );
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiztgO2XEeWnDaII1mfokg" name="getRowVector" specification="_SuacIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tiztge2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tiztgu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D (data[i*3], data[i*3+1], data[i*3+2]);
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiztg-2XEeWnDaII1mfokg" name="getAxisVector" specification="_SubDMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TizthO2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tizthe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D (data[i], data[i+3], data[i+6]);
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tizthu2XEeWnDaII1mfokg" name="setInverse" specification="_TVPype2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tizth-2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double t1 = matrix.data[0]*matrix.data[4];
		double t2 = matrix.data[0]*matrix.data[5];
		double t3 = matrix.data[1]*matrix.data[3];
		double t4 = matrix.data[2]*matrix.data[3];
		double t5 = matrix.data[1]*matrix.data[6];
		double t6 = matrix.data[2]*matrix.data[6];
		
		double det = (t1*matrix.data[8] - t2*matrix.data[7] - t3*matrix.data[8]+
             t4*matrix.data[7] + t5*matrix.data[5] - t6*matrix.data[4]);

	    // Make sure the determinant is non-zero.
	    if (det == 0) return;
	    double idet = 1/det;
	    
	    data[0] = (matrix.data[4]*matrix.data[8]-matrix.data[5]*matrix.data[7])*idet;
	    data[1] = -(matrix.data[1]*matrix.data[8]-matrix.data[2]*matrix.data[7])*idet;
	    data[2] = (matrix.data[1]*matrix.data[5]-matrix.data[2]*matrix.data[4])*idet;
	    data[3] = -(matrix.data[3]*matrix.data[8]-matrix.data[5]*matrix.data[6])*idet;
	    data[4] = (matrix.data[0]*matrix.data[8]-t6)*idet;
	    data[5] = -(t2-t4)*idet;
	    data[6] = (matrix.data[3]*matrix.data[7]-matrix.data[4]*matrix.data[6])*idet;
	    data[7] = -(matrix.data[0]*matrix.data[7]-t5)*idet;
	    data[8] = (t1-t3)*idet;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0UkO2XEeWnDaII1mfokg" name="inverse" specification="_SubqQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti0Uke2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 matrix = new Matrix3();
		matrix.setInverse(this);
		return matrix;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0Uku2XEeWnDaII1mfokg" name="invert" specification="_SucRUO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>setInverse(this);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0Uk-2XEeWnDaII1mfokg" name="setTranspose" specification="_TVQZsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti0UlO2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = matrix.data[0];
     data[1] = matrix.data[3];
     data[2] = matrix.data[6];
     data[3] = matrix.data[1];
     data[4] = matrix.data[4];
     data[5] = matrix.data[7];
     data[6] = matrix.data[2];
     data[7] = matrix.data[5];
     data[8] = matrix.data[8];      
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0Ule2XEeWnDaII1mfokg" name="transpose" specification="_SucRUe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti0Ulu2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix3 m = new Matrix3();
		m.setTranspose(this);
		return m;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0Ul-2XEeWnDaII1mfokg" name="setOrientation" specification="_TVRAwe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti0UmO2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = 1 - (2*q.j*q.j + 2*q.k*q.k);
     data[1] = 2*q.i*q.j + 2*q.k*q.r;
     data[2] = 2*q.i*q.k - 2*q.j*q.r;
     data[3] = 2*q.i*q.j - 2*q.k*q.r;
     data[4] = 1 - (2*q.i*q.i  + 2*q.k*q.k);
     data[5] = 2*q.j*q.k + 2*q.i*q.r;
     data[6] = 2*q.i*q.k + 2*q.j*q.r;
     data[7] = 2*q.j*q.k - 2*q.i*q.r;
     data[8] = 1 - (2*q.i*q.i  + 2*q.j*q.j);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti0Ume2XEeWnDaII1mfokg" name="print" specification="_Suc4YO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(data[0] + &quot;, &quot; + data [1] + &quot;, &quot; + data[2]);
		System.out.println(data[3] + &quot;, &quot; + data [4] + &quot;, &quot; + data[5]);
		System.out.println(data[6] + &quot;, &quot; + data [7] + &quot;, &quot; + data[8]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SuTucO2XEeWnDaII1mfokg" name="Matrix3" method="_TiwqMO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SuTuce2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SuTucu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_SuTuc-2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuUVgO2XEeWnDaII1mfokg" name="Matrix3" method="_TiwqMu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SuU8lu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SuU8l-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjjUYe2XEeWnDaII1mfokg">
                        <body>In the form of
	 * 	a	b	c
	 *  d	e	f
	 *  g	h	i</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SuUVge2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuUVgu2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuUVg-2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8kO2XEeWnDaII1mfokg" name="d">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8ke2XEeWnDaII1mfokg" name="e">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8ku2XEeWnDaII1mfokg" name="f">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8k-2XEeWnDaII1mfokg" name="g">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8lO2XEeWnDaII1mfokg" name="h">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8le2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuU8mO2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuWxwO2XEeWnDaII1mfokg" name="scaleAndReturn" method="_TixRSO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUZe2XEeWnDaII1mfokg">
                        <body>Scale this matrix with the given coefficient and return the result
	 * @param scale
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SuWxwe2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVN9cO2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuXY0O2XEeWnDaII1mfokg" name="scale" method="_Tix4UO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUZu2XEeWnDaII1mfokg">
                        <body>Scale this matrix with the given coefficient
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SuXY0e2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuX_4O2XEeWnDaII1mfokg" name="setDiagonal" method="_Tix4VO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SuYm8O2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuYm8e2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuYm8u2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuZOAO2XEeWnDaII1mfokg" name="setInertiaTensorCoeffs" method="_TiyfYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SuZOAe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuZOAu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuZOA-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuZOBO2XEeWnDaII1mfokg" name="xy">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuZOBe2XEeWnDaII1mfokg" name="xz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SuZ1EO2XEeWnDaII1mfokg" name="yz">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuacIO2XEeWnDaII1mfokg" name="getRowVector" method="_TiztgO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUa-2XEeWnDaII1mfokg">
                        <body>Gets a vector representing one row in the matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SuacIe2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVPyo-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SubDMO2XEeWnDaII1mfokg" name="getAxisVector" method="_Tiztg-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUbO2XEeWnDaII1mfokg">
                        <body>Gets a vector representing one axis (i.e. one column) in the matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SubDMe2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVPypO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SubqQO2XEeWnDaII1mfokg" name="inverse" method="_Ti0UkO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7cO2XEeWnDaII1mfokg">
                        <body>Return the inverse of this matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVQZse2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SucRUO2XEeWnDaII1mfokg" name="invert" method="_Ti0Uku2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7ce2XEeWnDaII1mfokg">
                        <body>Invert this matrix</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SucRUe2XEeWnDaII1mfokg" name="transpose" method="_Ti0Ule2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7c-2XEeWnDaII1mfokg">
                        <body>Return the transpose of this matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVRAwO2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Suc4YO2XEeWnDaII1mfokg" name="print" method="_Ti0Ume2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_TVMIQO2XEeWnDaII1mfokg" name="Matrix3" method="_TiwqPe2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TVMIRO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TVMIRe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjjUYu2XEeWnDaII1mfokg">
                        <body>Construct a 3x3 Matrix given 3 columns of the matrix
	 * @param v1
	 * @param v2
	 * @param v3</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVMIQe2XEeWnDaII1mfokg" name="v1" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVMIQu2XEeWnDaII1mfokg" name="v2" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVMIQ-2XEeWnDaII1mfokg" name="v3" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVMIRu2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVMvUO2XEeWnDaII1mfokg" name="multiplyAndReturn" method="_TixRQ-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUY-2XEeWnDaII1mfokg">
                        <body>Multiply this matrix with the given matrix and return the result.
	 * @param matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVMvUe2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVNWYO2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVNWYe2XEeWnDaII1mfokg" name="multiply" method="_TixRRu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUZO2XEeWnDaII1mfokg">
                        <body>Multiply this matrix with the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVNWYu2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVN9ce2XEeWnDaII1mfokg" name="add" method="_Tix4Uu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUZ-2XEeWnDaII1mfokg">
                        <body>Add this matrix with the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVN9cu2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVOkgO2XEeWnDaII1mfokg" name="transform" method="_TizGcO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUaO2XEeWnDaII1mfokg">
                        <body>Transform the given vector by this matrix
	 * @param vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVOkge2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVOkgu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVPLkO2XEeWnDaII1mfokg" name="transform" method="_TizGc-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUae2XEeWnDaII1mfokg">
                        <body>Transform the given matrix by this matrix
	 * @param matrix
	 * @return matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVPLke2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVPLku2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVPyoO2XEeWnDaII1mfokg" name="transformTranspose" method="_TizGdu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUau2XEeWnDaII1mfokg">
                        <body>Transform the given vector by the transpose of this matrix. 
	 * @param vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVPyoe2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVPyou2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVPype2XEeWnDaII1mfokg" name="setInverse" method="_Tizthu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjjUbe2XEeWnDaII1mfokg">
                        <body>Sets the matrix to be the inverse of the given matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVQZsO2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVQZsu2XEeWnDaII1mfokg" name="setTranspose" method="_Ti0Uk-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7cu2XEeWnDaII1mfokg">
                        <body>Set this matrix as the transpose of the given matrix
	 * @param matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVQZs-2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVRAwe2XEeWnDaII1mfokg" name="setOrientation" method="_Ti0Ul-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7dO2XEeWnDaII1mfokg">
                        <body>Sets this matrix to be the rotation matrix corresponding to the given quaternion.
	 * Transform the quaternion into a 3x3 Matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVRAwu2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TcsecO2XEeWnDaII1mfokg" name="equals" method="_TixRQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tcsece2XEeWnDaII1mfokg" name="matrix3" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tcsecu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SuhJ0O2XEeWnDaII1mfokg" name="Matrix4">
                    <ownedAttribute xmi:id="_Tf9N0O2XEeWnDaII1mfokg" name="data" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tf9N0e2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tf9N0-2XEeWnDaII1mfokg" value="new double [12]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti07oO2XEeWnDaII1mfokg" name="Matrix4" specification="_SuiX8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti07oe2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>data [0] = data [5] = data [10] = 1;
		data [1] = data [2] = data [3] = 0;
		data [4] = data [6] = data [7] = 0;
		data [8] = data [9] = data [11] = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti1isO2XEeWnDaII1mfokg" name="Matrix4" specification="_Sui_AO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti1ise2XEeWnDaII1mfokg" name="data">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Ti1isu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti1is-2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>for(int i=0; i&lt;12; i++)
			this.data[i] = data[i];
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti1itO2XEeWnDaII1mfokg" name="multiply" specification="_TVRn0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti1ite2XEeWnDaII1mfokg" name="m" type="_SuhJ0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti1itu2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Matrix4 temp = new Matrix4();
		temp.data[0] = (m.data[0]*data[0]) + (m.data[4]*data[1]) + (m.data[8]*data[2]);
     temp.data[4] = (m.data[0]*data[4]) + (m.data[4]*data[5]) + (m.data[8]*data[6]);
     temp.data[8] = (m.data[0]*data[8]) + (m.data[4]*data[9]) + (m.data[8]*data[10]);

     temp.data[1] = (m.data[1]*data[0]) + (m.data[5]*data[1]) + (m.data[9]*data[2]);
     temp.data[5] = (m.data[1]*data[4]) + (m.data[5]*data[5]) + (m.data[9]*data[6]);
     temp.data[9] = (m.data[1]*data[8]) + (m.data[5]*data[9]) + (m.data[9]*data[10]);

     temp.data[2] = (m.data[2]*data[0]) + (m.data[6]*data[1]) + (m.data[10]*data[2]);
     temp.data[6] = (m.data[2]*data[4]) + (m.data[6]*data[5]) + (m.data[10]*data[6]);
     temp.data[10] = (m.data[2]*data[8]) + (m.data[6]*data[9]) + (m.data[10]*data[10]);

     temp.data[3] = (m.data[3]*data[0]) + (m.data[7]*data[1]) + (m.data[11]*data[2]) + data[3];
     temp.data[7] = (m.data[3]*data[4]) + (m.data[7]*data[5]) + (m.data[11]*data[6]) + data[7];
     temp.data[11] = (m.data[3]*data[8]) + (m.data[7]*data[9]) + (m.data[11]*data[10]) + data[11];
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti1it-2XEeWnDaII1mfokg" name="transform" specification="_TVSO4u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti1iuO2XEeWnDaII1mfokg" name="v" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti1iue2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	v.x*data[0] + v.y*data[1] + v.z*data[2] + data[3],
								v.x*data[4] + v.y*data[5] + v.z*data[6] + data[7],
								v.x*data[8] + v.y*data[9] + v.z*data[10] + data[11]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2JwO2XEeWnDaII1mfokg" name="setDiagonal" specification="_SukNIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2Jwe2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti2Jwu2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti2Jw-2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>data[0] = a;
		data[5] = b;
		data [10] = c;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2JxO2XEeWnDaII1mfokg" name="setOrientationAndPos" specification="_TVS18O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2Jxe2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti2Jxu2XEeWnDaII1mfokg" name="pos" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>data[0] = 1 - (2*q.j*q.j + 2*q.k*q.k);
     data[1] = 2*q.i*q.j + 2*q.k*q.r;
     data[2] = 2*q.i*q.k - 2*q.j*q.r;
     data[3] = pos.x;

     data[4] = 2*q.i*q.j - 2*q.k*q.r;
     data[5] = 1 - (2*q.i*q.i  + 2*q.k*q.k);
     data[6] = 2*q.j*q.k + 2*q.i*q.r;
     data[7] = pos.y;

     data[8] = 2*q.i*q.k + 2*q.j*q.r;
     data[9] = 2*q.j*q.k - 2*q.i*q.r;
     data[10] = 1 - (2*q.i*q.i  + 2*q.j*q.j);
     data[11] = pos.z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2Jx-2XEeWnDaII1mfokg" name="transformInverse" specification="_TVS18-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2JyO2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti2Jye2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D tmp = vector;
     tmp.x -= data[3];
     tmp.y -= data[7];
     tmp.z -= data[11];
     
     return new Vector3D(tmp.x * data[0] + tmp.y * data[4] + tmp.z * data[8],
     					tmp.x * data[1] + tmp.y * data[5] + tmp.z * data[9],
	        				tmp.x * data[2] + tmp.y * data[6] + tmp.z * data[10]
     );
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2Jyu2XEeWnDaII1mfokg" name="transformDirection" specification="_TVTdAe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2Jy-2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti2JzO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[1] + vector.z*data[2],
								vector.x*data[4] + vector.y*data[5] + vector.z*data[6],
								vector.x*data[8] + vector.y*data[9] + vector.z*data[10]
							);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2w0O2XEeWnDaII1mfokg" name="transformInverseDirection" specification="_TVTdBO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2w0e2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti2w0u2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D ( 	vector.x*data[0] + vector.y*data[4] + vector.z*data[8],
								vector.x*data[1] + vector.y*data[5] + vector.z*data[9],
								vector.x*data[2] + vector.y*data[6] + vector.z*data[10]
							);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2w0-2XEeWnDaII1mfokg" name="getAxisVector" specification="_SulbQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2w1O2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti2w1e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(data[i], data[i+4], data[i+8]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2w1u2XEeWnDaII1mfokg" name="print" specification="_SumCUO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(data[0] + &quot;, &quot; + data [1] + &quot;, &quot; + data[2] + &quot;, &quot; + data[3]);
		System.out.println(data[4] + &quot;, &quot; + data [5] + &quot;, &quot; + data[6] + &quot;, &quot; + data[7]);
		System.out.println(data[8] + &quot;, &quot; + data [9] + &quot;, &quot; + data[10] + &quot;, &quot; + data[11]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SuiX8O2XEeWnDaII1mfokg" name="Matrix4" method="_Ti07oO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SuiX8e2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SuiX8u2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_Tjj7de2XEeWnDaII1mfokg">
                        <body>Construct a 3x4 identity matrix</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SuiX8-2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sui_AO2XEeWnDaII1mfokg" name="Matrix4" method="_Ti1isO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Sui_Au2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Sui_A-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Sui_Ae2XEeWnDaII1mfokg" name="data">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SujmEu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SujmEe2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SukNIO2XEeWnDaII1mfokg" name="setDiagonal" method="_Ti2JwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Suk0MO2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suk0Me2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suk0Mu2XEeWnDaII1mfokg" name="c">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SulbQO2XEeWnDaII1mfokg" name="getAxisVector" method="_Ti2w0-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7eu2XEeWnDaII1mfokg">
                        <body>Gets a vector representing one axis (i.e. one column) in the matrix.
     * @param i=3 corresponds to the position of the transform matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SulbQe2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVUEEu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SumCUO2XEeWnDaII1mfokg" name="print" method="_Ti2w1u2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_TVRn0O2XEeWnDaII1mfokg" name="multiply" method="_Ti1itO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7du2XEeWnDaII1mfokg">
                        <body>Returns a matrix which is this matrix multiplied by the given other matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVSO4O2XEeWnDaII1mfokg" name="m" type="_SuhJ0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVSO4e2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVSO4u2XEeWnDaII1mfokg" name="transform" method="_Ti1it-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7d-2XEeWnDaII1mfokg">
                        <body>Transform the given vector by this matrix.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVSO4-2XEeWnDaII1mfokg" name="v" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVSO5O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVS18O2XEeWnDaII1mfokg" name="setOrientationAndPos" method="_Ti2JxO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVS18e2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVS18u2XEeWnDaII1mfokg" name="pos" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVS18-2XEeWnDaII1mfokg" name="transformInverse" method="_Ti2Jx-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7eO2XEeWnDaII1mfokg">
                        <body>If the matrix is not a scale and shear free transform matrix, then this functioN will not give correct results. 
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVS19O2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVTdAO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVTdAe2XEeWnDaII1mfokg" name="transformDirection" method="_Ti2Jyu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVTdAu2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVTdA-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVTdBO2XEeWnDaII1mfokg" name="transformInverseDirection" method="_Ti2w0O2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7ee2XEeWnDaII1mfokg">
                        <body>If the matrix is not a scale and shear free transform matrix, then this functioN will not give correct results.
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVUEEO2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVUEEe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SuoekO2XEeWnDaII1mfokg" name="Quaternion">
                    <ownedComment xmi:id="_Tjj7e-2XEeWnDaII1mfokg">
                      <body>@author waiyan
A quaternion represents the orientation
 is the angle, x,y,z are axis</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tf-b8O2XEeWnDaII1mfokg" name="r">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tf_DAe2XEeWnDaII1mfokg" name="i">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tf_qEe2XEeWnDaII1mfokg" name="j">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgARIO2XEeWnDaII1mfokg" name="k">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti2w1-2XEeWnDaII1mfokg" name="Quaternion" specification="_SupssO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti2w2O2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>r = 1; 
		i = j = k = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X4O2XEeWnDaII1mfokg" name="Quaternion" specification="_TVUrIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3X4e2XEeWnDaII1mfokg" name="axis" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti3X4u2XEeWnDaII1mfokg" name="degAngle">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti3X4-2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double half_theta = degAngle * Math.PI / 360; // theta = angle * PI/180;
		double sin_half_theta = Math.sin(half_theta);
		r = Math.cos(half_theta);
		i = axis.x * sin_half_theta;
		j = axis.y * sin_half_theta;
		k = axis.z * sin_half_theta;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X5O2XEeWnDaII1mfokg" name="getVector" specification="_SuqTwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3X5e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp= new Vector3D();
		double sin_half_theta = Math.sqrt(1-r*r);
		temp.x = i/sin_half_theta;
		temp.y = j/sin_half_theta;
		temp.z = k/sin_half_theta;
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X5u2XEeWnDaII1mfokg" name="Quaternion" specification="_Suq60O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3X5-2XEeWnDaII1mfokg" name="r">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti3X6O2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti3X6e2XEeWnDaII1mfokg" name="j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti3X6u2XEeWnDaII1mfokg" name="k">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti3X6-2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.r = r; this.i = i; this.j = j; this.k = k;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X7O2XEeWnDaII1mfokg" name="setQuaternion" specification="_TVVSMe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3X7e2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>r=q.r; i=q.i; j=q.j; k=q.k;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X7u2XEeWnDaII1mfokg" name="normalize" specification="_Surh4O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double mag = r*r + i*i + j*j + k*k;
		if(mag &lt; Init.machineEpsilon){
			r = 1;
			return;
		}
		mag = 1/Math.sqrt(mag);
		r*=mag; 
		i*=mag; j*=mag; k*=mag;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3X7-2XEeWnDaII1mfokg" name="multiply" specification="_TVV5QO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3-8O2XEeWnDaII1mfokg" name="mul" type="_SuoekO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Quaternion temp = new Quaternion();
		temp.r = r * mul.r - i * mul.i - j * mul.j - k * mul.k;
		temp.i = r * mul.i + i * mul.r + j * mul.k - k * mul.j;
		temp.j = r * mul.j + j * mul.r + k * mul.i - i * mul.k;
		temp.k = r * mul.k + k * mul.r + i * mul.j - j * mul.i;
		setQuaternion(temp);
	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3-8e2XEeWnDaII1mfokg" name="rotateByVector" specification="_TVV5Qu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3-8u2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Quaternion q = new Quaternion(0, vector.x, vector.y, vector.z);
		this.multiply(q);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3-8-2XEeWnDaII1mfokg" name="addScaledVector" specification="_TVWgUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3-9O2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti3-9e2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Quaternion q  = new Quaternion(0, vector.x*scale, vector.y*scale, vector.z*scale);
		q.multiply(this);
		r += q.r/2;
		i += q.i/2;
		j += q.j/2;
		k += q.k/2;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3-9u2XEeWnDaII1mfokg" name="toMatrix3" specification="_SusI8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3-9-2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double data [] = new double[9];
		data[0] = 1 - (2*j*j + 2*k*k);
     data[1] = 2*i*j + 2*k*r;
     data[2] = 2*i*k - 2*j*r;
     data[3] = 2*i*j - 2*k*r;
     data[4] = 1 - (2*i*i  + 2*k*k);
     data[5] = 2*j*k + 2*i*r;
     data[6] = 2*i*k + 2*j*r;
     data[7] = 2*j*k - 2*i*r;
     data[8] = 1 - (2*i*i  + 2*j*j);
     return new Matrix3(data[0], data[1], data[2], data[3], data[4], data[5], data[6], data[7], data[8]);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3--O2XEeWnDaII1mfokg" name="toMatrix4" specification="_TVWgVO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3--e2XEeWnDaII1mfokg" name="pos" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti3--u2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double data[] = new double [12];
		data[0] = 1 - (2*j*j + 2*k*k);
     data[1] = 2*i*j + 2*k*r;
     data[2] = 2*i*k - 2*j*r;
     data[3] = pos.x;
     data[4] = 2*i*j - 2*k*r;
     data[5] = 1 - (2*i*i  + 2*k*k);
     data[6] = 2*j*k + 2*i*r;
     data[7] = pos.y;
     data[8] = 2*i*k + 2*j*r;
     data[9] = 2*j*k - 2*i*r;
     data[10] = 1 - (2*i*i  + 2*j*j);
     data[11] = pos.z;
		return new Matrix4(data);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti3---2XEeWnDaII1mfokg" name="print" specification="_SusI8e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti3-_O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String str = &quot;&quot;;
		str += &quot;r = &quot; + r + &quot;\n&quot; ;
		str += &quot;i = &quot; + i + &quot;\n&quot; ;
		str += &quot;j = &quot; + j + &quot;\n&quot; ;
		str += &quot;k = &quot; + k + &quot;\n&quot; ;
		return str;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SupssO2XEeWnDaII1mfokg" name="Quaternion" method="_Ti2w1-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Supsse2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Supssu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Supss-2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuqTwO2XEeWnDaII1mfokg" name="getVector" method="_Ti3X5O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVVSMO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Suq60O2XEeWnDaII1mfokg" name="Quaternion" method="_Ti3X5u2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Suq61e2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Suq61u2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Suq60e2XEeWnDaII1mfokg" name="r">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suq60u2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suq60-2XEeWnDaII1mfokg" name="j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suq61O2XEeWnDaII1mfokg" name="k">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suq61-2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Surh4O2XEeWnDaII1mfokg" name="normalize" method="_Ti3X7u2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7fO2XEeWnDaII1mfokg">
                        <body>Normalize the quaternion</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SusI8O2XEeWnDaII1mfokg" name="toMatrix3" method="_Ti3-9u2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7gO2XEeWnDaII1mfokg">
                        <body>Transform this quaternion to a 3x3 Matrix
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVWgU-2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SusI8e2XEeWnDaII1mfokg" name="print" method="_Ti3---2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SusI8u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVUrIO2XEeWnDaII1mfokg" name="Quaternion" method="_Ti3X4O2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TVUrI-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TVUrJO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TVUrIe2XEeWnDaII1mfokg" name="axis" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVUrIu2XEeWnDaII1mfokg" name="degAngle">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVUrJe2XEeWnDaII1mfokg" type="_SuoekO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVVSMe2XEeWnDaII1mfokg" name="setQuaternion" method="_Ti3X7O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVVSMu2XEeWnDaII1mfokg" name="q" type="_SuoekO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVV5QO2XEeWnDaII1mfokg" name="multiply" method="_Ti3X7-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7fe2XEeWnDaII1mfokg">
                        <body>Multiplies a quaternion by another quaternion
	 * @param mul</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVV5Qe2XEeWnDaII1mfokg" name="mul" type="_SuoekO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVV5Qu2XEeWnDaII1mfokg" name="rotateByVector" method="_Ti3-8e2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7fu2XEeWnDaII1mfokg">
                        <body>Rotate the quaternion by a given vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVV5Q-2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVWgUO2XEeWnDaII1mfokg" name="addScaledVector" method="_Ti3-8-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7f-2XEeWnDaII1mfokg">
                        <body>Add a scaled vector to this quaternion
	 * @param vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVWgUe2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVWgUu2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVWgVO2XEeWnDaII1mfokg" name="toMatrix4" method="_Ti3--O2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7ge2XEeWnDaII1mfokg">
                        <body>Transform this quaternion to a 3x4 Matrix
	 * @param pos
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVWgVe2XEeWnDaII1mfokg" name="pos" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVWgVu2XEeWnDaII1mfokg" type="_SuhJ0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SuxogO2XEeWnDaII1mfokg" name="Vector3D">
                    <ownedAttribute xmi:id="_TgA4MO2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgBfQe2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgBfQ-2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgCGUe2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mAO2XEeWnDaII1mfokg" name="Vector3D" specification="_Suy2oO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti4mAe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>x = y = z = metric = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mAu2XEeWnDaII1mfokg" name="Vector3D" specification="_TVY8kO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti4mA-2XEeWnDaII1mfokg" name="v" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti4mBO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = v.x; this.y = v.y; this.z = v.z; this.metric = v.metric;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mBe2XEeWnDaII1mfokg" name="Vector3D" specification="_SuzdsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti4mBu2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mB-2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mCO2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mCe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = x; this.y = y; this.z = z; this.metric = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mCu2XEeWnDaII1mfokg" name="Vector3D" specification="_Su0r0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti4mC-2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mDO2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mDe2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mDu2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti4mD-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.x = x; this.y = y; this.z = z; this.metric = metric;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mEO2XEeWnDaII1mfokg" name="equals" specification="_Tcu6sO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti4mEe2XEeWnDaII1mfokg" name="vector" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti4mEu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if (vector == null) 
	        return false;
	    
	    if (getClass() != vector.getClass()) 
	        return false;
	    
	    final Vector3D other = (Vector3D) vector;
	    if(this.x != other.x || this.y != other.y || this.z != other.z || this.metric != other.metric)
	    	return false;
	    
	    return true;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti4mE-2XEeWnDaII1mfokg" name="invert" specification="_Su1S4u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>x=-x; y=-y; z=-z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NEO2XEeWnDaII1mfokg" name="getNegativeVector" specification="_Su158O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NEe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return new Vector3D(-x,-y,-z,metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NEu2XEeWnDaII1mfokg" name="clear" specification="_Su158e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>x = y = z = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NE-2XEeWnDaII1mfokg" name="round" specification="_Su158u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double roundOffVal = 1e7;
		if(x==0 || y==0 || z==0)
			return;
		x = (double)Math.round(x * roundOffVal) / roundOffVal;
		y = (double)Math.round(y * roundOffVal) / roundOffVal;
		z = (double)Math.round(z * roundOffVal) / roundOffVal;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NFO2XEeWnDaII1mfokg" name="getMagnitude" specification="_Su2hAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NFe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(x*x + y *y + z*z);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NFu2XEeWnDaII1mfokg" name="getSquaredMagnitude" specification="_Su2hAu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NF-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return x*x + y *y + z*z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NGO2XEeWnDaII1mfokg" name="normalize" specification="_Su3IEe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double temp = getMagnitude();
		if(temp > 0)
			this.scale(1/temp);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NGe2XEeWnDaII1mfokg" name="getUnitVector" specification="_Su3IEu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NGu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.normalize();
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NG-2XEeWnDaII1mfokg" name="add" specification="_TVaKsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NHO2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double metricDiff = this.metric - vector.metric;
		if(metricDiff == 0){
			x += vector.x;
			y += vector.y;
			z += vector.z;
		}
		else if (metricDiff >0) { // 1ms - 500us
			double scale = Math.pow(10, metricDiff);
			x = x * scale + vector.x;
			y = y * scale + vector.y;
			z = z * scale + vector.z;
			metric = vector.metric;
		}
		else{	//1us - 1ms
			double scale = Math.pow(10, -metricDiff);
			x += vector.x * scale;
			y += vector.y * scale;
			z += vector.z * scale;
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti5NHe2XEeWnDaII1mfokg" name="addAndReturn" specification="_TVaKsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti5NHu2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti5NH-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.add(vector);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50IO2XEeWnDaII1mfokg" name="subtractAndReturn" specification="_TVaxwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50Ie2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti50Iu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D temp = new Vector3D();
		temp.add(this);
		temp.subtract(vector);
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50I-2XEeWnDaII1mfokg" name="subtract" specification="_TVaxw-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50JO2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>add(vector.getNegativeVector());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50Je2XEeWnDaII1mfokg" name="addScaledVector" specification="_TVbY0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50Ju2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti50J-2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>vector.scale(scale);
		add(vector);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50KO2XEeWnDaII1mfokg" name="scale" specification="_Su3vIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50Ke2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>x *= scale;
		y *= scale;
		z *= scale;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50Ku2XEeWnDaII1mfokg" name="getScalarProduct" specification="_TVb_4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50K-2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti50LO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double metricDiff = vector.metric - this.metric;
		if(metricDiff == 0)
			return x*vector.x + y*vector.y + z*vector.z;
		else {
			double scale = Math.pow(10, metricDiff);
			return x*scale*vector.x + y*scale*vector.y + z*scale*vector.z;
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti50Le2XEeWnDaII1mfokg" name="getCrossProduct" specification="_TVitkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti50Lu2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti50L-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double scale = Math.pow(10, vector.metric - this.metric);
		double new_x = (y*vector.z - z*vector.y)*scale;
		double new_y = (z*vector.x - x*vector.z)*scale;
		double new_z = (x*vector.y - y*vector.x)*scale;
		return new Vector3D(new_x,new_y,new_z,metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti6bMO2XEeWnDaII1mfokg" name="getComponentProduct" specification="_TVj7sO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti6bMe2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti6bMu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double scale = Math.pow(10, vector.metric - this.metric);
		return new Vector3D(x*vector.x*scale, y*vector.y*scale, z*vector.z*scale, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti6bM-2XEeWnDaII1mfokg" name="rotatebyMatrix" specification="_TVkiwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti6bNO2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti6bNe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D vector = new Vector3D();
		double [] data = matrix.getData();
		vector.x = data[0] * x + data[1] * y + data[2] * z;
		vector.y = data[3] * x + data[4] * y + data[5] * z;
		vector.z = data[6] * x + data[7] * y + data[8] * z;
		return vector;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti6bNu2XEeWnDaII1mfokg" name="print" specification="_Su49QO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti6bN-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double scale = Math.pow(10, metric);
		String x_str = convertMetric(x*scale);
		String y_str = convertMetric(y*scale);
		String z_str = convertMetric(z*scale);
		return x_str + &quot;, &quot; + y_str + &quot;, &quot; + z_str;
		//return String.valueOf(formatter.format(x)) + &quot;, &quot; + String.valueOf(formatter.format(y)) + &quot;, &quot; + String.valueOf(formatter.format(z));
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti6bOO2XEeWnDaII1mfokg" name="convertMetric" specification="_Su5kUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti6bOe2XEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti6bOu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int exponent = (int)(Math.log10(value));
		NumberFormat formatter = new DecimalFormat(&quot;0.000&quot;);
		
		if (exponent &lt;-9)
			return formatter.format(value*Math.pow(10, 12)) + &quot;pm&quot;;
				
		else if (exponent &lt; -6)
			return formatter.format(value*Math.pow(10, 9)) + &quot;nm&quot;;
	
		else if (exponent &lt; -3)
			return formatter.format(value*Math.pow(10, 6)) + &quot; m&quot;;
	
		else if (exponent &lt; 0)
			return formatter.format(value*Math.pow(10, 3)) + &quot;mm&quot;;
		
		return value + &quot;m&quot;;
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti6bO-2XEeWnDaII1mfokg" name="toString" specification="_Su5kU-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti6bPO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return &quot;(&quot; + String.valueOf(x) + &quot;,&quot; + String.valueOf(y) + &quot;,&quot; + String.valueOf(z) + &quot;)&quot;;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Suy2oO2XEeWnDaII1mfokg" name="Vector3D" method="_Ti4mAO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Suy2oe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Suy2ou2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Suy2o-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SuzdsO2XEeWnDaII1mfokg" name="Vector3D" method="_Ti4mBe2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Su0EwO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Su0Ewe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Suzdse2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suzdsu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Suzds-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su0Ewu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su0r0O2XEeWnDaII1mfokg" name="Vector3D" method="_Ti4mCu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Su0r1e2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Su1S4O2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Su0r0e2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su0r0u2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su0r0-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su0r1O2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su1S4e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su1S4u2XEeWnDaII1mfokg" name="invert" method="_Ti4mE-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7gu2XEeWnDaII1mfokg">
                        <body>Invert this vector to its negative component</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su158O2XEeWnDaII1mfokg" name="getNegativeVector" method="_Ti5NEO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjj7g-2XEeWnDaII1mfokg">
                        <body>Return a negative vector of this vector
	 * @return vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVZjoO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su158e2XEeWnDaII1mfokg" name="clear" method="_Ti5NEu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjkigO2XEeWnDaII1mfokg">
                        <body>Reset the vector to zero</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su158u2XEeWnDaII1mfokg" name="round" method="_Ti5NE-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkige2XEeWnDaII1mfokg">
                        <body>Round off the decimal points of the double</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su2hAO2XEeWnDaII1mfokg" name="getMagnitude" method="_Ti5NFO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkigu2XEeWnDaII1mfokg">
                        <body>Get the magnitude of this vector
	 * @return magnitude</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Su2hAe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su2hAu2XEeWnDaII1mfokg" name="getSquaredMagnitude" method="_Ti5NFu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkig-2XEeWnDaII1mfokg">
                        <body>Get the squared magnitude of this vector
	 * @return squared magnitude</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Su3IEO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su3IEe2XEeWnDaII1mfokg" name="normalize" method="_Ti5NGO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjkihO2XEeWnDaII1mfokg">
                        <body>Normalize this vector</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su3IEu2XEeWnDaII1mfokg" name="getUnitVector" method="_Ti5NGe2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkihe2XEeWnDaII1mfokg">
                        <body>Get the unit vector of this vector
	 * @return unti vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVZjoe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su3vIO2XEeWnDaII1mfokg" name="scale" method="_Ti50KO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkiie2XEeWnDaII1mfokg">
                        <body>Scale this vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Su4WMO2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su49QO2XEeWnDaII1mfokg" name="print" method="_Ti6bNu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkije2XEeWnDaII1mfokg">
                        <body>Return the formatted values of x, y, z values of the vector
	 * @return String</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Su49Qe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su5kUO2XEeWnDaII1mfokg" name="convertMetric" method="_Ti6bOO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkiju2XEeWnDaII1mfokg">
                        <body>Convert the given double to a String with SI prefix
	 * @param value
	 * @return String</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Su5kUe2XEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Su5kUu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Su5kU-2XEeWnDaII1mfokg" name="toString" method="_Ti6bO-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Su5kVO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVY8kO2XEeWnDaII1mfokg" name="Vector3D" method="_Ti4mAu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TVY8ku2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TVY8k-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TVY8ke2XEeWnDaII1mfokg" name="v" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVY8lO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVaKsO2XEeWnDaII1mfokg" name="add" method="_Ti5NG-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkihu2XEeWnDaII1mfokg">
                        <body>Add the given vector to this vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVaKse2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVaKsu2XEeWnDaII1mfokg" name="addAndReturn" method="_Ti5NHe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVaKs-2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVaKtO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVaxwO2XEeWnDaII1mfokg" name="subtractAndReturn" method="_Ti50IO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVaxwe2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVaxwu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVaxw-2XEeWnDaII1mfokg" name="subtract" method="_Ti50I-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkih-2XEeWnDaII1mfokg">
                        <body>Subtract the given vector from this vector
	 * @param vector</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVaxxO2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVbY0O2XEeWnDaII1mfokg" name="addScaledVector" method="_Ti50Je2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjkiiO2XEeWnDaII1mfokg">
                        <body>Add a scaled vector to this vector
	 * @param vector
	 * @param scale</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVbY0e2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVbY0u2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVb_4O2XEeWnDaII1mfokg" name="getScalarProduct" method="_Ti50Ku2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkiiu2XEeWnDaII1mfokg">
                        <body>Return the scalar product of this vector and the given vector
	 * @param vector
	 * @return scalar product</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVb_4e2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TViGgO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVitkO2XEeWnDaII1mfokg" name="getCrossProduct" method="_Ti50Le2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjkii-2XEeWnDaII1mfokg">
                        <body>Return the cross product (vector) of this vector and the given vector
	 * @param vector
	 * @return cross product</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVitke2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVitku2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVj7sO2XEeWnDaII1mfokg" name="getComponentProduct" method="_Ti6bMO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjkijO2XEeWnDaII1mfokg">
                        <body>Return the component product (vector) of this vector and the given vector
	 * @param vector
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TVj7se2XEeWnDaII1mfokg" name="vector" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVj7su2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVkiwO2XEeWnDaII1mfokg" name="rotatebyMatrix" method="_Ti6bM-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVkiwe2XEeWnDaII1mfokg" name="matrix" type="_SuTHYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVkiwu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Tcu6sO2XEeWnDaII1mfokg" name="equals" method="_Ti4mEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tcu6se2XEeWnDaII1mfokg" name="vector" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TcvhwO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Interface" xmi:id="_Sr5ToO2XEeWnDaII1mfokg" name="Particle">
                  <ownedComment xmi:id="_TjitVe2XEeWnDaII1mfokg">
                    <body>&#xD;
@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <ownedOperation xmi:id="_SuJWYO2XEeWnDaII1mfokg" name="getName" method="_Tiu1AO2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_SuJWYe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_SuJ9cO2XEeWnDaII1mfokg" key="defender"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_SuJ9ce2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_SsZp8O2XEeWnDaII1mfokg" name="AminoAcid">
                  <ownedComment xmi:id="_TjhfQe2XEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
AminoAcid.java is child of Residue.java&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_TUPGAO2XEeWnDaII1mfokg" general="_SuJ9c-2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfjlMO2XEeWnDaII1mfokg" name="aminoChar" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfkMQe2XEeWnDaII1mfokg" name="atoms" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkaQA-2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioHUO2XEeWnDaII1mfokg" name="AminoAcid" specification="_SsfwkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TioHUe2XEeWnDaII1mfokg" type="_SsZp8O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioHUu2XEeWnDaII1mfokg" name="getAminoChar" specification="_SsgXo-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TioHU-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.aminoChar;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioHVO2XEeWnDaII1mfokg" name="setAminoChar" specification="_Ssg-sO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TioHVe2XEeWnDaII1mfokg" name="aminoChar">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.aminoChar = aminoChar;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SsfwkO2XEeWnDaII1mfokg" name="AminoAcid" method="_TioHUO2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_SsgXoO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_SsgXoe2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_SsgXou2XEeWnDaII1mfokg" type="_SsZp8O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsgXo-2XEeWnDaII1mfokg" name="getAminoChar" method="_TioHUu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsgXpO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssg-sO2XEeWnDaII1mfokg" name="setAminoChar" method="_TioHVO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Ssg-se2XEeWnDaII1mfokg" name="aminoChar">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_SsiM0O2XEeWnDaII1mfokg" name="Atom">
                  <generalization xmi:id="_Sta9oO2XEeWnDaII1mfokg" general="_Sr3ecO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfkzUu2XEeWnDaII1mfokg" name="name" visibility="protected" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TflaYe2XEeWnDaII1mfokg" name="pdbsymbol" visibility="protected" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfmoge2XEeWnDaII1mfokg" name="eleSymbol" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfnPke2XEeWnDaII1mfokg" name="mmType" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_TfnPku2XEeWnDaII1mfokg" value="-1"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfnPlO2XEeWnDaII1mfokg" name="atomicMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfn2oO2XEeWnDaII1mfokg" name="atomicNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfn2ou2XEeWnDaII1mfokg" name="partialCharge" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfn2pO2XEeWnDaII1mfokg" name="chainSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfodse2XEeWnDaII1mfokg" name="atomSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfpEwO2XEeWnDaII1mfokg" name="interaction" visibility="protected" type="_St3pkO2XEeWnDaII1mfokg" association="_TkaQBu2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfpr0O2XEeWnDaII1mfokg" name="forces" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tfpr0e2XEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfpr1O2XEeWnDaII1mfokg" name="coordinates" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TfqS4O2XEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfqS4-2XEeWnDaII1mfokg" name="parent" visibility="protected" type="_Sr5ToO2XEeWnDaII1mfokg" association="_Tka3Ee2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfq58O2XEeWnDaII1mfokg" name="bonds" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkbeIe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfrhAe2XEeWnDaII1mfokg" name="vdw_radius" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_TcQZku2XEeWnDaII1mfokg" client="_SsiM0O2XEeWnDaII1mfokg" supplier="_TcQZkO2XEeWnDaII1mfokg" contract="_TcQZkO2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioHVu2XEeWnDaII1mfokg" name="Atom" specification="_SslQIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TioHV-2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>bonds = new ArrayList&lt;Bond>(4);&#xD;
		coordinates = new float[3];&#xD;
		forces = new double[3];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioHWO2XEeWnDaII1mfokg" name="getName" specification="_Ssl3MO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TioHWe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiouYO2XEeWnDaII1mfokg" name="setName" specification="_TUSJUO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiouYe2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.name = atomType.getAtomName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiouYu2XEeWnDaII1mfokg" name="getSymbol" specification="_Ssl3Mu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiouY-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return pdbsymbol;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiouZO2XEeWnDaII1mfokg" name="setSymbol" specification="_SsmeQe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiouZe2XEeWnDaII1mfokg" name="symbol">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(symbol==null || symbol.length()&lt;1)&#xD;
			return;&#xD;
		symbol = symbol.toUpperCase();&#xD;
		this.pdbsymbol = symbol;&#xD;
		// when setting symbol of atom, set the name, atomic mass and atomic number&#xD;
		boolean found=false;&#xD;
		for(AtomType a: AtomType.values()){&#xD;
			if(a.toString().compareTo(symbol.substring(0, 1))==0){&#xD;
				setName(a);&#xD;
				setAtomicMass(a);&#xD;
				setAtomicNumber(a);&#xD;
				found=true;&#xD;
			}&#xD;
		}&#xD;
		if(!found){&#xD;
			System.out.println(&quot;[&quot; + symbol + &quot;] symbol is not in AtomType.java, please add or check for error&quot;);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiouZu2XEeWnDaII1mfokg" name="getElementSymbol" specification="_SsnFUO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiouZ-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return eleSymbol;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiouaO2XEeWnDaII1mfokg" name="setElementSymbol" specification="_SsnsYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiouae2XEeWnDaII1mfokg" name="string">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(string.compareTo(&quot;R&quot;)==0)&#xD;
			this.eleSymbol = pdbsymbol;&#xD;
		else&#xD;
			this.eleSymbol = string;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiouau2XEeWnDaII1mfokg" name="getmmType" specification="_SsnsYu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tioua-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return mmType;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioubO2XEeWnDaII1mfokg" name="setmmType" specification="_SsoTce2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tioube2XEeWnDaII1mfokg" name="mmType">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.mmType = mmType;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tioubu2XEeWnDaII1mfokg" name="getParent" specification="_Sso6gO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tioub-2XEeWnDaII1mfokg" type="_Sr5ToO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return parent;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TioucO2XEeWnDaII1mfokg" name="setParent" specification="_TUSwYe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiouce2XEeWnDaII1mfokg" name="chain" type="_Sr5ToO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.parent = chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tioucu2XEeWnDaII1mfokg" name="setAtomicMass" specification="_TUTXcO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiouc-2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atomicMass = atomType.getAtomicMass();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVcO2XEeWnDaII1mfokg" name="setAtomicNumber" specification="_TUTXcu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVce2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atomicNum = atomType.getAtomicNum();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVcu2XEeWnDaII1mfokg" name="getChainSeqNum" specification="_Sso6ge2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVc-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVdO2XEeWnDaII1mfokg" name="setChainSeqNum" specification="_Ssphke2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVde2XEeWnDaII1mfokg" name="chainSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.chainSeqNum = chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVdu2XEeWnDaII1mfokg" name="getAtomSeqNum" specification="_Ssphk-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVd-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.atomSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVeO2XEeWnDaII1mfokg" name="setAtomSeqNum" specification="_SsqIoe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVee2XEeWnDaII1mfokg" name="atomSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.atomSeqNum = atomSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVeu2XEeWnDaII1mfokg" name="setBond" specification="_TUT-ge2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVe-2XEeWnDaII1mfokg" name="bond" type="_StgdMO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>bonds.add(bond);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVfO2XEeWnDaII1mfokg" name="getBond" specification="_SsqIo-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVfe2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return bonds;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVfu2XEeWnDaII1mfokg" name="hasNeighbour" specification="_TUUlkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVf-2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TipVgO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(Bond bond : bonds){&#xD;
			if(bond.a.getAtomSeqNum()==atm.getAtomSeqNum() || bond.b.getAtomSeqNum()==atm.getAtomSeqNum())&#xD;
				return true;&#xD;
		}&#xD;
		return false;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVge2XEeWnDaII1mfokg" name="getModelName" specification="_SsrWwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVgu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(parent instanceof Chain){&#xD;
			return ((Chain) parent).getModelName();&#xD;
		}&#xD;
		else if(parent instanceof Residue){&#xD;
			return ((Residue) parent).getModelName();&#xD;
		}&#xD;
		else{&#xD;
			return null; // TODO: add in exceptions&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TipVg-2XEeWnDaII1mfokg" name="getPartialCharge" specification="_Ssr90O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TipVhO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return partialCharge;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8gO2XEeWnDaII1mfokg" name="setPartialCharge" specification="_Ssr90u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8ge2XEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.partialCharge = charge;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8gu2XEeWnDaII1mfokg" name="setVdWRadius" specification="_Sssk4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8g-2XEeWnDaII1mfokg" name="vdw_radius">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.vdw_radius = vdw_radius;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8hO2XEeWnDaII1mfokg" name="getVdWRadius" specification="_Sssk4u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8he2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return vdw_radius;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8hu2XEeWnDaII1mfokg" name="getCoordinates" specification="_SstL8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8h-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tip8iO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return coordinates;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8ie2XEeWnDaII1mfokg" name="setCoordinates" specification="_SstL9O2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>if(coordinates[0]==0.00f &amp;&amp; coordinates[1]==0.00f &amp;&amp; coordinates[2]==0.00f){&#xD;
		coordinates[0] = (float) position.x;&#xD;
		coordinates[1] = (float) position.y;&#xD;
		coordinates[2] = (float) position.z;&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8iu2XEeWnDaII1mfokg" name="setCoordinates" specification="_SstzAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8i-2XEeWnDaII1mfokg" name="coord">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tip8jO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>coordinates[0] = (float) coord[0];&#xD;
		coordinates[1] = (float) coord[1];&#xD;
		coordinates[2] = (float) coord[2];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tip8je2XEeWnDaII1mfokg" name="getForces" specification="_SsuaEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tip8ju2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tip8j-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return forces;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiqjkO2XEeWnDaII1mfokg" name="setForces" specification="_StXTQO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiqjke2XEeWnDaII1mfokg" name="force">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tiqjku2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>forces[0] = force[0];&#xD;
		forces[1] = force[1];&#xD;
		forces[2] = force[2];&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiqjk-2XEeWnDaII1mfokg" name="getNeighbourAtoms" specification="_StYhYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiqjlO2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tiqjle2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Atom[] atm = new Atom[bonds.size()];&#xD;
		for(int i=0;i&lt;bonds.size();i++){&#xD;
			if(bonds.get(i).getAtom1()==this)&#xD;
				atm[i] = bonds.get(i).getAtom2(); &#xD;
			else&#xD;
				atm[i] = bonds.get(i).getAtom1();&#xD;
		}&#xD;
		return atm;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiqjlu2XEeWnDaII1mfokg" name="clone" specification="_StZIcO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiqjl-2XEeWnDaII1mfokg" type="_TWqu8O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return super.clone();&#xD;
 </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SslQIO2XEeWnDaII1mfokg" name="Atom" method="_TioHVu2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_SslQIe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_SslQIu2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_SslQI-2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssl3MO2XEeWnDaII1mfokg" name="getName" method="_TioHWO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Ssl3Me2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssl3Mu2XEeWnDaII1mfokg" name="getSymbol" method="_TiouYu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsmeQO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsmeQe2XEeWnDaII1mfokg" name="setSymbol" method="_TiouZO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsmeQu2XEeWnDaII1mfokg" name="symbol">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsnFUO2XEeWnDaII1mfokg" name="getElementSymbol" method="_TiouZu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsnFUe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsnsYO2XEeWnDaII1mfokg" name="setElementSymbol" method="_TiouaO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsnsYe2XEeWnDaII1mfokg" name="string">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsnsYu2XEeWnDaII1mfokg" name="getmmType" method="_Tiouau2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsoTcO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsoTce2XEeWnDaII1mfokg" name="setmmType" method="_TioubO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsoTcu2XEeWnDaII1mfokg" name="mmType">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sso6gO2XEeWnDaII1mfokg" name="getParent" method="_Tioubu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUSwYO2XEeWnDaII1mfokg" type="_Sr5ToO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sso6ge2XEeWnDaII1mfokg" name="getChainSeqNum" method="_TipVcu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsphkO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssphke2XEeWnDaII1mfokg" name="setChainSeqNum" method="_TipVdO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Ssphku2XEeWnDaII1mfokg" name="chainSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssphk-2XEeWnDaII1mfokg" name="getAtomSeqNum" method="_TipVdu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsqIoO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsqIoe2XEeWnDaII1mfokg" name="setAtomSeqNum" method="_TipVeO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsqIou2XEeWnDaII1mfokg" name="atomSeqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsqIo-2XEeWnDaII1mfokg" name="getBond" method="_TipVfO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcRnsO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsrWwO2XEeWnDaII1mfokg" name="getModelName" method="_TipVge2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsrWwe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssr90O2XEeWnDaII1mfokg" name="getPartialCharge" method="_TipVg-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Ssr90e2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Ssr90u2XEeWnDaII1mfokg" name="setPartialCharge" method="_Tip8gO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Ssr90-2XEeWnDaII1mfokg" name="charge">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sssk4O2XEeWnDaII1mfokg" name="setVdWRadius" method="_Tip8gu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Sssk4e2XEeWnDaII1mfokg" name="vdw_radius">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Sssk4u2XEeWnDaII1mfokg" name="getVdWRadius" method="_Tip8hO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Sssk4-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SstL8O2XEeWnDaII1mfokg" name="getCoordinates" method="_Tip8hu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SstL8e2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SstL8u2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SstL9O2XEeWnDaII1mfokg" name="setCoordinates" method="_Tip8ie2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SstzAO2XEeWnDaII1mfokg" name="setCoordinates" method="_Tip8iu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SstzAe2XEeWnDaII1mfokg" name="coord">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SstzAu2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SsuaEO2XEeWnDaII1mfokg" name="getForces" method="_Tip8je2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SsyrgO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Ss4LEO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StXTQO2XEeWnDaII1mfokg" name="setForces" method="_TiqjkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_StX6UO2XEeWnDaII1mfokg" name="force">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_StX6Ue2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StYhYO2XEeWnDaII1mfokg" name="getNeighbourAtoms" method="_Tiqjk-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_StYhYe2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_StYhYu2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StZIcO2XEeWnDaII1mfokg" name="clone" method="_Tiqjlu2XEeWnDaII1mfokg" raisedException="_TcRnsu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcRnse2XEeWnDaII1mfokg" type="_TWqu8O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUSJUO2XEeWnDaII1mfokg" name="setName" method="_TiouYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUSJUe2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUSwYe2XEeWnDaII1mfokg" name="setParent" method="_TioucO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUSwYu2XEeWnDaII1mfokg" name="chain" type="_Sr5ToO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUTXcO2XEeWnDaII1mfokg" name="setAtomicMass" visibility="private" method="_Tioucu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUTXce2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUTXcu2XEeWnDaII1mfokg" name="setAtomicNumber" visibility="private" method="_TipVcO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUT-gO2XEeWnDaII1mfokg" name="atomType" type="_SxHK0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUT-ge2XEeWnDaII1mfokg" name="setBond" method="_TipVeu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUT-gu2XEeWnDaII1mfokg" name="bond" type="_StgdMO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUUlkO2XEeWnDaII1mfokg" name="hasNeighbour" method="_TipVfu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUUlke2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUUlku2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_StgdMO2XEeWnDaII1mfokg" name="Bond">
                  <ownedComment xmi:id="_TjiGQO2XEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="_TfsvIO2XEeWnDaII1mfokg" name="a" visibility="package" type="_SsiM0O2XEeWnDaII1mfokg" association="_TkbeJO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TjiGQe2XEeWnDaII1mfokg" name="b" visibility="package" type="_SsiM0O2XEeWnDaII1mfokg" association="_TlWrMe2XEeWnDaII1mfokg"/>
                  <interfaceRealization xmi:id="_TUYP8O2XEeWnDaII1mfokg" client="_StgdMO2XEeWnDaII1mfokg" supplier="_St3pkO2XEeWnDaII1mfokg" contract="_St3pkO2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TirKoO2XEeWnDaII1mfokg" name="Bond" specification="_TUY3AO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TirKoe2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TirKou2XEeWnDaII1mfokg" name="b" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TirKo-2XEeWnDaII1mfokg" type="_StgdMO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>this.a = a;&#xD;
		this.b = b;&#xD;
		//setBondLength();&#xD;
		//setBondType(a,b);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TirxsO2XEeWnDaII1mfokg" name="getAtom1" specification="_Stq1QO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tirxse2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return a;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tirxsu2XEeWnDaII1mfokg" name="getAtom2" specification="_StrcUO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tirxs-2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return b;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_Stq1QO2XEeWnDaII1mfokg" name="getAtom1" method="_TirxsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUY3Bu2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StrcUO2XEeWnDaII1mfokg" name="getAtom2" method="_Tirxsu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUZeEO2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUY3AO2XEeWnDaII1mfokg" name="Bond" method="_TirKoO2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_TUY3A-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_TUY3BO2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_TUY3Ae2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUY3Au2XEeWnDaII1mfokg" name="b" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUY3Be2XEeWnDaII1mfokg" type="_StgdMO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_StsqcO2XEeWnDaII1mfokg" name="BoundingPrimitive" isAbstract="true">
                  <ownedComment xmi:id="_TjitUO2XEeWnDaII1mfokg">
                    <body>@author waiyan
BoundingPrimitives determine the shape of the Particle (Atom/Molecule/Residue)
Extended by BoundingBox, BoundingCube and BoundingSphere</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="_TftWMO2XEeWnDaII1mfokg" name="centre" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TkcFMe2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TirxtO2XEeWnDaII1mfokg" name="updateCentre" specification="_SttRgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tirxte2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tirxtu2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tirxt-2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TirxuO2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>centre.x = x; centre.y =y; centre.z=z; centre.metric=metric;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SttRgO2XEeWnDaII1mfokg" name="updateCentre" method="_TirxtO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Stt4kO2XEeWnDaII1mfokg" name="x">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Stt4ke2XEeWnDaII1mfokg" name="y">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Stt4ku2XEeWnDaII1mfokg" name="z">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Stt4k-2XEeWnDaII1mfokg" name="metric">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUZeEe2XEeWnDaII1mfokg" name="overlap" isAbstract="true">
                    <ownedParameter xmi:id="_TUZeEu2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TUaFIO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_StufoO2XEeWnDaII1mfokg" name="Chain">
                  <ownedComment xmi:id="_TjitUe2XEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_St1NUO2XEeWnDaII1mfokg" general="_Sr3ecO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TftWMu2XEeWnDaII1mfokg" name="name">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tft9Qe2XEeWnDaII1mfokg" name="position">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_TfukUe2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkcsQe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfvLYe2XEeWnDaII1mfokg" name="atomSeq" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkdTUe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfwZge2XEeWnDaII1mfokg" name="molecule" type="_St_lYO2XEeWnDaII1mfokg" association="_TkdTVO2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tirxue2XEeWnDaII1mfokg" name="Chain" specification="_StvtwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tirxuu2XEeWnDaII1mfokg" type="_StufoO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		residues = new ArrayList&lt;Residue>();&#xD;
		atomSeq = new ArrayList&lt;Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYwO2XEeWnDaII1mfokg" name="getName" specification="_StwU0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYwe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYwu2XEeWnDaII1mfokg" name="setChainPosition" specification="_Stw74O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYw-2XEeWnDaII1mfokg" name="pos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.position = pos;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYxO2XEeWnDaII1mfokg" name="getChainPosition" specification="_Stw74u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYxe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return position;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYxu2XEeWnDaII1mfokg" name="setChainName" specification="_Stxi8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYx-2XEeWnDaII1mfokg" name="chainID">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = chainID;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYyO2XEeWnDaII1mfokg" name="getResidues" specification="_Stxi8u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYye2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.residues;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYyu2XEeWnDaII1mfokg" name="getAtoms" specification="_StyxEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYy-2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.atomSeq;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYzO2XEeWnDaII1mfokg" name="setChainSequence" specification="_TUchYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYze2XEeWnDaII1mfokg" name="chain" type="_TUb6UO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>Residue res;&#xD;
		for(Group g : chain.getAtomGroups()){&#xD;
			if ( g instanceof org.biojava.bio.structure.AminoAcid ){&#xD;
				res = new AminoAcid();&#xD;
				res.setParent(this);&#xD;
				res.setName(((org.biojava.bio.structure.AminoAcid)g).getPDBName());&#xD;
				res.setResidueSeqNum(((org.biojava.bio.structure.AminoAcid)g).getResidueNumber().getSeqNum());&#xD;
				((AminoAcid) res).setAminoChar(((org.biojava.bio.structure.AminoAcid)g).getAminoType());&#xD;
				res.setAtomList(((org.biojava.bio.structure.AminoAcid)g).getAtoms());&#xD;
				residues.add(res);&#xD;
			}&#xD;
			else if(g instanceof HetatomImpl){&#xD;
				List&lt;org.biojava.bio.structure.Atom> atomList = ((HetatomImpl)g).getAtoms();&#xD;
				for(int i=0;i&lt;atomList.size();i++){&#xD;
					AbstractParticle atom = new Atom();&#xD;
					((Atom)atom).setParent(this);&#xD;
					((Atom)atom).setSymbol(atomList.get(i).getName());&#xD;
					((Atom)atom).setElementSymbol(atomList.get(i).getElement().toString());&#xD;
					((Atom)atom).setChainSeqNum(((HetatomImpl)g).getResidueNumber().getSeqNum());&#xD;
					((Atom)atom).setAtomSeqNum(atomList.get(i).getPDBserial());&#xD;
					((Atom)atom).setCoordinates(atomList.get(i).getCoords());&#xD;
					atomSeq.add(((Atom)atom));&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisYzu2XEeWnDaII1mfokg" name="getParent" specification="_StzYIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisYz-2XEeWnDaII1mfokg" type="_St_lYO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return molecule;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TisY0O2XEeWnDaII1mfokg" name="setParent" specification="_TUdIcO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TisY0e2XEeWnDaII1mfokg" name="molecule" type="_St_lYO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.molecule = molecule;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_0O2XEeWnDaII1mfokg" name="setAtomHash" specification="_TcV5IO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_0e2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tis_0u2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;residues.size();i++){&#xD;
			residues.get(i).setAtomHash(atomHash, modelName);&#xD;
		}&#xD;
		for(int i=0;i&lt;atomSeq.size();i++){&#xD;
			atomHash.put(modelName+atomSeq.get(i).atomSeqNum, atomSeq.get(i));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_0-2XEeWnDaII1mfokg" name="getModelName" specification="_Stz_MO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_1O2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return molecule.getParent().modelName;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_1e2XEeWnDaII1mfokg" name="setChainSequence" specification="_TUdvgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_1u2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>atm.setParent(this);&#xD;
		atm.setChainSeqNum(atomSeq.size()+1);&#xD;
		int atmNum = 0;&#xD;
		Model parentModel = getParent().getParent();&#xD;
		for(int j=0;j&lt;parentModel.getMolecules().size();j++){&#xD;
			Molecule parent =parentModel.getMolecules().get(j); &#xD;
			for(int i=0;i&lt;parent.getChains().size();i++){&#xD;
				Chain chain = parent.getChains().get(i);&#xD;
				if(chain.getResidues()!=null &amp;&amp; chain.getResidues().size()>0){&#xD;
					for(Residue res : chain.getResidues()){&#xD;
						atmNum += res.getAtomList().size();&#xD;
					}&#xD;
				}&#xD;
				if(chain.getAtoms()!=null &amp;&amp; chain.getAtoms().size()>0){&#xD;
					atmNum += chain.getAtoms().size();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		atm.setAtomSeqNum((atmNum+1));&#xD;
		atomSeq.add(atm);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_StvtwO2XEeWnDaII1mfokg" name="Chain" method="_Tirxue2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_Stvtwe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_Stvtwu2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_Stvtw-2XEeWnDaII1mfokg" type="_StufoO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StwU0O2XEeWnDaII1mfokg" name="getName" method="_TisYwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_StwU0e2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Stw74O2XEeWnDaII1mfokg" name="setChainPosition" method="_TisYwu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Stw74e2XEeWnDaII1mfokg" name="pos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Stw74u2XEeWnDaII1mfokg" name="getChainPosition" method="_TisYxO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Stw74-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Stxi8O2XEeWnDaII1mfokg" name="setChainName" method="_TisYxu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Stxi8e2XEeWnDaII1mfokg" name="chainID">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Stxi8u2XEeWnDaII1mfokg" name="getResidues" method="_TisYyO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcVSEO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StyxEO2XEeWnDaII1mfokg" name="getAtoms" method="_TisYyu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUbTQe2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_StzYIO2XEeWnDaII1mfokg" name="getParent" method="_TisYzu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUchYu2XEeWnDaII1mfokg" type="_St_lYO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Stz_MO2XEeWnDaII1mfokg" name="getModelName" method="_Tis_0-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Stz_Me2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUchYO2XEeWnDaII1mfokg" name="setChainSequence" method="_TisYzO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUchYe2XEeWnDaII1mfokg" name="chain" type="_TUb6UO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUdIcO2XEeWnDaII1mfokg" name="setParent" method="_TisY0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUdIce2XEeWnDaII1mfokg" name="molecule" type="_St_lYO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUdvgO2XEeWnDaII1mfokg" name="setChainSequence" method="_Tis_1e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUdvge2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcV5IO2XEeWnDaII1mfokg" name="setAtomHash" method="_Tis_0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcV5Ie2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TcV5Iu2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Interface" xmi:id="_St3pkO2XEeWnDaII1mfokg" name="Interaction"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_St43sO2XEeWnDaII1mfokg" name="Model">
                  <ownedAttribute xmi:id="_TfxAke2XEeWnDaII1mfokg" name="modelName" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_TfxAku2XEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tfxnoe2XEeWnDaII1mfokg" name="structure" visibility="protected" type="_TUfksu2XEeWnDaII1mfokg" association="_Tkd6Ye2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TfyOsO2XEeWnDaII1mfokg" name="molecules" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkehcO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tfy1wO2XEeWnDaII1mfokg" name="atomHash" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_Tkehc-2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf0D4e2XEeWnDaII1mfokg" name="bonds" visibility="protected" type="_StgdMO2XEeWnDaII1mfokg" association="_TkfIge2XEeWnDaII1mfokg">
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tf0D4u2XEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_1-2XEeWnDaII1mfokg" name="Model" specification="_St5ewO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_2O2XEeWnDaII1mfokg" type="_St43sO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>molecules = new ArrayList&lt;Molecule>();&#xD;
		atomHash = new HashMap&lt;String,Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_2e2XEeWnDaII1mfokg" name="getMolecules" specification="_St6F0e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_2u2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.molecules;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_2-2XEeWnDaII1mfokg" name="setMolecules" specification="_TchfUe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_3O2XEeWnDaII1mfokg" name="molecules" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.molecules = molecules;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_3e2XEeWnDaII1mfokg" name="setMolecule" specification="_TcitcO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_3u2XEeWnDaII1mfokg" name="list" type="_TUfksO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle molecule;&#xD;
		molecule = new Molecule();&#xD;
		molecules.add(((Molecule)molecule));&#xD;
		((Molecule)molecule).setName(list.get(0).getParent().getPdbId());&#xD;
		((Molecule)molecule).setParent(this);&#xD;
		((Molecule)molecule).setChains(list);&#xD;
		((Molecule)molecule).setAtomHash(atomHash, modelName);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tis_3-2XEeWnDaII1mfokg" name="setMolecule" specification="_TUgy0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tis_4O2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle molecule;&#xD;
		molecule = new Molecule();&#xD;
		((Molecule)molecule).setName(&quot;&quot;);&#xD;
		((Molecule)molecule).setParent(this);&#xD;
		((Molecule)molecule).setChain(atm);&#xD;
		((Molecule)molecule).setAtomHash(atomHash, modelName);&#xD;
		molecules.add(((Molecule)molecule));&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm4O2XEeWnDaII1mfokg" name="setModelName" specification="_St6s4e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm4e2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>modelName = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm4u2XEeWnDaII1mfokg" name="getModelName" specification="_St7T8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm4-2XEeWnDaII1mfokg" type="_TUQ7Me2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.modelName;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm5O2XEeWnDaII1mfokg" name="getModelDetailList" specification="_St7T8e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm5e2XEeWnDaII1mfokg" type="_TWqu8O2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Titm5u2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ArrayList&lt;String> modelList = new ArrayList&lt;String>();&#xD;
		for(int i=0;i&lt;molecules.size();i++){&#xD;
			Molecule molecule = molecules.get(i);&#xD;
			modelList.add(molecule.getName());&#xD;
			for(int j=0;j&lt;molecule.getChains().size();j++){&#xD;
				Chain chain = molecule.getChains().get(j);&#xD;
				modelList.add(chain.getName());&#xD;
			}&#xD;
		}&#xD;
		return modelList.toArray();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm5-2XEeWnDaII1mfokg" name="getAtomHash" specification="_St77Ae2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm6O2XEeWnDaII1mfokg" type="_TUQUIe2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return atomHash;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm6e2XEeWnDaII1mfokg" name="setBonds" specification="_TckioO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm6u2XEeWnDaII1mfokg" name="ownbonds" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>bonds = new Bond[ownbonds.size()];&#xD;
		for(int i=0;i&lt;ownbonds.size();i++){&#xD;
			bonds[i] = ownbonds.get(i);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm6-2XEeWnDaII1mfokg" name="getBonds" specification="_St8iEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm7O2XEeWnDaII1mfokg" type="_StgdMO2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Titm7e2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return bonds;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm7u2XEeWnDaII1mfokg" name="removeAtom" specification="_St9JIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm7-2XEeWnDaII1mfokg" name="key">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>Atom atm = atomHash.get(key);&#xD;
		int atomno = atm.getAtomSeqNum();&#xD;
		if(atm.getParent() instanceof AminoAcid){&#xD;
			AminoAcid res = (AminoAcid)atm.getParent();&#xD;
			for(int i=0;i&lt;res.getAtomList().size();i++){&#xD;
				if(atm.getAtomSeqNum()==res.getAtomList().get(i).getAtomSeqNum()){&#xD;
					atomHash.remove(key);&#xD;
					res.getAtomList().remove(i);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		else if(atm.getParent() instanceof Chain){&#xD;
			Chain chain = (Chain)atm.getParent();&#xD;
			for(int i=0;i&lt;chain.getAtoms().size();i++){&#xD;
				if(atm.getAtomSeqNum()==chain.getAtoms().get(i).getAtomSeqNum()){&#xD;
					atomHash.remove(key);&#xD;
					chain.getAtoms().remove(i);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_St5ewO2XEeWnDaII1mfokg" name="Model" method="_Tis_1-2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_St5ewe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_St5ewu2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_St6F0O2XEeWnDaII1mfokg" type="_St43sO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St6F0e2XEeWnDaII1mfokg" name="getMolecules" method="_Tis_2e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TchfUO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St6s4e2XEeWnDaII1mfokg" name="setModelName" method="_Titm4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_St6s4u2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St7T8O2XEeWnDaII1mfokg" name="getModelName" method="_Titm4u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUhZ4O2XEeWnDaII1mfokg" type="_TUQ7Me2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St7T8e2XEeWnDaII1mfokg" name="getModelDetailList" method="_Titm5O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_St7T8u2XEeWnDaII1mfokg" type="_TWqu8O2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_St7T8-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St77Ae2XEeWnDaII1mfokg" name="getAtomHash" method="_Titm5-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tcj7ke2XEeWnDaII1mfokg" type="_TUQUIe2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St8iEO2XEeWnDaII1mfokg" name="getBonds" method="_Titm6-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_St8iEe2XEeWnDaII1mfokg" type="_StgdMO2XEeWnDaII1mfokg" direction="return">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_St8iEu2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_St9JIO2XEeWnDaII1mfokg" name="removeAtom" method="_Titm7u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_St9JIe2XEeWnDaII1mfokg" name="key">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TUgy0O2XEeWnDaII1mfokg" name="setMolecule" method="_Tis_3-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TUgy0e2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TchfUe2XEeWnDaII1mfokg" name="setMolecules" method="_Tis_2-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TchfUu2XEeWnDaII1mfokg" name="molecules" type="_TUPtEO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcitcO2XEeWnDaII1mfokg" name="setMolecule" method="_Tis_3e2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjitUu2XEeWnDaII1mfokg">
                      <body>needs to change the name to something more descriptive&#xD;
	 * &#xD;
	 * @param list&#xD;
	 * @deprecated will be renamed</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_Tcitce2XEeWnDaII1mfokg" name="list" type="_TUfksO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TckioO2XEeWnDaII1mfokg" name="setBonds" method="_Titm6e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tckioe2XEeWnDaII1mfokg" name="ownbonds" type="_TUPtEO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_St_lYO2XEeWnDaII1mfokg" name="Molecule">
                  <ownedComment xmi:id="_TjitU-2XEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_SuFsAO2XEeWnDaII1mfokg" general="_Sr3ecO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf0q8O2XEeWnDaII1mfokg" name="name" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf1SAe2XEeWnDaII1mfokg" name="parent" visibility="protected" type="_St43sO2XEeWnDaII1mfokg" association="_TkfvkO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf1SA-2XEeWnDaII1mfokg" name="molecularMass" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf15Ee2XEeWnDaII1mfokg" name="formula" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf15E-2XEeWnDaII1mfokg" name="internalEnergy" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf2gIe2XEeWnDaII1mfokg" name="chains" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tkfvk-2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf3HMe2XEeWnDaII1mfokg" name="interaction" type="_St3pkO2XEeWnDaII1mfokg" association="_TkgWoe2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Titm8O2XEeWnDaII1mfokg" name="Molecule" specification="_SuAzgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Titm8e2XEeWnDaII1mfokg" type="_St_lYO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		chains = new ArrayList&lt;Chain>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN8O2XEeWnDaII1mfokg" name="getName" specification="_SuBak-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN8e2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN8u2XEeWnDaII1mfokg" name="setName" specification="_SuCBoO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN8-2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN9O2XEeWnDaII1mfokg" name="getParent" specification="_SuCBou2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN9e2XEeWnDaII1mfokg" type="_St43sO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return parent;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN9u2XEeWnDaII1mfokg" name="setParent" specification="_TU2KAe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN9-2XEeWnDaII1mfokg" name="model" type="_St43sO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.parent = model;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN-O2XEeWnDaII1mfokg" name="getChains" specification="_SuCosO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN-e2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.chains;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN-u2XEeWnDaII1mfokg" name="setChains" specification="_TU2xEe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN--2XEeWnDaII1mfokg" name="chains" type="_TUfksO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle chain;&#xD;
		for(int i=0;i&lt;chains.size();i++){&#xD;
			chain = new Chain();&#xD;
			((Chain)chain).setChainName(chains.get(i).getChainID());&#xD;
			((Chain)chain).setParent(this);&#xD;
			((Chain)chain).setChainPosition(i);&#xD;
			((Chain)chain).setChainSequence(chains.get(i));&#xD;
			this.chains.add((Chain) chain);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN_O2XEeWnDaII1mfokg" name="setChain" specification="_TU3_Me2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN_e2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle chain;&#xD;
		chain = new Chain();&#xD;
		((Chain)chain).setChainName(&quot;TST&quot;);&#xD;
		((Chain)chain).setParent(this);&#xD;
		((Chain)chain).setChainPosition((chains.size()+1));&#xD;
		((Chain)chain).setChainSequence(atm);&#xD;
		this.chains.add((Chain) chain);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuN_u2XEeWnDaII1mfokg" name="getInteraction" specification="_SuD20O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuN_-2XEeWnDaII1mfokg" type="_St3pkO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return this.interaction;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuOAO2XEeWnDaII1mfokg" name="setInteraction" specification="_TU4mQe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuOAe2XEeWnDaII1mfokg" name="interaction" type="_St3pkO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.interaction = interaction;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiuOAu2XEeWnDaII1mfokg" name="setAtomHash" specification="_TcmX0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiuOA-2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TiuOBO2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;chains.size();i++){&#xD;
			chains.get(i).setAtomHash(atomHash, modelName);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SuAzgO2XEeWnDaII1mfokg" name="Molecule" method="_Titm8O2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_SuBakO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_SuBake2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_SuBaku2XEeWnDaII1mfokg" type="_St_lYO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuBak-2XEeWnDaII1mfokg" name="getName" method="_TiuN8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuBalO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuCBoO2XEeWnDaII1mfokg" name="setName" method="_TiuN8u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuCBoe2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuCBou2XEeWnDaII1mfokg" name="getParent" method="_TiuN9O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU2KAO2XEeWnDaII1mfokg" type="_St43sO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuCosO2XEeWnDaII1mfokg" name="getChains" method="_TiuN-O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TclwwO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuD20O2XEeWnDaII1mfokg" name="getInteraction" method="_TiuN_u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU4mQO2XEeWnDaII1mfokg" type="_St3pkO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TU2KAe2XEeWnDaII1mfokg" name="setParent" method="_TiuN9u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU2xEO2XEeWnDaII1mfokg" name="model" type="_St43sO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TU2xEe2XEeWnDaII1mfokg" name="setChains" visibility="protected" method="_TiuN-u2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_TjitVO2XEeWnDaII1mfokg">
                      <body>&#xD;
	 * @param chains</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_TU3YIO2XEeWnDaII1mfokg" name="chains" type="_TUfksO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TU3_Me2XEeWnDaII1mfokg" name="setChain" visibility="protected" method="_TiuN_O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU3_Mu2XEeWnDaII1mfokg" name="atm" type="_SsiM0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TU4mQe2XEeWnDaII1mfokg" name="setInteraction" method="_TiuOAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU4mQu2XEeWnDaII1mfokg" name="interaction" type="_St3pkO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcmX0O2XEeWnDaII1mfokg" name="setAtomHash" method="_TiuOAu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcmX0e2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TcmX0u2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_SuJ9c-2XEeWnDaII1mfokg" name="Residue">
                  <ownedComment xmi:id="_TjitVu2XEeWnDaII1mfokg">
                    <body>@author Xiu Ting&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_SuQEEO2XEeWnDaII1mfokg" general="_Sr3ecO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf3uQO2XEeWnDaII1mfokg" name="name" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf4VUO2XEeWnDaII1mfokg" name="chainSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf4VUu2XEeWnDaII1mfokg" name="moleculeSeqNum" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_Tf48Ye2XEeWnDaII1mfokg" name="chain" visibility="protected" type="_StufoO2XEeWnDaII1mfokg" association="_Tkg9se2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf48Y-2XEeWnDaII1mfokg" name="atoms" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tkhkwe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf5jcu2XEeWnDaII1mfokg" name="representativeCharges" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkhkxO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_Tf6xke2XEeWnDaII1mfokg" name="representativePoints" visibility="protected" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkiL0e2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiu1Au2XEeWnDaII1mfokg" name="Residue" specification="_SuLLkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiu1A-2XEeWnDaII1mfokg" type="_SuJ9c-2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		name = null;&#xD;
		atoms = new ArrayList&lt;Atom>();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiu1BO2XEeWnDaII1mfokg" name="getName" specification="_SuLyou2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiu1Be2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiu1Bu2XEeWnDaII1mfokg" name="setName" specification="_SuMZsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiu1B-2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.name = name;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiu1CO2XEeWnDaII1mfokg" name="getParent" specification="_SuMZsu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiu1Ce2XEeWnDaII1mfokg" type="_StufoO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tiu1Cu2XEeWnDaII1mfokg" name="setParent" specification="_TU7pke2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tiu1C-2XEeWnDaII1mfokg" name="chain" type="_StufoO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.chain = chain;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TivcEO2XEeWnDaII1mfokg" name="getResidueSeqNum" specification="_SuNAwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TivcEe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.chainSeqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TivcEu2XEeWnDaII1mfokg" name="setResidueSeqNum" specification="_SuNAwu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TivcE-2XEeWnDaII1mfokg" name="seqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.chainSeqNum = seqNum;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TivcFO2XEeWnDaII1mfokg" name="getChainPosition" specification="_SuNn0e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TivcFe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return chain.position;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TivcFu2XEeWnDaII1mfokg" name="getAtomList" specification="_SuOO4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TivcF-2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return atoms;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwDIO2XEeWnDaII1mfokg" name="setAtomList" specification="_TcqCMO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiwDIe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>AbstractParticle atom;&#xD;
		for(int i=0;i&lt;atoms.size();i++){&#xD;
			atom = new Atom();&#xD;
			((Atom)atom).setParent(this);&#xD;
			((Atom)atom).setSymbol(atoms.get(i).getName());&#xD;
			((Atom)atom).setElementSymbol(atoms.get(i).getElement().toString());&#xD;
			((Atom)atom).setChainSeqNum(chainSeqNum);&#xD;
			((Atom)atom).setAtomSeqNum(atoms.get(i).getPDBserial());&#xD;
			((Atom)atom).setCoordinates(atoms.get(i).getCoords());&#xD;
			this.atoms.add(((Atom)atom));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwDIu2XEeWnDaII1mfokg" name="setAtomHash" specification="_TcqpQe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiwDI-2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TiwDJO2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>for(int i=0;i&lt;atoms.size();i++){&#xD;
			atomHash.put(modelName+atoms.get(i).atomSeqNum, atoms.get(i));&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TiwDJe2XEeWnDaII1mfokg" name="getModelName" specification="_SuPdAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TiwDJu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return chain.getModelName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SuLLkO2XEeWnDaII1mfokg" name="Residue" method="_Tiu1Au2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_SuLLke2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_SuLyoO2XEeWnDaII1mfokg" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_SuLyoe2XEeWnDaII1mfokg" type="_SuJ9c-2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuLyou2XEeWnDaII1mfokg" name="getName" method="_Tiu1BO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuLyo-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuMZsO2XEeWnDaII1mfokg" name="setName" method="_Tiu1Bu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuMZse2XEeWnDaII1mfokg" name="name">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuMZsu2XEeWnDaII1mfokg" name="getParent" method="_Tiu1CO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU7pkO2XEeWnDaII1mfokg" type="_StufoO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuNAwO2XEeWnDaII1mfokg" name="getResidueSeqNum" method="_TivcEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuNAwe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuNAwu2XEeWnDaII1mfokg" name="setResidueSeqNum" method="_TivcEu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuNn0O2XEeWnDaII1mfokg" name="seqNum">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuNn0e2XEeWnDaII1mfokg" name="getChainPosition" method="_TivcFO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuNn0u2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuOO4O2XEeWnDaII1mfokg" name="getAtomList" method="_TivcFu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcpbIO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_SuPdAO2XEeWnDaII1mfokg" name="getModelName" method="_TiwDJe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_SuPdAe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TU7pke2XEeWnDaII1mfokg" name="setParent" method="_Tiu1Cu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TU7pku2XEeWnDaII1mfokg" name="chain" type="_StufoO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcqCMO2XEeWnDaII1mfokg" name="setAtomList" method="_TiwDIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcqCMe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TcqpQe2XEeWnDaII1mfokg" name="setAtomHash" method="_TiwDIu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TcqpQu2XEeWnDaII1mfokg" name="atomHash" type="_TUQUIe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TcqpQ-2XEeWnDaII1mfokg" name="modelName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkV-kO2XEeWnDaII1mfokg" name="" memberEnd="_TkV-ke2XEeWnDaII1mfokg _Tfessu2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkV-ke2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkV-kO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkWloO2XEeWnDaII1mfokg" name="" memberEnd="_TkWloe2XEeWnDaII1mfokg _TffTwe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkWloe2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkWloO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkWlo-2XEeWnDaII1mfokg" name="" memberEnd="_TkWlpO2XEeWnDaII1mfokg _TffTw-2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkWlpO2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkWlo-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkXMse2XEeWnDaII1mfokg" name="" memberEnd="_TkXMsu2XEeWnDaII1mfokg _Tff60e2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkXMsu2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkXMse2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkXzwe2XEeWnDaII1mfokg" name="" memberEnd="_TkXzwu2XEeWnDaII1mfokg _Tfgh4O2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkXzwu2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkXzwe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkYa0e2XEeWnDaII1mfokg" name="" memberEnd="_TkYa0u2XEeWnDaII1mfokg _Tfgh4u2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkYa0u2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkYa0e2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkYa1O2XEeWnDaII1mfokg" name="" memberEnd="_TkYa1e2XEeWnDaII1mfokg _TfhI8u2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkYa1e2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkYa1O2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkZB4e2XEeWnDaII1mfokg" name="" memberEnd="_TkZB4u2XEeWnDaII1mfokg _TfhwAO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkZB4u2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkZB4e2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkZo8e2XEeWnDaII1mfokg" name="" memberEnd="_TkZo8u2XEeWnDaII1mfokg _TfhwAu2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkZo8u2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkZo8e2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkZo9O2XEeWnDaII1mfokg" name="" memberEnd="_TkZo9e2XEeWnDaII1mfokg _TfhwBO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkZo9e2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkZo9O2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkaQAO2XEeWnDaII1mfokg" name="" memberEnd="_TkaQAe2XEeWnDaII1mfokg _TfiXEe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkaQAe2XEeWnDaII1mfokg" name="" type="_Sr3ecO2XEeWnDaII1mfokg" association="_TkaQAO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkaQA-2XEeWnDaII1mfokg" name="" memberEnd="_TkaQBO2XEeWnDaII1mfokg _TfkMQe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkaQBO2XEeWnDaII1mfokg" name="" type="_SsZp8O2XEeWnDaII1mfokg" association="_TkaQA-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkaQBu2XEeWnDaII1mfokg" name="" memberEnd="_TkaQB-2XEeWnDaII1mfokg _TfpEwO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkaQB-2XEeWnDaII1mfokg" name="" type="_SsiM0O2XEeWnDaII1mfokg" association="_TkaQBu2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tka3Ee2XEeWnDaII1mfokg" name="" memberEnd="_Tka3Eu2XEeWnDaII1mfokg _TfqS4-2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tka3Eu2XEeWnDaII1mfokg" name="" type="_SsiM0O2XEeWnDaII1mfokg" association="_Tka3Ee2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkbeIe2XEeWnDaII1mfokg" name="" memberEnd="_TkbeIu2XEeWnDaII1mfokg _Tfq58O2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkbeIu2XEeWnDaII1mfokg" name="" type="_SsiM0O2XEeWnDaII1mfokg" association="_TkbeIe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkbeJO2XEeWnDaII1mfokg" name="" memberEnd="_TkbeJe2XEeWnDaII1mfokg _TfsvIO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkbeJe2XEeWnDaII1mfokg" name="" type="_StgdMO2XEeWnDaII1mfokg" association="_TkbeJO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkcFMe2XEeWnDaII1mfokg" name="" memberEnd="_TkcFMu2XEeWnDaII1mfokg _TftWMO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkcFMu2XEeWnDaII1mfokg" name="" type="_StsqcO2XEeWnDaII1mfokg" association="_TkcFMe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkcsQe2XEeWnDaII1mfokg" name="" memberEnd="_TkcsQu2XEeWnDaII1mfokg _TfukUe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkcsQu2XEeWnDaII1mfokg" name="" type="_StufoO2XEeWnDaII1mfokg" association="_TkcsQe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkdTUe2XEeWnDaII1mfokg" name="" memberEnd="_TkdTUu2XEeWnDaII1mfokg _TfvLYe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkdTUu2XEeWnDaII1mfokg" name="" type="_StufoO2XEeWnDaII1mfokg" association="_TkdTUe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkdTVO2XEeWnDaII1mfokg" name="" memberEnd="_TkdTVe2XEeWnDaII1mfokg _TfwZge2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkdTVe2XEeWnDaII1mfokg" name="" type="_StufoO2XEeWnDaII1mfokg" association="_TkdTVO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tkd6Ye2XEeWnDaII1mfokg" name="" memberEnd="_Tkd6Yu2XEeWnDaII1mfokg _Tfxnoe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkd6Yu2XEeWnDaII1mfokg" name="" type="_St43sO2XEeWnDaII1mfokg" association="_Tkd6Ye2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkehcO2XEeWnDaII1mfokg" name="" memberEnd="_Tkehce2XEeWnDaII1mfokg _TfyOsO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkehce2XEeWnDaII1mfokg" name="" type="_St43sO2XEeWnDaII1mfokg" association="_TkehcO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tkehc-2XEeWnDaII1mfokg" name="" memberEnd="_TkehdO2XEeWnDaII1mfokg _Tfy1wO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkehdO2XEeWnDaII1mfokg" name="" type="_St43sO2XEeWnDaII1mfokg" association="_Tkehc-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkfIge2XEeWnDaII1mfokg" name="" memberEnd="_TkfIgu2XEeWnDaII1mfokg _Tf0D4e2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkfIgu2XEeWnDaII1mfokg" name="" type="_St43sO2XEeWnDaII1mfokg" association="_TkfIge2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkfvkO2XEeWnDaII1mfokg" name="" memberEnd="_Tkfvke2XEeWnDaII1mfokg _Tf1SAe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkfvke2XEeWnDaII1mfokg" name="" type="_St_lYO2XEeWnDaII1mfokg" association="_TkfvkO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tkfvk-2XEeWnDaII1mfokg" name="" memberEnd="_TkfvlO2XEeWnDaII1mfokg _Tf2gIe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkfvlO2XEeWnDaII1mfokg" name="" type="_St_lYO2XEeWnDaII1mfokg" association="_Tkfvk-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkgWoe2XEeWnDaII1mfokg" name="" memberEnd="_TkgWou2XEeWnDaII1mfokg _Tf3HMe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkgWou2XEeWnDaII1mfokg" name="" type="_St_lYO2XEeWnDaII1mfokg" association="_TkgWoe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tkg9se2XEeWnDaII1mfokg" name="" memberEnd="_Tkg9su2XEeWnDaII1mfokg _Tf48Ye2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkg9su2XEeWnDaII1mfokg" name="" type="_SuJ9c-2XEeWnDaII1mfokg" association="_Tkg9se2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_Tkhkwe2XEeWnDaII1mfokg" name="" memberEnd="_Tkhkwu2XEeWnDaII1mfokg _Tf48Y-2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkhkwu2XEeWnDaII1mfokg" name="" type="_SuJ9c-2XEeWnDaII1mfokg" association="_Tkhkwe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkhkxO2XEeWnDaII1mfokg" name="" memberEnd="_Tkhkxe2XEeWnDaII1mfokg _Tf5jcu2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_Tkhkxe2XEeWnDaII1mfokg" name="" type="_SuJ9c-2XEeWnDaII1mfokg" association="_TkhkxO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TkiL0e2XEeWnDaII1mfokg" name="" memberEnd="_TkiL0u2XEeWnDaII1mfokg _Tf6xke2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TkiL0u2XEeWnDaII1mfokg" name="" type="_SuJ9c-2XEeWnDaII1mfokg" association="_TkiL0e2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TlWrMe2XEeWnDaII1mfokg" name="" memberEnd="_TlWrMu2XEeWnDaII1mfokg _TjiGQe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TlWrMu2XEeWnDaII1mfokg" name="" type="_StgdMO2XEeWnDaII1mfokg" association="_TlWrMe2XEeWnDaII1mfokg"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_SkZkgO2XEeWnDaII1mfokg" name="moleculeeditor">
                <packagedElement xmi:type="uml:Package" xmi:id="_SkZkge2XEeWnDaII1mfokg" name="userenum">
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_SxHK0O2XEeWnDaII1mfokg" name="AtomType">
                    <ownedAttribute xmi:id="_TgwfEO2XEeWnDaII1mfokg" name="name" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgxGIe2XEeWnDaII1mfokg" name="atomicMass" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgyUQO2XEeWnDaII1mfokg" name="atomicNum" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="_SxLcQO2XEeWnDaII1mfokg" name="AtomType" visibility="package" method="_TjHPgu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SxMDUe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SxMDUu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_SxLcQe2XEeWnDaII1mfokg" name="name">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SxLcQu2XEeWnDaII1mfokg" name="atomicMass">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SxMDUO2XEeWnDaII1mfokg" name="atomicNum">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SxMDU-2XEeWnDaII1mfokg" type="_SxHK0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxMqYO2XEeWnDaII1mfokg" name="getAtomName" method="_TjHPh-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxMqYe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxNRcO2XEeWnDaII1mfokg" name="getAtomicNum" method="_TjHPie2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxNRce2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedLiteral xmi:id="_SxHx4O2XEeWnDaII1mfokg" name="H">
                      <specification xmi:type="uml:Expression" xmi:id="_SxHx4e2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwo-2XEeWnDaII1mfokg" value="&quot;Hydrogen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjlwpO2XEeWnDaII1mfokg" value="1.008"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwpe2XEeWnDaII1mfokg" value="1"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxHx4u2XEeWnDaII1mfokg" name="C">
                      <specification xmi:type="uml:Expression" xmi:id="_SxHx4-2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwpu2XEeWnDaII1mfokg" value="&quot;Carbon&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwp-2XEeWnDaII1mfokg" value="12.011"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjlwqO2XEeWnDaII1mfokg" value="6"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxIY8O2XEeWnDaII1mfokg" name="N">
                      <specification xmi:type="uml:Expression" xmi:id="_SxIY8e2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwqe2XEeWnDaII1mfokg" value="&quot;Nitrogen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwqu2XEeWnDaII1mfokg" value="14.007"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwq-2XEeWnDaII1mfokg" value="7"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxIY8u2XEeWnDaII1mfokg" name="O">
                      <specification xmi:type="uml:Expression" xmi:id="_SxIY8-2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjlwrO2XEeWnDaII1mfokg" value="&quot;Oxygen&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_Tjlwre2XEeWnDaII1mfokg" value="15.999"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXsO2XEeWnDaII1mfokg" value="8"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxIY9O2XEeWnDaII1mfokg" name="F">
                      <specification xmi:type="uml:Expression" xmi:id="_SxIY9e2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXse2XEeWnDaII1mfokg" value="&quot;Fluorine&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXsu2XEeWnDaII1mfokg" value="18.9984"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXs-2XEeWnDaII1mfokg" value="9"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxIY9u2XEeWnDaII1mfokg" name="P">
                      <specification xmi:type="uml:Expression" xmi:id="_SxJAAO2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXtO2XEeWnDaII1mfokg" value="&quot;Phosphorus&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXte2XEeWnDaII1mfokg" value="30.9738"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXtu2XEeWnDaII1mfokg" value="15"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxJAAe2XEeWnDaII1mfokg" name="S">
                      <specification xmi:type="uml:Expression" xmi:id="_SxKOIO2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXt-2XEeWnDaII1mfokg" value="&quot;Sulfur&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXuO2XEeWnDaII1mfokg" value="32.06"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXue2XEeWnDaII1mfokg" value="16"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxKOIe2XEeWnDaII1mfokg" name="I">
                      <specification xmi:type="uml:Expression" xmi:id="_SxKOIu2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXuu2XEeWnDaII1mfokg" value="&quot;Iodine&quot;"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXu-2XEeWnDaII1mfokg" value="126.9045"/>
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXvO2XEeWnDaII1mfokg" value="53"/>
                      </specification>
                    </ownedLiteral>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_SxPGoO2XEeWnDaII1mfokg" name="BondType">
                    <ownedAttribute xmi:id="_TgziYO2XEeWnDaII1mfokg" name="name" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="_SxaFwO2XEeWnDaII1mfokg" name="BondType" visibility="package" method="_TjH2kO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Sxas0e2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Sxas0u2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Sxas0O2XEeWnDaII1mfokg" name="name">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Sxas0-2XEeWnDaII1mfokg" type="_SxPGoO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxbT4O2XEeWnDaII1mfokg" name="toString" method="_TjH2k-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxbT4e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedLiteral xmi:id="_SxQUwO2XEeWnDaII1mfokg" name="AMIDE">
                      <specification xmi:type="uml:Expression" xmi:id="_SxQUwe2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXve2XEeWnDaII1mfokg" value="&quot;AMIDE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxQUwu2XEeWnDaII1mfokg" name="ESTER">
                      <specification xmi:type="uml:Expression" xmi:id="_SxQUw-2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXvu2XEeWnDaII1mfokg" value="&quot;ESTER&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxQ70O2XEeWnDaII1mfokg" name="AMINE">
                      <specification xmi:type="uml:Expression" xmi:id="_SxQ70e2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXv-2XEeWnDaII1mfokg" value="&quot;AMINE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxRi4O2XEeWnDaII1mfokg" name="UREA">
                      <specification xmi:type="uml:Expression" xmi:id="_SxUmMO2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXwO2XEeWnDaII1mfokg" value="&quot;UREA&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxWbYO2XEeWnDaII1mfokg" name="ETHER">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXCcO2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXwe2XEeWnDaII1mfokg" value="&quot;ETHER&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxXCce2XEeWnDaII1mfokg" name="OLEFIN">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXCcu2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXwu2XEeWnDaII1mfokg" value="&quot;OLEFIN&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxXCc-2XEeWnDaII1mfokg" name="QUARTERNITRO">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXCdO2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXw-2XEeWnDaII1mfokg" value="&quot;QUARTERNITRO&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxXpgO2XEeWnDaII1mfokg" name="ARONITRO_ALICARBON">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXpge2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXxO2XEeWnDaII1mfokg" value="&quot;ARONITRO_ALICARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxXpgu2XEeWnDaII1mfokg" name="LACNTIRO_ALICARBON">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXpg-2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXxe2XEeWnDaII1mfokg" value="&quot;LACNTIRO_ALICARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxXphO2XEeWnDaII1mfokg" name="AROCARBON_AROCARBON">
                      <specification xmi:type="uml:Expression" xmi:id="_SxXphe2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXxu2XEeWnDaII1mfokg" value="&quot;AROCARBON_AROCARBON&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxYQkO2XEeWnDaII1mfokg" name="SULPHONAMIDE">
                      <specification xmi:type="uml:Expression" xmi:id="_SxYQke2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXx-2XEeWnDaII1mfokg" value="&quot;SULPHONAMIDE&quot;"/>
                      </specification>
                    </ownedLiteral>
                    <ownedLiteral xmi:id="_SxYQku2XEeWnDaII1mfokg" name="COVALENT">
                      <specification xmi:type="uml:Expression" xmi:id="_SxYQk-2XEeWnDaII1mfokg">
                        <operand xmi:type="uml:LiteralString" xmi:id="_TjmXyO2XEeWnDaII1mfokg" value="&quot;COVALENT&quot;"/>
                      </specification>
                    </ownedLiteral>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_SxciAO2XEeWnDaII1mfokg" name="DisplayType">
                    <ownedLiteral xmi:id="_SxdJEe2XEeWnDaII1mfokg" name="LINE"/>
                    <ownedLiteral xmi:id="_SxdJEu2XEeWnDaII1mfokg" name="SPACE"/>
                    <ownedLiteral xmi:id="_SxdJE-2XEeWnDaII1mfokg" name="STICK"/>
                    <ownedLiteral xmi:id="_SxdJFO2XEeWnDaII1mfokg" name="SPHERE"/>
                    <ownedLiteral xmi:id="_SxdwIO2XEeWnDaII1mfokg" name="CARTOON"/>
                    <ownedLiteral xmi:id="_SxdwIe2XEeWnDaII1mfokg" name="BALLNSTICK"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_SxeXMO2XEeWnDaII1mfokg" name="UserActionType">
                    <ownedLiteral xmi:id="_Sxe-QO2XEeWnDaII1mfokg" name="CUT"/>
                    <ownedLiteral xmi:id="_Sxe-Qe2XEeWnDaII1mfokg" name="COPY"/>
                    <ownedLiteral xmi:id="_Sxe-Qu2XEeWnDaII1mfokg" name="PASTE"/>
                    <ownedLiteral xmi:id="_Sxe-Q-2XEeWnDaII1mfokg" name="DISPLAYTYPE"/>
                    <ownedLiteral xmi:id="_SxflUO2XEeWnDaII1mfokg" name="DELETE"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SlbfQO2XEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="_Su_D4O2XEeWnDaII1mfokg" name="AtomToMMType">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7CQO2XEeWnDaII1mfokg" name="setMMType" specification="_TVmX8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7CQe2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7CQu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>switch(atom.getElementSymbol()){&#xD;
		case &quot;N&quot; : return checkNitrogenAtomBond(atom);&#xD;
		case &quot;C&quot; : return checkCarbonAtomBond(atom);&#xD;
		case &quot;O&quot; : return checkOxygenAtomBond(atom);&#xD;
		case &quot;H&quot; : return checkHydrogenAtomBond(atom);&#xD;
		}&#xD;
		return null;&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7CQ-2XEeWnDaII1mfokg" name="checkNitrogenAtomBond" specification="_TVmX8-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7CRO2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7CRe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO Auto-generated method stub&#xD;
		return &quot;NR+&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7CRu2XEeWnDaII1mfokg" name="checkOxygenAtomBond" specification="_TVm_Au2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7CR-2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7CSO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		int countO=0, countC=0, countN=0, countH=0;&#xD;
		if(bonds.size()==2){&#xD;
			for(int i=0;i&lt;2;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
						countH++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
					countC++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)){&#xD;
					countN++;&#xD;
				}&#xD;
				&#xD;
				if(countH==2)&#xD;
					return &quot;OR&quot;;&#xD;
				else if(countC==1 &amp;&amp; (bonds.get(i).getAtom1().getmmType()==3||bonds.get(i).getAtom2().getmmType()==3))&#xD;
					return &quot;O2CM&quot;;&#xD;
				else&#xD;
					return &quot;O2CM&quot;;&#xD;
			}&#xD;
		}&#xD;
		if(bonds.size()==1){&#xD;
			for(int i=0;i&lt;1;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if(((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0))&amp;&amp;&#xD;
						(bonds.get(i).getAtom1().getmmType()==34||bonds.get(i).getAtom2().getmmType()==34)){&#xD;
					return &quot;O=C&quot;;&#xD;
				}&#xD;
				else if(((atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0))){&#xD;
						return &quot;O=CN&quot;;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return &quot;O2CM&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7CSe2XEeWnDaII1mfokg" name="checkHydrogenAtomBond" specification="_TVnmEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7CSu2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7CS-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		for(int i=0;i&lt;1;i++){&#xD;
			String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
			String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
			if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
				(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
				return&quot;HC&quot;;&#xD;
			}&#xD;
			else if(((atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0))&amp;&amp;&#xD;
					(bonds.get(i).getAtom1().getmmType()==34||bonds.get(i).getAtom2().getmmType()==34)){&#xD;
				return &quot;HNR+&quot;;&#xD;
			}&#xD;
			else if(((atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)||&#xD;
					(atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0))){&#xD;
				if((bonds.get(i).getAtom1().getmmType()==6||bonds.get(i).getAtom2().getmmType()==6))&#xD;
					return &quot;HOR&quot;;&#xD;
				else&#xD;
					return &quot;HO&quot;;&#xD;
			}&#xD;
			&#xD;
		}&#xD;
		return &quot;HNR+&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pUO2XEeWnDaII1mfokg" name="checkCarbonAtomBond" specification="_TVnmE-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7pUe2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7pUu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond>bonds= atom.getBond();&#xD;
		int countO=0, countC=0, countN=0, countH=0;&#xD;
		if(bonds.size()==2){&#xD;
			return &quot;=C=&quot;;&#xD;
		}&#xD;
		if(bonds.size()==3){&#xD;
			for(int i=0;i&lt;3;i++){&#xD;
				String atm1 = bonds.get(i).getAtom1().getElementSymbol();&#xD;
				String atm2 = bonds.get(i).getAtom2().getElementSymbol();&#xD;
				if(atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0){&#xD;
					countC++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;O&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;O&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countO++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;H&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;H&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countH++;&#xD;
				}&#xD;
				else if((atm1.compareTo(&quot;C&quot;)==0 &amp;&amp; atm2.compareTo(&quot;N&quot;)==0)||&#xD;
						(atm1.compareTo(&quot;N&quot;)==0 &amp;&amp; atm2.compareTo(&quot;C&quot;)==0)){&#xD;
					countN++;&#xD;
				}&#xD;
				&#xD;
				&#xD;
			}&#xD;
			&#xD;
			if(countO==2)&#xD;
				return &quot;CO2M&quot;;&#xD;
			else if(countC==3)&#xD;
				return &quot;C=C&quot;;&#xD;
			else if((countC==1 &amp;&amp; countO==1 &amp;&amp; countN==1))&#xD;
				return &quot;C=ON&quot;;&#xD;
			else if((countC==2 &amp;&amp; countO==1)||(countH==1 &amp;&amp; countO==1 &amp;&amp; countC==1))&#xD;
				return &quot;C=OR&quot;;&#xD;
			else if(countC==2 &amp;&amp; countN==1)&#xD;
				return &quot;C=N&quot;;&#xD;
			else if(countO==1)&#xD;
				return &quot;C=O&quot;;&#xD;
		}&#xD;
		if(bonds.size()==4){&#xD;
			for(int i=0;i&lt;4;i++){&#xD;
				return &quot;CR&quot;;&#xD;
			}&#xD;
		}&#xD;
		return null;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TVmX8O2XEeWnDaII1mfokg" name="setMMType" isStatic="true" method="_Ti7CQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVmX8e2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVmX8u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVmX8-2XEeWnDaII1mfokg" name="checkNitrogenAtomBond" visibility="private" isStatic="true" method="_Ti7CQ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVm_AO2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVm_Ae2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVm_Au2XEeWnDaII1mfokg" name="checkOxygenAtomBond" visibility="private" isStatic="true" method="_Ti7CRu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVm_A-2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVm_BO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVnmEO2XEeWnDaII1mfokg" name="checkHydrogenAtomBond" visibility="private" isStatic="true" method="_Ti7CSe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVnmEe2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVnmEu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVnmE-2XEeWnDaII1mfokg" name="checkCarbonAtomBond" visibility="private" isStatic="true" method="_Ti7pUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVoNIO2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TVoNIe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvCHMO2XEeWnDaII1mfokg" name="DataManager">
                    <ownedAttribute xmi:id="_TgCtYO2XEeWnDaII1mfokg" name="logger" visibility="private" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" association="_Tkiy4e2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgDUcO2XEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(MoleculeEditor.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgDUcu2XEeWnDaII1mfokg" name="newline" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgDUc-2XEeWnDaII1mfokg" value="&quot;\n&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgD7ge2XEeWnDaII1mfokg" name="d3" visibility="private" isStatic="true" type="_TVXucO2XEeWnDaII1mfokg" association="_Tkiy5O2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgD7gu2XEeWnDaII1mfokg" value="(DecimalFormat)NumberFormat.getInstance(java.util.Locale.UK)"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgEikO2XEeWnDaII1mfokg" name="d2" visibility="private" isStatic="true" type="_TVXucO2XEeWnDaII1mfokg" association="_TkjZ8e2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgEike2XEeWnDaII1mfokg" value="(DecimalFormat)NumberFormat.getInstance(java.util.Locale.UK)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pU-2XEeWnDaII1mfokg" name="_initializer1" specification="_SvCuQO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>d3.setMaximumIntegerDigits(4);&#xD;
		d3.setMinimumFractionDigits(3);&#xD;
		d3.setMaximumFractionDigits(3);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pVO2XEeWnDaII1mfokg" name="_initializer2" specification="_SvDVUe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>d2.setMaximumIntegerDigits(3);&#xD;
		d2.setMinimumFractionDigits(2);&#xD;
		d2.setMaximumFractionDigits(2);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pVe2XEeWnDaII1mfokg" name="readFile" specification="_TVrQcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7pVu2XEeWnDaII1mfokg" name="fileName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7pV-2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
		&#xD;
		if(fileName.endsWith(&quot;.pdb&quot;) || fileName.endsWith(&quot;.pdbqt&quot;)){&#xD;
			struc = FileReader.readPDBFile(fileName); &#xD;
		}&#xD;
		else if(fileName.endsWith(&quot;.mol2&quot;)){&#xD;
			struc = FileReader.readMol2File(fileName);&#xD;
		}&#xD;
		else if(fileName.endsWith(&quot;.cif&quot;)){&#xD;
			struc = FileReader.readMmcifFile(fileName);&#xD;
		}&#xD;
		return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pWO2XEeWnDaII1mfokg" name="writeFile" specification="_TcxW8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7pWe2XEeWnDaII1mfokg" name="file" type="_TVo0MO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7pWu2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String modelToPDB = modelToPDB(updateReg.getModelList());&#xD;
		// implement writer to write to file&#xD;
		FileWriter.writePDBFile(file, modelToPDB);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti7pW-2XEeWnDaII1mfokg" name="modelToPDB" specification="_TcxW8-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti7pXO2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti7pXe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>StringBuffer pdb = new StringBuffer();&#xD;
		int numModel = models.size();&#xD;
		// for each model&#xD;
		for(int i=0;i&lt;numModel;i++){&#xD;
			pdb.append(&quot;MODEL      &quot; + (i+1)+ newline);	// start for each model&#xD;
			Model currModel = models.get(i);&#xD;
			int numMole = currModel.getMolecules().size();&#xD;
			//for each molecule&#xD;
			for(int m=0;m&lt;numMole;m++){&#xD;
				Molecule currMole = currModel.getMolecules().get(m);&#xD;
				int numChain = currMole.getChains().size();&#xD;
				// for each Chain&#xD;
				for(int j=0;j&lt;numChain;j++){&#xD;
					Chain currChain = currMole.getChains().get(j);&#xD;
					int numResidue = currChain.getResidues().size();&#xD;
					//for each Residue in Chain&#xD;
					for(int k=0;k&lt;numResidue;k++){&#xD;
						Residue currResidue = currChain.getResidues().get(k);&#xD;
						int numAtom = currResidue.getAtomList().size();&#xD;
						for(int l=0;l&lt;numAtom;l++){&#xD;
							Atom currAtom = currResidue.getAtomList().get(l);&#xD;
							// pdb string for each ATOM&#xD;
							toPDB(currAtom, pdb);&#xD;
						}&#xD;
					}&#xD;
					&#xD;
					int numAtom = currChain.getAtoms().size();&#xD;
					// for HetAtom in Chain&#xD;
					for(int k=0;k&lt;numAtom;k++){&#xD;
						Atom currAtom = currChain.getAtoms().get(k);&#xD;
						// pdb string for each HETATM&#xD;
						toPDB(currAtom, pdb);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
			pdb.append(&quot;ENDMDL&quot;).append(newline); // end of each model&#xD;
		}&#xD;
		return pdb.toString();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8QYO2XEeWnDaII1mfokg" name="toPDB" specification="_TczMIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8QYe2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti8QYu2XEeWnDaII1mfokg" name="str" type="_TcylEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String record = &quot;&quot; ;&#xD;
		if (a.getParent() instanceof Chain) {&#xD;
			record = &quot;HETATM&quot;;&#xD;
		} else {&#xD;
			record = &quot;ATOM  &quot;;&#xD;
		}&#xD;
		&#xD;
		int    seri       = a.getAtomSeqNum()       ;&#xD;
		String serial     = alignRight(&quot;&quot;+seri,5)   ;&#xD;
		&#xD;
		String fullname   = alignLeft(a.getSymbol(),3)	;&#xD;
		Character  altLoc = ' '        			    ;&#xD;
		&#xD;
		String resName;&#xD;
		if(a.getParent()==null)&#xD;
			resName = &quot;TST&quot;;&#xD;
		else&#xD;
			resName = a.getParent().getName();&#xD;
		String leftResName = alignLeft(resName,3);&#xD;
		String chainID = &quot;&quot;;&#xD;
		if(a.getParent() instanceof Residue){&#xD;
			chainID = ((Residue)a.getParent()).getParent().getName();&#xD;
		}&#xD;
		else{&#xD;
			chainID = &quot; &quot;;&#xD;
		}&#xD;
		String resseq     = alignRight(&quot;&quot;+a.getChainSeqNum(),5);&#xD;
		&#xD;
		String x          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[0]),8);&#xD;
		String y          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[1]),8);&#xD;
		String z          = alignRight(&quot;&quot;+d3.format(a.getCoordinates()[2]),8);&#xD;
		String occupancy  = alignRight(&quot;&quot;+d2.format(1.00),6) ;&#xD;
		String tempfactor = alignRight(&quot;&quot;+d2.format(0.00),6);&#xD;
		&#xD;
		StringBuffer s = new StringBuffer();&#xD;
		s.append(record);&#xD;
		s.append(serial);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(fullname);&#xD;
		s.append(altLoc);&#xD;
		s.append(leftResName);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(chainID);&#xD;
		s.append(resseq);&#xD;
		s.append(&quot;    &quot;);&#xD;
		s.append(x);&#xD;
		s.append(y);&#xD;
		s.append(z);&#xD;
		s.append(occupancy);&#xD;
		s.append(tempfactor);&#xD;
		&#xD;
		String eString;&#xD;
		if(a.getSymbol()==null)&#xD;
			eString = &quot; &quot;;&#xD;
		else&#xD;
			eString = a.getSymbol().substring(0, 1).toUpperCase();&#xD;
		str.append(String.format(&quot;%-76s%2s&quot;, s.toString(),eString));&#xD;
		str.append(newline);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8QY-2XEeWnDaII1mfokg" name="alignLeft" specification="_SvEjcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8QZO2XEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8QZe2XEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8QZu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(input==null){&#xD;
			String spaces = &quot;                           &quot; ;&#xD;
			return spaces.substring(0, length);&#xD;
		}&#xD;
		if (input.length() >= length) {&#xD;
			return input;&#xD;
		}&#xD;
&#xD;
		String spaces = &quot;                           &quot; ;&#xD;
		input += spaces.substring(0, length - input.length() );&#xD;
		return input;&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8QZ-2XEeWnDaII1mfokg" name="alignRight" specification="_SvFKgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8QaO2XEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8Qae2XEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8Qau2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(input==null){&#xD;
			String spaces = &quot;                           &quot; ;&#xD;
			return spaces.substring(0, length);&#xD;
		}&#xD;
		int n = input.length();&#xD;
		if ( n >= length)&#xD;
			return input;&#xD;
&#xD;
		String spaces = &quot;                           &quot; ;&#xD;
		int diff = length - n ;&#xD;
		StringBuffer s = new StringBuffer();&#xD;
&#xD;
		s.append(spaces.substring(0,diff));&#xD;
		s.append(input);&#xD;
&#xD;
		return s.toString();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8Qa-2XEeWnDaII1mfokg" name="readFile" specification="_TVr3gO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8QbO2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8Qbe2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
		&#xD;
		if(filePath.endsWith(&quot;.pdb&quot;)){&#xD;
			struc = FileReader.readPDBFile(filePath); &#xD;
		}&#xD;
		&#xD;
		if(struc==null){&#xD;
			logger.log(Level.INFO, &quot;Error loading file&quot;);&#xD;
			JOptionPane.showMessageDialog(new JFrame(), &quot;Error loading file.&quot;);&#xD;
		}&#xD;
		else&#xD;
			updateReg.loadFileToJmol(struc);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8Qbu2XEeWnDaII1mfokg" name="appendModel" specification="_TVseku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8Qb-2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8QcO2XEeWnDaII1mfokg" name="updateRegistry" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti8Qce2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Structure struc = null;&#xD;
			if(filePath.endsWith(&quot;.pdb&quot;)){&#xD;
				struc = FileReader.readPDBFile(filePath); &#xD;
			}&#xD;
			if(struc==null){&#xD;
				logger.log(Level.INFO, &quot;Error loading file&quot;);&#xD;
				JOptionPane.showMessageDialog(new JFrame(), &quot;Error loading file.&quot;);&#xD;
				return null;&#xD;
			}&#xD;
			else&#xD;
				return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti8Qcu2XEeWnDaII1mfokg" name="toPDB" specification="_TczzMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti8Qc-2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti8QdO2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8Qde2XEeWnDaII1mfokg" name="position" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti8Qdu2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti8Qd-2XEeWnDaII1mfokg" name="str" type="_TcylEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String record = &quot;&quot; ;&#xD;
		if (a.getParent() instanceof Chain) {&#xD;
			record = &quot;HETATM&quot;;&#xD;
		} else {&#xD;
			record = &quot;ATOM  &quot;;&#xD;
		}&#xD;
		&#xD;
		int    seri       = i       ;&#xD;
		String serial     = alignRight(&quot;&quot;+seri,5)   ;&#xD;
		&#xD;
		String fullname   = alignLeft(a.getSymbol(),3)	;&#xD;
		Character  altLoc = ' '        			    ;&#xD;
		&#xD;
		String resName;&#xD;
		if(a.getParent()==null)&#xD;
			resName = &quot;TST&quot;;&#xD;
		else&#xD;
			resName = a.getParent().getName();&#xD;
		String leftResName = alignLeft(resName,3);&#xD;
		String chainID = &quot;&quot;;&#xD;
		if(a.getParent() instanceof Residue){&#xD;
			chainID = ((Residue)a.getParent()).getParent().getName();&#xD;
		}&#xD;
		else{&#xD;
			chainID = &quot; &quot;;&#xD;
		}&#xD;
		String resseq     = alignRight(&quot;&quot;+a.getChainSeqNum(),5);&#xD;
		&#xD;
		String x          = alignRight(&quot;&quot;+d3.format(capCoord(position.x*scale)),8);&#xD;
		String y          = alignRight(&quot;&quot;+d3.format(capCoord(position.y*scale)),8);&#xD;
		String z          = alignRight(&quot;&quot;+d3.format(capCoord(position.z*scale)),8);&#xD;
		String occupancy  = alignRight(&quot;&quot;+d2.format(1.00),6) ;&#xD;
		String tempfactor = alignRight(&quot;&quot;+d2.format(0.00),6);&#xD;
		&#xD;
		StringBuffer s = new StringBuffer();&#xD;
		s.append(record);&#xD;
		s.append(serial);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(fullname);&#xD;
		s.append(altLoc);&#xD;
		s.append(leftResName);&#xD;
		s.append(&quot; &quot;);&#xD;
		s.append(chainID);&#xD;
		s.append(resseq);&#xD;
		s.append(&quot;    &quot;);&#xD;
		s.append(x);&#xD;
		s.append(y);&#xD;
		s.append(z);&#xD;
		s.append(occupancy);&#xD;
		s.append(tempfactor);&#xD;
		&#xD;
		String eString;&#xD;
		if(a.getSymbol()==null)&#xD;
			eString = &quot; &quot;;&#xD;
		else&#xD;
			eString = a.getSymbol().substring(0, 1).toUpperCase();&#xD;
		str.append(String.format(&quot;%-76s%2s&quot;, s.toString(),eString));&#xD;
		str.append(newline);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti83cO2XEeWnDaII1mfokg" name="capCoord" specification="_SvGYoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti83ce2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti83cu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)&#xD;
			return Math.max(-999.000, coord);&#xD;
		return Math.min(coord, +999.000);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SvCuQO2XEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="_Ti7pU-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SvCuQe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SvCuQu2XEeWnDaII1mfokg" key="init"/>
                      </eAnnotations>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvDVUe2XEeWnDaII1mfokg" name="_initializer2" isStatic="true" method="_Ti7pVO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SvDVUu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SvDVU-2XEeWnDaII1mfokg" key="init"/>
                      </eAnnotations>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvEjcO2XEeWnDaII1mfokg" name="alignLeft" visibility="private" isStatic="true" method="_Ti8QY-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvEjce2XEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SvEjcu2XEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SvEjc-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvFKgO2XEeWnDaII1mfokg" name="alignRight" visibility="private" isStatic="true" method="_Ti8QZ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvFKge2XEeWnDaII1mfokg" name="input">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SvFKgu2XEeWnDaII1mfokg" name="length">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SvFxkO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvGYoO2XEeWnDaII1mfokg" name="capCoord" visibility="private" isStatic="true" method="_Ti83cO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvGYoe2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SvGYou2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVrQcO2XEeWnDaII1mfokg" name="readFile" isStatic="true" method="_Ti7pVe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVrQce2XEeWnDaII1mfokg" name="fileName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tcwv4O2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVr3gO2XEeWnDaII1mfokg" name="readFile" isStatic="true" method="_Ti8Qa-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVsekO2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVseke2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TVseku2XEeWnDaII1mfokg" name="appendModel" isStatic="true" method="_Ti8Qbu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TVsek-2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TVtFoO2XEeWnDaII1mfokg" name="updateRegistry" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TczMJO2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TcxW8O2XEeWnDaII1mfokg" name="writeFile" isStatic="true" method="_Ti7pWO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TcxW8e2XEeWnDaII1mfokg" name="file" type="_TVo0MO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TcxW8u2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TcxW8-2XEeWnDaII1mfokg" name="modelToPDB" isStatic="true" method="_Ti7pW-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tcx-AO2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tcx-Ae2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TczMIe2XEeWnDaII1mfokg" name="toPDB" isStatic="true" method="_Ti8QYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TczMIu2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TczMI-2XEeWnDaII1mfokg" name="str" type="_TcylEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TczzMO2XEeWnDaII1mfokg" name="toPDB" isStatic="true" method="_Ti8Qcu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TczzMe2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TczzMu2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TczzM-2XEeWnDaII1mfokg" name="position" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TczzNO2XEeWnDaII1mfokg" name="scale">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TczzNe2XEeWnDaII1mfokg" name="str" type="_TcylEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvJb8O2XEeWnDaII1mfokg" name="EvaluateUserAction">
                    <ownedAttribute xmi:id="_TgFJoO2XEeWnDaII1mfokg" name="DELETE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgFJoe2XEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgFwsO2XEeWnDaII1mfokg" name="COPY" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgFwse2XEeWnDaII1mfokg" value="2"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgFwsu2XEeWnDaII1mfokg" name="CUT" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgFws-2XEeWnDaII1mfokg" value="3"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgGXwO2XEeWnDaII1mfokg" name="PASTE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgGXwe2XEeWnDaII1mfokg" value="4"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgGXwu2XEeWnDaII1mfokg" name="DRAGATOM" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgGXw-2XEeWnDaII1mfokg" value="5"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgG-0O2XEeWnDaII1mfokg" name="DRAGATOMMINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgG-0e2XEeWnDaII1mfokg" value="6"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgG-0u2XEeWnDaII1mfokg" name="DRAGSELECTED" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgG-0-2XEeWnDaII1mfokg" value="7"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgHl4O2XEeWnDaII1mfokg" name="DRAGSELECTEDMINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgHl4e2XEeWnDaII1mfokg" value="8"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgHl4u2XEeWnDaII1mfokg" name="MINIMIZE" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgHl4-2XEeWnDaII1mfokg" value="9"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti83c-2XEeWnDaII1mfokg" name="evaluateAction" specification="_TVwwAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti83dO2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti83de2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>System.out.println(&quot;Evaluating script: &quot; + script);&#xD;
		script = script.toLowerCase();&#xD;
		String action = script.substring(4, script.length()-1);&#xD;
		System.out.println(&quot;Action:&quot; + action);&#xD;
		switch(action){&#xD;
		case &quot;delete&quot;:&#xD;
			System.out.println(&quot;Entering delete function&quot;);&#xD;
			findSelectedAtom(updateReg, DELETE);&#xD;
			return;&#xD;
		case &quot;copy&quot;:&#xD;
			System.out.println(&quot;Entering copy function&quot;);&#xD;
			findSelectedAtom(updateReg, COPY);&#xD;
			return;&#xD;
		case &quot;cut&quot;:&#xD;
			System.out.println(&quot;Entering cut function&quot;);&#xD;
			findSelectedAtom(updateReg, CUT);&#xD;
			return;&#xD;
		case &quot;paste&quot;:&#xD;
			//JmolViewer viewer = jmolDisplay.getViewer();&#xD;
			//System.out.println(viewer.getAtomPoint3f(10).x+  &quot; &quot;+ viewer.getAtomPoint3f(10).y + &quot; &quot; +viewer.getAtomPoint3f(10).z);&#xD;
			findSelectedAtom(updateReg, PASTE);&#xD;
			return;&#xD;
		case &quot;minimizeonly&quot;:&#xD;
			System.out.println(&quot;Entering drag Atom function&quot;);&#xD;
			dragModeSetting(updateReg, MINIMIZE);&#xD;
			return;&#xD;
		case &quot;dragatom&quot;:&#xD;
			System.out.println(&quot;Entering drag Atom function&quot;);&#xD;
			dragModeSetting(updateReg, DRAGATOM);&#xD;
			return;&#xD;
		case &quot;dragminimize&quot;:&#xD;
			dragModeSetting(updateReg, DRAGATOMMINIMIZE);&#xD;
			return;&#xD;
		case &quot;dragselected&quot;:&#xD;
			dragModeSetting(updateReg, DRAGSELECTED);&#xD;
			return;&#xD;
		case &quot;dragselectedminimize&quot;:&#xD;
			dragModeSetting(updateReg, DRAGSELECTEDMINIMIZE);&#xD;
			return;&#xD;
		default:&#xD;
			return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti83du2XEeWnDaII1mfokg" name="dragModeSetting" specification="_TV558O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti83d-2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti83eO2XEeWnDaII1mfokg" name="dragMode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>updateReg.dragMode = DRAGATOM;&#xD;
			if(dragMode==MINIMIZE){&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.minimizeModel();&#xD;
			}&#xD;
			else if(dragMode==DRAGATOM){&#xD;
				updateReg.atomselected=true;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
			}&#xD;
			else if(dragMode==DRAGSELECTED){&#xD;
				updateReg.atomselected=false;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
			}&#xD;
			else if(dragMode==DRAGATOMMINIMIZE || dragMode==DRAGSELECTEDMINIMIZE){&#xD;
				updateReg.atomselected=true;&#xD;
				System.out.println(&quot;Evaluating set picking dragatom&quot;);&#xD;
				updateReg.getViewer().evalString(&quot;set picking DRAGATOM&quot;);&#xD;
				updateReg.setMinimizeMode(true);&#xD;
			}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti83ee2XEeWnDaII1mfokg" name="findSelectedAtom" specification="_TV6hAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti83eu2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti83e-2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Atom> atomList = updateReg.getSelectedAtoms();&#xD;
		int[] atomNo = new int[atomList.size()];&#xD;
		for(int i=0;i&lt;atomNo.length;i++){&#xD;
			atomNo[i] = atomList.get(atomNo.length-1-i).getAtomSeqNum();&#xD;
		}&#xD;
		int currentModelIndex = updateReg.getViewer().getDisplayModelIndex(); &#xD;
		if(mode==DELETE ||mode==CUT||mode==COPY){&#xD;
			for(int i=0;i&lt;atomList.size();i++){&#xD;
				String key = atomList.get(i).getModelName()+atomList.get(i).getAtomSeqNum();&#xD;
				if(mode==CUT || mode==COPY)&#xD;
					updateReg.copyAtoms(currentModelIndex, key);&#xD;
				if(mode==DELETE || mode==CUT)&#xD;
					updateReg.deleteAtoms(currentModelIndex, key, atomList.get(i).getAtomSeqNum());&#xD;
			}&#xD;
		}&#xD;
		else if(mode==PASTE){&#xD;
			updateReg.pasteSavedAtoms(updateReg.getViewer().getDisplayModelIndex());&#xD;
		}&#xD;
		else{&#xD;
			System.out.println(&quot;Invalid Operation&quot;);&#xD;
		}&#xD;
		//reset model atom seq number will give weird molecule.&#xD;
		/*for(Atom atm1 : updateReg.getModelList().get(currentModelIndex).getAtomHash().values()){&#xD;
			for(int i=0;i&lt;atomNo.length;i++){&#xD;
				if(atm1.getAtomSeqNum()>atomNo[i])&#xD;
					atm1.setAtomSeqNum((atm1.getAtomSeqNum()-1));&#xD;
			}&#xD;
		}*/&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TVwwAO2XEeWnDaII1mfokg" name="evaluateAction" isStatic="true" method="_Ti83c-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TV5S4O2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TV5S4e2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TV558O2XEeWnDaII1mfokg" name="dragModeSetting" visibility="private" isStatic="true" method="_Ti83du2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TV558e2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TV558u2XEeWnDaII1mfokg" name="dragMode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TV6hAO2XEeWnDaII1mfokg" name="findSelectedAtom" isStatic="true" method="_Ti83ee2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TV6hAe2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TV6hAu2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvMfQO2XEeWnDaII1mfokg" name="FileReader">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9egO2XEeWnDaII1mfokg" name="readPDBFile" specification="_SvNGUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9ege2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9egu2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// wrapper class for parsing a PDB file.&#xD;
		PDBFileReader pdbreader = new PDBFileReader();&#xD;
		Structure struc = null; &#xD;
		//Model model = null;&#xD;
		&#xD;
		try{&#xD;
			// Access to the data of a PDB file.&#xD;
			struc = pdbreader.getStructure(fileName);	    &#xD;
		 } catch (Exception e){&#xD;
			 java.util.logging.Logger logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
			 logger.log(Level.SEVERE, &quot;Error converting to structure object from file path&quot;);&#xD;
		 }&#xD;
		return struc;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9eg-2XEeWnDaII1mfokg" name="readMol2File" specification="_SvNtYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9ehO2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9ehe2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement FileReader.readMol2File&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9ehu2XEeWnDaII1mfokg" name="readMmcifFile" specification="_SvNtYu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9eh-2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9eiO2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>MMCIFFileReader pdbreader = new MMCIFFileReader();&#xD;
		Structure struct=null;&#xD;
     try {&#xD;
             struct = pdbreader.getStructure(fileName);&#xD;
&#xD;
     } catch (IOException e) {&#xD;
     	java.util.logging.Logger logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
			 logger.log(Level.SEVERE, &quot;Error converting to structure object from file path&quot;);&#xD;
     }&#xD;
		return struct;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SvNGUO2XEeWnDaII1mfokg" name="readPDBFile" isStatic="true" method="_Ti9egO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvNGUe2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tc1BUO2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvNtYO2XEeWnDaII1mfokg" name="readMol2File" isStatic="true" method="_Ti9eg-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvNtYe2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tc1BUe2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvNtYu2XEeWnDaII1mfokg" name="readMmcifFile" isStatic="true" method="_Ti9ehu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvNtY-2XEeWnDaII1mfokg" name="fileName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tc1BUu2XEeWnDaII1mfokg" type="_TUfksu2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvO7gO2XEeWnDaII1mfokg" name="FileWriter">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9eie2XEeWnDaII1mfokg" name="writeAminoSequence" specification="_SvQwsO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// TODO - implement FileWriter.writeAminoSequence&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9eiu2XEeWnDaII1mfokg" name="writePDBFile" specification="_Tc1oYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9ei-2XEeWnDaII1mfokg" name="file" type="_TVo0MO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti9ejO2XEeWnDaII1mfokg" name="modelToPDB">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>try {&#xD;
			BufferedWriter writer = new BufferedWriter(new java.io.FileWriter(file.getAbsoluteFile()));&#xD;
			writer.write(modelToPDB);&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SvQwsO2XEeWnDaII1mfokg" name="writeAminoSequence" method="_Ti9eie2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Tc1oYO2XEeWnDaII1mfokg" name="writePDBFile" isStatic="true" method="_Ti9eiu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tc1oYe2XEeWnDaII1mfokg" name="file" type="_TVo0MO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tc1oYu2XEeWnDaII1mfokg" name="modelToPDB">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvR-0O2XEeWnDaII1mfokg" name="GestureManager">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9eje2XEeWnDaII1mfokg" name="setMouseState" specification="_TV-LYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9eju2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9ej-2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9ekO2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti9eke2XEeWnDaII1mfokg" name="mouseState" type="_SwGeMO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>switch(mode){&#xD;
		// left-click, shift-left-click&#xD;
		case 4368:&#xD;
		case 4369: 	mouseState.setStartPosition(x,y);&#xD;
					return;&#xD;
		case 8464: 	mouseState.setMouseMode(&quot;Rotate Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 8465:	&#xD;
		case 8456:	mouseState.setMouseMode(&quot;Zoom Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 8721: 	mouseState.setMouseMode(&quot;Translate Model&quot;);&#xD;
					mouseState.setCurrentPosition(x,y);&#xD;
					return;&#xD;
		case 16640: &#xD;
		case 16896: mouseState.setEndPosition(x,y);&#xD;
					return;		&#xD;
		default: return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TV-LYO2XEeWnDaII1mfokg" name="setMouseState" isStatic="true" method="_Ti9eje2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TV-LYe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TV-LYu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TV-LY-2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TV-ycO2XEeWnDaII1mfokg" name="mouseState" type="_SwGeMO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvSl4O2XEeWnDaII1mfokg" name="JMolSelectionListener">
                    <ownedAttribute xmi:id="_TgIM8O2XEeWnDaII1mfokg" name="selectionList">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgIM8u2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkkBAO2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_Tc2PcO2XEeWnDaII1mfokg" client="_SvSl4O2XEeWnDaII1mfokg" supplier="_TV-yce2XEeWnDaII1mfokg" contract="_TV-yce2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9eku2XEeWnDaII1mfokg" name="JMolSelectionListener" specification="_TWAAkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9ek-2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti9elO2XEeWnDaII1mfokg" type="_SvSl4O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti9ele2XEeWnDaII1mfokg" name="selectionChanged" specification="_TWBOse2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti9elu2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>System.out.println(values);&#xD;
		jmolPanel.getMediator().setSelectedAtoms(values);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TWAAkO2XEeWnDaII1mfokg" name="JMolSelectionListener" method="_Ti9eku2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TWAnoe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TWAnou2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TWAnoO2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWAno-2XEeWnDaII1mfokg" type="_SvSl4O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWBOse2XEeWnDaII1mfokg" name="selectionChanged" method="_Ti9ele2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWBOsu2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SvdlAO2XEeWnDaII1mfokg" name="MoleculeEditor">
                    <ownedComment xmi:id="_TjlJkO2XEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
The main function of the Molecule Editor.&#xD;
Initialise main display and set up connection</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_TgJbEO2XEeWnDaII1mfokg" name="frame" visibility="private" isStatic="true" type="_TVpbQu2XEeWnDaII1mfokg" association="_TkkBA-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgJbEu2XEeWnDaII1mfokg" name="contentPane" visibility="protected" isStatic="true" type="_TWLmwO2XEeWnDaII1mfokg" association="_TkkBBu2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgKCIe2XEeWnDaII1mfokg" name="menu" visibility="protected" isStatic="true" type="_Sw7koO2XEeWnDaII1mfokg" association="_TkkoEe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgKpMO2XEeWnDaII1mfokg" name="toolPanel" visibility="protected" isStatic="true" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkkoFO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgKpMu2XEeWnDaII1mfokg" name="jmolPanel" visibility="protected" isStatic="true" type="_SwxzoO2XEeWnDaII1mfokg" association="_TklPIe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgLQQe2XEeWnDaII1mfokg" name="mediator" visibility="protected" isStatic="true" type="_SwZZIO2XEeWnDaII1mfokg" association="_TklPJO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgL3UO2XEeWnDaII1mfokg" name="modelList" visibility="protected" isStatic="true" type="_St43sO2XEeWnDaII1mfokg" isOrdered="true" association="_Tkl2Me2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TgL3Ue2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgL3U-2XEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" association="_Tkl2NO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgNFcO2XEeWnDaII1mfokg" name="fileHandler" visibility="protected" isStatic="true" type="_TWUwse2XEeWnDaII1mfokg" association="_TkmdQO2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fmu2XEeWnDaII1mfokg" name="main" specification="_SvezIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti-Fm-2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Ti-FnO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>initDisplay();&#xD;
		createLogger();&#xD;
		//addResmolScriptPanel();&#xD;
		mediator = new UpdateRegistry(jmolPanel, toolPanel, modelList);&#xD;
		jmolPanel.setMediator(mediator);&#xD;
		//setConnection();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-soO2XEeWnDaII1mfokg" name="MoleculeEditor" specification="_SvfaMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti-soe2XEeWnDaII1mfokg" type="_SvdlAO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>initJmolDisplay();&#xD;
		mediator = new UpdateRegistry(jmolPanel, toolPanel, modelList);&#xD;
		jmolPanel.setMediator(mediator);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-sou2XEeWnDaII1mfokg" name="initJmolDisplay" specification="_SvfaNO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>frame = new JFrame();&#xD;
		//JMenuBar menu = MenuCreator.initMenu(frame);&#xD;
     //frame.setJMenuBar(menu);&#xD;
     frame.addWindowListener(new WindowAdapter() {&#xD;
     	  public void windowClosing(WindowEvent we) {&#xD;
     		    System.exit(0);&#xD;
     		  }&#xD;
     		});&#xD;
     //contentPane = frame.getContentPane();&#xD;
     // allocate jmolPanel for display&#xD;
     jmolPanel = new JmolDisplay();&#xD;
     jmolPanel.setPreferredSize(new Dimension(500,500));&#xD;
     &#xD;
     frame.add(jmolPanel);&#xD;
     &#xD;
     //contentPane.add(jmolPanel);&#xD;
     &#xD;
     frame.pack();&#xD;
     frame.setVisible(true);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-so-2XEeWnDaII1mfokg" name="createLogger" specification="_SvgBQO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>logger = java.util.logging.Logger.getLogger(MoleculeEditor.class.getName());&#xD;
		try {&#xD;
			fileHandler = new FileHandler(&quot;./res/res/Error.log&quot;);&#xD;
			logger.addHandler(fileHandler);&#xD;
			fileHandler.setFormatter(new SimpleFormatter());&#xD;
			PrintStream outPS = new PrintStream(new BufferedOutputStream(new FileOutputStream(&quot;./res/res/Error.log&quot;)));  // append is true&#xD;
			System.setErr(outPS);&#xD;
		} catch (SecurityException e) {&#xD;
			e.printStackTrace();&#xD;
		} catch (IOException e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-spO2XEeWnDaII1mfokg" name="addResmolScriptPanel" specification="_SvgBQe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Box vBox = Box.createVerticalBox();&#xD;
	     vBox.add(jmolPanel);&#xD;
	        &#xD;
	     JTextField field = new JTextField();&#xD;
	     field.setMaximumSize(new Dimension(Short.MAX_VALUE,30));&#xD;
	     field.setText(&quot;enter RASMOL like command...&quot;);&#xD;
	     RasmolFieldListener rasmolcmd = new RasmolFieldListener(jmolPanel, field);&#xD;
	     field.addActionListener(rasmolcmd);&#xD;
	     vBox.add(field);&#xD;
	     contentPane.add(field);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-spe2XEeWnDaII1mfokg" name="initDisplay" specification="_SvgBQu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// create frame for the application&#xD;
		frame = new JFrame();&#xD;
		jmolPanel = new JmolDisplay();&#xD;
		menu = new MenuPanel(jmolPanel);&#xD;
		JMenuBar menuBar = menu.initMenu(frame);&#xD;
     frame.setJMenuBar(menuBar);&#xD;
     frame.addWindowListener(new WindowAdapter() {&#xD;
     	  public void windowClosing(WindowEvent we) {&#xD;
     		    System.exit(0);&#xD;
     		  }&#xD;
     		});&#xD;
     Container contentPane = frame.getContentPane();&#xD;
     // allocate jmolPanel for display&#xD;
     &#xD;
     jmolPanel.setPreferredSize(new Dimension(500,500));&#xD;
     &#xD;
     Box vBox = Box.createVerticalBox();&#xD;
     vBox.add(jmolPanel);&#xD;
     &#xD;
     JTextField field = new JTextField();&#xD;
		field.setMaximumSize(new Dimension(Short.MAX_VALUE,30));&#xD;
		field.setText(&quot;enter RASMOL like command...&quot;);&#xD;
		RasmolFieldListener rasmolcmd = new RasmolFieldListener(jmolPanel, field);&#xD;
		field.addActionListener(rasmolcmd);&#xD;
		vBox.add(field);&#xD;
		&#xD;
		Box hBox = Box.createHorizontalBox();&#xD;
		hBox.add(vBox);&#xD;
		&#xD;
		// define the right panel of application&#xD;
		toolPanel = new ToolPanel(jmolPanel);&#xD;
		toolPanel.setMaximumSize(new Dimension(250,Short.MAX_VALUE));&#xD;
		hBox.add(toolPanel);&#xD;
 &#xD;
     contentPane.add(hBox);&#xD;
     &#xD;
     frame.pack();&#xD;
     frame.setVisible(true);&#xD;
		        &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-spu2XEeWnDaII1mfokg" name="getViewer" specification="_SvgoUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti-sp-2XEeWnDaII1mfokg" type="_TVwI8e2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return jmolPanel.getViewer();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-sqO2XEeWnDaII1mfokg" name="getMediator" specification="_SvhPYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti-sqe2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SvezIO2XEeWnDaII1mfokg" name="main" isStatic="true" method="_Ti-Fmu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SvezIe2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SvezIu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvfaMO2XEeWnDaII1mfokg" name="MoleculeEditor" method="_Ti-soO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SvfaMe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SvfaMu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_SvfaM-2XEeWnDaII1mfokg" type="_SvdlAO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvfaNO2XEeWnDaII1mfokg" name="initJmolDisplay" visibility="private" isStatic="true" method="_Ti-sou2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SvgBQO2XEeWnDaII1mfokg" name="createLogger" visibility="private" isStatic="true" method="_Ti-so-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SvgBQe2XEeWnDaII1mfokg" name="addResmolScriptPanel" isStatic="true" method="_Ti-spO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SvgBQu2XEeWnDaII1mfokg" name="initDisplay" visibility="private" isStatic="true" method="_Ti-spe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SvgoUO2XEeWnDaII1mfokg" name="getViewer" method="_Ti-spu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tc4EoO2XEeWnDaII1mfokg" type="_TVwI8e2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SvhPYO2XEeWnDaII1mfokg" name="getMediator" method="_Ti-sqO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWkBQO2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Class" xmi:id="_Svh2cO2XEeWnDaII1mfokg" name="ApplicationCloser" visibility="package">
                      <eAnnotations xmi:id="_Svh2ce2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Svh2cu2XEeWnDaII1mfokg" key="static"/>
                      </eAnnotations>
                      <generalization xmi:id="_Tc-LQO2XEeWnDaII1mfokg" general="_Tc4Eoe2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-squ2XEeWnDaII1mfokg" name="windowClosing" specification="_Tc9kMe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Ti-sq-2XEeWnDaII1mfokg" name="e" type="_Tc89IO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>System.exit(0);&#xD;
		</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-srO2XEeWnDaII1mfokg" name="ApplicationCloser" specification="_SvidgO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Ti-sre2XEeWnDaII1mfokg" type="_Svh2cO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>// TODO - implement ApplicationCloser.ApplicationCloser&#xD;
			throw new UnsupportedOperationException();&#xD;
		</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_SvidgO2XEeWnDaII1mfokg" name="ApplicationCloser" visibility="package" method="_Ti-srO2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_Svidge2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_Svidgu2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_Svidg-2XEeWnDaII1mfokg" type="_Svh2cO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Tc9kMe2XEeWnDaII1mfokg" name="windowClosing" method="_Ti-squ2XEeWnDaII1mfokg">
                        <ownedComment xmi:id="_TjlJke2XEeWnDaII1mfokg">
                          <body>&#xD;
		 * @param e</body>
                        </ownedComment>
                        <ownedParameter xmi:id="_Tc9kMu2XEeWnDaII1mfokg" name="e" type="_Tc89IO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwGeMO2XEeWnDaII1mfokg" name="MouseState">
                    <ownedAttribute xmi:id="_TgOTkO2XEeWnDaII1mfokg" name="hasEnded" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgTMEO2XEeWnDaII1mfokg" name="startPos" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TgTMEe2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgTzIe2XEeWnDaII1mfokg" name="trackPos" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkmdQ-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgUaMu2XEeWnDaII1mfokg" name="endPos" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TgUaM-2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgVBQe2XEeWnDaII1mfokg" name="mouseMode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-sru2XEeWnDaII1mfokg" name="MouseState" specification="_SwHFQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti-sr-2XEeWnDaII1mfokg" type="_SwGeMO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.hasEnded = false;&#xD;
		this.startPos = new int[2];&#xD;
		this.endPos = new int[2];&#xD;
		this.trackPos = new ArrayList&lt;int[]>();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_TsO2XEeWnDaII1mfokg" name="hasEnded" specification="_SwHsUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_Tse2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return hasEnded;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_Tsu2XEeWnDaII1mfokg" name="getStartPosX" specification="_SwITYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_Ts-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return startPos[0];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_TtO2XEeWnDaII1mfokg" name="getStartPosY" specification="_SwITYu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_Tte2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return startPos[1];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_Ttu2XEeWnDaII1mfokg" name="setStartPosition" specification="_SwITZO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_Tt-2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti_TuO2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>startPos[0] = x;&#xD;
		startPos[1] = y;&#xD;
		hasEnded=false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_Tue2XEeWnDaII1mfokg" name="getPositionList" specification="_SwI6cu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_Tuu2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return trackPos;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_Tu-2XEeWnDaII1mfokg" name="setCurrentPosition" specification="_SwJhge2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_TvO2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti_Tve2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int[] currPos = {x,y};&#xD;
		trackPos.add(currPos);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6wO2XEeWnDaII1mfokg" name="getEndPosX" specification="_SwKIku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6we2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return endPos[0];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6wu2XEeWnDaII1mfokg" name="getEndPosY" specification="_SwKvoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6w-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return endPos[1];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6xO2XEeWnDaII1mfokg" name="setEndPosition" specification="_SwKvou2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6xe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Ti_6xu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>endPos[0] = x;&#xD;
		endPos[1] = y;&#xD;
		hasEnded = true;&#xD;
		if(mouseMode.contains(&quot;Zoom&quot;) &amp;&amp; startPos[1]> endPos[1])&#xD;
			mouseMode += &quot; (Zoomed Out)&quot;;&#xD;
		else if(mouseMode.contains(&quot;Zoom&quot;) &amp;&amp; startPos[1]&lt; endPos[1])&#xD;
			mouseMode += &quot; (Zoomed In)&quot;;&#xD;
		setMouseMode(mouseMode);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6x-2XEeWnDaII1mfokg" name="clearState" specification="_SwLWsO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>this.hasEnded = false;&#xD;
		this.startPos = new int[2];&#xD;
		this.endPos = new int[2];&#xD;
		this.trackPos.clear();&#xD;
		this.mouseMode = &quot;&quot;;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SwHFQO2XEeWnDaII1mfokg" name="MouseState" method="_Ti-sru2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SwHFQe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SwHFQu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_SwHFQ-2XEeWnDaII1mfokg" type="_SwGeMO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwHsUO2XEeWnDaII1mfokg" name="hasEnded" method="_Ti_TsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwHsUe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwITYO2XEeWnDaII1mfokg" name="getStartPosX" method="_Ti_Tsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwITYe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwITYu2XEeWnDaII1mfokg" name="getStartPosY" method="_Ti_TtO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwITY-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwITZO2XEeWnDaII1mfokg" name="setStartPosition" method="_Ti_Ttu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwI6cO2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwI6ce2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwI6cu2XEeWnDaII1mfokg" name="getPositionList" method="_Ti_Tue2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tc_ZYO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwJhge2XEeWnDaII1mfokg" name="setCurrentPosition" method="_Ti_Tu-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwKIkO2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwKIke2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwKIku2XEeWnDaII1mfokg" name="getEndPosX" method="_Ti_6wO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwKIk-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwKvoO2XEeWnDaII1mfokg" name="getEndPosY" method="_Ti_6wu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwKvoe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwKvou2XEeWnDaII1mfokg" name="setEndPosition" method="_Ti_6xO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwKvo-2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwKvpO2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwLWsO2XEeWnDaII1mfokg" name="clearState" method="_Ti_6x-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwMk0O2XEeWnDaII1mfokg" name="MyJmolStatusListener">
                    <ownedComment xmi:id="_TjlJku2XEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
 *</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_TgVoUO2XEeWnDaII1mfokg" name="verbose" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgWPYe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkmdRu2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TdAAcO2XEeWnDaII1mfokg" client="_SwMk0O2XEeWnDaII1mfokg" supplier="_TXpmYe2XEeWnDaII1mfokg" contract="_TXpmYe2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6yO2XEeWnDaII1mfokg" name="MyJmolStatusListener" specification="_TWqH4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6ye2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti_6yu2XEeWnDaII1mfokg" type="_SwMk0O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6y-2XEeWnDaII1mfokg" name="setVerbose" specification="_SwNy8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6zO2XEeWnDaII1mfokg" name="verbose">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.verbose = verbose;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti_6ze2XEeWnDaII1mfokg" name="notifyEnabled" specification="_TdAngO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ti_6zu2XEeWnDaII1mfokg" name="callbackType" type="_TWo5wO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ti_6z-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>//System.out.println(&quot;Callback Type: &quot; + callbackType);&#xD;
		switch (callbackType) {&#xD;
	    case ANIMFRAME: return true;&#xD;
	    case ATOMMOVED: return true;&#xD;
	    case ECHO: return false;&#xD;
	    case LOADSTRUCT: return true;&#xD;
	    case MEASURE: return false;&#xD;
	    case MESSAGE: return false;&#xD;
	    case PICK: return false;&#xD;
	    case SCRIPT: return true;&#xD;
	    case CLICK: return true;&#xD;
	    case ERROR: return false;&#xD;
	    case HOVER: return false;&#xD;
	    case MINIMIZATION: return false;&#xD;
	    case RESIZE: return false;&#xD;
	    case SYNC: return false;&#xD;
	      // applet only (but you could change this for your listener)&#xD;
	    default:&#xD;
	    	return false;&#xD;
	    }&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh0O2XEeWnDaII1mfokg" name="notifyCallback" specification="_TWrWAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh0e2XEeWnDaII1mfokg" name="callbackType" type="_TWo5wO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh0u2XEeWnDaII1mfokg" name="data" type="_TWqu8O2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjAh0-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>//		System.out.print(callbackType + &quot; &quot;);&#xD;
//		for(int i=0;i&lt;data.length;i++){&#xD;
//			System.out.print(data[i] + &quot; &quot;);&#xD;
//		}&#xD;
//		System.out.println();&#xD;
		&#xD;
		switch (callbackType) {&#xD;
		case ANIMFRAME:&#xD;
 		//getCurrentModel((String) data[2]);			&#xD;
			return;&#xD;
		case ATOMMOVED:&#xD;
			jmolPanel.getMediator().atomMoved((BS)data[1]);&#xD;
			return;&#xD;
 	case LOADSTRUCT:&#xD;
 		jmolPanel.getMediator().setModelBonds();&#xD;
 		return;&#xD;
 	case SCRIPT:&#xD;
 		// will enter when using edited library of Jmol in &quot;res/resources/editedJmol/Jmol-edited.jar&quot;&#xD;
 		if(data[2]!=null &amp;&amp; data[2].toString().startsWith(&quot;own &quot;)){&#xD;
 			System.out.println(&quot;Entering own function&quot;);&#xD;
 			jmolPanel.getMediator().evaluateUserAction((String)data[2]);&#xD;
 		}&#xD;
 		if(data[1].toString().endsWith(&quot;completed&quot;))&#xD;
 			jmolPanel.getMediator().atomMoved();&#xD;
 		return;&#xD;
 	case CLICK:&#xD;
 		jmolPanel.getMediator().setMouseState((int)data[1], (int)data[2], (int)data[3]);&#xD;
 		return;&#xD;
 	default: return;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh1O2XEeWnDaII1mfokg" name="setCallbackFunction" specification="_SwOaAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh1e2XEeWnDaII1mfokg" name="callbackType">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh1u2XEeWnDaII1mfokg" name="callbackFunction">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>System.out.println(callbackType);&#xD;
		System.out.println(callbackFunction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh1-2XEeWnDaII1mfokg" name="eval" specification="_SwPBEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh2O2XEeWnDaII1mfokg" name="aAStrEval">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh2e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.eval&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh2u2XEeWnDaII1mfokg" name="functionXY" specification="_TWr9EO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh2-2XEeWnDaII1mfokg" name="aAFunctionName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh3O2XEeWnDaII1mfokg" name="aAX">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh3e2XEeWnDaII1mfokg" name="aAY">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh3u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjAh3-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.functionXY&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh4O2XEeWnDaII1mfokg" name="functionXYZ" specification="_TWskIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh4e2XEeWnDaII1mfokg" name="aArg0" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh4u2XEeWnDaII1mfokg" name="aArg1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh4-2XEeWnDaII1mfokg" name="aArg2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh5O2XEeWnDaII1mfokg" name="aArg3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh5e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjAh5u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.functionXYZ&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh5-2XEeWnDaII1mfokg" name="createImage" specification="_TWtLNO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh6O2XEeWnDaII1mfokg" name="aAFileName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh6e2XEeWnDaII1mfokg" name="aAType" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh6u2XEeWnDaII1mfokg" name="aAText_or_bytes" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjAh6-2XEeWnDaII1mfokg" name="aAQuality">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjAh7O2XEeWnDaII1mfokg" type="_TUQ7Me2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.createImage&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjAh7e2XEeWnDaII1mfokg" name="getRegistryInfo" specification="_SwPoIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjAh7u2XEeWnDaII1mfokg" type="_TWtyRe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.getRegistryInfo&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI4O2XEeWnDaII1mfokg" name="showUrl" specification="_TWuZUu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI4e2XEeWnDaII1mfokg" name="aAUrl" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.showUrl&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI4u2XEeWnDaII1mfokg" name="resizeInnerPanel" specification="_TWvncO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI4-2XEeWnDaII1mfokg" name="aAData" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBI5O2XEeWnDaII1mfokg" type="_TWvAYe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.resizeInnerPanel&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI5e2XEeWnDaII1mfokg" name="getJSpecViewProperty" specification="_TWvnc-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI5u2XEeWnDaII1mfokg" name="aAType" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBI5-2XEeWnDaII1mfokg" type="_TWtyRe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement MyJmolStatusListener.getJSpecViewProperty&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SwNy8O2XEeWnDaII1mfokg" name="setVerbose" method="_Ti_6y-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwNy8e2XEeWnDaII1mfokg" name="verbose">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwOaAO2XEeWnDaII1mfokg" name="setCallbackFunction" method="_TjAh1O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwOaAe2XEeWnDaII1mfokg" name="callbackType">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwOaAu2XEeWnDaII1mfokg" name="callbackFunction">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwPBEO2XEeWnDaII1mfokg" name="eval" method="_TjAh1-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwPBEe2XEeWnDaII1mfokg" name="aAStrEval">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwPBEu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwPoIO2XEeWnDaII1mfokg" name="getRegistryInfo" method="_TjAh7e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWuZUe2XEeWnDaII1mfokg" type="_TWtyRe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWqH4O2XEeWnDaII1mfokg" name="MyJmolStatusListener" method="_Ti_6yO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TWqH4u2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TWqH4-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TWqH4e2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWqH5O2XEeWnDaII1mfokg" type="_SwMk0O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWrWAO2XEeWnDaII1mfokg" name="notifyCallback" method="_TjAh0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWrWAe2XEeWnDaII1mfokg" name="callbackType" type="_TWo5wO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWrWAu2XEeWnDaII1mfokg" name="data" type="_TWqu8O2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TWrWA-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWr9EO2XEeWnDaII1mfokg" name="functionXY" method="_TjAh2u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWr9Ee2XEeWnDaII1mfokg" name="aAFunctionName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWr9Eu2XEeWnDaII1mfokg" name="aAX">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWr9E-2XEeWnDaII1mfokg" name="aAY">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWr9FO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TWr9Fe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWskIe2XEeWnDaII1mfokg" name="functionXYZ" method="_TjAh4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWskIu2XEeWnDaII1mfokg" name="aArg0" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWskI-2XEeWnDaII1mfokg" name="aArg1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWskJO2XEeWnDaII1mfokg" name="aArg2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWtLMO2XEeWnDaII1mfokg" name="aArg3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWtLMe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TWtLMu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWtLNO2XEeWnDaII1mfokg" name="createImage" method="_TjAh5-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWtyQO2XEeWnDaII1mfokg" name="aAFileName" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWtyQe2XEeWnDaII1mfokg" name="aAType" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWtyQu2XEeWnDaII1mfokg" name="aAText_or_bytes" type="_TWqu8O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWtyQ-2XEeWnDaII1mfokg" name="aAQuality">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TWtyRO2XEeWnDaII1mfokg" type="_TUQ7Me2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWuZUu2XEeWnDaII1mfokg" name="showUrl" method="_TjBI4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWvAYO2XEeWnDaII1mfokg" name="aAUrl" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWvncO2XEeWnDaII1mfokg" name="resizeInnerPanel" method="_TjBI4u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWvnce2XEeWnDaII1mfokg" name="aAData" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWvncu2XEeWnDaII1mfokg" type="_TWvAYe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TWvnc-2XEeWnDaII1mfokg" name="getJSpecViewProperty" method="_TjBI5e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TWvndO2XEeWnDaII1mfokg" name="aAType" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TWvnde2XEeWnDaII1mfokg" type="_TWtyRe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdAngO2XEeWnDaII1mfokg" name="notifyEnabled" method="_Ti_6ze2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdAnge2XEeWnDaII1mfokg" name="callbackType" type="_TWo5wO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdAngu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwSEYO2XEeWnDaII1mfokg" name="RasmolFieldListener">
                    <generalization xmi:id="_TdCcsO2XEeWnDaII1mfokg" general="_TZtb4O2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgXdgO2XEeWnDaII1mfokg" name="textfield" visibility="package" type="_TWizI-2XEeWnDaII1mfokg" association="_TknEUe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgYEke2XEeWnDaII1mfokg" name="history" visibility="package" type="_TUfksO2XEeWnDaII1mfokg" association="_TknrYO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgYroe2XEeWnDaII1mfokg" name="historyPosition" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgZSsO2XEeWnDaII1mfokg" name="jmolPanel" visibility="package" type="_SwxzoO2XEeWnDaII1mfokg" association="_TknrY-2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TdBOkO2XEeWnDaII1mfokg" client="_SwSEYO2XEeWnDaII1mfokg" supplier="_TXue4O2XEeWnDaII1mfokg" contract="_TXue4O2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TdB1ou2XEeWnDaII1mfokg" client="_SwSEYO2XEeWnDaII1mfokg" supplier="_TdB1oO2XEeWnDaII1mfokg" contract="_TdB1oO2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI6O2XEeWnDaII1mfokg" name="RasmolFieldListener" specification="_TW8bwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI6e2XEeWnDaII1mfokg" name="panel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBI6u2XEeWnDaII1mfokg" name="field" type="_TWizI-2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBI6-2XEeWnDaII1mfokg" type="_SwSEYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>textfield = field;&#xD;
		jmolPanel = panel;&#xD;
		&#xD;
		history = new ArrayList&lt;String>();&#xD;
		historyPosition = -2; // -2 = history = empty;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI7O2XEeWnDaII1mfokg" name="mouseClicked" specification="_TW9p4u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI7e2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String cmd = textfield.getText();&#xD;
		if ( cmd.equals(&quot;enter RASMOL like command...&quot;)){&#xD;
			textfield.setText(&quot;&quot;);&#xD;
			textfield.repaint();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI7u2XEeWnDaII1mfokg" name="mousePressed" specification="_TW-Q8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI7-2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mousePressed&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI8O2XEeWnDaII1mfokg" name="mouseReleased" specification="_TW-Q8u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI8e2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseReleased&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBI8u2XEeWnDaII1mfokg" name="mouseEntered" specification="_TW-4AO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBI8-2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseEntered&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv8O2XEeWnDaII1mfokg" name="mouseExited" specification="_TW-4Au2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv8e2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// TODO - implement RasmolFieldListener.mouseExited&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv8u2XEeWnDaII1mfokg" name="actionPerformed" specification="_TXAGIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv8-2XEeWnDaII1mfokg" name="e" type="_TW_fEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String cmd = textfield.getText();&#xD;
		if(cmd.contains(&quot;load &quot;)){&#xD;
			String filePath = cmd.substring(5);&#xD;
			File file = new File(filePath);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else&#xD;
			jmolPanel.executeCmd(cmd);&#xD;
		textfield.setText(&quot;&quot;);&#xD;
&#xD;
		// now comes history part:&#xD;
&#xD;
		// no need for history:&#xD;
		if ( cmd.equals(&quot;&quot;)) return;&#xD;
&#xD;
		// check last command in history&#xD;
		// if equivalent, don't add,&#xD;
		// otherwise add               &#xD;
		if (history.size()>0){&#xD;
			String txt=(String)history.get(history.size()-1);&#xD;
			if (! txt.equals(cmd)) {&#xD;
				history.add(cmd);  &#xD;
			}&#xD;
		} else {             &#xD;
			// the first time always add&#xD;
			history.add(cmd);&#xD;
		}&#xD;
		historyPosition=history.size();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv9O2XEeWnDaII1mfokg" name="keyReleased" specification="_TXAtMe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv9e2XEeWnDaII1mfokg" name="e" type="_TXAGIu2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>int code = e.getKeyCode();&#xD;
		//String s = e.getKeyText(code);&#xD;
		//System.out.println(s);&#xD;
		if (( code == KeyEvent.VK_UP ) || &#xD;
				( code == KeyEvent.VK_KP_UP)) {&#xD;
			// go one back in history;&#xD;
			if ( historyPosition > 0){&#xD;
				historyPosition= historyPosition-1;              &#xD;
			} &#xD;
		} else if (( code == KeyEvent.VK_DOWN ) || &#xD;
				( code == KeyEvent.VK_KP_DOWN)) {            &#xD;
			if ( historyPosition &lt; (history.size()-1) ){&#xD;
				historyPosition++;                &#xD;
			} else {&#xD;
				// clear command if at beginning of history&#xD;
				textfield.setText(&quot;&quot;);&#xD;
				historyPosition=history.size();&#xD;
				return;&#xD;
			}&#xD;
		} else if ( code == KeyEvent.VK_PAGE_UP) {&#xD;
			if ( historyPosition > 0) {&#xD;
				historyPosition = 0;&#xD;
			}&#xD;
		} else if ( code == KeyEvent.VK_PAGE_DOWN) {&#xD;
			if ( historyPosition >= 0) {&#xD;
				historyPosition = history.size()-1;&#xD;
			}&#xD;
		} else {&#xD;
			// some other key has been pressed, do nothing&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		if ( historyPosition >= 0) {&#xD;
			String txt = (String)history.get(historyPosition);&#xD;
			textfield.setText(txt);&#xD;
		}&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TW8bwO2XEeWnDaII1mfokg" name="RasmolFieldListener" method="_TjBI6O2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TW9C0u2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TW9C0-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TW9C0O2XEeWnDaII1mfokg" name="panel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TW9C0e2XEeWnDaII1mfokg" name="field" type="_TWizI-2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TW9C1O2XEeWnDaII1mfokg" type="_SwSEYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TW9p4u2XEeWnDaII1mfokg" name="mouseClicked" method="_TjBI7O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TW9p4-2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TW-Q8O2XEeWnDaII1mfokg" name="mousePressed" method="_TjBI7u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TW-Q8e2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TW-Q8u2XEeWnDaII1mfokg" name="mouseReleased" method="_TjBI8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TW-Q8-2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TW-4AO2XEeWnDaII1mfokg" name="mouseEntered" method="_TjBI8u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TW-4Ae2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TW-4Au2XEeWnDaII1mfokg" name="mouseExited" method="_TjBv8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TW-4A-2XEeWnDaII1mfokg" name="e" type="_TW9p4O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXAGIO2XEeWnDaII1mfokg" name="actionPerformed" method="_TjBv8u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXAGIe2XEeWnDaII1mfokg" name="e" type="_TW_fEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXAtMe2XEeWnDaII1mfokg" name="keyReleased" method="_TjBv9O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXAtMu2XEeWnDaII1mfokg" name="e" type="_TXAGIu2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwVHsO2XEeWnDaII1mfokg" name="ToolPanelHandler">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv9u2XEeWnDaII1mfokg" name="handleJComboBox" specification="_TdDDwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv9-2XEeWnDaII1mfokg" name="event" type="_TW_fEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBv-O2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String script = null;&#xD;
		@SuppressWarnings(&quot;unchecked&quot;)&#xD;
		JComboBox&lt;DisplayType> source = (JComboBox&lt;DisplayType>) event.getSource();&#xD;
		Object value = source.getSelectedItem();&#xD;
		if ( value == DisplayType.LINE){&#xD;
			script = &quot;hide null; select all; spacefill off; cartoon off; backbone off;&quot; + &#xD;
					&quot;wireframe 0.2;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.SPACE){&#xD;
			script = &quot;hide null; select all; spacefill on; wireframe off; backbone off;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.STICK){&#xD;
			script = &quot;hide null; select all; spacefill off; wireframe on; backbone on;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.SPHERE){&#xD;
			script = &quot;hide null; select all; spacefill +1.2; wireframe on; backbone off;&quot; + &#xD;
					&quot;cartoon off;&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.CARTOON){&#xD;
			script = &quot;hide null; select all; spacefill off; wireframe off; backbone off;&quot; + &#xD;
					&quot;cartoon on;&quot; +&#xD;
					&quot;color cartoon group&quot;;&#xD;
		}&#xD;
		else if ( value == DisplayType.BALLNSTICK){&#xD;
			script = &quot;hide null; select all; color cpk; wireframe only; wireframe 0.15; spacefill 23%; cartoon off;&quot;;&#xD;
		}&#xD;
		jmolPanel.executeCmd(script);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv-e2XEeWnDaII1mfokg" name="handlePickingFunction" specification="_TdDq0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv-u2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBv--2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBv_O2XEeWnDaII1mfokg" name="group" type="_TXJQEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Set Picking ON&quot;)==0){&#xD;
			source.setText(&quot;Set Picking OFF&quot;);&#xD;
			switch(group.getSelection().getActionCommand()){&#xD;
				case &quot;Atom&quot;: jmolPanel.executeCmd(&quot;set picking select atom&quot;);&#xD;
								return;&#xD;
				case &quot;Group&quot;: jmolPanel.executeCmd(&quot;set picking select group&quot;);&#xD;
								return;&#xD;
				case &quot;Chain&quot;: jmolPanel.executeCmd(&quot;set picking select chain&quot;);&#xD;
								return;&#xD;
			}			&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Set Picking OFF&quot;)==0){&#xD;
			source.setText(&quot;Set Picking ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;set picking off&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBv_e2XEeWnDaII1mfokg" name="handleRadioPick" specification="_TdDq1O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBv_u2XEeWnDaII1mfokg" name="setPicking" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBv_-2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBwAO2XEeWnDaII1mfokg" name="group" type="_TXJQEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>setPicking.setText(&quot;Set Picking OFF&quot;);&#xD;
		&#xD;
		switch(group.getSelection().getActionCommand()){&#xD;
		&#xD;
		case &quot;Atom&quot;: jmolPanel.executeCmd(&quot;set picking select atom&quot;);&#xD;
						return;&#xD;
		case &quot;Group&quot;: jmolPanel.executeCmd(&quot;set picking select group&quot;);&#xD;
						return;&#xD;
		case &quot;Chain&quot;: jmolPanel.executeCmd(&quot;set picking select chain&quot;);&#xD;
						return;&#xD;
		}	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBwAe2XEeWnDaII1mfokg" name="handleSelectionHalo" specification="_TdER4-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBwAu2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBwA-2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Selection Halos ON&quot;)==0){&#xD;
			source.setText(&quot;Selection Halos OFF&quot;);&#xD;
			jmolPanel.executeCmd(&quot;selectionHalos ON&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Selection Halos OFF&quot;)==0){&#xD;
			source.setText(&quot;Selection Halos ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;selectionHalos OFF&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Select All&quot;)==0){&#xD;
			jmolPanel.executeCmd(&quot;select all&quot;);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Select None&quot;)==0){&#xD;
			jmolPanel.executeCmd(&quot;select remove all&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjBwBO2XEeWnDaII1mfokg" name="handleModifySelected" specification="_TdFgAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjBwBe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjBwBu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String action = source.getText().toLowerCase();&#xD;
		switch(action){&#xD;
			case &quot;delete&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.DELETE);&#xD;
							return;&#xD;
			case &quot;copy&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.COPY);&#xD;
							return;&#xD;
			case &quot;paste&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.PASTE);&#xD;
							return;&#xD;
			case &quot;cut&quot;: EvaluateUserAction.findSelectedAtom(jmolPanel.getMediator(), EvaluateUserAction.CUT);&#xD;
							return;&#xD;
		}&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjCXAO2XEeWnDaII1mfokg" name="handleDragging" specification="_TdGHEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjCXAe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXAu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXA-2XEeWnDaII1mfokg" name="draggingGroup" type="_TXJQEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(source.getText().compareTo(&quot;Drag Atom(s) ON&quot;)==0){&#xD;
			source.setText(&quot;Drag Atom(s) OFF&quot;);&#xD;
			handleRadioDrag(source, jmolPanel, draggingGroup);&#xD;
		}&#xD;
		else if(source.getText().compareTo(&quot;Drag Atom(s) OFF&quot;)==0){&#xD;
			source.setText(&quot;Drag Atom(s) ON&quot;);&#xD;
			jmolPanel.executeCmd(&quot;set picking off&quot;);&#xD;
		}&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjCXBO2XEeWnDaII1mfokg" name="handleRadioDrag" specification="_TdGuIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjCXBe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXBu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXB-2XEeWnDaII1mfokg" name="draggingGroup" type="_TXJQEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>source.setText(&quot;Drag Atom(s) OFF&quot;);&#xD;
		switch(draggingGroup.getSelection().getActionCommand()){&#xD;
		case &quot;Drag Atom&quot;: &#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGATOM&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Atom (and Minimize)&quot;:&#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGMINIMIZE&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Selected Atoms&quot;: &#xD;
			jmolPanel.executeCmd(&quot;set picking DRAGSELECTED&quot;);&#xD;
			return;&#xD;
		case &quot;Drag Selected Atoms (and Minimize)&quot;:&#xD;
			jmolPanel.executeCmd(&quot;&quot;);&#xD;
			return;&#xD;
	}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TdDDwO2XEeWnDaII1mfokg" name="handleJComboBox" isStatic="true" method="_TjBv9u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdDDwe2XEeWnDaII1mfokg" name="event" type="_TW_fEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdDDwu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdDq0O2XEeWnDaII1mfokg" name="handlePickingFunction" isStatic="true" method="_TjBv-e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdDq0e2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdDq0u2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdDq0-2XEeWnDaII1mfokg" name="group" type="_TXJQEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdDq1O2XEeWnDaII1mfokg" name="handleRadioPick" isStatic="true" method="_TjBv_e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdER4O2XEeWnDaII1mfokg" name="setPicking" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdER4e2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdER4u2XEeWnDaII1mfokg" name="group" type="_TXJQEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdER4-2XEeWnDaII1mfokg" name="handleSelectionHalo" isStatic="true" method="_TjBwAe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdER5O2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdER5e2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdFgAO2XEeWnDaII1mfokg" name="handleModifySelected" isStatic="true" method="_TjBwBO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdFgAe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdFgAu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdGHEO2XEeWnDaII1mfokg" name="handleDragging" isStatic="true" method="_TjCXAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdGHEe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdGHEu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdGHE-2XEeWnDaII1mfokg" name="draggingGroup" type="_TXJQEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdGuIO2XEeWnDaII1mfokg" name="handleRadioDrag" isStatic="true" method="_TjCXBO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdGuIe2XEeWnDaII1mfokg" name="source" type="_TXJ3Ie2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdHVMO2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdHVMe2XEeWnDaII1mfokg" name="draggingGroup" type="_TXJQEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwZZIO2XEeWnDaII1mfokg" name="UpdateRegistry">
                    <ownedComment xmi:id="_TjlJk-2XEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
 *&#xD;
 *	This class acts as the &quot;middle-man&quot; between JmolDisplay &#xD;
 *	and back end calculations and object model.&#xD;
 *	Contains sections:&#xD;
 *	- Methods called when there's changes to object model&#xD;
 *	- Methods called when there's changes in JmolDisplay&#xD;
 *	- Methods called to notify Viewer of new changes to object Model&#xD;
 *	- private methods used only within class.</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_TgZ5wO2XEeWnDaII1mfokg" name="mouseState" visibility="protected" type="_SwGeMO2XEeWnDaII1mfokg" association="_TkoSce2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgZ5wu2XEeWnDaII1mfokg" name="dragMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tgag0e2XEeWnDaII1mfokg" name="addMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tgag0-2XEeWnDaII1mfokg" name="storeAddAtom" visibility="protected" type="_SsiM0O2XEeWnDaII1mfokg" association="_TkoSdO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgbH4e2XEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="_SwxzoO2XEeWnDaII1mfokg" association="_Tko5ge2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgbu8O2XEeWnDaII1mfokg" name="minimizeMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tgbu8u2XEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" association="_TkpgkO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tgbu8-2XEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(UpdateRegistry.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgcWAe2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg" isReadOnly="true" association="_Tkpgk-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgdkIO2XEeWnDaII1mfokg" name="toolPanel" visibility="private" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkqHoe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgdkIu2XEeWnDaII1mfokg" name="modelList" type="_St43sO2XEeWnDaII1mfokg" isOrdered="true" isReadOnly="true" association="_TkqHpO2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TgdkI-2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgeLMO2XEeWnDaII1mfokg" name="selectedAtoms" type="_TUPtEO2XEeWnDaII1mfokg" isReadOnly="true" association="_Tkquse2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgeLMu2XEeWnDaII1mfokg" name="savedAtoms" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_TkqutO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgfZUO2XEeWnDaII1mfokg" name="offset" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TgfZUe2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgfZU-2XEeWnDaII1mfokg" value="new double[3]"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TggAYO2XEeWnDaII1mfokg" name="atomselected" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TggAYe2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjCXCu2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_TdIjUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjCXC-2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXDO2XEeWnDaII1mfokg" name="toolPanel" type="_SxCSUO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXDe2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXDu2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
		this.viewer = jmolPanel.getViewer();&#xD;
		this.modelList = models;&#xD;
		this.toolPanel = toolPanel;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
		this.addMode = false;&#xD;
		this.minimizeMode = false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjCXD-2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_TdKYgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjCXEO2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXEe2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjCXEu2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;&#xD;
		this.modelList = models;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjCXE-2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_Swb1YO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjCXFO2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = null;&#xD;
		this.modelList = new ArrayList&lt;Model>();&#xD;
		this.toolPanel = null;&#xD;
		this.mouseState = new MouseState();&#xD;
		this.dragMode = -1;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-EO2XEeWnDaII1mfokg" name="setSelectedAtoms" specification="_TdK_ke2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-Ee2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//System.out.println(&quot;Selected: &quot; + values);&#xD;
		if(selectedAtoms==null)&#xD;
			selectedAtoms = new ArrayList&lt;Atom>();&#xD;
		else&#xD;
			selectedAtoms.clear();&#xD;
&#xD;
		String[] valueGet = values.toString().split(&quot;[{ }]&quot;);&#xD;
		if(modelList!=null){&#xD;
			Model currentModel = modelList.get(viewer.getDisplayModelIndex());&#xD;
			for(int i=0;i&lt;valueGet.length;i++){&#xD;
				if(valueGet[i].compareTo(&quot;&quot;)!= 0){&#xD;
					// if its list of continuous atoms&#xD;
					if(valueGet[i].contains(&quot;:&quot;)){&#xD;
						int start = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[0])+1;&#xD;
						int end = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[1])+1;&#xD;
						for(int j=start;j&lt;=end;j++){&#xD;
							selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+j));&#xD;
						}&#xD;
					}&#xD;
					else{&#xD;
						selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+(Integer.parseInt(valueGet[i])+1)));&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-Eu2XEeWnDaII1mfokg" name="evaluateUserAction" specification="_Swcccu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-E-2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>EvaluateUserAction.evaluateAction(this, script);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-FO2XEeWnDaII1mfokg" name="atomMoved" specification="_TdLmoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-Fe2XEeWnDaII1mfokg" name="atomsMoved" type="_TWAnpO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// get the list of atoms moved.&#xD;
		if(atomselected)&#xD;
			setSelectedAtoms(atomsMoved);&#xD;
		&#xD;
		// update the atoms moved in user model.&#xD;
		for(int i=0;i&lt;selectedAtoms.size();i++){&#xD;
			int atomIndex = selectedAtoms.get(i).getAtomSeqNum()-1;&#xD;
			double[] coords = {viewer.ms.at[atomIndex].x,viewer.ms.at[atomIndex].y,viewer.ms.at[atomIndex].z};&#xD;
			if(coords[0]!=selectedAtoms.get(i).getCoordinates()[0]){&#xD;
				offset[0] = selectedAtoms.get(i).getCoordinates()[0]- coords[0];&#xD;
				offset[1] = selectedAtoms.get(i).getCoordinates()[1]- coords[1];&#xD;
				offset[2] = selectedAtoms.get(i).getCoordinates()[2]- coords[2];&#xD;
				selectedAtoms.get(i).setCoordinates(coords);&#xD;
			}&#xD;
			else{&#xD;
				coords[0] = selectedAtoms.get(i).getCoordinates()[0]-offset[0];&#xD;
				coords[1] = selectedAtoms.get(i).getCoordinates()[1]-offset[1];&#xD;
				coords[2] = selectedAtoms.get(i).getCoordinates()[2]-offset[2];&#xD;
				viewer.ms.at[atomIndex].x = (float)coords[0]; &#xD;
				viewer.ms.at[atomIndex].y = (float)coords[1]; &#xD;
				viewer.ms.at[atomIndex].z = (float)coords[2]; &#xD;
				selectedAtoms.get(i).setCoordinates(coords);&#xD;
			}&#xD;
			&#xD;
			//System.out.println(&quot;COORD:&quot; + selectedAtoms.get(i).getCoordinates()[0]);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-Fu2XEeWnDaII1mfokg" name="atomMoved" specification="_SwdqkO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(Atom atm : modelList.get(viewer.getDisplayModelIndex()).getAtomHash().values()){&#xD;
			for(int i=0; i&lt;viewer.ms.at.length;i++){&#xD;
				if(atm.getAtomSeqNum()==(i+1)){&#xD;
					double[] coords = {viewer.ms.at[i].x,viewer.ms.at[i].y,viewer.ms.at[i].z};&#xD;
					atm.setCoordinates(coords);&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-F-2XEeWnDaII1mfokg" name="setModelBonds" specification="_Swdqke2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>int currModel=0, prevModel=0;&#xD;
		Atom atom1, atom2;&#xD;
		Bond bond; &#xD;
		String index1, index2;&#xD;
		ArrayList&lt;Bond> ownbonds = new ArrayList&lt;Bond>();&#xD;
		org.jmol.modelset.Bond[] bonds = viewer.ms.bo;&#xD;
		for(int i=0;i&lt;bonds.length;i++){&#xD;
			prevModel = currModel;&#xD;
			currModel = bonds[i].getAtom1().getModelNumber();&#xD;
			Model model = modelList.get(currModel-1);&#xD;
			if(currModel!=prevModel &amp;&amp; i!=0){&#xD;
				modelList.get(prevModel-1).setBonds(ownbonds);&#xD;
				ownbonds.clear();&#xD;
			}&#xD;
			index1 = model.getModelName()+bonds[i].getAtom1().atomSite;&#xD;
			index2 = model.getModelName()+bonds[i].getAtom2().atomSite;&#xD;
			atom1 = model.getAtomHash().get(index1);&#xD;
			atom2 = model.getAtomHash().get(index2);&#xD;
			if(atom1==null || atom2==null)&#xD;
				continue;&#xD;
			bond = new Bond(atom1, atom2);&#xD;
			ownbonds.add(bond);&#xD;
			atom1.setBond(bond);&#xD;
			atom2.setBond(bond);&#xD;
			if(i==bonds.length-1){&#xD;
				modelList.get(currModel-1).setBonds(ownbonds);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-GO2XEeWnDaII1mfokg" name="setMouseState" specification="_SweRoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-Ge2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjC-Gu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjC-G-2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>GestureManager.setMouseState(x,y,mode, mouseState);&#xD;
		if(viewer.getInMotion(false)){&#xD;
			&#xD;
			/*String mouseGesture = &quot;&quot;;&#xD;
			mouseGesture += &quot;Mouse Mode: &quot; + mouseState.getMouseMode() + &quot;\n&quot;;&#xD;
			mouseGesture += &quot;Mouse Start Position: X-Pos=&quot; + mouseState.getStartPosX() + &quot; Y-Pos=&quot; + mouseState.getStartPosY() + &quot;\n&quot;;&#xD;
			mouseGesture += &quot;Mouse End Position: X-Pos=&quot; + mouseState.getEndPosX() + &quot; Y-Pos=&quot; + mouseState.getEndPosY() + &quot;\n&quot;;*/&#xD;
			//System.out.println(mouseGesture);&#xD;
			mouseState.clearState();&#xD;
		}&#xD;
		if(minimizeMode &amp;&amp; mode==16640){	// when mouse drag stopped.&#xD;
			System.out.println(&quot;Entering minimizing stage...&quot;);&#xD;
			minimizeModel();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-HO2XEeWnDaII1mfokg" name="loadFileToJmol" specification="_TdMNsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-He2XEeWnDaII1mfokg" name="struc" type="_TUfksu2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>createUserModel(struc);&#xD;
		String pdb = DataManager.modelToPDB(modelList);&#xD;
		viewer.openStringInline(pdb);&#xD;
		toolPanel.setModelText(modelList);&#xD;
		logger.log(Level.INFO, &quot;After load File: &quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-Hu2XEeWnDaII1mfokg" name="displayModels" specification="_TdMNsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-H-2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjC-IO2XEeWnDaII1mfokg" name="jmolViewer" type="_TVwI8e2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// convert model to pdb string&#xD;
		String pdb = DataManager.modelToPDB(models);&#xD;
		// pdb to viewer&#xD;
		jmolViewer.openStringInline(pdb);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-Ie2XEeWnDaII1mfokg" name="capCoord" specification="_SwffwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-Iu2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjC-I-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)&#xD;
			return Math.max(-999.000, coord);&#xD;
		return Math.min(coord, +999.000);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjC-JO2XEeWnDaII1mfokg" name="displayParticles" specification="_TdNb0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjC-Je2XEeWnDaII1mfokg" name="list" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String pdb = &quot;MODEL       1\n&quot;;&#xD;
		for(int i=0; i&lt;list.size();i++){&#xD;
			//String index = String.format(&quot;%4d&quot;, list.get(i).getGUID());&#xD;
			String index = String.format(&quot;%4d&quot;, i);&#xD;
			if(list.get(i) instanceof Atom){&#xD;
				double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
				Vector3D position = list.get(i).getPosition();&#xD;
				double x = capCoord(position.x*scale);&#xD;
				double y = capCoord(position.y*scale);&#xD;
				double z = capCoord(position.z*scale);&#xD;
				String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;, x,y,z);&#xD;
				String elementSymbol = String.format(&quot;%-4s&quot;,((Atom)list.get(i)).getElementSymbol().toUpperCase());&#xD;
						&#xD;
				pdb += &quot;HETATM &quot;+index+&quot; &quot;+elementSymbol+&quot;         1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
				&#xD;
			}&#xD;
			else if (list.get(i) instanceof Molecule){&#xD;
				Molecule m = (Molecule)list.get(i);&#xD;
				if(World.simulationLvlAtomic == true) {&#xD;
					for(Atom a: m.getChains().get(0).atomSeq){&#xD;
						double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
						Vector3D position = a.getPosition();&#xD;
						double x = capCoord(position.x*scale);&#xD;
						double y = capCoord(position.y*scale);&#xD;
						double z = capCoord(position.z*scale);&#xD;
						String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;,x,y,z);&#xD;
						String elementSymbol = String.format(&quot;%-4s&quot;,a.getElementSymbol().toUpperCase());&#xD;
								&#xD;
						pdb += &quot;HETATM &quot;+index+&quot; &quot;+elementSymbol+&quot;         1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
						&#xD;
					}&#xD;
				&#xD;
					/*&#xD;
					pdb += &quot;HETATM    1 NA   TST A   1       5.000   5.000   5.000  1.00  0.00\n&quot;+&#xD;
						   &quot;HETATM    2 CL   TST A   1       6.400   6.400   6.400  1.00  0.00\n&quot;+&#xD;
						   &quot;CONECT    1      2\n&quot; +&#xD;
						   &quot;CONECT    2      1\n&quot;;&#xD;
						   */&#xD;
				}&#xD;
				else {&#xD;
					double scale = Math.pow(10, 10 + list.get(i).getPosition().metric);&#xD;
					Vector3D position = list.get(i).getPosition();&#xD;
					double x = capCoord(position.x*scale);&#xD;
					double y = capCoord(position.y*scale);&#xD;
					double z = capCoord(position.z*scale);&#xD;
					String coords= String.format(&quot;%8.3f%8.3f%8.3f&quot;,x,y,z);&#xD;
					pdb += &quot;HETATM    1 CS   TST A   1    &quot;+coords+&quot;  1.00  0.00\n&quot;;&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		pdb += &quot;ENDMDL&quot;;&#xD;
		&#xD;
		if(World.displayUI)&#xD;
			viewer.openStringInline(pdb);&#xD;
		&#xD;
		try {&#xD;
			BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;output.pdb&quot;));&#xD;
			writer.write(pdb);&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
			World.simulationStatus = &quot;restart&quot;;&#xD;
		}&#xD;
		&#xD;
		if(World.displayUI) {&#xD;
			createUserModel(DataManager.readFile(&quot;output.pdb&quot;));&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlIO2XEeWnDaII1mfokg" name="notifyUpdated" specification="_TXP9wO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlIe2XEeWnDaII1mfokg" name="particles" type="_Sr3ecO2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjDlIu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;Atom> atomsUpdated = new ArrayList&lt;Atom>();&#xD;
		&#xD;
		// When the two particles are part of common model&#xD;
		if(modelList.size()!=0){&#xD;
			for(int i=0;i&lt;particles.length;i++){&#xD;
				if(particles[i] instanceof Atom){ // if particle is Atom type&#xD;
					// get the updated atom from model&#xD;
					atomsUpdated.add(modelList.get(0).getAtomHash().get(modelList.get(0).getModelName()+((Atom)particles[i]).getChainSeqNum()));&#xD;
				}&#xD;
			}&#xD;
			// update atoms in jmol display&#xD;
			for(int i=0;i&lt;atomsUpdated.size();i++){&#xD;
				Atom atom = atomsUpdated.get(i);&#xD;
				float xOffset = (float)atom.getPosition().x - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).x;&#xD;
				float yOffset = (float)atom.getPosition().y - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).y;&#xD;
				float zOffset = (float)atom.getPosition().z - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).z;&#xD;
				viewer.evalString(&quot;select atomno=&quot;+ atom.getChainSeqNum());&#xD;
				viewer.evalString(&quot;translateSelected {&quot; + xOffset + &quot; &quot; + yOffset + &quot; &quot; + zOffset + &quot;}&quot;);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlI-2XEeWnDaII1mfokg" name="deleteAtoms" specification="_SwgG0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlJO2XEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjDlJe2XEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjDlJu2XEeWnDaII1mfokg" name="atomPosition">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>modelList.get(currentModelIndex).removeAtom(key);&#xD;
		//modelList.get(currentModelIndex).getAtomHash().remove(key);&#xD;
		viewer.evalString(&quot;delete atomno=&quot; + atomPosition + &quot; &amp;&amp; modelindex=&quot; + viewer.getDisplayModelIndex());&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlJ-2XEeWnDaII1mfokg" name="copyAtoms" specification="_Swgt4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlKO2XEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjDlKe2XEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(savedAtoms==null){&#xD;
			savedAtoms = new ArrayList&lt;Atom>();&#xD;
		}&#xD;
		try {&#xD;
			Atom newAtom = (Atom)modelList.get(currentModelIndex).getAtomHash().get(key).clone();&#xD;
			savedAtoms.add(newAtom);&#xD;
		} catch (CloneNotSupportedException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlKu2XEeWnDaII1mfokg" name="pasteSavedAtoms" specification="_Swgt4-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlK-2XEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(savedAtoms==null)&#xD;
			JOptionPane.showMessageDialog(jmolPanel,&quot;You have not copied or cut any atoms to paste!&quot;,&#xD;
				    &quot;Warning&quot;, JOptionPane.WARNING_MESSAGE);&#xD;
		else{&#xD;
			boolean error = false;&#xD;
			for(int i=0;i&lt;savedAtoms.size();i++){&#xD;
				for(Atom atm : modelList.get(modelIndex).getAtomHash().values()){&#xD;
					if(savedAtoms.get(i).getCoordinates()[0]==atm.getCoordinates()[0] &amp;&amp; &#xD;
							savedAtoms.get(i).getCoordinates()[1]==atm.getCoordinates()[1] &amp;&amp;&#xD;
							savedAtoms.get(i).getCoordinates()[2]==atm.getCoordinates()[2] ){&#xD;
						error = true;&#xD;
						break;&#xD;
					}&#xD;
				}&#xD;
				if(error){&#xD;
					JOptionPane.showMessageDialog(jmolPanel,&quot;You are trying to paste atoms in location occupied!&quot;,&#xD;
						    &quot;Warning&quot;, JOptionPane.WARNING_MESSAGE);&#xD;
					break;&#xD;
				}&#xD;
				else{&#xD;
					addAtom(modelIndex, savedAtoms.get(i));	&#xD;
				}&#xD;
			}&#xD;
			String pdb =DataManager.modelToPDB(modelList);&#xD;
			System.out.println(pdb);&#xD;
			&#xD;
			viewer.openStringInline(pdb);&#xD;
			viewer.setCurrentModelIndex(modelIndex);&#xD;
		}&#xD;
		toolPanel.setModelText(modelList);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlLO2XEeWnDaII1mfokg" name="addAtom" specification="_TXQk0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlLe2XEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjDlLu2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>modelList.get(modelIndex).setMolecule(atom);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjDlL-2XEeWnDaII1mfokg" name="setMinimizeMode" specification="_SwhU8e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjDlMO2XEeWnDaII1mfokg" name="isMinimize">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.minimizeMode = isMinimize;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMMO2XEeWnDaII1mfokg" name="createUserModel" specification="_TdQfIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEMMe2XEeWnDaII1mfokg" name="struc" type="_TUfksu2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// read default MMFFtypes for atoms&#xD;
		&#xD;
		if(modelList==null)&#xD;
			modelList = new ArrayList&lt;Model>();&#xD;
		Model model=null;&#xD;
		for(int i=0;i&lt;struc.nrModels();i++){&#xD;
			// for each model, create and add to model list&#xD;
			model = new Model();&#xD;
			model.setModelName(&quot;Model&quot;+(i+1));&#xD;
			model.setMolecule(struc.getModel(i));	// set the model&#xD;
			modelList.add(model);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMMu2XEeWnDaII1mfokg" name="minimizeModel" specification="_Swh8AO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>//viewer.ms.setAtomCoord(0, 0.0f, 0.0f, 0.0f);&#xD;
		Minimizer minimizer = new Minimizer(this);&#xD;
		minimizer.setupMinimizing(modelList.get(viewer.getDisplayModelIndex()));&#xD;
		minimizer.startMinimizing();&#xD;
		System.out.println(DataManager.modelToPDB(modelList));&#xD;
		minimizeMode = false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMM-2XEeWnDaII1mfokg" name="updateViewerCoord" specification="_Swh8Ae2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(Atom atm: modelList.get(viewer.getDisplayModelIndex()).getAtomHash().values()){&#xD;
	    	  viewer.ms.setAtomCoord((atm.getAtomSeqNum()-1), atm.getCoordinates()[0], atm.getCoordinates()[1], atm.getCoordinates()[2]);&#xD;
	      }&#xD;
		jmolPanel.getViewer().refresh(3, &quot;minimization step &quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Swb1YO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_TjCXE-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Swb1Ye2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SwcccO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Swccce2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Swcccu2XEeWnDaII1mfokg" name="evaluateUserAction" method="_TjC-Eu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwdDgO2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwdqkO2XEeWnDaII1mfokg" name="atomMoved" method="_TjC-Fu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Swdqke2XEeWnDaII1mfokg" name="setModelBonds" method="_TjC-F-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SweRoO2XEeWnDaII1mfokg" name="setMouseState" method="_TjC-GO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SweRoe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SweRou2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SweRo-2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwffwO2XEeWnDaII1mfokg" name="capCoord" visibility="private" method="_TjC-Ie2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Swffwe2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Swffwu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwgG0O2XEeWnDaII1mfokg" name="deleteAtoms" method="_TjDlI-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwgG0e2XEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwgG0u2XEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SwgG0-2XEeWnDaII1mfokg" name="atomPosition">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Swgt4O2XEeWnDaII1mfokg" name="copyAtoms" method="_TjDlJ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Swgt4e2XEeWnDaII1mfokg" name="currentModelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Swgt4u2XEeWnDaII1mfokg" name="key">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Swgt4-2XEeWnDaII1mfokg" name="pasteSavedAtoms" method="_TjDlKu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwhU8O2XEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SwhU8e2XEeWnDaII1mfokg" name="setMinimizeMode" method="_TjDlL-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SwhU8u2XEeWnDaII1mfokg" name="isMinimize">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Swh8AO2XEeWnDaII1mfokg" name="minimizeModel" method="_TjEMMu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Swh8Ae2XEeWnDaII1mfokg" name="updateViewerCoord" method="_TjEMM-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_TXP9wO2XEeWnDaII1mfokg" name="notifyUpdated" method="_TjDlIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXP9we2XEeWnDaII1mfokg" name="particles" type="_Sr3ecO2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TXP9wu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXQk0O2XEeWnDaII1mfokg" name="addAtom" method="_TjDlLO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXQk0e2XEeWnDaII1mfokg" name="modelIndex">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TXQk0u2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdIjUO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_TjCXCu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TdJKYO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TdJKYe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjlJlO2XEeWnDaII1mfokg">
                        <body>*****************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TdIjUe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdIjUu2XEeWnDaII1mfokg" name="toolPanel" type="_SxCSUO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdIjU-2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdJKYu2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdKYgO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_TjCXD-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TdKYg-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TdKYhO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TdKYge2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdKYgu2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdKYhe2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdK_ke2XEeWnDaII1mfokg" name="setSelectedAtoms" method="_TjC-EO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjlJle2XEeWnDaII1mfokg">
                        <body>*******************************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TdK_ku2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdLmoO2XEeWnDaII1mfokg" name="atomMoved" method="_TjC-FO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdLmoe2XEeWnDaII1mfokg" name="atomsMoved" type="_TWAnpO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdMNsO2XEeWnDaII1mfokg" name="loadFileToJmol" method="_TjC-HO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjlJlu2XEeWnDaII1mfokg">
                        <body>******************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TdMNse2XEeWnDaII1mfokg" name="struc" type="_TUfksu2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdMNsu2XEeWnDaII1mfokg" name="displayModels" isStatic="true" method="_TjC-Hu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdMNs-2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdMNtO2XEeWnDaII1mfokg" name="jmolViewer" type="_TVwI8e2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdNb0O2XEeWnDaII1mfokg" name="displayParticles" method="_TjC-JO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdPRAO2XEeWnDaII1mfokg" name="list" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdQfIe2XEeWnDaII1mfokg" name="createUserModel" method="_TjEMMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdRGMO2XEeWnDaII1mfokg" name="struc" type="_TUfksu2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkiy4e2XEeWnDaII1mfokg" name="" memberEnd="_Tkiy4u2XEeWnDaII1mfokg _TgCtYO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkiy4u2XEeWnDaII1mfokg" name="" type="_SvCHMO2XEeWnDaII1mfokg" association="_Tkiy4e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkiy5O2XEeWnDaII1mfokg" name="" memberEnd="_Tkiy5e2XEeWnDaII1mfokg _TgD7ge2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkiy5e2XEeWnDaII1mfokg" name="" type="_SvCHMO2XEeWnDaII1mfokg" association="_Tkiy5O2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkjZ8e2XEeWnDaII1mfokg" name="" memberEnd="_TkjZ8u2XEeWnDaII1mfokg _TgEikO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkjZ8u2XEeWnDaII1mfokg" name="" type="_SvCHMO2XEeWnDaII1mfokg" association="_TkjZ8e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkkBAO2XEeWnDaII1mfokg" name="" memberEnd="_TkkBAe2XEeWnDaII1mfokg _TgIM8u2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkkBAe2XEeWnDaII1mfokg" name="" type="_SvSl4O2XEeWnDaII1mfokg" association="_TkkBAO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkkBA-2XEeWnDaII1mfokg" name="" memberEnd="_TkkBBO2XEeWnDaII1mfokg _TgJbEO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkkBBO2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TkkBA-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkkBBu2XEeWnDaII1mfokg" name="" memberEnd="_TkkBB-2XEeWnDaII1mfokg _TgJbEu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkkBB-2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TkkBBu2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkkoEe2XEeWnDaII1mfokg" name="" memberEnd="_TkkoEu2XEeWnDaII1mfokg _TgKCIe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkkoEu2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TkkoEe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkkoFO2XEeWnDaII1mfokg" name="" memberEnd="_TkkoFe2XEeWnDaII1mfokg _TgKpMO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkkoFe2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TkkoFO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TklPIe2XEeWnDaII1mfokg" name="" memberEnd="_TklPIu2XEeWnDaII1mfokg _TgKpMu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TklPIu2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TklPIe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TklPJO2XEeWnDaII1mfokg" name="" memberEnd="_TklPJe2XEeWnDaII1mfokg _TgLQQe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TklPJe2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TklPJO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkl2Me2XEeWnDaII1mfokg" name="" memberEnd="_Tkl2Mu2XEeWnDaII1mfokg _TgL3UO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkl2Mu2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_Tkl2Me2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkl2NO2XEeWnDaII1mfokg" name="" memberEnd="_Tkl2Ne2XEeWnDaII1mfokg _TgL3U-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkl2Ne2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_Tkl2NO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkmdQO2XEeWnDaII1mfokg" name="" memberEnd="_TkmdQe2XEeWnDaII1mfokg _TgNFcO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkmdQe2XEeWnDaII1mfokg" name="" type="_SvdlAO2XEeWnDaII1mfokg" association="_TkmdQO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkmdQ-2XEeWnDaII1mfokg" name="" memberEnd="_TkmdRO2XEeWnDaII1mfokg _TgTzIe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkmdRO2XEeWnDaII1mfokg" name="" type="_SwGeMO2XEeWnDaII1mfokg" association="_TkmdQ-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkmdRu2XEeWnDaII1mfokg" name="" memberEnd="_TkmdR-2XEeWnDaII1mfokg _TgWPYe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkmdR-2XEeWnDaII1mfokg" name="" type="_SwMk0O2XEeWnDaII1mfokg" association="_TkmdRu2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TknEUe2XEeWnDaII1mfokg" name="" memberEnd="_TknEUu2XEeWnDaII1mfokg _TgXdgO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TknEUu2XEeWnDaII1mfokg" name="" type="_SwSEYO2XEeWnDaII1mfokg" association="_TknEUe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TknrYO2XEeWnDaII1mfokg" name="" memberEnd="_TknrYe2XEeWnDaII1mfokg _TgYEke2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TknrYe2XEeWnDaII1mfokg" name="" type="_SwSEYO2XEeWnDaII1mfokg" association="_TknrYO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TknrY-2XEeWnDaII1mfokg" name="" memberEnd="_TknrZO2XEeWnDaII1mfokg _TgZSsO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TknrZO2XEeWnDaII1mfokg" name="" type="_SwSEYO2XEeWnDaII1mfokg" association="_TknrY-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkoSce2XEeWnDaII1mfokg" name="" memberEnd="_TkoScu2XEeWnDaII1mfokg _TgZ5wO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkoScu2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkoSce2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkoSdO2XEeWnDaII1mfokg" name="" memberEnd="_TkoSde2XEeWnDaII1mfokg _Tgag0-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkoSde2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkoSdO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tko5ge2XEeWnDaII1mfokg" name="" memberEnd="_Tko5gu2XEeWnDaII1mfokg _TgbH4e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tko5gu2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_Tko5ge2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkpgkO2XEeWnDaII1mfokg" name="" memberEnd="_Tkpgke2XEeWnDaII1mfokg _Tgbu8u2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkpgke2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkpgkO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkpgk-2XEeWnDaII1mfokg" name="" memberEnd="_TkpglO2XEeWnDaII1mfokg _TgcWAe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkpglO2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_Tkpgk-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkqHoe2XEeWnDaII1mfokg" name="" memberEnd="_TkqHou2XEeWnDaII1mfokg _TgdkIO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkqHou2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkqHoe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkqHpO2XEeWnDaII1mfokg" name="" memberEnd="_TkqHpe2XEeWnDaII1mfokg _TgdkIu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkqHpe2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkqHpO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkquse2XEeWnDaII1mfokg" name="" memberEnd="_Tkqusu2XEeWnDaII1mfokg _TgeLMO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkqusu2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_Tkquse2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkqutO2XEeWnDaII1mfokg" name="" memberEnd="_Tkqute2XEeWnDaII1mfokg _TgeLMu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkqute2XEeWnDaII1mfokg" name="" type="_SwZZIO2XEeWnDaII1mfokg" association="_TkqutO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_hqJboO2XEeWnDaII1mfokg" name="Minimizer">
                    <ownedAttribute xmi:id="_htayEO2XEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" association="_huWmMe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htbZIO2XEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(MoleculeEditor.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htbZIu2XEeWnDaII1mfokg" name="mmffType" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huWmNO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htcAMu2XEeWnDaII1mfokg" name="bondCharge" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huXNQu2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htdOUO2XEeWnDaII1mfokg" name="partialCharge" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huXNRe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htd1Ye2XEeWnDaII1mfokg" name="bondStretch" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huX0Ue2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htecce2XEeWnDaII1mfokg" name="angleBend" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huX0VO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htfqkO2XEeWnDaII1mfokg" name="stretchBend" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huYbYe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htgRoe2XEeWnDaII1mfokg" name="OOP" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huZCcO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htiG0O2XEeWnDaII1mfokg" name="torsion" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huZCc-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htjU8O2XEeWnDaII1mfokg" name="vdw" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huZpge2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htkjEO2XEeWnDaII1mfokg" name="electroInter" visibility="protected" type="_TUQUIe2XEeWnDaII1mfokg" association="_huaQkO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htlKIO2XEeWnDaII1mfokg" name="CS" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htlKIe2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htlKI-2XEeWnDaII1mfokg" name="energyInit">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htlKJO2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htlxMe2XEeWnDaII1mfokg" name="model" visibility="private" type="_St43sO2XEeWnDaII1mfokg" association="_huaQk-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htlxM-2XEeWnDaII1mfokg" name="bondStretchVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htlxNO2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htmYQe2XEeWnDaII1mfokg" name="angleBendVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htmYQu2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htmYRO2XEeWnDaII1mfokg" name="stretchBendVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htm_UO2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htnmYO2XEeWnDaII1mfokg" name="OOPVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htnmYe2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htoNcO2XEeWnDaII1mfokg" name="torsionVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htoNce2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htoNc-2XEeWnDaII1mfokg" name="vdwVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_hto0gO2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_hto0gu2XEeWnDaII1mfokg" name="electroInterVal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_hto0g-2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htpbke2XEeWnDaII1mfokg" name="coordSaved" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_htpbku2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htqCou2XEeWnDaII1mfokg" name="writer" visibility="package" type="_TV9kUO2XEeWnDaII1mfokg" association="_hua3oe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htqpse2XEeWnDaII1mfokg" name="updateReg" visibility="private" type="_SwZZIO2XEeWnDaII1mfokg" association="_hubese2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htrQwO2XEeWnDaII1mfokg" name="currentMinStep" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htrQwe2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htrQw-2XEeWnDaII1mfokg" name="dE" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htrQxO2XEeWnDaII1mfokg" value="0.0"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht3eA-2XEeWnDaII1mfokg" name="Minimizer" specification="_hqMe8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht3eBO2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht3eBe2XEeWnDaII1mfokg" type="_hqJboO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.updateReg = updateReg;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4FEO2XEeWnDaII1mfokg" name="setupMinimizing" specification="_hqNGAe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht4FEe2XEeWnDaII1mfokg" name="model" type="_St43sO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>this.model = model;&#xD;
		//this.indivAtomEnergy = new double[7][model.getAtomHash().size()];&#xD;
		&#xD;
		//List&lt;Atom> atomlist = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		/*try {&#xD;
			writer = new BufferedWriter(new FileWriter(&quot;res/temp/min.txt&quot;,true));*/&#xD;
			//writer.write(&quot;Electrostatic Interaction [qi,qj][a,b][energy]&quot;);&#xD;
			//writer.newLine();&#xD;
			&#xD;
		// initialise energy&#xD;
		readMMFFFiles();&#xD;
		&#xD;
		/*writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		energyInit = calculateEnergy(false);&#xD;
		System.out.println(&quot;Energy Init&quot; + energyInit);&#xD;
		try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;res/temp/JmolEnergyMin.txt&quot;,true));&#xD;
			writer.write(&quot;Initial Energy:&quot; + energyInit);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4FEu2XEeWnDaII1mfokg" name="startMinimizing" specification="_hqNtEO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>currentMinStep=0;&#xD;
		while(steepestDescentSteps(100));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4FE-2XEeWnDaII1mfokg" name="steepestDescentSteps" specification="_hqNtEe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht4FFO2XEeWnDaII1mfokg" name="n">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht4FFe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (int iStep = 1; iStep &lt;= n; iStep++) {&#xD;
			currentMinStep++;&#xD;
			for(Atom atm : model.getAtomHash().values()){&#xD;
				setForcesUsingNumericalDerivative(atm);&#xD;
			}&#xD;
			updateCoordinates();&#xD;
			double energy = calculateEnergy(false);&#xD;
			//System.out.println(&quot;\tEnergy&quot; + energy);&#xD;
			dE = energy - energyInit;&#xD;
			boolean done = isNear3(energy, energyInit, 1e-3);&#xD;
			&#xD;
			if (done|| currentMinStep % 10 == 0 || n &lt;= currentMinStep) {&#xD;
			 try {&#xD;
			    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;res/temp/JmolEnergyMin.txt&quot;,true));&#xD;
			    	&#xD;
					writer.write(&quot;\tMain Step: &quot; + iStep + &quot;\tEnergy:&quot; + String.format(&quot;%.5g&quot;, energy) + &quot;\tdE: &quot;+String.format(&quot;%.5g&quot;, dE));&#xD;
					writer.newLine();/**/&#xD;
					writer.close();&#xD;
				} catch (IOException e) {&#xD;
					// TODO Auto-generated catch block&#xD;
					e.printStackTrace();&#xD;
				}/**/&#xD;
			//System.out.print(&quot;\tStep: &quot; + iStep + &quot;\tEnergyInit:&quot; + energyInit);&#xD;
			}&#xD;
			energyInit = energy;&#xD;
			if (done || n &lt;= currentMinStep) {&#xD;
				return false;&#xD;
			}&#xD;
		}&#xD;
		return true;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sIO2XEeWnDaII1mfokg" name="setForcesUsingNumericalDerivative" specification="_hqO7MO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht4sIe2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double delta = 1.0e-5;&#xD;
		double[] force = new double[3];&#xD;
		force[0] = -getDE(atom, 0, delta);&#xD;
		force[1] = -getDE(atom, 1, delta);&#xD;
		force[2] = -getDE(atom, 2, delta);&#xD;
	    atom.setForces(force);&#xD;
	    //System.out.println(&quot;Atom=&quot;+ atom.getAtomSeqNum() + &quot;\tforce=&quot;+force[0] + &quot;,&quot; + force[1] + &quot;,&quot; + force[2]+ &quot;\n&quot;);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sIu2XEeWnDaII1mfokg" name="getDE" specification="_hqO7Mu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht4sI-2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht4sJO2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht4sJe2XEeWnDaII1mfokg" name="delta">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht4sJu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atom.getCoordinates()[i] += delta;&#xD;
	    double e = calculateEnergy(false);&#xD;
	    atom.getCoordinates()[i] -= delta;&#xD;
	    //System.out.println(&quot;Final=[&quot; + e + &quot;,&quot; + energyInit+&quot;,&quot;+delta+&quot;]&quot;);&#xD;
		return (e - energyInit) / delta;&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sJ-2XEeWnDaII1mfokg" name="calculateEnergy" specification="_hqPiQe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht4sKO2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht4sKe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>clearValues();&#xD;
		if (gradient)&#xD;
		      clearForces();&#xD;
		for(int i=0;i&lt;model.getBonds().length;i++){&#xD;
			Bond bond = model.getBonds()[i];&#xD;
			bondStretchVal += calBondStretch(gradient, bond.getAtom1(), bond.getAtom2());&#xD;
			&#xD;
		}&#xD;
		&#xD;
		boolean found=false;&#xD;
		for(Atom atm : model.getAtomHash().values()){			// For each atom in the hash&#xD;
			for(Atom atm2 : model.getAtomHash().values()){&#xD;
				&#xD;
				if(!atm.hasNeighbour(atm2)&amp;&amp; atm.getAtomSeqNum()&lt;atm2.getAtomSeqNum()){&#xD;
					found=false;&#xD;
					for(int i=0;i&lt;atm.getNeighbourAtoms().length;i++){&#xD;
						for(int j=0;j&lt;atm2.getNeighbourAtoms().length;j++){&#xD;
							if(atm.getNeighbourAtoms()[i]==atm2.getNeighbourAtoms()[j])&#xD;
								found=true;&#xD;
						}&#xD;
					}&#xD;
					if(!found){&#xD;
						vdwVal += calVDWI(gradient, atm, atm2);&#xD;
						if((atm.getPartialCharge()==0.0 || atm2.getPartialCharge()==0.0) || atm.getAtomSeqNum()==atm2.getAtomSeqNum())&#xD;
							continue;&#xD;
						else&#xD;
							electroInterVal += calElectroInter(gradient, atm, atm2);&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		Atom atm3 = null, atm4 = null;&#xD;
		Atom[] atomList, atomList2;&#xD;
		for(Atom atm : model.getAtomHash().values()){			// For each atom in the hash&#xD;
			for(int i=0;i&lt;atm.getBond().size();i++){			// get the list of bonds&#xD;
				Atom atm1 = atm.getBond().get(i).getAtom1();	// left atom&#xD;
				Atom atm2 = atm.getBond().get(i).getAtom2();	// right atom&#xD;
				//System.out.print(&quot;Atom1: &quot;+ atm1.getAtomSeqNum() + &quot;\tAtom2: &quot; + atm2.getAtomSeqNum() + &quot;\tSTART: &quot;);&#xD;
				// if left atom has more than one bonds and not the first atom&#xD;
				if ((atm1.getAtomSeqNum()&lt;atm.getAtomSeqNum())||(atm2.getAtomSeqNum()>atm.getAtomSeqNum())) {	// seq # less than curr, can continue				&#xD;
			        atomList = getBondedAtom(atm1);		// give the list of atom index&#xD;
				    for (int j=0;j&lt;atomList.length;j++){&#xD;
				    	if((atm3 = atomList[j]).getAtomSeqNum()!=atm2.getAtomSeqNum()){&#xD;
				        	angleBendVal += calAngleBend(gradient, atm2, atm1, atm3);&#xD;
				        	//stretchBendVal += calStrechBend(atm2, atm1, atm3);&#xD;
				        	&#xD;
				        	//System.out.print(atm2.getAtomSeqNum()+&quot;\t&quot;+ atm1.getAtomSeqNum()+&quot;\t&quot;+ atm3.getAtomSeqNum());&#xD;
				        	atomList2 = getBondedAtom(atm3);&#xD;
				        	if(atomList2.length==1){&#xD;
				        		torsionVal += calTorsion(gradient, atm2, atm1, atm3, null);&#xD;
				        		OOPVal += calOOP(gradient, atm2, atm1, atm3,null);&#xD;
				        	}&#xD;
				        	else{&#xD;
				        		for (int k=0;k&lt;atomList2.length;k++){&#xD;
				        			atm4 = atomList2[k];&#xD;
				        			torsionVal += calTorsion(gradient, atm2, atm1, atm3, atm4);&#xD;
				        			OOPVal += calOOP(gradient, atm2, atm1, atm3, atm4);&#xD;
				        			//System.out.println(&quot;\t&quot;+ atm4.getAtomSeqNum());&#xD;
				        		}&#xD;
				        	}&#xD;
				    	}&#xD;
				    }&#xD;
				}&#xD;
				if (atm2.getAtomSeqNum()&lt;atm.getAtomSeqNum() || (atm1.getAtomSeqNum()>atm.getAtomSeqNum())) {&#xD;
					atomList = getBondedAtom(atm2);&#xD;
			        for (int j=0;j&lt;atomList.length;j++){&#xD;
			        	if((atm3 = atomList[j]).getAtomSeqNum()!=atm1.getAtomSeqNum()){&#xD;
			        		angleBendVal += calAngleBend(gradient, atm1, atm2, atm3);&#xD;
			        		//stretchBendVal += calStrechBend(atm1, atm2, atm3);&#xD;
			        		//OOPVal += calOOP(gradient, atm1, atm2, atm3);&#xD;
			        		//System.out.print(atm1.getAtomSeqNum()+&quot;\t&quot;+ atm2.getAtomSeqNum()+&quot;\t&quot;+ atm3.getAtomSeqNum());&#xD;
			        		atomList2 = getBondedAtom(atm3);&#xD;
			        		if(atomList2.length==1)&#xD;
				        		torsionVal += calTorsion(gradient, atm1, atm2, atm3, null);&#xD;
			        		else{&#xD;
				        		for (int k=0;k&lt;atomList2.length;k++){&#xD;
				        			atm4 = atomList2[k];&#xD;
				        			torsionVal += calTorsion(gradient, atm1, atm2, atm3, atm4);&#xD;
				        			//System.out.println(&quot;\t(4)&quot;+ atm4.getAtomSeqNum());&#xD;
				        		}&#xD;
			        		}&#xD;
			        	}&#xD;
			        }&#xD;
			      }&#xD;
				//System.out.println();&#xD;
			}&#xD;
		}&#xD;
		/*if(ommitStretchBend)&#xD;
			stretchBendVal=0.0;&#xD;
		System.out.println(bondStretchVal + &quot;,&quot; + angleBendVal + &quot;,&quot; + stretchBendVal + &quot;,&quot; + OOPVal + &#xD;
				&quot;,&quot; + torsionVal + &quot;,&quot; + vdwVal + &quot;,&quot; + electroInterVal);*/&#xD;
		/*try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;energyMin.txt&quot;,true));&#xD;
			writer.write(&quot;a: &quot; + bondStretchVal + &quot;\tb: &quot; + angleBendVal+ &quot;\tc: &quot; + stretchBendVal+&quot;\td: &quot; + OOPVal+&#xD;
					&quot;\te: &quot; + torsionVal+&quot;\tf: &quot; + vdwVal+&quot;\tg: &quot; + electroInterVal);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException ee) {&#xD;
			// TODO Auto-generated catch block&#xD;
			ee.printStackTrace();&#xD;
		}*/&#xD;
		return (bondStretchVal + angleBendVal + stretchBendVal + OOPVal + torsionVal + vdwVal + electroInterVal);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sKu2XEeWnDaII1mfokg" name="clearForces" specification="_hqPiRO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Atom atm : model.getAtomHash().values())&#xD;
			atm.getForces()[0] = atm.getForces()[1] = atm.getForces()[2] = 0; &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sK-2XEeWnDaII1mfokg" name="clearValues" specification="_hqQJUO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>bondStretchVal = 0.0;&#xD;
		angleBendVal = 0.0;&#xD;
		stretchBendVal = 0.0;&#xD;
		OOPVal = 0.0;&#xD;
		torsionVal = 0.0;&#xD;
		vdwVal = 0.0;&#xD;
		electroInterVal = 0.0;&#xD;
		//ommitStretchBend=false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sLO2XEeWnDaII1mfokg" name="readMMFFFiles" specification="_hqQJUe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>readMMFF94Types(&quot;res/res/MMFF94SYMB.txt&quot;);&#xD;
		readBondCharge(&quot;res/res/MMFF94-bond-charge-increment.txt&quot;);&#xD;
		readElectroInter(&quot;res/res/MMFF94-partial-bond-charge-increment.txt&quot;);&#xD;
		assignMMFFTypes();&#xD;
		readBondStretch(&quot;res/res/MMFF94-bond-stretching-interaction.txt&quot;);&#xD;
		readAngleBend(&quot;res/res/MMFF94-angle-bending.txt&quot;);&#xD;
		readStretchBend(&quot;res/res/MMFF94-stretch-bend-interactions.txt&quot;);&#xD;
		readOOP(&quot;res/res/MMFF94-out-of-plane bending-interaction.txt&quot;);&#xD;
		readTorsion(&quot;res/res/MMFF94-torsion interactions.txt&quot;);&#xD;
		readVDW(&quot;res/res/MMFF94-van der Waals interactions.txt&quot;);&#xD;
		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht4sLe2XEeWnDaII1mfokg" name="updateCoordinates" specification="_hqQJUu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double step = 0.23;&#xD;
	    double trustRadius = 0.3; // don't move further than 0.3 Angstroms&#xD;
	    double trustRadius2 = trustRadius * trustRadius;&#xD;
	    &#xD;
	    double e1 = calculateEnergy(false);&#xD;
	    for (int iStep = 0; iStep &lt; 10; iStep++) {&#xD;
	    	//System.out.println(&quot;ISTEP:&quot; + iStep);&#xD;
		    saveCoordinates();&#xD;
			 for (Atom atm : model.getAtomHash().values()){&#xD;
		          double[] force = atm.getForces();&#xD;
		          double[] coord = {(double)atm.getCoordinates()[0],(double)atm.getCoordinates()[1],(double)atm.getCoordinates()[2]};&#xD;
		          double f2 = (force[0] * force[0] + force[1] * force[1] + force[2]&#xD;
			              * force[2]);&#xD;
			          if (f2 > trustRadius2 / step / step) {&#xD;
			            f2 = trustRadius / Math.sqrt(f2) / step;&#xD;
			         &#xD;
			            force[0] *= f2;&#xD;
			            force[1] *= f2;&#xD;
			            force[2] *= f2;&#xD;
			          }&#xD;
			          &#xD;
			          for (int j = 0; j &lt; 3; ++j) {&#xD;
			        	  if (Util.isFinite(force[j])) {&#xD;
			              double tempStep = force[j] * step;&#xD;
			              if (tempStep > trustRadius)&#xD;
			                coord[j] += trustRadius;&#xD;
			              else if (tempStep &lt; -trustRadius)&#xD;
			                coord[j] -= trustRadius;&#xD;
			              else&#xD;
			                coord[j] += tempStep;&#xD;
			        	  }&#xD;
			          }&#xD;
			          &#xD;
			          atm.setForces(force);&#xD;
			          atm.setCoordinates(coord);&#xD;
			 }&#xD;
			 double e2 = calculateEnergy(false);&#xD;
			 &#xD;
			 if (isNear3(e2, e1, 1.0e-3))&#xD;
			        break;&#xD;
		      if (e2 > e1) {&#xD;
		        step *= 0.1;&#xD;
		        restoreCoordinates();&#xD;
		      } else if (e2 &lt; e1) {&#xD;
		        e1 = e2;&#xD;
		        step *= 2.15;&#xD;
		        if (step > 1.0)&#xD;
		          step = 1.0;&#xD;
		      }&#xD;
		      &#xD;
		      updateReg.updateViewerCoord();&#xD;
		      /*try {&#xD;
			    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;JmolEnergyMin.txt&quot;,true));&#xD;
					writer.write(&quot;iStep=&quot; + iStep + &quot; &quot; + &quot;E= &quot; + e1);&#xD;
					writer.newLine();&#xD;
					writer.close();&#xD;
				} catch (IOException e) {&#xD;
					// TODO Auto-generated catch block&#xD;
					e.printStackTrace();&#xD;
				}*/&#xD;
	    }&#xD;
	    &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TMO2XEeWnDaII1mfokg" name="isNear3" specification="_hqQJU-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht5TMe2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TMu2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TM-2XEeWnDaII1mfokg" name="eps">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TNO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a - b) &lt; eps);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TNe2XEeWnDaII1mfokg" name="restoreCoordinates" specification="_hqQwY-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList&lt;Atom> tempAtomList = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		for (int i = 0; i &lt; coordSaved.length; i++) &#xD;
	    	  tempAtomList.get(i).setCoordinates(coordSaved[i]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TNu2XEeWnDaII1mfokg" name="saveCoordinates" specification="_hqQwZO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList&lt;Atom> tempAtomList = new ArrayList&lt;Atom>(model.getAtomHash().values());&#xD;
		if (coordSaved == null)&#xD;
		      coordSaved = new double[tempAtomList.size()][3];&#xD;
		    for (int i = 0; i &lt; tempAtomList.size(); i++) &#xD;
		      for (int j = 0; j &lt; 3; j++)&#xD;
		        coordSaved[i][j] = tempAtomList.get(i).getCoordinates()[j];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TN-2XEeWnDaII1mfokg" name="addForces" specification="_hqQwZe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht5TOO2XEeWnDaII1mfokg" name="atmList" type="_SsiM0O2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht5TOe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TOu2XEeWnDaII1mfokg" name="dE">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for(int i=0;i&lt;atmList.length;i++){&#xD;
			atmList[i].getForces()[0] += atmList[i].getCoordinates()[0] * dE;&#xD;
			atmList[i].getForces()[1] += atmList[i].getCoordinates()[1] * dE;&#xD;
			atmList[i].getForces()[2] += atmList[i].getCoordinates()[2] * dE;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TO-2XEeWnDaII1mfokg" name="getBondedAtom" specification="_hqRXc-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht5TPO2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TPe2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht5TPu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ArrayList&lt;Bond> bonds = atm1.getBond();&#xD;
		ArrayList&lt;Atom> atoms = new ArrayList&lt;Atom>();&#xD;
		for(int i=0;i&lt;bonds.size();i++){&#xD;
			if(bonds.get(i).getAtom1().getAtomSeqNum()==atm1.getAtomSeqNum())&#xD;
				atoms.add(bonds.get(i).getAtom2());&#xD;
			else if(bonds.get(i).getAtom2().getAtomSeqNum()==atm1.getAtomSeqNum())&#xD;
				atoms.add(bonds.get(i).getAtom1());&#xD;
		}&#xD;
		return ((Atom[])atoms.toArray(new Atom[atoms.size()]));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TP-2XEeWnDaII1mfokg" name="calBondStretch" specification="_hqR-gO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht5TQO2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TQe2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TQu2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TQ-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String key;&#xD;
		double rab=0.0, dE=0.0;&#xD;
		double[] vec = new double[3];&#xD;
		if (gradient) {&#xD;
		      rab = restorativeForceAndDistance(atm1.getCoordinates(), atm2.getCoordinates(), vec);&#xD;
		} else {&#xD;
		      rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		if (isNearZero2(rab, 1.0e-3))&#xD;
		   rab = 1.0e-3;&#xD;
		    &#xD;
		if(atm1.getmmType()&lt;=atm2.getmmType()){&#xD;
			key = &quot;&quot;+atm1.getmmType() +atm2.getmmType();&#xD;
			//rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		else{&#xD;
			key = &quot;&quot;+atm2.getmmType() +atm1.getmmType();&#xD;
			//rab = Math.sqrt(distance(atm2.getCoordinates(), atm1.getCoordinates()));&#xD;
		}&#xD;
		double[] values = bondStretch.get(key);&#xD;
		double kb = values[0];&#xD;
		double r0 = values[1];&#xD;
		&#xD;
		double delta = rab - r0; &#xD;
	    double delta2 = delta * delta;&#xD;
		&#xD;
		double energy = 143.9325/2 * kb * delta2 * (1 + CS*delta + (7/12)*(CS*CS)*(delta2));&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = 143.9325/2 * kb * delta * (2 + 3*CS*delta + 4*(CS*CS)*delta2);&#xD;
		      Atom[] atmList = {atm1,atm2};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;Bond Stretch [kb,r0][delta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]\t[&quot;+kb+&quot;,&quot;+r0+&quot;]\t[&quot;+delta+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht5TRO2XEeWnDaII1mfokg" name="calAngleBend" specification="_hqSlkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht5TRe2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht5TRu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TR-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TSO2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht5TSe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0, dE=0.0, theta=0.0;&#xD;
		String key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType();&#xD;
		double[] values = angleBend.get(key);&#xD;
		if(values==null)	// null values present CHECK!&#xD;
			return 0.0;&#xD;
	    double ka = values[0];&#xD;
	    double t0 = values[1];&#xD;
	    &#xD;
	    // cos law&#xD;
	    if (gradient) {&#xD;
	        theta = restorativeForceAndAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), atm3.getCoordinates());&#xD;
	      } else {&#xD;
	        theta = angleRadiansABC(atm1.getCoordinates(), atm2.getCoordinates(), atm3.getCoordinates());&#xD;
	      }&#xD;
	    if (!isFinite(theta))&#xD;
	        theta = 0.0;&#xD;
	    /*double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));*/&#xD;
	    &#xD;
	    double dt = ((theta * (180.0 / Math.PI)) - t0);&#xD;
	    double CB = -0.4 * (Math.PI / 180.0);&#xD;
	    &#xD;
		if (t0 == 180) {&#xD;
			energy = 143.932 * ka * (1 + Math.cos(theta));&#xD;
			if (gradient)&#xD;
		        dE = -143.932 * ka * Math.sin(theta);&#xD;
		} &#xD;
		else {&#xD;
			energy = (0.043844/2) * ka * Math.pow(dt, 2) * (1 + CB * dt); // 0.043844/2&#xD;
			if (gradient)&#xD;
		        dE = 0.021922 * ka * dt * (2 + 3 * CB * dt);&#xD;
		}&#xD;
		if (gradient){&#xD;
			Atom[] atmList = {atm1,atm2,atm3};&#xD;
			addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;Angle Bend [ka,t0][theta,dt,CB][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+ka+&quot;,&quot;+t0+&quot;]\t[&quot;+theta+&quot;,&quot;+dt+&quot;,&quot;+CB+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht56QO2XEeWnDaII1mfokg" name="calStrechBend" specification="_hqTMoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht56Qe2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht56Qu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Q-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56RO2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Re2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0;&#xD;
		String key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType();&#xD;
		double[] sb_values = stretchBend.get(key);&#xD;
		if(sb_values==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
		double kba_ijk = sb_values[0];&#xD;
		double kba_kji = sb_values[1];&#xD;
		&#xD;
		if(angleBend.get(key)==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
		double t0 = angleBend.get(key)[1];&#xD;
		&#xD;
		String keyij = &quot;&quot;+atm1.getmmType()+atm2.getmmType();&#xD;
	    String keyjk = &quot;&quot;+atm2.getmmType()+atm3.getmmType();&#xD;
	    if(bondStretch.get(keyij)==null||bondStretch.get(keyjk)==null)	// null still present CHECK!!&#xD;
			return 0.0;&#xD;
	    double rij = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates())) - bondStretch.get(keyij)[1];&#xD;
	    double rjk = Math.sqrt(distance(atm2.getCoordinates(), atm3.getCoordinates())) - bondStretch.get(keyjk)[1];&#xD;
	&#xD;
	    double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));&#xD;
	    &#xD;
		double dt = ((theta * (180.0 / Math.PI)) - t0);&#xD;
		&#xD;
		double constant = 2.51210 * dt;&#xD;
	    double dr = kba_ijk*rij + kba_kji*rjk;&#xD;
	    double delta = theta * (180.0 / Math.PI) - t0;&#xD;
	    &#xD;
	    energy = constant * dr * delta;&#xD;
	    /*try {&#xD;
			writer.write(&quot;Stretch Bend [kba_ijk,kba_kji,t0][rij,rjk][theta,dt][constant,dr,delta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+kba_ijk+&quot;,&quot;+kba_kji+&quot;,&quot;+t0+&quot;]\t[&quot;+rij+&quot;,&quot;+rjk+&quot;]\t[&quot;+theta+&quot;,&quot;+dt+&quot;]\t[&quot;+constant+&quot;,&quot;+dr+&quot;,&quot;+delta+&quot;] [&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
	    return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht56Ru2XEeWnDaII1mfokg" name="calOOP" specification="_hqTzsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht56R-2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht56SO2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Se2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Su2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56S-2XEeWnDaII1mfokg" name="atm4" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56TO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy=0.0, dE=0.0, theta=0.0;&#xD;
		String key=&quot;&quot;;&#xD;
		if(atm4==null)&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + &quot;0&quot;;&#xD;
		else&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType()+atm4.getmmType();&#xD;
		if(OOP.get(key)==null)&#xD;
			return 0.0;&#xD;
		double koop = OOP.get(key);&#xD;
		float[] vec1 = new float[3];&#xD;
		float[] vec2 = new float[3];&#xD;
		float[] vec3 = new float[3];&#xD;
		if (gradient) {&#xD;
		      theta = restorativeForceAndOutOfPlaneAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
		    		  atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3);&#xD;
		    } else {&#xD;
		      theta = pointPlaneAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
		    		  atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3, false);&#xD;
		    }&#xD;
		/*double atm12 = distance(atm1.getCoordinates(),atm2.getCoordinates());&#xD;
	    double atm23 = distance(atm2.getCoordinates(),atm3.getCoordinates());&#xD;
	    double atm13 = distance(atm1.getCoordinates(),atm3.getCoordinates());&#xD;
	    double theta = Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23));*/&#xD;
		&#xD;
		double constant = (0.043844 * (180.0 / Math.PI))/ 2 * (180.0 / Math.PI);&#xD;
		energy = constant * koop * theta * theta; // theta in radians&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = 0.043844 * (180.0 / Math.PI) * koop * theta;&#xD;
		      Atom[] atmList = {atm1,atm2,atm3};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		&#xD;
		 /*if (!isFinite(theta))&#xD;
		        theta = 0.0;&#xD;
		try {&#xD;
			writer.write(&quot;OOP [theta,constant][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;]\t[&quot;+theta+&quot;,&quot;+constant+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht56Te2XEeWnDaII1mfokg" name="calTorsion" specification="_hqUawO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht56Tu2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht56T-2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56UO2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Ue2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56Uu2XEeWnDaII1mfokg" name="atm4" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56U-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0, theta=0.0, dE=0.0;&#xD;
		double[] vec1= new double[3];&#xD;
		double[] vec2= new double[3];&#xD;
		double[] vec3= new double[3];&#xD;
		String key;&#xD;
		if(atm4==null)&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + &quot;0&quot;;&#xD;
		else&#xD;
			key = &quot;&quot;+atm1.getmmType()+atm2.getmmType()+atm3.getmmType() + atm4.getmmType();&#xD;
		if(torsion.get(key)==null)&#xD;
			return 0.0;&#xD;
		double[] values = torsion.get(key);&#xD;
		double v1 = values[0];&#xD;
	    double v2 = values[1];&#xD;
	    double v3 = values[2];&#xD;
		&#xD;
	    &#xD;
	    if (gradient) {&#xD;
	        theta = restorativeForceAndTorsionAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
	        		atm3.getCoordinates(), atm4.getCoordinates());&#xD;
	        if (!isFinite(theta))&#xD;
	            theta = 0.001 * (Math.PI / 180.0);&#xD;
	    } else {&#xD;
	        theta = getTorsionAngleRadians(atm1.getCoordinates(), atm2.getCoordinates(), &#xD;
	        		atm3.getCoordinates(), atm4.getCoordinates(), vec1, vec2, vec3);&#xD;
	    }&#xD;
	    &#xD;
	    /*float[] r12 = difference(atm2.getCoordinates(),atm1.getCoordinates());&#xD;
	    float[] r32 = difference(atm3.getCoordinates(),atm2.getCoordinates());&#xD;
	    r32 = normalize(r32);&#xD;
	    r12 = cross(r12,r32);&#xD;
	    float[] r43 = difference(atm4.getCoordinates(),atm3.getCoordinates());&#xD;
	    r43 = cross(r32,r43);&#xD;
	    double r12dotr43 = (r12[0]*r43[0]) + (r12[1]*r43[1]) + (r12[2]*r43[2]);&#xD;
	    r12 = cross(r43,r12);&#xD;
	    double r32dotr12 = (r32[0]*r12[0]) + (r32[1]*r12[1]) + (r32[2]*r12[2]);&#xD;
	    double theta = Math.atan2(-r32dotr12,r12dotr43);*/&#xD;
	    &#xD;
		double cosTheta = Math.cos(theta);&#xD;
		double cosTheta2 = cosTheta * cosTheta;&#xD;
		&#xD;
		energy = 0.5 * ((v1 * (1 + cosTheta)) + (v2 * (2 - 2 * cosTheta2))&#xD;
		          + (v3 * (1 + (cosTheta * ((4 * cosTheta2) - 3)))));&#xD;
		&#xD;
		if (gradient) {&#xD;
	        double sinTheta = Math.sin(theta);        &#xD;
	        dE = 0.5 * (-v1 * sinTheta + 4 * v2 * sinTheta * cosTheta + 3 * v3 * sinTheta * (1 - 4 * cosTheta2));&#xD;
	        Atom[] atmList = {atm1,atm2,atm3, atm4};&#xD;
	        addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
	    	BufferedWriter writer = new BufferedWriter(new FileWriter(&quot;min.txt&quot;,true));&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;,&quot;+atm4.getAtomSeqNum()+&quot;]\t[&quot;+v1+&quot;,&quot;+v2+&quot;,&quot;+v3+&quot;]\t[&quot;+theta+&quot;,&quot;+cosTheta+&quot;]\t[&quot;+energy+&quot;]\t[&quot;+dE + &quot;]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.close();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
		try {&#xD;
			writer.write(&quot;Torsion [theta,cosTheta][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;,&quot;+atm3.getAtomSeqNum()+&quot;,&quot;+atm4.getAtomSeqNum()+&quot;]\t[&quot;+v1+&quot;,&quot;+v2+&quot;,&quot;+v3+&quot;]\t[&quot;+theta+&quot;,&quot;+cosTheta+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht56VO2XEeWnDaII1mfokg" name="calVDWI" specification="_hqVB1O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht56Ve2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht56Vu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56V-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht56WO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0, rab=0.0, dE=0.0;&#xD;
		double[] vec = new double[3];&#xD;
		String key1 = &quot;&quot;+atm1.getmmType();&#xD;
		String key2 = &quot;&quot;+atm2.getmmType();&#xD;
		if(vdw.get(key1)==null || vdw.get(key2)==null)&#xD;
			return 0.0;&#xD;
		double[] values1 = vdw.get(key1);&#xD;
		double alpha1 = values1[0];&#xD;
		double N1 = values1[1];&#xD;
		double A1 = values1[2];&#xD;
		double G1 = values1[3];&#xD;
		&#xD;
		double[] values2 = vdw.get(key2);&#xD;
		double alpha2 = values2[0];&#xD;
		double N2 = values2[1];&#xD;
		double A2 = values2[2];&#xD;
		double G2 = values2[3];&#xD;
		&#xD;
		if (gradient) {&#xD;
		      rab = restorativeForceAndDistance(atm1.getCoordinates(), atm2.getCoordinates(), vec);&#xD;
		} else {&#xD;
		      rab = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates()));&#xD;
		}&#xD;
		if (isNearZero2(rab, 1.0e-3))&#xD;
		   rab = 1.0e-3;&#xD;
		&#xD;
		double R_ii = A1*Math.pow(alpha1, 0.25);&#xD;
		double R_jj = A2*Math.pow(alpha2, 0.25);&#xD;
		double gamma = (R_ii-R_jj)/(R_ii+R_jj);&#xD;
		double R_ij = 0.5*(R_ii + R_jj)*(1+(0.2*(1-Math.exp(-12*gamma*gamma))));&#xD;
		double emma = ((181.16*G1*G2*alpha1*alpha2)/&#xD;
				(Math.pow((alpha1/N1), 0.5)+Math.pow((alpha2/N2), 0.5))) *&#xD;
				(1/Math.pow(R_ij, 6));&#xD;
		double r_ij = rab / R_ij;&#xD;
		&#xD;
		double f1 = 1.07 /(r_ij+0.07);&#xD;
		double f2 = 1.12/(0.12+ Math.pow(r_ij, 7));&#xD;
		&#xD;
		energy = emma * Math.pow(f1, 7)  * (f2 - 2);&#xD;
		&#xD;
		if (gradient) {&#xD;
		      dE = -7 * emma * Math.pow(f1, 7) /R_ij &#xD;
		          * (f1 / 1.07 * (f2 - 2) + f2 * f2 * Math.pow(r_ij, 6));&#xD;
		      Atom[] atmList = {atm1,atm2};&#xD;
		      addForces(atmList, dE);&#xD;
		}&#xD;
		/*try {&#xD;
			writer.write(&quot;vdw [N1,G1,A1,N2,G2,A2][R_ii,R_jj,R_ij,r_ij][gamma,emma,f1,f2][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]&quot;&#xD;
					+ &quot;\t[&quot;+alpha1+&quot;,&quot;+N1+&quot;,&quot;+A1+&quot;,&quot;+G1+&quot;,&quot;+alpha2+&quot;,&quot;+N2+&quot;,&quot;+A2+&quot;,&quot;+G2+&quot;]&quot;&#xD;
							+ &quot;\t[&quot;+R_ii+&quot;,&quot;+R_jj+&quot;,&quot;+R_ij+&quot;,&quot;+r_ij+&quot;]&quot;&#xD;
									+ &quot;\t[&quot;+gamma+&quot;,&quot;+emma+&quot;,&quot;+f1+&quot;,&quot;+f2+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht6hUO2XEeWnDaII1mfokg" name="calElectroInter" specification="_hqVo4-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht6hUe2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht6hUu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht6hU-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht6hVO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double energy = 0.0;&#xD;
		double qi = atm1.getPartialCharge();&#xD;
		double qj = atm2.getPartialCharge();&#xD;
		double constant=0.0;&#xD;
		constant = (checkThirdNeighbour(atm1,atm2) ?  249.0537 : 332.0716);&#xD;
		&#xD;
		double a = constant*qi*qj;&#xD;
		double b = Math.sqrt(distance(atm1.getCoordinates(), atm2.getCoordinates())+ 0.05);&#xD;
		&#xD;
		energy = a / b;&#xD;
		/*try {&#xD;
			writer.write(&quot;Electrostatic Interaction [qi,qj][a,b][energy]&quot;);&#xD;
			writer.newLine();&#xD;
			writer.write(&quot;[&quot;+atm1.getAtomSeqNum()+&quot;,&quot;+atm2.getAtomSeqNum()+&quot;]\t[&quot;+qi+&quot;,&quot;+qj+&quot;,&quot;+constant+&quot;]\t[&quot;+a+&quot;,&quot;+b+&quot;]\t[&quot;+energy+&quot;]&quot;);&#xD;
			writer.newLine();&#xD;
		} catch (IOException e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			e.printStackTrace();&#xD;
		}*/&#xD;
		return energy;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht6hVe2XEeWnDaII1mfokg" name="restorativeForceAndDistance" specification="_hqWP8e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht6hVu2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht6hV-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht6hWO2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht6hWe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht6hWu2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht6hW-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht6hXO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2,vec);&#xD;
	    double rab = length(vec);&#xD;
	    if (rab &lt; 0.1) {// atoms are too close to each other&#xD;
	      randomizeUnitVector(vec);&#xD;
	      rab = 0.1;&#xD;
	    }&#xD;
	    vec = normalize(vec);&#xD;
	    setCoord(coord1,vec);&#xD;
	    scale(coord1,-1); // -drab/da&#xD;
	    setCoord(coord2,vec); // -drab/db&#xD;
	&#xD;
	    return rab;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7IYO2XEeWnDaII1mfokg" name="randomizeUnitVector" specification="_hqXeEu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7IYe2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7IYu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Random ptr = new Random();&#xD;
	&#xD;
	    double l;&#xD;
	    do {&#xD;
	    	vec[0] = ptr.nextDouble() - 0.5;&#xD;
	    	vec[1] = ptr.nextDouble() - 0.5;&#xD;
	    	vec[2] = ptr.nextDouble() - 0.5;&#xD;
	      l = vec[0] * vec[0] + vec[1] * vec[1] + vec[2] * vec[2];&#xD;
	    } while ((l > 1.0) || (l &lt; 1e-4));&#xD;
	    vec=normalize(vec);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7IY-2XEeWnDaII1mfokg" name="restorativeForceAndAngleRadians" specification="_hqYFIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7IZO2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7IZe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7IZu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7IZ-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7IaO2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Iae2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7Iau2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2);&#xD;
	    sub(coord3, coord2);&#xD;
	&#xD;
	    double length1 = length(coord1);&#xD;
	    double length3 = length(coord3);&#xD;
	&#xD;
	    if (isNearZero(length1) || isNearZero(length3)) {&#xD;
	        coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
	        coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
	        coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    &#xD;
	    // Calculate normalized bond vectors&#xD;
	    double inverseLenv1 = 1.0 / length1;&#xD;
	    double inverseLenv3 = 1.0 / length3;&#xD;
	    &#xD;
	    scale(coord1, inverseLenv1);&#xD;
	    scale(coord3, inverseLenv3);&#xD;
	&#xD;
	    // Calculate the cross product of coord1 and coord2&#xD;
	    coord2= cross(coord1, coord3);&#xD;
	    &#xD;
	    double length2 = length(coord2);&#xD;
	    if (isNearZero(length2)) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
	        coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
	        coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    scale(coord2, 1 / length2);&#xD;
	&#xD;
	    // Calculate the Math.cos of theta and then theta&#xD;
	    double costheta = coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2];&#xD;
	    double theta;&#xD;
	    if (costheta > 1.0) {&#xD;
	      theta = 0.0;&#xD;
	      costheta = 1.0;&#xD;
	    } else if (costheta &lt; -1.0) {&#xD;
	      theta = Math.PI;&#xD;
	      costheta = -1.0;&#xD;
	    } else {&#xD;
	      theta = Math.acos(costheta);&#xD;
	    }&#xD;
	    &#xD;
	    coord1= cross(coord1, coord2);&#xD;
	    coord1= normalize(coord1);&#xD;
	    coord2= cross(coord3, coord2);&#xD;
	    coord2= normalize(coord2);&#xD;
	&#xD;
	    scale(coord1, -inverseLenv1);&#xD;
	    scale(coord2, inverseLenv3);&#xD;
	&#xD;
	    setCoord(coord3, coord2);&#xD;
	    coord2[0] += coord1[0];&#xD;
	    coord2[1] += coord1[1];&#xD;
	    coord2[2] += coord1[2];&#xD;
	    scale(coord2, -1);&#xD;
	&#xD;
		return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7Ia-2XEeWnDaII1mfokg" name="angleRadiansABC" specification="_hqZ6Ue2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7IbO2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Ibe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7Ibu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Ib-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7IcO2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Ice2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7Icu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double atm12 = distance(coord1,coord2);&#xD;
	    double atm23 = distance(coord2,coord3);&#xD;
	    double atm13 = distance(coord1,coord3);&#xD;
	    return (isNearZero2(atm12, 1e-3) || isNearZero2(atm23, 1e-3) ? 0 :&#xD;
	    	Math.acos((atm12 + atm23 - atm13 ) / 2 / Math.sqrt(atm12 * atm23)));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7Ic-2XEeWnDaII1mfokg" name="vectorAngleRadians" specification="_hqbvgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7IdO2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Ide2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7Idu2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7Id-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7IeO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double l1 = length(atm1);&#xD;
		double l2 = length(atm2);&#xD;
		return (isNearZero(l1) || isNearZero(l2) ? &#xD;
				0 : Math.acos((atm1[0] * atm2[0] + atm1[1] * atm2[1] + atm1[2] * atm2[2]) / (l1 * l2)));&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7vcO2XEeWnDaII1mfokg" name="pointPlaneAngleRadians" specification="_hqcWku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7vce2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vcu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vc-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vdO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vde2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vdu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vd-2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7veO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vee2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7veu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7ve-2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vfO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vfe2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vfu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vf-2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vgO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord2, coord3, vec1);&#xD;
	    sub(coord2, coord4, vec2);&#xD;
	    vec3 = cross(vec1, vec2);    &#xD;
	    add(vec2, vec1);&#xD;
	    sub(coord2, coord1, vec1);&#xD;
	    &#xD;
	    double angleA_CD = (b ? vectorAngleRadians(vec2, vec1) : Math.PI); &#xD;
	&#xD;
	    double angleNorm = vectorAngleRadians(vec3, vec1);&#xD;
	    &#xD;
	    if (angleNorm > Math.PI / 2)&#xD;
	      angleNorm = Math.PI - angleNorm;&#xD;
	    double val = Math.PI / 2.0 + (angleA_CD > Math.PI / 2.0 ? &#xD;
	        -angleNorm &#xD;
	        : angleNorm) ;    &#xD;
	    return val;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7vge2XEeWnDaII1mfokg" name="restorativeForceAndOutOfPlaneAngleRadians" specification="_hqeLwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7vgu2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vg-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vhO2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vhe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vhu2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vh-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7viO2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vie2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7viu2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vi-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vjO2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vje2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vju2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vj-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vkO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord1, coord2);&#xD;
		 sub(coord3, coord2);&#xD;
		 sub(coord4,coord2);&#xD;
		    &#xD;
		 double len_ji = length(coord1);&#xD;
		 double len_jk = length(coord3);&#xD;
		 double len_jl = length(coord4);&#xD;
		 if (isNearZero(len_ji) || isNearZero(len_jk) || isNearZero(len_jl)) {&#xD;
			 coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		     coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		     coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		     coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
			 return 0.0;&#xD;
		 }&#xD;
		 coord1 = normalize(coord1);&#xD;
		 coord3 = normalize(coord3);&#xD;
		 coord4 = normalize(coord4);&#xD;
	&#xD;
	    double cos_theta = (coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2]);&#xD;
	    double     theta = Math.acos(cos_theta);&#xD;
	&#xD;
	    // If theta equals 180 degree or 0 degree&#xD;
	    if (isNearZero(theta) || isNearZero(Math.abs(theta - Math.PI))) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		    coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		    coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		    coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
	      return 0.0;&#xD;
	    }&#xD;
	    double csc_theta = 1 / Math.sin(theta);&#xD;
	&#xD;
	    vec1 = cross(coord1, coord3);&#xD;
	    vec2 = cross(coord3, coord4);&#xD;
	    vec3 = cross(coord4, coord1);&#xD;
	&#xD;
	    // the angle from l to the i-j-k plane (Wilson angle):&#xD;
	    &#xD;
	    double sin_dl =  (vec1[0] * coord4[0] + vec1[1] * coord4[1] + vec1[2] * coord4[2]) * csc_theta;&#xD;
	    double     dl = Math.asin(sin_dl);&#xD;
	    double cos_dl = Math.cos(dl);&#xD;
	&#xD;
	    if (cos_dl &lt; 0.0001 || isNearZero(dl) || isNearZero(Math.abs(dl - Math.PI))) {&#xD;
	    	coord1[0]=coord1[1]=coord1[2] = 0;&#xD;
		    coord2[0]=coord2[1]=coord2[2] = 0;&#xD;
		    coord3[0]=coord3[1]=coord3[2] = 0;&#xD;
		    coord4[0]=coord4[1]=coord4[2] = 0;&#xD;
	      return dl;&#xD;
	    }&#xD;
	        &#xD;
	    coord4 = scaleAdd(-sin_dl / csc_theta, coord4, vec1);&#xD;
	    scale(coord4, csc_theta / len_jl);&#xD;
	&#xD;
	    setCoord(coord2, coord1);&#xD;
	    &#xD;
	    coord1 = scaleAdd(-cos_theta, coord3, coord1);&#xD;
	    coord1 = scaleAdd(-sin_dl * csc_theta, coord1, vec2);&#xD;
	    scale(coord1,csc_theta / len_ji);&#xD;
	&#xD;
	    coord3 = scaleAdd(-cos_theta, coord2, coord3);&#xD;
	    coord3 = scaleAdd(-sin_dl * csc_theta, coord3, vec3);&#xD;
	    scale(coord3, csc_theta / len_jk);&#xD;
	&#xD;
	    setCoord(coord2, coord1);&#xD;
	    add(coord2, coord3);&#xD;
	    add(coord2, coord4);&#xD;
	    scale(coord2, -1);&#xD;
	&#xD;
	    return dl;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht7vke2XEeWnDaII1mfokg" name="restorativeForceAndTorsionAngleRadians" specification="_hqfZ4-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht7vku2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vk-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vlO2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vle2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vlu2XEeWnDaII1mfokg" name="atm3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vl-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vmO2XEeWnDaII1mfokg" name="atm4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht7vme2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht7vmu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(atm1, atm2, atm1);&#xD;
	    sub(atm2, atm3, atm2);&#xD;
	    sub(atm3, atm4, atm3);&#xD;
	&#xD;
	    double len_ij = length(atm1);&#xD;
	    double len_jk = length(atm2);&#xD;
	    double len_kl = length(atm3);&#xD;
	    if (isNearZero(len_ij) || isNearZero(len_jk) || isNearZero(len_kl)) {&#xD;
	    	atm1[0]=atm1[1]=atm1[2] = 0;&#xD;
	    	atm2[0]=atm2[1]=atm2[2] = 0;&#xD;
	    	atm3[0]=atm3[1]=atm3[2] = 0;&#xD;
	    	atm4[0]=atm4[1]=atm4[2] = 0;&#xD;
	        return 0.0;&#xD;
	    }&#xD;
	    &#xD;
	    double ang = vectorAngleRadians(atm1, atm2);&#xD;
	    double sin_j = Math.sin(ang);&#xD;
	    double cos_j = Math.cos(ang);&#xD;
	    &#xD;
	    ang = vectorAngleRadians(atm2, atm3);&#xD;
	    double sin_k = Math.sin(ang);&#xD;
	    double cos_k = Math.cos(ang);&#xD;
	&#xD;
	    // normalize the bond vectors:&#xD;
	    atm1 = normalize(atm1);&#xD;
	    atm2 = normalize(atm2);&#xD;
	    atm3 = normalize(atm3);&#xD;
	&#xD;
	    // use i, k, and l for temporary variables as well&#xD;
	    atm1 = cross(atm1, atm2);  //a&#xD;
	    atm4 = cross(atm2, atm3);  //b&#xD;
	    atm3 = cross(atm1, atm4);  //c&#xD;
	&#xD;
	    double theta = -Math.atan2((atm3[0] * atm2[0] + atm3[1] * atm2[1] + atm3[2] * atm2[2]),&#xD;
	    		(atm1[0] * atm4[0] + atm1[1] * atm4[1] + atm1[2] * atm4[2]));&#xD;
	        &#xD;
	    scale(atm1, (1. / len_ij / sin_j / sin_j));&#xD;
	&#xD;
	    scale(atm4, (-1. / len_kl / sin_k / sin_k));&#xD;
	&#xD;
	    setCoord(atm2, atm1);&#xD;
	    scale(atm2, (-len_ij / len_jk * cos_j - 1.));&#xD;
	    setCoord(atm3, atm4);&#xD;
	    scale(atm3,(-len_kl / len_jk * cos_k));&#xD;
	    sub(atm2, atm3);&#xD;
	    &#xD;
	    setCoord(atm3, atm1);&#xD;
	    add(atm3, atm2);&#xD;
	    add(atm3, atm4);&#xD;
	    scale(atm3,-1);&#xD;
	&#xD;
	    return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht8WgO2XEeWnDaII1mfokg" name="getTorsionAngleRadians" specification="_hqgoAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht8Wge2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8Wgu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wg-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8WhO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Whe2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8Whu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wh-2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8WiO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wie2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8Wiu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wi-2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8WjO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wje2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht8Wju2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht8Wj-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>sub(coord2, coord1, vec1); &#xD;
	    sub(coord3, coord2, vec2);&#xD;
	    vec2 = normalize(vec2);&#xD;
	    coord1 = cross(coord1, coord2); //p1&#xD;
	    sub(coord4, coord3, vec3); &#xD;
	    coord3 = cross(coord2, coord3); //p2&#xD;
	    double p1dotp2 = (coord1[0] * coord3[0] + coord1[1] * coord3[1] + coord1[2] * coord3[2]);&#xD;
	    vec1 = cross(vec3, vec1);&#xD;
	    double theta = Math.atan2((-vec2[0] * vec1[0] + (-vec2[1]) * vec1[1] + (-vec2[2]) * vec1[2]), p1dotp2);   &#xD;
	    return theta;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht8WkO2XEeWnDaII1mfokg" name="checkThirdNeighbour" specification="_hqh2JO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht8Wke2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht8Wku2XEeWnDaII1mfokg" name="b" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_ht8Wk-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Atom[] atmNeigh1;&#xD;
		for(int i=0;i&lt;a.getNeighbourAtoms().length;i++){&#xD;
			// get all the neighbouring atoms from current neigh atoms&#xD;
			atmNeigh1 = a.getNeighbourAtoms()[i].getNeighbourAtoms();&#xD;
			for(int j=0;j&lt;atmNeigh1.length;j++){&#xD;
				for(int k=0;k&lt;b.getNeighbourAtoms().length;k++){&#xD;
					if(atmNeigh1[j]==b.getNeighbourAtoms()[k])&#xD;
						return true;&#xD;
				}&#xD;
			}&#xD;
		}		&#xD;
		return false;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht89kO2XEeWnDaII1mfokg" name="distance" specification="_hqidMe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht89ke2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89ku2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89k-2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89lO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89le2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double dx = a[0] - b[0];&#xD;
		double dy = a[1] - b[1];&#xD;
		double dz = a[2] - b[2];&#xD;
		return (dx * dx + dy * dy + dz * dz);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht89lu2XEeWnDaII1mfokg" name="scale" specification="_hqjrUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht89l-2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89mO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89me2XEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] *= value;&#xD;
		coord[1] *= value;&#xD;
		coord[2] *= value;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht89mu2XEeWnDaII1mfokg" name="scaleAdd" specification="_hqjrVO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht89m-2XEeWnDaII1mfokg" name="s">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89nO2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89ne2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89nu2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89n-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht89oO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht89oe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>float[] temp = {&#xD;
	    (float) (s * coord[0] + vec[0]),&#xD;
	    (float) (s * coord[1] + vec[1]),&#xD;
	    (float) (s * coord[2] + vec[2])};&#xD;
	    return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht9koO2XEeWnDaII1mfokg" name="setCoord" specification="_hqk5cO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht9koe2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht9kou2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht9ko-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht9kpO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] = coord2[0];&#xD;
		coord[1] = coord2[1];&#xD;
		coord[2] = coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht9kpe2XEeWnDaII1mfokg" name="setCoord" specification="_hqlggO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht9kpu2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht9kp-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht9kqO2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht9kqe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord[0] = (float)coord2[0];&#xD;
		coord[1] = (float)coord2[1];&#xD;
		coord[2] = (float)coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht9kqu2XEeWnDaII1mfokg" name="length" specification="_hqlghe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht9kq-2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht9krO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht9kre2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(coord1[0]*coord1[0]+coord1[1]*coord1[1]+coord1[2]*coord1[2]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-LsO2XEeWnDaII1mfokg" name="length" specification="_hqmHk-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-Lse2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Lsu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-Ls-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.sqrt(coord1[0]*coord1[0]+coord1[1]*coord1[1]+coord1[2]*coord1[2]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-LtO2XEeWnDaII1mfokg" name="cross" specification="_hqmuoe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-Lte2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Ltu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-Lt-2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-LuO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-Lue2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Luu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double[] temp = {(a[1]*b[2])-(a[2]*b[1]),&#xD;
				(a[2]*b[0])-(a[0]*b[2]),&#xD;
				(a[0]*b[1])-(a[1]*b[0])};&#xD;
		return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-Lu-2XEeWnDaII1mfokg" name="cross" specification="_hqnVsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-LvO2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Lve2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-Lvu2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Lv-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-LwO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-Lwe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>float[] temp = {(a[1]*b[2])-(a[2]*b[1]),&#xD;
						(a[2]*b[0])-(a[0]*b[2]),&#xD;
						(a[0]*b[1])-(a[1]*b[0])};&#xD;
		return temp;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-ywO2XEeWnDaII1mfokg" name="normalize" specification="_hqoj0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-ywe2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-ywu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-yw-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-yxO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double d = Math.sqrt((a[0]*a[0])+(a[1]*a[1])+(a[2]*a[2]));&#xD;
		&#xD;
		a[0] /=d;&#xD;
		a[1] /=d;&#xD;
		a[2] /=d;&#xD;
		return a;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-yxe2XEeWnDaII1mfokg" name="normalize" specification="_hqpK4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-yxu2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-yx-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-yyO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-yye2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double d = Math.sqrt((a[0]*a[0])+(a[1]*a[1])+(a[2]*a[2]));&#xD;
		&#xD;
		a[0] /=d;&#xD;
		a[1] /=d;&#xD;
		a[2] /=d;&#xD;
		return a;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-yyu2XEeWnDaII1mfokg" name="add" specification="_hqpx8e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-yy-2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-yzO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-yze2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-yzu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atm1[0] += atm2[0];&#xD;
		atm1[1] += atm2[1];&#xD;
		atm1[2] += atm2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht-yz-2XEeWnDaII1mfokg" name="sub" specification="_hqrAEe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht-y0O2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-y0e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht-y0u2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht-y0-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>coord1[0] -= coord2[0];&#xD;
		coord1[1] -= coord2[1];&#xD;
		coord1[2] -= coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht_Z0O2XEeWnDaII1mfokg" name="sub" specification="_hqrnIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht_Z0e2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z0u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z0-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z1O2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z1e2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z1u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>vec1[0] = coord1[0] - coord2[0];&#xD;
		vec1[1] = coord1[1] - coord2[1];&#xD;
		vec1[2] = coord1[2] - coord2[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht_Z1-2XEeWnDaII1mfokg" name="sub" specification="_hqsOM-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht_Z2O2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z2e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z2u2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z2-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z3O2XEeWnDaII1mfokg" name="atm12">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht_Z3e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>atm1[0] = atm2[0] - atm12[0];&#xD;
		atm1[1] = atm2[1] - atm12[1];&#xD;
		atm1[2] = atm2[2] - atm12[2];&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht_Z3u2XEeWnDaII1mfokg" name="isFinite" specification="_hquDYe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht_Z3-2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z4O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return !Double.isInfinite(a) &amp;&amp; !Double.isNaN(a);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht_Z4e2XEeWnDaII1mfokg" name="isNearZero" specification="_hquDZO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_ht_Z4u2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_ht_Z4-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a) &lt; 2e-6);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAA4O2XEeWnDaII1mfokg" name="isNearZero2" specification="_hquqce2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAA4e2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_huAA4u2XEeWnDaII1mfokg" name="ep">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_huAA4-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (Math.abs(a) &lt; ep);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAA5O2XEeWnDaII1mfokg" name="readMMFF94Types" specification="_hqvRgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAA5e2XEeWnDaII1mfokg" name="fileLocation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		Pattern pattern = Pattern.compile(&quot;\\s\\s[\\w\\W]+\\s+\\d+\\s[\\w\\W]+$&quot;);&#xD;
		Matcher matcher;&#xD;
		mmffType = new HashMap&lt;String,Integer>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(fileLocation));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;1.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				&#xD;
				matcher = pattern.matcher(line);&#xD;
				if(matcher.find()){&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [1] formula [2] type&#xD;
					mmffType.put(splitLine[1], Integer.valueOf(splitLine[2]));&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(NumberFormatException e){&#xD;
			logger.log(Level.WARNING, &quot;Problem converting type string to int&quot;);&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading mmffType file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAA5u2XEeWnDaII1mfokg" name="assignMMFFTypes" specification="_hqvRgu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double charge=0.0;&#xD;
		readPartialCharge(&quot;res/res/MMFF94-formalCharge.txt&quot;);&#xD;
		HashMap&lt;String, Atom> atomHash = model.getAtomHash();&#xD;
		for(Atom atm : atomHash.values()){&#xD;
			if (atm==null)&#xD;
				continue;&#xD;
			String atmMMType = AtomToMMType.setMMType(atm);&#xD;
			if(atmMMType==null){&#xD;
				System.out.println(&quot;Atom: &quot; + atm.getAtomSeqNum()+ &quot; has no mmType&quot;);&#xD;
				atm.setmmType(0);&#xD;
				atm.setPartialCharge(0.0);&#xD;
				continue;&#xD;
			}&#xD;
			int type = mmffType.get(atmMMType);&#xD;
			if(partialCharge.get(atmMMType)==null)&#xD;
				charge=0.0;&#xD;
			else&#xD;
				charge = partialCharge.get(atmMMType);&#xD;
			atm.setmmType(type);&#xD;
			atm.setPartialCharge(charge);&#xD;
			&#xD;
			//System.out.println(&quot;ATOM: [&quot; + atm.getAtomSeqNum() + &quot;]\t Type: &quot;+ atm.getmmType());&#xD;
		}&#xD;
		assignPartialCharge();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAA5-2XEeWnDaII1mfokg" name="assignPartialCharge" specification="_hqvRg-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>String key,keya,keyb;&#xD;
		double pa,pb,bci,charge,bFactor;&#xD;
		double[] partialChargeVal = new double[model.getAtomHash().size()];&#xD;
		for(Bond bond : model.getBonds()){&#xD;
			if(bond.getAtom1().getmmType()&lt;bond.getAtom2().getmmType()){&#xD;
				key = &quot;&quot;+bond.getAtom1().getmmType()+bond.getAtom2().getmmType();&#xD;
				bFactor = -1;&#xD;
			}&#xD;
			else{&#xD;
				key = &quot;&quot;+bond.getAtom2().getmmType()+bond.getAtom1().getmmType();&#xD;
				bFactor = 1;&#xD;
			}&#xD;
			&#xD;
			if(bondCharge.get(key)==null){&#xD;
				pa = bond.getAtom1().getPartialCharge();&#xD;
				pb = bond.getAtom2().getPartialCharge();&#xD;
				bci = pa-pb;&#xD;
			}&#xD;
			else{&#xD;
				bci = bFactor * bondCharge.get(key);&#xD;
			}&#xD;
			keya = &quot;&quot;+bond.getAtom1().getmmType();&#xD;
			keyb = &quot;&quot;+bond.getAtom2().getmmType();&#xD;
			charge = (electroInter.get(keyb)[1]* bond.getAtom2().getPartialCharge()) - &#xD;
					(electroInter.get(keya)[1] * bond.getAtom1().getPartialCharge()) + bci;&#xD;
			pa = partialChargeVal[bond.getAtom1().getAtomSeqNum()-1] + charge;&#xD;
			pb = partialChargeVal[bond.getAtom2().getAtomSeqNum()-1] - charge;&#xD;
			partialChargeVal[bond.getAtom1().getAtomSeqNum()-1] = pa;&#xD;
			partialChargeVal[bond.getAtom2().getAtomSeqNum()-1] = pb;&#xD;
		}&#xD;
		double finalCharge=0.0;&#xD;
		for(Atom atm : model.getAtomHash().values()){&#xD;
			finalCharge = atm.getPartialCharge() + partialChargeVal[atm.getAtomSeqNum()-1];&#xD;
			atm.setPartialCharge(finalCharge);&#xD;
			//System.out.printf(&quot;[%d,%f]\n&quot;, atm.getAtomSeqNum(), atm.getPartialCharge());&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAA6O2XEeWnDaII1mfokg" name="readBondCharge" specification="_hqv4kO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAA6e2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		bondCharge = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;14.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;);&#xD;
					String key = splitLine[1] + splitLine[2];&#xD;
					double value = Double.parseDouble(splitLine[3]);&#xD;
					bondCharge.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn8O2XEeWnDaII1mfokg" name="readPartialCharge" specification="_hqv4ku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn8e2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		partialCharge = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;#&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;);&#xD;
					String key = splitLine[0];&#xD;
					double value = Double.parseDouble(splitLine[2])/12;&#xD;
					partialCharge.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn8u2XEeWnDaII1mfokg" name="readBondStretch" specification="_hqv4lO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn8-2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		bondStretch = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;6.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[2] type [3] kb [4] r0&#xD;
					String key = splitLine[1]+splitLine[2];&#xD;
					double[] value = {Double.parseDouble(splitLine[3]),Double.parseDouble(splitLine[4])};&#xD;
					bondStretch.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading bond stretch file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn9O2XEeWnDaII1mfokg" name="readAngleBend" specification="_hqwfoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn9e2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		angleBend = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;8.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [1]-[3] type [4] ka [5] t0&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double[] value = {Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					angleBend.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading angle bend file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn9u2XEeWnDaII1mfokg" name="readStretchBend" specification="_hqwfou2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn9-2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		stretchBend = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;9.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[3] type [4] kbaIJK [5] kbaKJI&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double[] value = {Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					stretchBend.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading stretch bend file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn-O2XEeWnDaII1mfokg" name="readOOP" specification="_hq9T8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn-e2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		OOP = new HashMap&lt;String,Double>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;11.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[3] type [4] koop &#xD;
					String key = splitLine[0]+splitLine[1]+splitLine[2]+splitLine[3];&#xD;
					double value = Double.parseDouble(splitLine[4]);&#xD;
					OOP.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading OOP file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huAn-u2XEeWnDaII1mfokg" name="readTorsion" specification="_hq97AO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huAn--2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		torsion = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;12.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0]-[4] type [5] V1 [6] V2 [7] V3&#xD;
					String key = splitLine[1]+splitLine[2]+splitLine[3]+splitLine[4];&#xD;
					double[] value = {Double.parseDouble(splitLine[5]),Double.parseDouble(splitLine[6]),Double.parseDouble(splitLine[7])};&#xD;
					torsion.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading torsion file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huBPAO2XEeWnDaII1mfokg" name="readVDW" specification="_hrA-UO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huBPAe2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		vdw = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;13.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0] type [1] alpha-i [2] N-i [3] A-i [4] G-i&#xD;
					String key = splitLine[1];&#xD;
					double[] value = {Double.parseDouble(splitLine[2]),Double.parseDouble(splitLine[3]),&#xD;
										Double.parseDouble(splitLine[4]),Double.parseDouble(splitLine[5])};&#xD;
					vdw.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading van der Waals file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_huBPAu2XEeWnDaII1mfokg" name="readElectroInter" specification="_hrCMcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_huBPA-2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String line;&#xD;
		electroInter = new HashMap&lt;String,double[]>();&#xD;
		try{&#xD;
			BufferedReader reader = new BufferedReader(new FileReader(file));&#xD;
			while((line = reader.readLine()) != null){&#xD;
				if(line.startsWith(&quot;15.&quot;)|| line.startsWith(&quot;*&quot;))&#xD;
					continue;&#xD;
				try{&#xD;
					String[] splitLine = line.split(&quot;\\s+&quot;); // [0] type [1] pbci [2] fcadj&#xD;
					String key = splitLine[1];&#xD;
					double[] value = {Double.parseDouble(splitLine[2]),Double.parseDouble(splitLine[3])};&#xD;
					electroInter.put(key,value);&#xD;
				}&#xD;
				catch(NumberFormatException e){&#xD;
					logger.log(Level.WARNING, &quot;Problem converting string to double&quot;);&#xD;
				}&#xD;
			}&#xD;
			reader.close();&#xD;
		}&#xD;
		catch(IOException e){&#xD;
			logger.log(Level.WARNING, &quot;Loading electrostatic interaction file Failed&quot;);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_hqMe8O2XEeWnDaII1mfokg" name="Minimizer" method="_ht3eA-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_hqMe8u2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_hqMe8-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_hqMe8e2XEeWnDaII1mfokg" name="updateReg" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqNGAO2XEeWnDaII1mfokg" type="_hqJboO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqNGAe2XEeWnDaII1mfokg" name="setupMinimizing" method="_ht4FEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqNGAu2XEeWnDaII1mfokg" name="model" type="_St43sO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqNtEO2XEeWnDaII1mfokg" name="startMinimizing" method="_ht4FEu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqNtEe2XEeWnDaII1mfokg" name="steepestDescentSteps" visibility="private" method="_ht4FE-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqNtEu2XEeWnDaII1mfokg" name="n">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqOUIO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqO7MO2XEeWnDaII1mfokg" name="setForcesUsingNumericalDerivative" visibility="private" method="_ht4sIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqO7Me2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqO7Mu2XEeWnDaII1mfokg" name="getDE" visibility="private" method="_ht4sIu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqO7M-2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqO7NO2XEeWnDaII1mfokg" name="i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqO7Ne2XEeWnDaII1mfokg" name="delta">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqPiQO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqPiQe2XEeWnDaII1mfokg" name="calculateEnergy" visibility="private" method="_ht4sJ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqPiQu2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqPiQ-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqPiRO2XEeWnDaII1mfokg" name="clearForces" visibility="private" method="_ht4sKu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQJUO2XEeWnDaII1mfokg" name="clearValues" visibility="private" method="_ht4sK-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQJUe2XEeWnDaII1mfokg" name="readMMFFFiles" visibility="private" method="_ht4sLO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQJUu2XEeWnDaII1mfokg" name="updateCoordinates" visibility="private" method="_ht4sLe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQJU-2XEeWnDaII1mfokg" name="isNear3" visibility="private" method="_ht5TMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqQJVO2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqQwYO2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqQwYe2XEeWnDaII1mfokg" name="eps">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqQwYu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqQwY-2XEeWnDaII1mfokg" name="restoreCoordinates" visibility="private" method="_ht5TNe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQwZO2XEeWnDaII1mfokg" name="saveCoordinates" visibility="private" method="_ht5TNu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqQwZe2XEeWnDaII1mfokg" name="addForces" visibility="private" method="_ht5TN-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqRXcO2XEeWnDaII1mfokg" name="atmList" type="_SsiM0O2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqRXcu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqRXce2XEeWnDaII1mfokg" name="dE">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqRXc-2XEeWnDaII1mfokg" name="getBondedAtom" visibility="private" method="_ht5TO-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqRXdO2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqRXde2XEeWnDaII1mfokg" type="_SsiM0O2XEeWnDaII1mfokg" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqRXdu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqR-gO2XEeWnDaII1mfokg" name="calBondStretch" visibility="private" method="_ht5TP-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqR-ge2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqR-gu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqR-g-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqR-hO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqSlkO2XEeWnDaII1mfokg" name="calAngleBend" visibility="private" method="_ht5TRO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqSlke2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqSlku2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqSlk-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqSllO2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqSlle2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqTMoO2XEeWnDaII1mfokg" name="calStrechBend" visibility="private" method="_ht56QO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqTMoe2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqTMou2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTMo-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTMpO2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTMpe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqTzsO2XEeWnDaII1mfokg" name="calOOP" visibility="private" method="_ht56Ru2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqTzse2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqTzsu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTzs-2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTztO2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTzte2XEeWnDaII1mfokg" name="atm4" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqTztu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqUawO2XEeWnDaII1mfokg" name="calTorsion" visibility="private" method="_ht56Te2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqUawe2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqUawu2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVB0O2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVB0e2XEeWnDaII1mfokg" name="atm3" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVB0u2XEeWnDaII1mfokg" name="atm4" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVB0-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqVB1O2XEeWnDaII1mfokg" name="calVDWI" visibility="private" method="_ht56VO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqVB1e2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqVo4O2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVo4e2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVo4u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqVo4-2XEeWnDaII1mfokg" name="calElectroInter" visibility="private" method="_ht6hUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqVo5O2XEeWnDaII1mfokg" name="gradient">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqVo5e2XEeWnDaII1mfokg" name="atm1" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqVo5u2XEeWnDaII1mfokg" name="atm2" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqWP8O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqWP8e2XEeWnDaII1mfokg" name="restorativeForceAndDistance" visibility="private" method="_ht6hVe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqWP8u2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqW3A-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqW3AO2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqXeEO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqW3Ae2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqXeEe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqW3Au2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqXeEu2XEeWnDaII1mfokg" name="randomizeUnitVector" visibility="private" method="_ht7IYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqXeE-2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqYFIO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqYFIe2XEeWnDaII1mfokg" name="restorativeForceAndAngleRadians" visibility="private" method="_ht7IY-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqYFIu2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqZTQO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqYFI-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqZTQe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqYsMO2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqZ6UO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqYsMe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqZ6Ue2XEeWnDaII1mfokg" name="angleRadiansABC" visibility="private" method="_ht7Ia-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqahYO2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqbIce2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqahYe2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqbIcu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqahYu2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqbIc-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqbIcO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqbvgO2XEeWnDaII1mfokg" name="vectorAngleRadians" visibility="private" method="_ht7Ic-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqbvge2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqcWkO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqbvgu2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqcWke2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqbvg-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqcWku2XEeWnDaII1mfokg" name="pointPlaneAngleRadians" visibility="private" method="_ht7vcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqcWk-2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqc9p-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqcWlO2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqc9qO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9oO2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqc9qe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9oe2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqdksO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9ou2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqdkse2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9o-2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqdksu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9pO2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqdks-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9pe2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqc9pu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqeLwO2XEeWnDaII1mfokg" name="restorativeForceAndOutOfPlaneAngleRadians" visibility="private" method="_ht7vge2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqeLwe2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqey0u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqeLwu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqey0-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqeLw-2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqey1O2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqeLxO2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqey1e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqeLxe2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqfZ4O2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqeLxu2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqfZ4e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqey0O2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqfZ4u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqey0e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqfZ4-2XEeWnDaII1mfokg" name="restorativeForceAndTorsionAngleRadians" visibility="private" method="_ht7vke2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqgA8O2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqgA9e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgA8e2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqgA9u2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgA8u2XEeWnDaII1mfokg" name="atm3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqgA9-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgA8-2XEeWnDaII1mfokg" name="atm4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqgA-O2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgA9O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqgoAO2XEeWnDaII1mfokg" name="getTorsionAngleRadians" visibility="private" method="_ht8WgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqgoAe2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqhPE-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgoAu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqhPFO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgoA-2XEeWnDaII1mfokg" name="coord3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqhPFe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgoBO2XEeWnDaII1mfokg" name="coord4">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqh2IO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqgoBe2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqh2Ie2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqhPEO2XEeWnDaII1mfokg" name="vec2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqh2Iu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqhPEe2XEeWnDaII1mfokg" name="vec3">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqh2I-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqhPEu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqh2JO2XEeWnDaII1mfokg" name="checkThirdNeighbour" visibility="private" method="_ht8WkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqh2Je2XEeWnDaII1mfokg" name="a" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqh2Ju2XEeWnDaII1mfokg" name="b" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hqidMO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqidMe2XEeWnDaII1mfokg" name="distance" visibility="private" method="_ht89kO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqidMu2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqjEQe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqidM-2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqjEQu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqjEQO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqjrUO2XEeWnDaII1mfokg" name="scale" visibility="private" method="_ht89lu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqjrUe2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqjrU-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqjrUu2XEeWnDaII1mfokg" name="value">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqjrVO2XEeWnDaII1mfokg" name="scaleAdd" visibility="private" method="_ht89mu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqjrVe2XEeWnDaII1mfokg" name="s">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqkSYO2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqkSZe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqkSYe2XEeWnDaII1mfokg" name="vec">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqkSZu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqkSYu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqkSY-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqk5cO2XEeWnDaII1mfokg" name="setCoord" visibility="private" method="_ht9koO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqk5ce2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqk5c-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqk5cu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqk5dO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqlggO2XEeWnDaII1mfokg" name="setCoord" visibility="private" method="_ht9kpe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqlgge2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqlgg-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqlggu2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqlghO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqlghe2XEeWnDaII1mfokg" name="length" visibility="private" method="_ht9kqu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqmHkO2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqmHku2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqmHke2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqmHk-2XEeWnDaII1mfokg" name="length" visibility="private" method="_ht-LsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqmHlO2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqmuoO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqmHle2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqmuoe2XEeWnDaII1mfokg" name="cross" visibility="private" method="_ht-LtO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqmuou2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqnVsO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqmuo-2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqnVse2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqmupO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqmupe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqnVsu2XEeWnDaII1mfokg" name="cross" visibility="private" method="_ht-Lu-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqnVs-2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqn8w-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqnVtO2XEeWnDaII1mfokg" name="b">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqn8xO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqn8wO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqn8we2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqoj0O2XEeWnDaII1mfokg" name="normalize" visibility="private" method="_ht-ywO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqoj0e2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqoj1e2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqoj0u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqoj0-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqpK4O2XEeWnDaII1mfokg" name="normalize" visibility="private" method="_ht-yxe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqpK4e2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqpx8O2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqpK4u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqpK4-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqpx8e2XEeWnDaII1mfokg" name="add" visibility="private" method="_ht-yyu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqpx8u2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqqZAe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqqZAO2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqrAEO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqrAEe2XEeWnDaII1mfokg" name="sub" visibility="private" method="_ht-yz-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqrAEu2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqrAFO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqrAE-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqrnIO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqrnIe2XEeWnDaII1mfokg" name="sub" visibility="private" method="_ht_Z0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqrnIu2XEeWnDaII1mfokg" name="coord1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqsOMO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqrnI-2XEeWnDaII1mfokg" name="coord2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqsOMe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqrnJO2XEeWnDaII1mfokg" name="vec1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqsOMu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqsOM-2XEeWnDaII1mfokg" name="sub" visibility="private" method="_ht_Z1-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqs1QO2XEeWnDaII1mfokg" name="atm1">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqtcUu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqtcUO2XEeWnDaII1mfokg" name="atm2">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqtcU-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hqtcUe2XEeWnDaII1mfokg" name="atm12">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hquDYO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hquDYe2XEeWnDaII1mfokg" name="isFinite" visibility="private" method="_ht_Z3u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hquDYu2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hquDY-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hquDZO2XEeWnDaII1mfokg" name="isNearZero" visibility="private" method="_ht_Z4e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hquDZe2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hquqcO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hquqce2XEeWnDaII1mfokg" name="isNearZero2" visibility="private" method="_huAA4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hquqcu2XEeWnDaII1mfokg" name="a">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hquqc-2XEeWnDaII1mfokg" name="ep">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hquqdO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqvRgO2XEeWnDaII1mfokg" name="readMMFF94Types" visibility="private" method="_huAA5O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqvRge2XEeWnDaII1mfokg" name="fileLocation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqvRgu2XEeWnDaII1mfokg" name="assignMMFFTypes" visibility="private" method="_huAA5u2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqvRg-2XEeWnDaII1mfokg" name="assignPartialCharge" visibility="private" method="_huAA5-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hqv4kO2XEeWnDaII1mfokg" name="readBondCharge" visibility="private" method="_huAA6O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqv4ke2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqv4ku2XEeWnDaII1mfokg" name="readPartialCharge" visibility="private" method="_huAn8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqv4k-2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqv4lO2XEeWnDaII1mfokg" name="readBondStretch" visibility="private" method="_huAn8u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqv4le2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqwfoO2XEeWnDaII1mfokg" name="readAngleBend" visibility="private" method="_huAn9O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqwfoe2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hqwfou2XEeWnDaII1mfokg" name="readStretchBend" visibility="private" method="_huAn9u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hqwfo-2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hq9T8O2XEeWnDaII1mfokg" name="readOOP" visibility="private" method="_huAn-O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hq9T8e2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hq97AO2XEeWnDaII1mfokg" name="readTorsion" visibility="private" method="_huAn-u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hq97Ae2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hrA-UO2XEeWnDaII1mfokg" name="readVDW" visibility="private" method="_huBPAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hrBlYO2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hrCMcO2XEeWnDaII1mfokg" name="readElectroInter" visibility="private" method="_huBPAu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hrCMce2XEeWnDaII1mfokg" name="file">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huWmMe2XEeWnDaII1mfokg" name="" memberEnd="_huWmMu2XEeWnDaII1mfokg _htayEO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huWmMu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huWmMe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huWmNO2XEeWnDaII1mfokg" name="" memberEnd="_huXNQO2XEeWnDaII1mfokg _htbZIu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huXNQO2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huWmNO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huXNQu2XEeWnDaII1mfokg" name="" memberEnd="_huXNQ-2XEeWnDaII1mfokg _htcAMu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huXNQ-2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huXNQu2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huXNRe2XEeWnDaII1mfokg" name="" memberEnd="_huXNRu2XEeWnDaII1mfokg _htdOUO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huXNRu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huXNRe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huX0Ue2XEeWnDaII1mfokg" name="" memberEnd="_huX0Uu2XEeWnDaII1mfokg _htd1Ye2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huX0Uu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huX0Ue2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huX0VO2XEeWnDaII1mfokg" name="" memberEnd="_huX0Ve2XEeWnDaII1mfokg _htecce2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huX0Ve2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huX0VO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huYbYe2XEeWnDaII1mfokg" name="" memberEnd="_huYbYu2XEeWnDaII1mfokg _htfqkO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huYbYu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huYbYe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huZCcO2XEeWnDaII1mfokg" name="" memberEnd="_huZCce2XEeWnDaII1mfokg _htgRoe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huZCce2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huZCcO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huZCc-2XEeWnDaII1mfokg" name="" memberEnd="_huZCdO2XEeWnDaII1mfokg _htiG0O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huZCdO2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huZCc-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huZpge2XEeWnDaII1mfokg" name="" memberEnd="_huZpgu2XEeWnDaII1mfokg _htjU8O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huZpgu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huZpge2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huaQkO2XEeWnDaII1mfokg" name="" memberEnd="_huaQke2XEeWnDaII1mfokg _htkjEO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huaQke2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huaQkO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huaQk-2XEeWnDaII1mfokg" name="" memberEnd="_huaQlO2XEeWnDaII1mfokg _htlxMe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huaQlO2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_huaQk-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_hua3oe2XEeWnDaII1mfokg" name="" memberEnd="_hua3ou2XEeWnDaII1mfokg _htqCou2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_hua3ou2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_hua3oe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_hubese2XEeWnDaII1mfokg" name="" memberEnd="_hubesu2XEeWnDaII1mfokg _htqpse2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_hubesu2XEeWnDaII1mfokg" name="" type="_hqJboO2XEeWnDaII1mfokg" association="_hubese2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SlmeYO2XEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="_SwxzoO2XEeWnDaII1mfokg" name="JmolDisplay">
                    <ownedComment xmi:id="_TjlwoO2XEeWnDaII1mfokg">
                      <body>@author Xiu Ting&#xD;
The main display of the application &#xD;
 *</body>
                    </ownedComment>
                    <generalization xmi:id="_TdUwke2XEeWnDaII1mfokg" general="_TdS7YO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TghOgO2XEeWnDaII1mfokg" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TghOge2XEeWnDaII1mfokg" value="-4721103453203185678L"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TghOgu2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg" isReadOnly="true" association="_TkrVwe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgh1kO2XEeWnDaII1mfokg" name="adapter" visibility="private" type="_TXoYQO2XEeWnDaII1mfokg" association="_TkrVxO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgh1ku2XEeWnDaII1mfokg" name="statusListener" visibility="private" type="_TXpmYe2XEeWnDaII1mfokg" association="_TkrVx-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgicoe2XEeWnDaII1mfokg" name="currentSize" visibility="protected" isLeaf="true" type="_TWM04O2XEeWnDaII1mfokg" isReadOnly="true" association="_Tkr80e2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tgicou2XEeWnDaII1mfokg" value="new Dimension()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgkR0O2XEeWnDaII1mfokg" name="rectClip" visibility="protected" type="_TXnKIO2XEeWnDaII1mfokg" association="_Tksj4e2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgkR0e2XEeWnDaII1mfokg" value="new Rectangle()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tglf8O2XEeWnDaII1mfokg" name="verbose" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgmHAO2XEeWnDaII1mfokg" name="jMolSelectionListener" visibility="private" type="_TV-yce2XEeWnDaII1mfokg" association="_Tksj5O2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgmuEO2XEeWnDaII1mfokg" name="selectedAtoms" visibility="protected" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_TktK8e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgn8Me2XEeWnDaII1mfokg" name="selectedTag" visibility="protected" type="_SxeXMO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgojQe2XEeWnDaII1mfokg" name="mediator" visibility="protected" type="_SwZZIO2XEeWnDaII1mfokg" association="_TktyAe2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TdUJgO2XEeWnDaII1mfokg" client="_SwxzoO2XEeWnDaII1mfokg" supplier="_TXue4O2XEeWnDaII1mfokg" contract="_TXue4O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMNO2XEeWnDaII1mfokg" name="JmolDisplay" specification="_Sw1eAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEMNe2XEeWnDaII1mfokg" type="_SwxzoO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();&#xD;
		statusListener = new MyJmolStatusListener(this);&#xD;
		adapter = new SmarterJmolAdapter();&#xD;
		Logger.setLogLevel( verbose?Logger.LEVEL_INFO:Logger.LEVEL_ERROR);&#xD;
		viewer = (Viewer)JmolViewer.allocateViewer(this, adapter);&#xD;
		viewer.setJmolCallbackListener(statusListener);&#xD;
		jMolSelectionListener = new JMolSelectionListener(this);&#xD;
		viewer.addSelectionListener(jMolSelectionListener);&#xD;
		viewer.setMenu(&quot;res/res/jmol.mnu&quot;, true); // load own menu when initialising display&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMNu2XEeWnDaII1mfokg" name="paint" specification="_TXq0gu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEMN-2XEeWnDaII1mfokg" name="g" type="_TXq0gO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>getSize(currentSize);&#xD;
		g.getClipBounds(rectClip);&#xD;
		viewer.renderScreenImage(g, currentSize.width, currentSize.height);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMOO2XEeWnDaII1mfokg" name="openStringInline" specification="_TXrbkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEMOe2XEeWnDaII1mfokg" name="pdbFile" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>viewer.openStringInline(pdbFile);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEMOu2XEeWnDaII1mfokg" name="getMediator" specification="_Sw2FE-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEMO-2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return this.mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEzQO2XEeWnDaII1mfokg" name="executeCmd" specification="_TXrbk-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEzQe2XEeWnDaII1mfokg" name="rasmolScript" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>viewer.evalString(rasmolScript);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEzQu2XEeWnDaII1mfokg" name="clearDisplay" specification="_Sw2sIO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>executeCmd(&quot;zap;&quot;);&#xD;
		&#xD;
		viewer = null;&#xD;
		adapter = null;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEzQ-2XEeWnDaII1mfokg" name="getSelectedAtoms" specification="_Sw2sIe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEzRO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return selectedAtoms;	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEzRe2XEeWnDaII1mfokg" name="evaluateUserFunction" specification="_Sw36QO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEzRu2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>EvaluateUserAction.evaluateAction(mediator, script);		&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjEzR-2XEeWnDaII1mfokg" name="setMediator" specification="_TXsCoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjEzSO2XEeWnDaII1mfokg" name="mediator" type="_SwZZIO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>this.mediator = mediator;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Sw1eAO2XEeWnDaII1mfokg" name="JmolDisplay" method="_TjEMNO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Sw2FEO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Sw2FEe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Sw2FEu2XEeWnDaII1mfokg" type="_SwxzoO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw2FE-2XEeWnDaII1mfokg" name="getMediator" method="_TjEMOu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXrbku2XEeWnDaII1mfokg" type="_SwZZIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw2sIO2XEeWnDaII1mfokg" name="clearDisplay" method="_TjEzQu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Sw2sIe2XEeWnDaII1mfokg" name="getSelectedAtoms" method="_TjEzQ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdUwkO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw36QO2XEeWnDaII1mfokg" name="evaluateUserFunction" method="_TjEzRe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Sw36Qe2XEeWnDaII1mfokg" name="script">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXq0gu2XEeWnDaII1mfokg" name="paint" method="_TjEMNu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXq0g-2XEeWnDaII1mfokg" name="g" type="_TXq0gO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXrbkO2XEeWnDaII1mfokg" name="openStringInline" method="_TjEMOO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXrbke2XEeWnDaII1mfokg" name="pdbFile" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXrbk-2XEeWnDaII1mfokg" name="executeCmd" method="_TjEzQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXrblO2XEeWnDaII1mfokg" name="rasmolScript" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TXsCoO2XEeWnDaII1mfokg" name="setMediator" method="_TjEzR-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TXsCoe2XEeWnDaII1mfokg" name="mediator" type="_SwZZIO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Sw7koO2XEeWnDaII1mfokg" name="MenuPanel">
                    <ownedAttribute xmi:id="_TgpxYO2XEeWnDaII1mfokg" name="jmolPanel" visibility="private" type="_SwxzoO2XEeWnDaII1mfokg" association="_TktyBO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgqYce2XEeWnDaII1mfokg" name="openPDB" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgqYcu2XEeWnDaII1mfokg" value="&quot;Open PDB File&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tgq_gO2XEeWnDaII1mfokg" name="lysGly" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tgq_ge2XEeWnDaII1mfokg" value="&quot;Lysine and Glysine&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgrmkO2XEeWnDaII1mfokg" name="ifqins" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgsNoO2XEeWnDaII1mfokg" value="&quot;Ifqins&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TgsNoe2XEeWnDaII1mfokg" name="savePDB" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TgsNou2XEeWnDaII1mfokg" value="&quot;Save to PDB File&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tgs0sO2XEeWnDaII1mfokg" name="exitProg" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tgs0se2XEeWnDaII1mfokg" value="&quot;Exit Program&quot;"/>
                    </ownedAttribute>
                    <interfaceRealization xmi:id="_TdWlwO2XEeWnDaII1mfokg" client="_Sw7koO2XEeWnDaII1mfokg" supplier="_TXue4O2XEeWnDaII1mfokg" contract="_TXue4O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjFaUO2XEeWnDaII1mfokg" name="MenuPanel" specification="_TX5eAe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjFaUe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjFaUu2XEeWnDaII1mfokg" type="_Sw7koO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjFaU-2XEeWnDaII1mfokg" name="initMenu" specification="_TX6FEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjFaVO2XEeWnDaII1mfokg" name="frame" type="_TVpbQu2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjFaVe2XEeWnDaII1mfokg" type="_TWizIe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuBar menu = new JMenuBar();&#xD;
&#xD;
		JMenu file = new JMenu(&quot;File&quot;);&#xD;
		file.getAccessibleContext().setAccessibleDescription(&quot;File Menu&quot;);&#xD;
		&#xD;
		JMenuItem openPDB = getOpenPDBMenuItem();&#xD;
		file.add(openPDB);&#xD;
		&#xD;
		JMenu defaultModel = new JMenu(&quot;Default Model&quot;);&#xD;
		JMenuItem lysineModel = getDefaultModel(lysGly);&#xD;
		defaultModel.add(lysineModel);&#xD;
		JMenuItem haemoglobinModel = getDefaultModel(ifqins);&#xD;
		defaultModel.add(haemoglobinModel);&#xD;
		file.add(defaultModel);&#xD;
		&#xD;
		JMenuItem savePDB = getSaveMenuItem();		&#xD;
		file.add(savePDB);&#xD;
		&#xD;
		JMenuItem exitApp = getExitMenuItem();		&#xD;
		file.add(exitApp);&#xD;
		menu.add(file);&#xD;
		&#xD;
		return menu;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjFaVu2XEeWnDaII1mfokg" name="getSaveMenuItem" specification="_Sw-n8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjFaV-2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem saveFile = new JMenuItem(savePDB);&#xD;
		//openFile.setMnemonic(KeyEvent.VK_O);&#xD;
		saveFile.addActionListener(this);&#xD;
		return saveFile;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGBYO2XEeWnDaII1mfokg" name="getOpenPDBMenuItem" specification="_Sw-n8e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGBYe2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem openFile = new JMenuItem(openPDB);&#xD;
		//openFile.setMnemonic(KeyEvent.VK_O);&#xD;
		openFile.addActionListener(this);&#xD;
		return openFile;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGBYu2XEeWnDaII1mfokg" name="getDefaultModel" specification="_Sw_PAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGBY-2XEeWnDaII1mfokg" name="modelName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjGBZO2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem model = new JMenuItem(modelName);&#xD;
		model.addActionListener(this);&#xD;
		return model;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGBZe2XEeWnDaII1mfokg" name="getExitMenuItem" specification="_Sw_2EO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGBZu2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>JMenuItem exit =new JMenuItem(exitProg);&#xD;
		exit.addActionListener(this);&#xD;
		return exit;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGBZ-2XEeWnDaII1mfokg" name="actionPerformed" specification="_TdXz4O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGBaO2XEeWnDaII1mfokg" name="e" type="_TW_fEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(e.getActionCommand().equals(openPDB)){&#xD;
			//System.out.println(&quot;Event: &quot; +  e.getActionCommand());&#xD;
			JFileChooser fc = new JFileChooser();&#xD;
			fc.setAcceptAllFileFilterUsed(false);&#xD;
			fc.addChoosableFileFilter(new FileNameExtensionFilter(&quot;PDB Files&quot;, &quot;pdb&quot;));&#xD;
			int returnVal = fc.showOpenDialog(jmolPanel);&#xD;
			 &#xD;
         if (returnVal == JFileChooser.APPROVE_OPTION) {&#xD;
             File file = fc.getSelectedFile();&#xD;
             //This is where a real application would open the file.&#xD;
             DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
         } else {&#xD;
         	System.out.println(&quot;Open command cancelled by user.\n&quot;);&#xD;
         }&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(lysGly)){&#xD;
			String dirName = &quot;res/res/lys.pdb&quot;;&#xD;
			File file = new File(dirName);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(ifqins)){&#xD;
			String dirName = &quot;res/res/4R0P.pdb&quot;;&#xD;
			File file = new File(dirName);&#xD;
			DataManager.readFile(file.getAbsolutePath(), jmolPanel.getMediator());&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(savePDB)){&#xD;
			//System.out.println(&quot;Event: &quot; +  e.getActionCommand());&#xD;
			JFileChooser fc = new JFileChooser();&#xD;
			fc.setAcceptAllFileFilterUsed(false);&#xD;
			fc.addChoosableFileFilter(new FileNameExtensionFilter(&quot;PDB Files&quot;, &quot;pdb&quot;));&#xD;
			fc.setDialogType(JFileChooser.SAVE_DIALOG);&#xD;
			int returnVal = fc.showSaveDialog(jmolPanel);&#xD;
			 &#xD;
         if (returnVal == JFileChooser.APPROVE_OPTION) {&#xD;
             File file = fc.getSelectedFile();&#xD;
//                System.out.println(file);&#xD;
             //This is where a real application would open the file.&#xD;
             DataManager.writeFile(file, jmolPanel.getMediator());&#xD;
         } else {&#xD;
         	System.out.println(&quot;Open command cancelled by user.\n&quot;);&#xD;
         }&#xD;
		}&#xD;
		else if(e.getActionCommand().equals(exitProg)){&#xD;
			System.exit(0);&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Sw-n8O2XEeWnDaII1mfokg" name="getSaveMenuItem" visibility="private" method="_TjFaVu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdXM0O2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw-n8e2XEeWnDaII1mfokg" name="getOpenPDBMenuItem" visibility="private" method="_TjGBYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TX7TMO2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw_PAO2XEeWnDaII1mfokg" name="getDefaultModel" visibility="private" method="_TjGBYu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Sw_PAe2XEeWnDaII1mfokg" name="modelName">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TX7TMe2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sw_2EO2XEeWnDaII1mfokg" name="getExitMenuItem" visibility="private" method="_TjGBZe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TX7TMu2XEeWnDaII1mfokg" type="_TX4P4e2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TX5eAe2XEeWnDaII1mfokg" name="MenuPanel" method="_TjFaUO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TX5eA-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TX5eBO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TX5eAu2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TX5eBe2XEeWnDaII1mfokg" type="_Sw7koO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TX6FEO2XEeWnDaII1mfokg" name="initMenu" method="_TjFaU-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjlwoe2XEeWnDaII1mfokg">
                        <body>&#xD;
	 * @param frame</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TX6FEe2XEeWnDaII1mfokg" name="frame" type="_TVpbQu2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TX6FEu2XEeWnDaII1mfokg" type="_TWizIe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdXz4O2XEeWnDaII1mfokg" name="actionPerformed" method="_TjGBZ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdXz4e2XEeWnDaII1mfokg" name="e" type="_TW_fEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SxCSUO2XEeWnDaII1mfokg" name="ToolPanel">
                    <generalization xmi:id="_TddTcu2XEeWnDaII1mfokg" general="_TZuC8e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgtbwO2XEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkuZEe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgtbwu2XEeWnDaII1mfokg" name="textArea" visibility="protected" type="_TdZpEO2XEeWnDaII1mfokg" association="_TkvAIO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TguC0e2XEeWnDaII1mfokg" name="textField" visibility="protected" type="_TWizI-2XEeWnDaII1mfokg" association="_TkvAI-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TguC0-2XEeWnDaII1mfokg" name="pickingGroup" visibility="protected" type="_TXJQEO2XEeWnDaII1mfokg" association="_TkvnMe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgup4e2XEeWnDaII1mfokg" name="draggingGroup" visibility="protected" type="_TXJQEO2XEeWnDaII1mfokg" association="_TkwOQe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgvQ8O2XEeWnDaII1mfokg" name="setPicking" visibility="protected" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_Tkw1Ue2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TgvQ8u2XEeWnDaII1mfokg" name="setDragging" visibility="protected" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_Tkw1VO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tgv4Ae2XEeWnDaII1mfokg" name="newline" visibility="protected" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tgv4Au2XEeWnDaII1mfokg" value="&quot;\n&quot;"/>
                    </ownedAttribute>
                    <interfaceRealization xmi:id="_TdZCAO2XEeWnDaII1mfokg" client="_SxCSUO2XEeWnDaII1mfokg" supplier="_TXue4O2XEeWnDaII1mfokg" contract="_TXue4O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGocO2XEeWnDaII1mfokg" name="ToolPanel" specification="_TX_koO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGoce2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjGocu2XEeWnDaII1mfokg" type="_SxCSUO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;&#xD;
		JTabbedPane tabbedPane = new JTabbedPane();&#xD;
		//ToolPanelActionListener toolPanelListener = new ToolPanelActionListener(jmolPanel, UserActionType.DISPLAYTYPE);&#xD;
		/**&#xD;
		 * Panel 1 - Style and Model Details&#xD;
		 */&#xD;
		JComponent panel1 = new JPanel();&#xD;
     tabbedPane.addTab(&quot;Style&quot;, panel1);&#xD;
     GridBagLayout layout = new GridBagLayout();&#xD;
     panel1.setLayout(layout);        &#xD;
     GridBagConstraints gbc = new GridBagConstraints();&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     JLabel moleculeStyle = new JLabel(&quot;Molecule Style&quot;);&#xD;
     panel1.add(moleculeStyle, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.weightx = 0.5;&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 0;&#xD;
     JComboBox&lt;DisplayType> styleList = new JComboBox&lt;DisplayType>(DisplayType.values());&#xD;
     styleList.setSelectedItem(DisplayType.BALLNSTICK);&#xD;
     panel1.add(styleList, gbc);&#xD;
     styleList.addActionListener(this);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     gbc.insets = new Insets(10,0,0,0);&#xD;
     JLabel modelDetail = new JLabel(&quot;Model Details&quot;);&#xD;
     panel1.add(modelDetail, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.gridwidth = 2;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     gbc.ipady = 30;      //make this component tall&#xD;
     textArea = new JTextArea();&#xD;
     textArea.setEditable(false);&#xD;
     panel1.add(textArea, gbc);&#xD;
     &#xD;
     tabbedPane.setMnemonicAt(0, KeyEvent.VK_1);&#xD;
     &#xD;
     /**&#xD;
		 * Panel 2 - Editing of Model&#xD;
		 */&#xD;
     /*JComponent panel2 = new JPanel();&#xD;
     tabbedPane.addTab(&quot;Editing&quot;, panel2);&#xD;
     layout = new GridBagLayout();&#xD;
     panel2.setLayout(layout);        &#xD;
     gbc = new GridBagConstraints();&#xD;
     &#xD;
     JPanel setPickingPanel = new JPanel();&#xD;
     setPickingPanel.setLayout(layout);&#xD;
     setPickingPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Set Picking&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     JSeparator sep = new JSeparator(JSeparator.HORIZONTAL);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 3;&#xD;
     gbc.insets = new Insets(1,1,1,1);&#xD;
     JButton selectionHaloButton = new JButton(&quot;Selection Halos ON&quot;);&#xD;
     selectionHaloButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectionHaloButton, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     gbc.gridwidth = 3;&#xD;
     JButton selectAllButton = new JButton(&quot;Select All&quot;);&#xD;
     selectAllButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectAllButton, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     gbc.gridwidth = 3;&#xD;
     JButton selectNoneButton = new JButton(&quot;Select None&quot;);&#xD;
     selectNoneButton.addActionListener(this);&#xD;
     setPickingPanel.add(selectNoneButton, gbc);&#xD;
     &#xD;
     gbc.fill = GridBagConstraints.HORIZONTAL;&#xD;
     gbc.weighty = 1;&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 3;&#xD;
     gbc.gridwidth = 3;&#xD;
     setPickingPanel.add(sep, gbc);&#xD;
     &#xD;
     JRadioButton pickAtomButton = new JRadioButton(&quot;Atom&quot;);&#xD;
     JRadioButton pickGroupButton = new JRadioButton(&quot;Group&quot;);&#xD;
     JRadioButton pickChainButton = new JRadioButton(&quot;Chain&quot;);&#xD;
     pickAtomButton.setSelected(true);&#xD;
     pickAtomButton.setActionCommand(&quot;Atom&quot;);&#xD;
     pickGroupButton.setActionCommand(&quot;Group&quot;);&#xD;
     pickChainButton.setActionCommand(&quot;Chain&quot;);&#xD;
     pickingGroup = new ButtonGroup();&#xD;
     pickingGroup.add(pickAtomButton);&#xD;
     pickingGroup.add(pickGroupButton);&#xD;
     pickingGroup.add(pickChainButton);&#xD;
     pickAtomButton.addActionListener(this);&#xD;
     pickGroupButton.addActionListener(this);&#xD;
     pickChainButton.addActionListener(this);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 4;&#xD;
     gbc.gridwidth = 1;&#xD;
     setPickingPanel.add(pickAtomButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 4;&#xD;
     setPickingPanel.add(pickGroupButton, gbc);&#xD;
     gbc.gridx = 2;&#xD;
     gbc.gridy = 4;&#xD;
     setPickingPanel.add(pickChainButton, gbc);&#xD;
     &#xD;
     setPicking = new JButton(&quot;Set Picking ON&quot;);&#xD;
     setPicking.addActionListener(this);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 5;&#xD;
     gbc.gridwidth = 3;&#xD;
     setPickingPanel.add(setPicking, gbc);&#xD;
     &#xD;
     JPanel setModifySelPanel = new JPanel();&#xD;
     setModifySelPanel.setLayout(layout);&#xD;
     setModifySelPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Modify Selected&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 1;&#xD;
     JButton deleteSelButton = new JButton(&quot;Delete&quot;);&#xD;
     deleteSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(deleteSelButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 0;&#xD;
     JButton cutSelButton = new JButton(&quot;Cut&quot;);&#xD;
     cutSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(cutSelButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     JButton pasteSelButton = new JButton(&quot;Paste&quot;);&#xD;
     pasteSelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(pasteSelButton, gbc);&#xD;
     gbc.gridx = 1;&#xD;
     gbc.gridy = 1;&#xD;
     JButton copySelButton = new JButton(&quot;Copy&quot;);&#xD;
     copySelButton.addActionListener(this);&#xD;
     setModifySelPanel.add(copySelButton, gbc);&#xD;
     &#xD;
     JPanel setMinPanel = new JPanel();&#xD;
     setMinPanel.setLayout(layout);&#xD;
     setMinPanel.setBorder(BorderFactory.createCompoundBorder(BorderFactory.createTitledBorder(&quot;Modify Selected&quot;),&#xD;
                             BorderFactory.createEmptyBorder(5,5,5,5)));&#xD;
     &#xD;
     JRadioButton dragAtomButton = new JRadioButton(&quot;Drag Atom&quot;);&#xD;
     JRadioButton dragAtomMinButton = new JRadioButton(&quot;Drag Atom (and Minimize)&quot;);&#xD;
     JRadioButton dragSelAtomButton = new JRadioButton(&quot;Drag Selected Atoms&quot;);&#xD;
     JRadioButton dragSelMinButton = new JRadioButton(&quot;Drag Selected Atoms (and Minimize)&quot;);&#xD;
     dragAtomButton.setSelected(true);&#xD;
     dragAtomButton.setActionCommand(&quot;Drag Atom&quot;);&#xD;
     dragAtomMinButton.setActionCommand(&quot;Drag Atom (and Minimize)&quot;);&#xD;
     dragSelAtomButton.setActionCommand(&quot;Drag Selected Atoms&quot;);&#xD;
     dragSelMinButton.setActionCommand(&quot;Drag Selected Atoms (and Minimize)&quot;);&#xD;
     draggingGroup = new ButtonGroup();&#xD;
     draggingGroup.add(dragAtomButton);&#xD;
     draggingGroup.add(dragAtomMinButton);&#xD;
     draggingGroup.add(dragSelAtomButton);&#xD;
     draggingGroup.add(dragSelMinButton);&#xD;
     dragAtomButton.addActionListener(this);&#xD;
     dragAtomMinButton.addActionListener(this);&#xD;
     dragSelAtomButton.addActionListener(this);&#xD;
     dragSelMinButton.addActionListener(this);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     gbc.gridwidth = 1;&#xD;
     setMinPanel.add(dragAtomButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     setMinPanel.add(dragAtomMinButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     setMinPanel.add(dragSelAtomButton, gbc);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 3;&#xD;
     setMinPanel.add(dragSelMinButton, gbc);&#xD;
     &#xD;
     setDragging = new JButton(&quot;Drag Atom(s) ON&quot;);&#xD;
     setDragging.addActionListener(this);&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 5;&#xD;
     gbc.gridwidth = 3;&#xD;
     setMinPanel.add(setDragging, gbc);&#xD;
&#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 0;&#xD;
     panel2.add(setPickingPanel, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 1;&#xD;
     panel2.add(setModifySelPanel, gbc);&#xD;
     &#xD;
     gbc.gridx = 0;&#xD;
     gbc.gridy = 2;&#xD;
     panel2.add(setMinPanel, gbc);*/&#xD;
     &#xD;
     add(tabbedPane);&#xD;
     tabbedPane.setTabLayoutPolicy(JTabbedPane.SCROLL_TAB_LAYOUT);&#xD;
	&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGoc-2XEeWnDaII1mfokg" name="makeTextPanel" specification="_TYALsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGodO2XEeWnDaII1mfokg" name="text" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjGode2XEeWnDaII1mfokg" type="_TYALsO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// TODO - implement ToolPanel.makeTextPanel&#xD;
		throw new UnsupportedOperationException();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGodu2XEeWnDaII1mfokg" name="setModelText" specification="_TdbeQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGod-2XEeWnDaII1mfokg" name="modelList" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>String modelDetail  = &quot;&quot;;&#xD;
		for(int i=0;i&lt;modelList.size();i++){&#xD;
			modelDetail += &quot;Model Name: &quot; + modelList.get(i).getModelName() + newline;&#xD;
			modelDetail += &quot;# of Chains: &quot; + modelList.get(i).getMolecules().get(0).getChains().size() + newline;&#xD;
			modelDetail += &quot;# of Atoms: &quot; + modelList.get(i).getAtomHash().size() + newline + newline;&#xD;
		}&#xD;
		textArea.setText(modelDetail);&#xD;
		textArea.repaint();&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjGoeO2XEeWnDaII1mfokg" name="actionPerformed" specification="_TdcsYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjGoee2XEeWnDaII1mfokg" name="event" type="_TW_fEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(event.getSource() instanceof JComboBox){&#xD;
			ToolPanelHandler.handleJComboBox(event,jmolPanel);	&#xD;
		}&#xD;
		else if(event.getSource() instanceof JButton){&#xD;
			JButton source = (JButton) event.getSource();&#xD;
			if(source.getText().contains(&quot;Picking&quot;)){&#xD;
				ToolPanelHandler.handlePickingFunction(source, jmolPanel, pickingGroup);&#xD;
			}&#xD;
			else if(source.getText().contains(&quot;Select&quot;)){&#xD;
				ToolPanelHandler.handleSelectionHalo(source, jmolPanel);&#xD;
			}&#xD;
			else if(source.getText().contains(&quot;Delete&quot;)|| source.getText().contains(&quot;Cut&quot;) ||&#xD;
					source.getText().contains(&quot;Copy&quot;)|| source.getText().contains(&quot;Paste&quot;)){&#xD;
				ToolPanelHandler.handleModifySelected(source,jmolPanel);&#xD;
			}&#xD;
			if(source.getText().contains(&quot;Drag&quot;)){&#xD;
				ToolPanelHandler.handleDragging(source, jmolPanel, draggingGroup);&#xD;
			}&#xD;
		}&#xD;
		else if(event.getSource() instanceof JRadioButton){&#xD;
			JRadioButton source = (JRadioButton) event.getSource();&#xD;
			if(source.getActionCommand().contains(&quot;Drag&quot;)){&#xD;
				ToolPanelHandler.handleRadioDrag(setDragging, jmolPanel, draggingGroup);&#xD;
			}&#xD;
			else{&#xD;
				ToolPanelHandler.handleRadioPick(setPicking, jmolPanel, pickingGroup);&#xD;
			}&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_TX_koO2XEeWnDaII1mfokg" name="ToolPanel" method="_TjGocO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TX_kou2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TX_ko-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_Tjlwou2XEeWnDaII1mfokg">
                        <body>&#xD;
	 * @param jmolPanel</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TX_koe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TX_kpO2XEeWnDaII1mfokg" type="_SxCSUO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYALsu2XEeWnDaII1mfokg" name="makeTextPanel" visibility="protected" method="_TjGoc-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYALs-2XEeWnDaII1mfokg" name="text" type="_TUQ7Me2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYAywO2XEeWnDaII1mfokg" type="_TYALsO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdbeQO2XEeWnDaII1mfokg" name="setModelText" method="_TjGodu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdbeQe2XEeWnDaII1mfokg" name="modelList" type="_TUfksO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdcsYO2XEeWnDaII1mfokg" name="actionPerformed" method="_TjGoeO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdcsYe2XEeWnDaII1mfokg" name="event" type="_TW_fEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkrVwe2XEeWnDaII1mfokg" name="" memberEnd="_TkrVwu2XEeWnDaII1mfokg _TghOgu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkrVwu2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkrVwe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkrVxO2XEeWnDaII1mfokg" name="" memberEnd="_TkrVxe2XEeWnDaII1mfokg _Tgh1kO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkrVxe2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkrVxO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkrVx-2XEeWnDaII1mfokg" name="" memberEnd="_TkrVyO2XEeWnDaII1mfokg _Tgh1ku2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkrVyO2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_TkrVx-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkr80e2XEeWnDaII1mfokg" name="" memberEnd="_Tkr80u2XEeWnDaII1mfokg _Tgicoe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkr80u2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_Tkr80e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tksj4e2XEeWnDaII1mfokg" name="" memberEnd="_Tksj4u2XEeWnDaII1mfokg _TgkR0O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tksj4u2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_Tksj4e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tksj5O2XEeWnDaII1mfokg" name="" memberEnd="_Tksj5e2XEeWnDaII1mfokg _TgmHAO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tksj5e2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_Tksj5O2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TktK8e2XEeWnDaII1mfokg" name="" memberEnd="_TktK8u2XEeWnDaII1mfokg _TgmuEO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TktK8u2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_TktK8e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TktyAe2XEeWnDaII1mfokg" name="" memberEnd="_TktyAu2XEeWnDaII1mfokg _TgojQe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TktyAu2XEeWnDaII1mfokg" name="" type="_SwxzoO2XEeWnDaII1mfokg" association="_TktyAe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TktyBO2XEeWnDaII1mfokg" name="" memberEnd="_TktyBe2XEeWnDaII1mfokg _TgpxYO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TktyBe2XEeWnDaII1mfokg" name="" type="_Sw7koO2XEeWnDaII1mfokg" association="_TktyBO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkuZEe2XEeWnDaII1mfokg" name="" memberEnd="_TkuZEu2XEeWnDaII1mfokg _TgtbwO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkuZEu2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkuZEe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkvAIO2XEeWnDaII1mfokg" name="" memberEnd="_TkvAIe2XEeWnDaII1mfokg _Tgtbwu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkvAIe2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkvAIO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkvAI-2XEeWnDaII1mfokg" name="" memberEnd="_TkvAJO2XEeWnDaII1mfokg _TguC0e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkvAJO2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkvAI-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkvnMe2XEeWnDaII1mfokg" name="" memberEnd="_TkvnMu2XEeWnDaII1mfokg _TguC0-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkvnMu2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkvnMe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkwOQe2XEeWnDaII1mfokg" name="" memberEnd="_TkwOQu2XEeWnDaII1mfokg _Tgup4e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkwOQu2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_TkwOQe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkw1Ue2XEeWnDaII1mfokg" name="" memberEnd="_Tkw1Uu2XEeWnDaII1mfokg _TgvQ8O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkw1Uu2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_Tkw1Ue2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkw1VO2XEeWnDaII1mfokg" name="" memberEnd="_Tkw1Ve2XEeWnDaII1mfokg _TgvQ8u2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkw1Ve2XEeWnDaII1mfokg" name="" type="_SxCSUO2XEeWnDaII1mfokg" association="_Tkw1VO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_SlOD4O2XEeWnDaII1mfokg" name="physics_engine">
                <packagedElement xmi:type="uml:Package" xmi:id="_SlOq8O2XEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="_SxflUe2XEeWnDaII1mfokg" name="Atom">
                    <ownedComment xmi:id="_Tjm-wO2XEeWnDaII1mfokg">
                      <body>@author waiyan
Handle creating of atoms
Solve the acceleration, velocity and position of the atom before/after impact</body>
                    </ownedComment>
                    <generalization xmi:id="_Sxkd0O2XEeWnDaII1mfokg" general="_SsiM0O2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg0JcO2XEeWnDaII1mfokg" name="radius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg0wgO2XEeWnDaII1mfokg" name="mass" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg0wge2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg1Xke2XEeWnDaII1mfokg" name="valence" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg1Xku2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg1-oe2XEeWnDaII1mfokg" name="atomicSymbol" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tjm-we2XEeWnDaII1mfokg" name="atomicRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tjm-xO2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tjm-xe2XEeWnDaII1mfokg" name="covalentRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tjnl0O2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tjnl0e2XEeWnDaII1mfokg" name="vdwRadius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tjnl1O2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjIdoO2XEeWnDaII1mfokg" name="Atom" specification="_SxgzcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjIdoe2XEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjIdou2XEeWnDaII1mfokg" type="_SxflUe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();
		this.fetchAtomicData(atomicSymbol);
		this.setMass(this.mass);
		this.setRadius(vdwRadius);
		this.setNetCharge(valence);
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.atomicSymbol = atomicSymbol;
		this.setElementSymbol(atomicSymbol.toUpperCase());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjIdo-2XEeWnDaII1mfokg" name="Atom" specification="_TYWJ8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjIdpO2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjIdpe2XEeWnDaII1mfokg" type="_SxflUe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>//	super();
		this.fetchAtomicData(atom.getElementSymbol().toUpperCase());
		this.setMass(this.mass);
		this.setRadius(vdwRadius);
		this.setNetCharge(valence);
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.atomicSymbol = atom.getElementSymbol().toUpperCase();
		this.setElementSymbol(atomicSymbol.toUpperCase());
		this.position.x = atom.getCoordinates() [0] * 1e-10;
		this.position.y = atom.getCoordinates() [1] * 1e-10;
		this.position.z = atom.getCoordinates() [2] * 1e-10;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjIdpu2XEeWnDaII1mfokg" name="getForceAccumulated" specification="_SxhagO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjIdp-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return this.forceAccumulated;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjIdqO2XEeWnDaII1mfokg" name="setNetCharge" specification="_SxiBkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjIdqe2XEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.netCharge = charge;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjIdqu2XEeWnDaII1mfokg" name="setRadius" specification="_SxiBku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjIdq-2XEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.radius = radius;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJEsO2XEeWnDaII1mfokg" name="integrate" specification="_SxjPsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJEse2XEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// Calculate total acceleration without updating the original ( a = F /m )
		Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
		currentAcceleration.addScaledVector(forceAccumulated, inverseMass);
		
		Vector3D angularAcceleration = inverseInertiaTensor.transform(torqueAccumulated);
		
		// Update current velocity (v = a*t)
		Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
		velocity.addScaledVector(currentAcceleration, duration);
		velocity.round();
		
		
		// Update current position (s = u*t + 0.5*a*t*t)
		position.addScaledVector(initialVelocity, duration);
		position.addScaledVector(currentAcceleration, duration * duration /2);
		
		
		//Update angular velocity
		rotation.addScaledVector(angularAcceleration, duration);
		orientation.addScaledVector(rotation, duration);
		orientation.normalize();
		
//		Matrix4 transformationMatrix = new Matrix4();
//		transformationMatrix.setOrientationAndPos(orientation, position);
//		position = transformationMatrix.transform(position);
		
		// Clear forces
		clearAccumulator();
		
		// Update the centre of the boundingPrimitive 
		boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);
	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJEsu2XEeWnDaII1mfokg" name="calculateVelocityChange" specification="_TYWxA-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJEs-2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjJEtO2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjJEte2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>// v1 = u1*(m1-m2) + 2*m2*u2 / m1+m2
		
		double other_mass = other.getMass();
		Vector3D other_velocity = other.getVelocity();
		Vector3D temp = new Vector3D();
		double mass = 1/this.inverseMass;
		double metricDiff = other_velocity.metric - velocity.metric;
		
		if(metricDiff!=0)
			other_velocity.scale(Math.pow(10, metricDiff));
		

		// 0 for inelastic collisions, 1 for elastic collisions
		temp.x = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.x-velocity.x) + mass*velocity.x + other_mass*other_velocity.x)/(mass+other_mass);
		temp.y = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.y-velocity.y) + mass*velocity.y + other_mass*other_velocity.y)/(mass+other_mass);
		temp.z = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.z-velocity.z) + mass*velocity.z + other_mass*other_velocity.z)/(mass+other_mass);
		temp.metric = velocity.metric;
		
		return temp;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJEtu2XEeWnDaII1mfokg" name="fetchAtomicData" specification="_Sxj2wO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJEt-2XEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double data [] = Init.getAtomicData(atomicSymbol);
		mass = data [0];
		valence = (int) data [1];
		atomicRadius = data [2];
		covalentRadius = data [3];
		vdwRadius = data [4];
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJEuO2XEeWnDaII1mfokg" name="getInertiaTensor" specification="_TYXYEe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJEue2XEeWnDaII1mfokg" name="axisOfRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjJEuu2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double x = position.x - axisOfRotation.x;
		double y = position.y - axisOfRotation.y;
		double z = position.z - axisOfRotation.z;
		
		double ixx = mass * (y*y + z*z); double iyy = mass * (x*x + z*z); double izz = mass * (x*x + y*y);
		double ixy = -mass * x * y; double iyx = ixy;
		double ixz = -mass * x * z; double izx = ixz;
		double iyz = -mass * y * z; double izy = iyz;
		Matrix3 inertiaTensor = new Matrix3(ixx,ixy,ixz,iyx,iyy,iyz,izx,izy,izz);
		inertiaTensor.print();
		
		return inertiaTensor;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SxgzcO2XEeWnDaII1mfokg" name="Atom" method="_TjIdoO2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Sxgzcu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Sxgzc-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_Tjnl1e2XEeWnDaII1mfokg">
                        <body>Create an atom given the atomic symbol
	 * @param atomicSymbol
	 * @throws Exception</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Sxgzce2XEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SxgzdO2XEeWnDaII1mfokg" type="_SxflUe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxhagO2XEeWnDaII1mfokg" name="getForceAccumulated" method="_TjIdpu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYWxAu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxiBkO2XEeWnDaII1mfokg" name="setNetCharge" method="_TjIdqO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxiBke2XEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxiBku2XEeWnDaII1mfokg" name="setRadius" visibility="private" method="_TjIdqu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxiBk-2XEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxiooO2XEeWnDaII1mfokg" name="setPrintFlag">
                      <ownedParameter xmi:id="_Sxiooe2XEeWnDaII1mfokg" name="flag">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxjPsO2XEeWnDaII1mfokg" name="integrate" method="_TjJEsO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjnl1u2XEeWnDaII1mfokg">
                        <body>Calculate acceleration, velocity and position of an atom after the given duration</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SxjPse2XEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sxj2wO2XEeWnDaII1mfokg" name="fetchAtomicData" visibility="private" method="_TjJEtu2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjnl2O2XEeWnDaII1mfokg">
                        <body>Fetch data from PeriodicTable.com 
	 * Requires JSoup plugin
	 * @param atomicSymbol
	 * @throws Exception</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Sxj2we2XEeWnDaII1mfokg" name="atomicSymbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYWJ8O2XEeWnDaII1mfokg" name="Atom" method="_TjIdo-2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYWJ8u2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYWxAO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYWJ8e2XEeWnDaII1mfokg" name="atom" type="_SsiM0O2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYWxAe2XEeWnDaII1mfokg" type="_SxflUe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYWxA-2XEeWnDaII1mfokg" name="calculateVelocityChange" method="_TjJEsu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjnl1-2XEeWnDaII1mfokg">
                        <body>Calculate velocity change after impact</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYWxBO2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYWxBe2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYXYEO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYXYEe2XEeWnDaII1mfokg" name="getInertiaTensor" method="_TjJEuO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYXYEu2XEeWnDaII1mfokg" name="axisOfRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYXYE-2XEeWnDaII1mfokg" type="_SuTHYO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_SnVjwu2XEeWnDaII1mfokg" name="Units">
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_TYkMYu2XEeWnDaII1mfokg" name="DISTANCE"/>
                    <packagedElement xmi:type="uml:Enumeration" xmi:id="_TYkzce2XEeWnDaII1mfokg" name="MASS"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SxpWUO2XEeWnDaII1mfokg" name="BoundingBox">
                    <ownedComment xmi:id="_Tjnl2e2XEeWnDaII1mfokg">
                      <body>@author waiyan
BoundingBox is to be used for residues</body>
                    </ownedComment>
                    <generalization xmi:id="_TYZ0Ue2XEeWnDaII1mfokg" general="_StsqcO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg3MwO2XEeWnDaII1mfokg" name="x_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg3z0O2XEeWnDaII1mfokg" name="y_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg3z0u2XEeWnDaII1mfokg" name="z_length" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJrwO2XEeWnDaII1mfokg" name="BoundingBox" specification="_TYYmMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJrwe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjJrwu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjJrw-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjJrxO2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjJrxe2XEeWnDaII1mfokg" type="_SxpWUO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>x_length = x;
		y_length = y;
		z_length = z;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJrxu2XEeWnDaII1mfokg" name="overlap" specification="_TYZNQ-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJrx-2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjJryO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
		
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bCube.getHalfSize(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bCube.getHalfSize(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bCube.getHalfSize(), 2);
			return x_con || y_con || z_con;
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bSphere.getRadius(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bSphere.getRadius(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bSphere.getRadius(), 2);
			return x_con || y_con || z_con;
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.x_length + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.y_length + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.z_length + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjJrye2XEeWnDaII1mfokg" name="getCentre" specification="_SxqkcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjJryu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjKS0O2XEeWnDaII1mfokg" name="getXLength" specification="_SxrLgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjKS0e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return x_length;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjKS0u2XEeWnDaII1mfokg" name="getYLength" specification="_SxrykO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjKS0-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return y_length;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjKS1O2XEeWnDaII1mfokg" name="getZLength" specification="_Sxryku2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjKS1e2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return z_length;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SxqkcO2XEeWnDaII1mfokg" name="getCentre" method="_TjJrye2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYZ0UO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxrLgO2XEeWnDaII1mfokg" name="getXLength" method="_TjKS0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxrLge2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxrykO2XEeWnDaII1mfokg" name="getYLength" method="_TjKS0u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Sxryke2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sxryku2XEeWnDaII1mfokg" name="getZLength" method="_TjKS1O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxsZoO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYYmMO2XEeWnDaII1mfokg" name="BoundingBox" method="_TjJrwO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYZNQO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYZNQe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYYmMe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYYmMu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYYmM-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYYmNO2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYZNQu2XEeWnDaII1mfokg" type="_SxpWUO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYZNQ-2XEeWnDaII1mfokg" name="overlap" method="_TjJrxu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjnl2u2XEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYZNRO2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYZNRe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SxtnwO2XEeWnDaII1mfokg" name="BoundingCube">
                    <ownedComment xmi:id="_TjoM4O2XEeWnDaII1mfokg">
                      <body>@author waiyan</body>
                    </ownedComment>
                    <generalization xmi:id="_TYbpge2XEeWnDaII1mfokg" general="_StsqcO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg4a4e2XEeWnDaII1mfokg" name="half_size" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjKS1u2XEeWnDaII1mfokg" name="BoundingCube" specification="_TYabYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjKS1-2XEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjKS2O2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjKS2e2XEeWnDaII1mfokg" type="_SxtnwO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.half_size = half_size;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjKS2u2XEeWnDaII1mfokg" name="overlap" specification="_TYbCc-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjKS2-2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjKS3O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
		
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.centre);
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.half_size + bCube.half_size) * (this.half_size + bCube.half_size);
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.half_size + bSphere.getRadius()) * (this.half_size + bSphere.getRadius());
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.half_size + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK54O2XEeWnDaII1mfokg" name="getCentre" specification="_Sxvc8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK54e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK54u2XEeWnDaII1mfokg" name="getHalfSize" specification="_SxwEAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK54-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return half_size;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Sxvc8O2XEeWnDaII1mfokg" name="getCentre" method="_TjK54O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYbpgO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SxwEAO2XEeWnDaII1mfokg" name="getHalfSize" method="_TjK54u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SxwEAe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYabYO2XEeWnDaII1mfokg" name="BoundingCube" method="_TjKS1u2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYbCcO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYbCce2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYabYe2XEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYabYu2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYbCcu2XEeWnDaII1mfokg" type="_SxtnwO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYbCc-2XEeWnDaII1mfokg" name="overlap" method="_TjKS2u2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM4e2XEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYbCdO2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYbCde2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SxxSIO2XEeWnDaII1mfokg" name="BoundingSphere">
                    <ownedComment xmi:id="_TjoM4u2XEeWnDaII1mfokg">
                      <body>@author waiyan
BoundingSphere is used for setting the shape of Atoms and Molecules</body>
                    </ownedComment>
                    <generalization xmi:id="_TYc3oe2XEeWnDaII1mfokg" general="_StsqcO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg5B8e2XEeWnDaII1mfokg" name="radius" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK55O2XEeWnDaII1mfokg" name="BoundingSphere" specification="_TYbpgu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK55e2XEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjK55u2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjK55-2XEeWnDaII1mfokg" type="_SxxSIO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.radius = radius;
		super.centre = new Vector3D(centre);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK56O2XEeWnDaII1mfokg" name="overlap" specification="_TYcQlO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK56e2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjK56u2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// The primitives overlap if the position difference (distance) is less than the sum of two half_sizes
	
		if(other instanceof BoundingCube) {
			BoundingCube bCube = (BoundingCube)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bCube.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.radius + bCube.getHalfSize()) * (this.radius + bCube.getHalfSize());
		}
		
		else if(other instanceof BoundingSphere) {
			BoundingSphere bSphere = (BoundingSphere)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bSphere.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			return distanceSquared &lt;= (this.radius + bSphere.getRadius()) * (this.radius + bSphere.getRadius());
		}
		
		else if(other instanceof BoundingBox){
			BoundingBox bBox = (BoundingBox)other; 
			Vector3D temp = new Vector3D(centre);
			temp.subtract(bBox.getCentre());
			double distanceSquared = temp.getSquaredMagnitude();
			boolean x_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getXLength(), 2);
			boolean y_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getYLength(), 2);
			boolean z_con = distanceSquared &lt;= Math.pow(this.radius + bBox.getZLength(), 2);
			return x_con || y_con || z_con;
		}
		
		return false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK56-2XEeWnDaII1mfokg" name="getCentre" specification="_SxygQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK57O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return centre;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SxygQO2XEeWnDaII1mfokg" name="getCentre" method="_TjK56-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYc3oO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYbpgu2XEeWnDaII1mfokg" name="BoundingSphere" method="_TjK55O2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYcQke2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYcQku2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYbpg-2XEeWnDaII1mfokg" name="radius">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TYcQkO2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYcQk-2XEeWnDaII1mfokg" type="_SxxSIO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYcQlO2XEeWnDaII1mfokg" name="overlap" method="_TjK56O2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM4-2XEeWnDaII1mfokg">
                        <body>Determines if two BoundingPrimitives are overlapping</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYcQle2XEeWnDaII1mfokg" name="other" type="_StsqcO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYcQlu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Sx0VcO2XEeWnDaII1mfokg" name="ContactResolver">
                    <ownedComment xmi:id="_TjoM5O2XEeWnDaII1mfokg">
                      <body> @author waiyan
 Resolve the Particles that have collided
 Update the velocities of the Particles after impact</body>
                    </ownedComment>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjK57e2XEeWnDaII1mfokg" name="resolveContacts" specification="_Tdg90O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjK57u2XEeWnDaII1mfokg" name="potentialContacts" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(potentialContacts.isEmpty())
			return;
		
		World.activeParticles.clear();
		
		for (AbstractParticle[] potentialContact : potentialContacts){
			AbstractParticle a1 = potentialContact[0];
			AbstractParticle a2 = potentialContact[1];
			Vector3D v1 = a1.calculateVelocityChange(a2, World.COEFFICENT_OF_RESTITUTION);
			Vector3D v2 = a2.calculateVelocityChange(a1, World.COEFFICENT_OF_RESTITUTION);	
			a1.addVelocityAccumulated(v1.x, v1.y, v1.z);
			a2.addVelocityAccumulated(v2.x, v2.y, v2.z);
	//		System.out.println(&quot;Imparting velocity: &quot; + v1.print() + &quot;\t&quot; + v2.print());
			
			if(!World.allParticlesActive) {
				World.markAsActive(a1);
				World.markAsActive(a2);
			}
		}		
		
		if(World.allParticlesActive) {
			for(AbstractParticle particle: World.octTree.getAllParticles())
				World.markAsActive(particle);
		}
		
		for(AbstractParticle particle: World.activeParticles){
			particle.setVelocityAccumulated();
			if(!World.LJForceActive) {
				particle.setVelocity(0, 0, 0);
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Tdg90O2XEeWnDaII1mfokg" name="resolveContacts" method="_TjK57e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tdg90e2XEeWnDaII1mfokg" name="potentialContacts" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Sx1jkO2XEeWnDaII1mfokg" name="ElectricForce">
                    <ownedComment xmi:id="_TjoM5e2XEeWnDaII1mfokg">
                      <body>@author waiyan
Return the ElectricForce experienced by Particle1 due to particle2
@param particle1 (requires atomic charge)
@param particle2 (requires atomic charge)
@return ElectricForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tg5pAO2XEeWnDaII1mfokg" name="electricForce" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_Tkw1V-2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TYdesO2XEeWnDaII1mfokg" client="_Sx1jkO2XEeWnDaII1mfokg" supplier="_Sx5N8O2XEeWnDaII1mfokg" contract="_Sx5N8O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg8O2XEeWnDaII1mfokg" name="ElectricForce" specification="_TYdese2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg8e2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjLg8u2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjLg8-2XEeWnDaII1mfokg" type="_Sx1jkO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>electricForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg9O2XEeWnDaII1mfokg" name="getForce" specification="_Sx2KoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg9e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return electricForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg9u2XEeWnDaII1mfokg" name="getNegativeForce" specification="_Sx2xsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg9-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return electricForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg-O2XEeWnDaII1mfokg" name="calculateForce" specification="_TYeFxu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg-e2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjLg-u2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjLg--2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double COULOMB_CONSTANT = 8.987551787e+9;
		double CHARGE_IN_COULOMB = 1.602e-19;
		
		double charge1 = CHARGE_IN_COULOMB * particle1.getNetCharge();
		double charge2 = CHARGE_IN_COULOMB * particle2.getNetCharge();
		
		// Finding distance between 2 particles
		Vector3D distanceVector = new Vector3D (particle1.getPosition());
		distanceVector.subtract(particle2.getPosition());
	
		// scalar distance
		double scalar_distance = distanceVector.getMagnitude();
		
		// unit vector
		distanceVector.normalize();
		
		if(particle1 instanceof Atom == false || particle2 instanceof Atom == false)
			return new Vector3D();
		
		Atom a1 = (Atom) particle1;
		Atom a2 = (Atom) particle2;
		
		if((a1.getAtomicSymbol().equals(&quot;C&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;C&quot;))
			
				||(a1.getAtomicSymbol().equals(&quot;C&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;N&quot;))
				||(a1.getAtomicSymbol().equals(&quot;N&quot;) &amp;&amp; a2.getAtomicSymbol().equals(&quot;C&quot;)))
			return new Vector3D(0,0,0);
		if(scalar_distance == 0)	
			return new Vector3D();
		
		distanceVector.scale(COULOMB_CONSTANT*charge1*charge2/scalar_distance/scalar_distance);
		return distanceVector;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Sx2KoO2XEeWnDaII1mfokg" name="getForce" method="_TjLg9O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYeFxO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sx2xsO2XEeWnDaII1mfokg" name="getNegativeForce" method="_TjLg9u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYeFxe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYdese2XEeWnDaII1mfokg" name="ElectricForce" method="_TjLg8O2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYeFwe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYeFwu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYdesu2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYeFwO2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYeFw-2XEeWnDaII1mfokg" type="_Sx1jkO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYeFxu2XEeWnDaII1mfokg" name="calculateForce" method="_TjLg-O2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM5u2XEeWnDaII1mfokg">
                        <body>Calculate the electric force between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYeFx-2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYeFyO2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYes0O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="_Sx5N8O2XEeWnDaII1mfokg" name="Force">
                    <ownedComment xmi:id="_TjoM5-2XEeWnDaII1mfokg">
                      <body>@author waiyan
Forces are applied to Particles. Implemented by VdWForce and ElectricForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Sx-GcO2XEeWnDaII1mfokg" name="negativeForce" type="_SuxogO2XEeWnDaII1mfokg" isReadOnly="true" association="_TkUJYO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_SyBJwO2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg" isReadOnly="true" association="_TkVXgO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_TYes0e2XEeWnDaII1mfokg" name="calculateForce">
                      <ownedParameter xmi:id="_TYes0u2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYfT4O2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYfT4e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyDmAO2XEeWnDaII1mfokg" name="ForceRegistry">
                    <ownedComment xmi:id="_TjoM6O2XEeWnDaII1mfokg">
                      <body>@author waiyan
ForceRegistry stores Particle,Force pairs</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tg5pAu2XEeWnDaII1mfokg" name="registrations" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TkxcYe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg6QEe2XEeWnDaII1mfokg" value="new HashMap&lt;AbstractParticle,ArrayList&lt;Vector3D>>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg_O2XEeWnDaII1mfokg" name="get" specification="_SyENEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg_e2XEeWnDaII1mfokg" type="_TUQUIe2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return registrations;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjLg_u2XEeWnDaII1mfokg" name="add" specification="_TYgiAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjLg_-2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjLhAO2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(registrations.get(abstractParticle) == null){
			ArrayList&lt;Vector3D> forces = new ArrayList&lt;Vector3D>();
			forces.add(force);
			registrations.put(abstractParticle, forces);
		}
		else
			registrations.get(abstractParticle).add(force);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIAO2XEeWnDaII1mfokg" name="updateForce" specification="_TYgiA-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMIAe2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjMIAu2XEeWnDaII1mfokg" name="oldForce" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjMIA-2XEeWnDaII1mfokg" name="newForce" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null){
			int index = forces.indexOf(oldForce);
			forces.get(index).x = newForce.x;
			forces.get(index).y = newForce.y;
			forces.get(index).z = newForce.z;
			
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIBO2XEeWnDaII1mfokg" name="updateAllForces" specification="_TdtLEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMIBe2XEeWnDaII1mfokg" name="activeParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// electric force, vdw force etc are not stored in force registry
		for(AbstractParticle particle: activeParticles){
			for(AbstractParticle particle2: activeParticles){
				if(!particle.equals(particle2)){
					Force electricForce = new ElectricForce(particle,particle2);
					Force lennardJonesForce = new LennardJonesForce (particle, particle2);
					
					// calculating the total force here saves computation then letting the force registry to handle
					Vector3D totalForce = new Vector3D();
					if(World.electricForceActive)
						totalForce.add(electricForce.getForce());
					if(World.LJForceActive)
						totalForce.add(lennardJonesForce.getForce());
					
					particle.addForce(totalForce);
					particle2.addForce(totalForce.getNegativeVector());
				}
			}
		}
		
		// apply forces that are in the force registry
		applyForces();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIBu2XEeWnDaII1mfokg" name="remove" specification="_TYhJE-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMIB-2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjMICO2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null){
			forces.remove(force);
			Vector3D cancelForce = new Vector3D (-force.x, -force.y, -force.z, force.metric);
			abstractParticle.addForce(cancelForce);
		}	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMICe2XEeWnDaII1mfokg" name="removeAllForceFrom" specification="_TYhwIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMICu2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces!=null)
			forces.clear();
		abstractParticle.clearAccumulator();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIC-2XEeWnDaII1mfokg" name="clear" specification="_SyGCQO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>registrations.clear();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIDO2XEeWnDaII1mfokg" name="applyForce" specification="_TYhwIu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMIDe2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>ArrayList&lt;Vector3D> forces = registrations.get(abstractParticle);
		if(forces != null)
			for (Vector3D force: forces)
				abstractParticle.addForce(force);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMIDu2XEeWnDaII1mfokg" name="applyForces" specification="_SyGpUO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Entry&lt;AbstractParticle, ArrayList&lt;Vector3D>> entry: registrations.entrySet()){
			AbstractParticle abstractParticle = entry.getKey();
			applyForce(abstractParticle);
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SyENEO2XEeWnDaII1mfokg" name="get" method="_TjLg_O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdiL8O2XEeWnDaII1mfokg" type="_TUQUIe2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyGCQO2XEeWnDaII1mfokg" name="clear" method="_TjMIC-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM7e2XEeWnDaII1mfokg">
                        <body>Clear the registry</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyGpUO2XEeWnDaII1mfokg" name="applyForces" method="_TjMIDu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM7-2XEeWnDaII1mfokg">
                        <body>Apply forces to all particles in the registry</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYgiAO2XEeWnDaII1mfokg" name="add" method="_TjLg_u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYgiAe2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYgiAu2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYgiA-2XEeWnDaII1mfokg" name="updateForce" method="_TjMIAO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM6e2XEeWnDaII1mfokg">
                        <body>Update the old force of a particle with a new force
	 * @param abstractParticle
	 * @param oldForce
	 * @param newForce</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYhJEO2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYhJEe2XEeWnDaII1mfokg" name="oldForce" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYhJEu2XEeWnDaII1mfokg" name="newForce" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYhJE-2XEeWnDaII1mfokg" name="remove" method="_TjMIBu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM6-2XEeWnDaII1mfokg">
                        <body>Remove a given particle from the registry
	 * @param abstractParticle
	 * @param force</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYhJFO2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYhJFe2XEeWnDaII1mfokg" name="force" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYhwIO2XEeWnDaII1mfokg" name="removeAllForceFrom" method="_TjMICe2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM7O2XEeWnDaII1mfokg">
                        <body>Remove all force from a given particle
	 * @param abstractParticle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYhwIe2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYhwIu2XEeWnDaII1mfokg" name="applyForce" method="_TjMIDO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM7u2XEeWnDaII1mfokg">
                        <body>Apply all the forces (attached to the particle) to that particle
	 * @param abstractParticle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYhwI-2XEeWnDaII1mfokg" name="abstractParticle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdtLEO2XEeWnDaII1mfokg" name="updateAllForces" method="_TjMIBO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjoM6u2XEeWnDaII1mfokg">
                        <body>*
	 * Apply forces to particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TdtLEe2XEeWnDaII1mfokg" name="activeParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyKTsO2XEeWnDaII1mfokg" name="Init">
                    <ownedComment xmi:id="_TjoM8O2XEeWnDaII1mfokg">
                      <body>@author waiyan
Initialization Class for the Physics Engine
Periodic Table used for construction of the Atom</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tg7eMO2XEeWnDaII1mfokg" name="machineEpsilon" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg7eMu2XEeWnDaII1mfokg" name="originalStream" isStatic="true" type="_TWRtYe2XEeWnDaII1mfokg" association="_TkxcZO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg8FQe2XEeWnDaII1mfokg" name="dummyStream" isStatic="true" type="_TWRtYe2XEeWnDaII1mfokg" association="_TkyDce2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg8sUe2XEeWnDaII1mfokg" name="periodicTable" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tg8sUu2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg9TYe2XEeWnDaII1mfokg" value="{&#xA;&#x9;&#x9;&quot;H&quot; , &quot;HE&quot;, &quot;LI&quot;, &quot;BE&quot;, &quot;B&quot; , &quot;C&quot; , &quot;N&quot; , &quot;O&quot; , &quot;F&quot; , &quot;NE&quot;,&#xA;&#x9;&#x9;&quot;NA&quot;, &quot;MG&quot;, &quot;AL&quot;, &quot;SI&quot;, &quot;P&quot; , &quot;S&quot; , &quot;CL&quot;, &quot;AR&quot;, &quot;K&quot; , &quot;CA&quot;,&#xA;&#x9;&#x9;&quot;SC&quot;, &quot;TI&quot;, &quot;V&quot;,  &quot;CR&quot;, &quot;MN&quot;, &quot;FE&quot;, &quot;CO&quot;, &quot;NI&quot;, &quot;CU&quot;, &quot;ZN&quot;,&#xA;&#x9;&#x9;&quot;GA&quot;, &quot;GE&quot;, &quot;AS&quot;, &quot;SE&quot;, &quot;BR&quot;, &quot;KR&quot;, &quot;RB&quot;, &quot;SR&quot;, &quot;Y&quot; , &quot;ZR&quot;,&#x9;&#xA;&#x9;&#x9;&quot;NB&quot;, &quot;MO&quot;, &quot;TC&quot;, &quot;RU&quot;, &quot;RH&quot;, &quot;PD&quot;, &quot;AG&quot;, &quot;CD&quot;, &quot;IN&quot;, &quot;SN&quot;,&#x9;&#xA;&#x9;&#x9;&quot;SB&quot;, &quot;TE&quot;, &quot;I&quot; , &quot;XE&quot;, &quot;CS&quot;, &quot;BA&quot;, &quot;LA&quot;, &quot;CE&quot;, &quot;PR&quot;, &quot;ND&quot;,&#x9;&#xA;&#x9;&#x9;&quot;PM&quot;, &quot;SM&quot;, &quot;EU&quot;, &quot;GD&quot;,&#x9;&quot;TB&quot;, &quot;DY&quot;, &quot;HO&quot;, &quot;ER&quot;,&#x9;&quot;TM&quot;, &quot;YB&quot;,&#x9;&#xA;&#x9;&#x9;&quot;LU&quot;, &quot;HF&quot;, &quot;TA&quot;, &quot;W&quot; ,&#x9;&quot;RE&quot;, &quot;OS&quot;, &quot;IR&quot;, &quot;PT&quot;,&#x9;&quot;AU&quot;, &quot;HG&quot;,&#xA;&#x9;&#x9;&quot;TL&quot;, &quot;PB&quot;, &quot;BI&quot;, &quot;PO&quot;, &quot;AT&quot;, &quot;RN&quot;, &quot;FR&quot;, &quot;RA&quot;,&#x9;&quot;AC&quot;, &quot;TH&quot;,&#x9;&#xA;&#x9;&#x9;&quot;PA&quot;, &quot;U&quot; , &quot;NP&quot;, &quot;PU&quot;,&#x9;&quot;AM&quot;, &quot;CM&quot;, &quot;BK&quot;, &quot;CF&quot;, &quot;ES&quot;, &quot;FM&quot;,&#x9;&#xA;&#x9;&#x9;&quot;MD&quot;, &quot;NO&quot;, &quot;LR&quot;, &quot;RF&quot;, &quot;DB&quot;, &quot;SG&quot;, &quot;BH&quot;, &quot;HS&quot;, &quot;MT&quot;, &quot;DS&quot;,&#x9;&#xA;&#x9;&#x9;&quot;RG&quot;, &quot;CN&quot;, &quot;UUT&quot;, &quot;UUQ&quot;, &quot;UUP&quot;, &quot;UUH&quot;, &quot;UUS&quot;, &quot;UUO&quot;&#xA;&#x9;}"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Tg9TY-2XEeWnDaII1mfokg" name="atomicData" isStatic="true" type="_SyQaUO2XEeWnDaII1mfokg" association="_TkyDdO2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tg9TZO2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg96ce2XEeWnDaII1mfokg" value="new AtomData [periodicTable.length]"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMvFO2XEeWnDaII1mfokg" name="init" specification="_SySPge2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>machineEpsilon = calculateMachineEpsilon();
		saveAtomicData(0);	// get H
		saveAtomicData(5);	// get C
		saveAtomicData(6);	// get N
		saveAtomicData(7);	// get O
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMvFe2XEeWnDaII1mfokg" name="getAtomicData" specification="_SyS2kO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMvFu2XEeWnDaII1mfokg" name="symbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjMvF-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjMvGO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = Arrays.asList(periodicTable).indexOf(symbol);
		
		if(index == -1){
			throw new Exception(&quot;Invalid atomic symbol&quot;);
		}
		
		if(atomicData[index] == null)
			saveAtomicData(index);
		
		if(atomicData[index] == null)
			return atomicData[0].data;
		
		return atomicData[index].data;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMvGe2XEeWnDaII1mfokg" name="calculateMachineEpsilon" specification="_SyTdoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMvGu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double machEps = 1.0;
		do{
        machEps /= 2.0;	// operator / is used instead of bit shifting since we do not know the CPU architecture
		} while ((double) (1.0 + (machEps / 2.0)) != 1.0);
     return (machEps);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMvG-2XEeWnDaII1mfokg" name="saveAtomicData" specification="_SyUEsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjMvHO2XEeWnDaII1mfokg" name="index">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>NumberFormat formatter = new DecimalFormat(&quot;000&quot;);
		
		String html = &quot;http://periodictable.com/Elements/&quot; + formatter.format(index+1) + &quot;/data.html&quot;;
		boolean flag = true;
		
		double mass = 0, valence = 0, atomicRadius = 0, covalentRadius = 0, vdwRadius = 0;
		String symbol = periodicTable[index];
		double [] data = new double [5];
		
		try{
			Document doc = Jsoup.connect(html).timeout(0).get();	// set timeout to zero IMPORTANT!!!
			
			// The website does not provide a specific header div/class id for mining. 
			// Absolute positioning is used. 
			
			Element table1 = doc.select(&quot;table&quot;).get(7);
			Elements rows1 = table1.select(&quot;tr&quot;); 
			
			for (int i=0; i &lt; rows1.size(); i++) {
		        Element row = rows1.get(i);
		        Elements columns = row.select(&quot;td&quot;);
		        
		        if(columns.first().text().equals(&quot;Atomic Weight&quot;))
		        	mass = Double.parseDouble(columns.last().text()) * MASS.amu.value();		//mass in amu, 1 amu = 1.66053892e-24 grams
		        
		        if(columns.first().text().equals(&quot;Valence&quot;))
		        	valence = Integer.parseInt(columns.last().text());	
		        
		       // if(columns.size()>1)	output += columns.get(0).text() + &quot;: &quot; + columns.get(1).text() + &quot;\n&quot;;
		    }
			
		
			int tableIndex = 9;
			Elements rows2;
	
			do {
			Element table2 = doc.select(&quot;table&quot;).get(tableIndex);
				rows2 = table2.select(&quot;tr&quot;);
				flag = !rows2.get(0).select(&quot;td&quot;).first().text().equals(&quot;Classifications&quot;);
				tableIndex++;
			} while (flag);
			
			
			for (int j=0; j&lt;rows2.size(); j++){
				Element row = rows2.get(j);
			    Elements columns = row.select(&quot;td&quot;);
			     
			     // All radii are in pm.
			     
			     if(columns.first().text().equals(&quot;Atomic Radius&quot;))
			    	 atomicRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();
			     
			     if(columns.first().text().equals(&quot;Covalent Radius&quot;))
			    	 covalentRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();
			     
			     if(columns.first().text().equals(&quot;Van der Waals Radius&quot;)) {
			    	 vdwRadius = Double.parseDouble(columns.last().text().split(&quot; &quot;)[0]) * DISTANCE.pm.value();	
			    	 break;
			     }
		    }
			
			boolean print_flag = false;
			if(print_flag) {
				System.out.println(&quot;Atom &quot; + symbol);
				System.out.println(&quot;Mass is &quot; + mass + &quot; kg.&quot;);
				System.out.println(&quot;Valence is &quot; + valence);
				System.out.println(&quot;Atomic radius is &quot; + atomicRadius + &quot; m.&quot;);
				System.out.println(&quot;Covalent radius is &quot; + covalentRadius + &quot; m.&quot;);
				System.out.println(&quot;VdW radius is &quot; + vdwRadius + &quot; m.\n&quot;);
			}
		}
		catch (IOException e){
			
			System.out.println(&quot;INTERNET CONNECTION ERROR WHILE CREATING ATOM  &quot; + periodicTable[index]);
			System.out.println(&quot;Using Hydrogen as DEFAULT&quot;);
			symbol = &quot;H&quot;;
			index = 0;
			mass = 1.00794 * MASS.amu.value();
			valence = 1;
			atomicRadius = 53e-12;
			covalentRadius = 37e-12;
			vdwRadius = 120e-12;
			
		}
		
		data[0] = mass;
		data[1] = valence;
		data[2] = atomicRadius;
		data[3] = covalentRadius;
		data[4] = vdwRadius;
		
		if(data[2] == 0 || data[3]==0 || data[4]==0){
			System.out.println(&quot;Unable to fetch the atom data for atom &quot; + symbol);
			System.exit(-1);
		}
		
		atomicData [index] = new AtomData (data) ;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SySPge2XEeWnDaII1mfokg" name="init" isStatic="true" method="_TjMvFO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SyS2kO2XEeWnDaII1mfokg" name="getAtomicData" isStatic="true" method="_TjMvFe2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SyS2ke2XEeWnDaII1mfokg" name="symbol">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SyS2ku2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SyS2k-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyTdoO2XEeWnDaII1mfokg" name="calculateMachineEpsilon" visibility="private" isStatic="true" method="_TjMvGe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SyTdoe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyUEsO2XEeWnDaII1mfokg" name="saveAtomicData" visibility="private" isStatic="true" method="_TjMvG-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SyUEse2XEeWnDaII1mfokg" name="index">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Class" xmi:id="_SyQaUO2XEeWnDaII1mfokg" name="AtomData" visibility="private">
                      <eAnnotations xmi:id="_SyQaUe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SyQaUu2XEeWnDaII1mfokg" key="static"/>
                      </eAnnotations>
                      <ownedAttribute xmi:id="_Tg96c-2XEeWnDaII1mfokg" name="data" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tg-hgO2XEeWnDaII1mfokg" value="*"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjMvEO2XEeWnDaII1mfokg" name="AtomData" specification="_SyRocO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjMvEe2XEeWnDaII1mfokg" name="data">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjMvEu2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_TjMvE-2XEeWnDaII1mfokg" type="_SyQaUO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.data = data.clone();
		</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_SyRocO2XEeWnDaII1mfokg" name="AtomData" method="_TjMvEO2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_SyRocu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_SyRoc-2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_SyRoce2XEeWnDaII1mfokg" name="data">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SySPgO2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_SyRodO2XEeWnDaII1mfokg" type="_SyQaUO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyV54O2XEeWnDaII1mfokg" name="LennardJonesForce">
                    <ownedComment xmi:id="_Tjoz8O2XEeWnDaII1mfokg">
                      <body>Return the Lennard-Jones potential (need epsilon + bond length)
@param particle1
@param particle2
@return</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_Tg_IkO2XEeWnDaII1mfokg" name="lennardJonesForce" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_Tkyqge2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TYxAsO2XEeWnDaII1mfokg" client="_SyV54O2XEeWnDaII1mfokg" supplier="_Sx5N8O2XEeWnDaII1mfokg" contract="_Sx5N8O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjNWIO2XEeWnDaII1mfokg" name="LennardJonesForce" specification="_TYyO0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjNWIe2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjNWIu2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjNWI-2XEeWnDaII1mfokg" type="_SyV54O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>lennardJonesForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjNWJO2XEeWnDaII1mfokg" name="getForce" specification="_SyWg8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjNWJe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return lennardJonesForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjNWJu2XEeWnDaII1mfokg" name="getNegativeForce" specification="_SyXIAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjNWJ-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return lennardJonesForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjNWKO2XEeWnDaII1mfokg" name="calculateForce" specification="_TYy14u2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjNWKe2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjNWKu2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjNWK-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>/*** known as theta */
		double epsilon = 0.1e-8;			// depth of potential well
		double bond_length = 0.28E-9;		// bond length for NaCl
		// bond length or vdw radius?

		// Finding distance between 2 particles
		Vector3D distanceVector = new Vector3D (particle1.getPosition());
		distanceVector.subtract(particle2.getPosition());
		
		// scalar distance
		double scalar_distance = distanceVector.getMagnitude();
		
		// unit vector
		distanceVector.normalize();
				
		if(scalar_distance == 0)
			return new Vector3D();
		
		double term2 = Math.pow(bond_length/scalar_distance, 6);
		double term1 = term2 * term2;
		
		distanceVector.scale(4*epsilon*(term1 - term2));
		return distanceVector;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SyWg8O2XEeWnDaII1mfokg" name="getForce" method="_TjNWJO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYy14O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyXIAO2XEeWnDaII1mfokg" name="getNegativeForce" method="_TjNWJu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TYy14e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYyO0O2XEeWnDaII1mfokg" name="LennardJonesForce" method="_TjNWIO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TYyO0-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TYyO1O2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TYyO0e2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYyO0u2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYyO1e2XEeWnDaII1mfokg" type="_SyV54O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TYy14u2XEeWnDaII1mfokg" name="calculateForce" method="_TjNWKO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz8e2XEeWnDaII1mfokg">
                        <body>Calculate the LennardJonesForce between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TYy14-2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYy15O2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TYy15e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyZkQO2XEeWnDaII1mfokg" name="Molecule">
                    <ownedComment xmi:id="_Tjoz8u2XEeWnDaII1mfokg">
                      <body>@author waiyan
Handle creating of molecules
Solve the acceleration, velocity and position of the molecule before/after impact</body>
                    </ownedComment>
                    <generalization xmi:id="_SyecwO2XEeWnDaII1mfokg" general="_St_lYO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Tg_voO2XEeWnDaII1mfokg" name="radius" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_Tg_voe2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThAWsO2XEeWnDaII1mfokg" name="atoms" type="_TUPtEO2XEeWnDaII1mfokg" isReadOnly="true" association="_TkzRke2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThA9we2XEeWnDaII1mfokg" value="new ArrayList&lt;Atom>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjN9MO2XEeWnDaII1mfokg" name="Molecule" specification="_TY0EAO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjN9Me2XEeWnDaII1mfokg" name="mol" type="_St_lYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjN9Mu2XEeWnDaII1mfokg" type="_SyZkQO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>//TODO copy everything
		
		double mass=0;
		double r  =0 ;	
		
		for(sg.edu.ntu.aalhossary.fyp2014.common.Chain chain: mol.getChains()){
			for (sg.edu.ntu.aalhossary.fyp2014.common.Residue residue: chain.residues) {
				for (sg.edu.ntu.aalhossary.fyp2014.common.Atom atom: residue.getAtomList()){
					Atom newAtom = new Atom(atom);
					atoms.add(newAtom);
					mass += newAtom.getMass();	
				}
			}
		}
		Vector3D position = getCentroid();
		
		for(Atom atom: atoms){
			// Calculating radius
			Vector3D pos = atom.getPosition();
			double maxDistX = Math.abs(Math.abs(pos.x)-Math.abs(position.x));
			double maxDistY = Math.abs(Math.abs(pos.y)-Math.abs(position.y));
			double maxDistZ = Math.abs(Math.abs(pos.z)-Math.abs(position.z));
			double max_dist = Math.max(Math.max(maxDistX, maxDistY), maxDistZ);
			
			if(radius &lt; max_dist)
				radius = max_dist;
			
			BoundingSphere b = (BoundingSphere)(atom.getBoundingPrimitive());
			r = Math.max(r, b.getRadius());
		}
		
		this.setMass(mass);
		this.molecularMass = (float)mass;
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.position = position;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjN9M-2XEeWnDaII1mfokg" name="Molecule" specification="_TdvnUO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjN9NO2XEeWnDaII1mfokg" name="atoms" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjN9Ne2XEeWnDaII1mfokg" type="_SyZkQO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super();
		Chain chain =  new Chain();		// for consistency with super class
		this.atoms = atoms;
		double mass = 0;
		
		// Calculating position
		Vector3D position = getCentroid();
		double r  =0 ;	
		for (Atom atom : atoms) {
			
			chain.atomSeq.add(atom);
			
			// Calculating total mass
			mass += atom.getMass();	
			
			// Calculating radius
			Vector3D pos = atom.getPosition();
			double maxDistX = Math.abs(Math.abs(pos.x)-Math.abs(position.x));
			double maxDistY = Math.abs(Math.abs(pos.y)-Math.abs(position.y));
			double maxDistZ = Math.abs(Math.abs(pos.z)-Math.abs(position.z));
			double max_dist = Math.max(Math.max(maxDistX, maxDistY), maxDistZ);
			
			if(radius &lt; max_dist)
				radius = max_dist;
			
			BoundingSphere b = (BoundingSphere)(atom.getBoundingPrimitive());
			r = Math.max(r, b.getRadius());
		}
		
		this.chains.add(chain);
		
		this.setMass(mass);
		this.molecularMass = (float)mass;
		this.boundingPrimitive = new BoundingSphere(radius, position);
		this.position = position;
		
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjN9Nu2XEeWnDaII1mfokg" name="getCentroid" specification="_SyayYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjN9N-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D();
		for(int i=0; i&lt;atoms.size(); i++){
			pos.add(atoms.get(i).getPosition());
		}
		pos.scale(1.0/atoms.size());
		return pos;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjN9OO2XEeWnDaII1mfokg" name="setPositionAsCentroid" specification="_SyayYe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>this.position = getCentroid();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjN9Oe2XEeWnDaII1mfokg" name="setNetCharge" specification="_SybZcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjN9Ou2XEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.netCharge = charge;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjOkQO2XEeWnDaII1mfokg" name="setPosition" specification="_SybZcu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjOkQe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkQu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkQ-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkRO2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D(x, y, z, metric);
		if(this.position.equals(pos))
			return;
		
		pos.subtract(this.position);
		for (Atom a: atoms) 
			a.movePositionBy(pos.x, pos.y, pos.z, metric);
		this.position = new Vector3D (x,y,z,metric);
		this.boundingPrimitive.updateCentre(pos.x, pos.y, pos.z, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjOkRe2XEeWnDaII1mfokg" name="setPosition" specification="_SycAg-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjOkRu2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkR-2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkSO2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>Vector3D pos = new Vector3D(x, y, z);
		if(this.position.equals(pos))
			return;
		
		pos.subtract(this.position);
	//	pos.round();
		for (Atom a: atoms) 
			a.movePositionBy(pos.x, pos.y, pos.z, position.metric);
		this.position = new Vector3D (x,y,z);
		boundingPrimitive.updateCentre(x, y, z, position.metric);	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjOkSe2XEeWnDaII1mfokg" name="setVelocity" specification="_SycnkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjOkSu2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkS-2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjOkTO2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (Atom a: atoms)
			a.setVelocity(x, y, z);
		this.velocity = new Vector3D(x,y,z);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLUO2XEeWnDaII1mfokg" name="setVelocity" specification="_SydOoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLUe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPLUu2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPLU-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPLVO2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>for (Atom a: atoms)
			a.setVelocity(x, y, z, metric);
		this.velocity = new Vector3D(x,y,z, metric);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLVe2XEeWnDaII1mfokg" name="setInverseInertiaTensor" specification="_TY0rEe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLVu2XEeWnDaII1mfokg" name="axisOfRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>double total_ixx = 0, total_ixy = 0, total_ixz = 0;
		double total_iyx = 0, total_iyy = 0, total_iyz = 0;
		double total_izx = 0, total_izy = 0, total_izz = 0;
		
		for(Atom atom: atoms) {
			double x = atom.getPosition().x - axisOfRotation.x;
			double y = atom.getPosition().y - axisOfRotation.y;
			double z = atom.getPosition().z - axisOfRotation.z;
			double mass = atom.getMass();
			total_ixx += mass * (y*y + z*z); 
			total_iyy += mass * (x*x + z*z); 
			total_izz += mass * (x*x + y*y);
			double ixy = -mass * x * y; 
			double ixz = -mass * x * z; 
			double iyz = -mass * y * z; 
			total_ixy += ixy;
			total_iyx += ixy;
			total_ixz += ixz;
			total_izx += ixz;
			total_iyz += iyz;
			total_izy += iyz;
		}
		
		Matrix3 inertiaTensor = new Matrix3(total_ixx,total_ixy,total_ixz,total_iyx,total_iyy,total_iyz,total_izx,total_izy,total_izz);
		inertiaTensor.print();
		super.setInverseInertiaTensor(inertiaTensor);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLV-2XEeWnDaII1mfokg" name="integrate" specification="_Syd1sO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLWO2XEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>// Calculate total acceleration without updating the original ( a = F /m )
		Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
		currentAcceleration.addScaledVector(forceAccumulated, inverseMass);
		
		// Update current velocity (v = a*t)
		Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
		Vector3D velocity = new Vector3D (this.velocity.x, this.velocity.y, this.velocity.z, this.velocity.metric);
		velocity.addScaledVector(currentAcceleration, duration);
		velocity.round();
		this.setVelocity(velocity.x, velocity.y, velocity.z);
		
		
		// Update current position (s = u*t + 0.5*a*t*t)
		Vector3D position = new Vector3D (this.position.x, this.position.y, this.position.z, this.position.metric);
		position.addScaledVector(initialVelocity, duration);
		position.addScaledVector(currentAcceleration, duration * duration /2);
		this.setPosition(position.x, position.y, position.z);
		
/*		Vector3D angularAcceleration = inverseInertiaTensor.transform(torqueAccumulated);
		rotation.addScaledVector(angularAcceleration, duration);
		orientation.addScaledVector(rotation, duration);
		orientation.normalize();
*/
		// Clear forces
		clearAccumulator();
		
		
			
		/*
		else if(World.simulationLvlAtomic == true) {
			Vector3D totalAcceleration = new Vector3D();
			for (Atom a: atoms){
				// Calculate total acceleration without updating the original ( a = F /m )
				Vector3D currentAcceleration = new Vector3D (acceleration.x, acceleration.y, acceleration.z, acceleration.metric);
				currentAcceleration.addScaledVector(a.getForceAccumulated(), a.getInverseMass());
				totalAcceleration.add(currentAcceleration);
			}
			
			// Update current velocity (v = a*t)
			Vector3D initialVelocity = new Vector3D (velocity.x, velocity.y, velocity.z, velocity.metric);
			Vector3D velocity = new Vector3D (this.velocity.x, this.velocity.y, this.velocity.z, this.velocity.metric);
			velocity.addScaledVector(totalAcceleration, duration);
			velocity.round();
			this.setVelocity(velocity.x, velocity.y, velocity.z);
			
			// Update current position (s = u*t + 0.5*a*t*t)
			Vector3D position = new Vector3D (this.position.x, this.position.y, this.position.z, this.position.metric);
			position.addScaledVector(initialVelocity, duration);
			position.addScaledVector(totalAcceleration, duration * duration /2);
			this.setPosition(position.x, position.y, position.z);
			
			// Clear forces
			clearAccumulator();
			
			// Update the centre of the boundingPrimitive 
		//	boundingPrimitive.updateCentre(position.x, position.y, position.z, position.metric);
		 
		 */
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLWe2XEeWnDaII1mfokg" name="calculateVelocityChange" specification="_TY1SIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLWu2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPLW-2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPLXO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double other_mass = other.getMass();
		Vector3D other_velocity = other.getVelocity();
		Vector3D temp = new Vector3D();
		double mass = 1/this.inverseMass;
		double metricDiff = other_velocity.metric - velocity.metric;
		
		if(metricDiff!=0)
			other_velocity.scale(Math.pow(10, metricDiff));
		
		// 0 for inelastic collisions, 1 for elastic collisions
		temp.x = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.x-velocity.x) + mass*velocity.x + other_mass*other_velocity.x)/(mass+other_mass);
		temp.y = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.y-velocity.y) + mass*velocity.y + other_mass*other_velocity.y)/(mass+other_mass);
		temp.z = (COEFFICIENT_OF_RESTITUTION*other_mass*(other_velocity.z-velocity.z) + mass*velocity.z + other_mass*other_velocity.z)/(mass+other_mass);
		temp.metric = velocity.metric;
		
		return temp;
		/*
		if (World.simulationLvlAtomic == true) {
			ArrayList&lt;Atom> atomList1 = this.atoms;
			ArrayList&lt;AbstractParticle[]> potentialContacts = new ArrayList&lt;>();
			Vector3D total_vel = new Vector3D();
			
			if(other instanceof Molecule){
				Molecule molecule = (Molecule) other;
				ArrayList&lt;Atom> atomList2 = molecule.atoms;
				for (Atom a: atomList1){
					for (Atom b: atomList2){
						double scale1 = Math.pow(10, a.getPosition().metric);
						double scale2 = Math.pow(10, b.getPosition().metric);
						double diff_x = a.getPosition().x * scale1 - b.getPosition().x * scale2;
						double diff_y = a.getPosition().y * scale1 - b.getPosition().y * scale2;
						double diff_z = a.getPosition().z * scale1 - b.getPosition().z * scale2;
						double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
						double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
						double r2 = ((BoundingSphere)(b.getBoundingPrimitive())).getRadius();
						double bond_length = 0.28E-9;
						if(min_dist &lt;= bond_length){
							System.out.println(&quot;The two molecules collided.&quot; + min_dist);
							AbstractParticle [] potentialContact = {a,b};
							potentialContacts.add(potentialContact);
						}
					}
				}
			}
			
			else if (other instanceof Atom){
				Atom atom = (Atom) other;
				for (Atom a: atomList1){
					double scale1 = Math.pow(10, a.getPosition().metric);
					double scale2 = Math.pow(10, atom.getPosition().metric);
					double diff_x = a.getPosition().x * scale1 - atom.getPosition().x * scale2;
					double diff_y = a.getPosition().y * scale1 - atom.getPosition().y * scale2;
					double diff_z = a.getPosition().z * scale1 - atom.getPosition().z * scale2;
					double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
					double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
					double r2 = ((BoundingSphere)(atom.getBoundingPrimitive())).getRadius();
					double bond_length = 0.28E-9;
					if(min_dist &lt;= bond_length){
						System.out.println(&quot;The molecule and the atom collided.&quot;);
						AbstractParticle [] potentialContact = {a,atom};
						potentialContacts.add(potentialContact);
					}
				}
				
			}
			
			for (AbstractParticle[] potentialContact : potentialContacts){
				AbstractParticle a1 = potentialContact[0];
				AbstractParticle a2 = potentialContact[1];
				Vector3D v1 = a1.calculateVelocityChange(a2, World.COEFFICENT_OF_RESTITUTION);
				total_vel.add(v1);
			}
			return total_vel;
		}	
		*/
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SyayYO2XEeWnDaII1mfokg" name="getCentroid" visibility="private" method="_TjN9Nu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz9O2XEeWnDaII1mfokg">
                        <body>Get the centroid position of the molecule
	 * @return position</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TY0rEO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SyayYe2XEeWnDaII1mfokg" name="setPositionAsCentroid" method="_TjN9OO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz9e2XEeWnDaII1mfokg">
                        <body>Set the postion of the molecule as the centroid of constituting atoms</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SybZcO2XEeWnDaII1mfokg" name="setNetCharge" method="_TjN9Oe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SybZce2XEeWnDaII1mfokg" name="charge">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SybZcu2XEeWnDaII1mfokg" name="setPosition" method="_TjOkQO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz9u2XEeWnDaII1mfokg">
                        <body>Set the position of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SybZc-2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SycAgO2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SycAge2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SycAgu2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SycAg-2XEeWnDaII1mfokg" name="setPosition" method="_TjOkRe2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz9-2XEeWnDaII1mfokg">
                        <body>Set the position of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SycAhO2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SycAhe2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SycAhu2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SycnkO2XEeWnDaII1mfokg" name="setVelocity" method="_TjOkSe2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz-O2XEeWnDaII1mfokg">
                        <body>Set the velocity of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Sycnke2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Sycnku2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Sycnk-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SydOoO2XEeWnDaII1mfokg" name="setVelocity" method="_TjPLUO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz-e2XEeWnDaII1mfokg">
                        <body>Set the velocity of the molecule. Also set the velocities of the constituting atoms.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SydOoe2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SydOou2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SydOo-2XEeWnDaII1mfokg" name="z">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_SydOpO2XEeWnDaII1mfokg" name="metric">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Syd1sO2XEeWnDaII1mfokg" name="integrate" method="_TjPLV-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz-u2XEeWnDaII1mfokg">
                        <body>Calculate acceleration, velocity and position of the molecule after the given duration</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Syd1se2XEeWnDaII1mfokg" name="duration">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TY0EAO2XEeWnDaII1mfokg" name="Molecule" method="_TjN9MO2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TY0EAu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TY0EA-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TY0EAe2XEeWnDaII1mfokg" name="mol" type="_St_lYO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TY0EBO2XEeWnDaII1mfokg" type="_SyZkQO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TY0rEe2XEeWnDaII1mfokg" name="setInverseInertiaTensor" method="_TjPLVe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TY0rEu2XEeWnDaII1mfokg" name="axisOfRotation" type="_SuxogO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TY1SIO2XEeWnDaII1mfokg" name="calculateVelocityChange" method="_TjPLWe2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_Tjoz--2XEeWnDaII1mfokg">
                        <body>Calculate the velocity change after impact</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TY1SIe2XEeWnDaII1mfokg" name="other" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TY1SIu2XEeWnDaII1mfokg" name="COEFFICIENT_OF_RESTITUTION">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TY1SI-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdvnUO2XEeWnDaII1mfokg" name="Molecule" method="_TjN9M-2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TdvnUu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TdvnU-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_Tjoz8-2XEeWnDaII1mfokg">
                        <body>Construct a molecule given a lsit of atoms
	 * @param atoms</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TdvnUe2XEeWnDaII1mfokg" name="atoms" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdvnVO2XEeWnDaII1mfokg" type="_SyZkQO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_Syg5AO2XEeWnDaII1mfokg" name="NarrowCollisionDetector">
                    <ownedComment xmi:id="_Tjoz_O2XEeWnDaII1mfokg">
                      <body>@author waiyan
Narrow Phase Collision Detector determines which particles are about to be collided</body>
                    </ownedComment>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLXe2XEeWnDaII1mfokg" name="detectCollision" specification="_Tdw1cO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLXu2XEeWnDaII1mfokg" name="octTree" type="_SyiuMO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPLX-2XEeWnDaII1mfokg" name="activeParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPLYO2XEeWnDaII1mfokg" name="potentialContacts" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>potentialContacts.clear();
		ArrayList&lt;Integer> processedParticles = new ArrayList&lt;>();
		
		for (int i=0; i&lt; activeParticles.size(); i++){
			
			AbstractParticle a = activeParticles.get(i);
			processedParticles.add(a.getGUID());
			
			ArrayList &lt;AbstractParticle> neighbouringParticles = octTree.retrieve(a);
			ArrayList&lt;AbstractParticle> filteredParticles = filterNeighbouringParticles(neighbouringParticles, processedParticles);
			
			for (AbstractParticle b: filteredParticles){
	
				double scale1 = Math.pow(10, a.getPosition().metric);
				double scale2 = Math.pow(10, b.getPosition().metric);
				double diff_x = a.getPosition().x * scale1 - b.getPosition().x * scale2;
				double diff_y = a.getPosition().y * scale1 - b.getPosition().y * scale2;
				double diff_z = a.getPosition().z * scale1 - b.getPosition().z * scale2;
				
				double min_dist = Math.sqrt(diff_x*diff_x + diff_y*diff_y + diff_z*diff_z);
	//			double min_dist = Math.min(Math.abs(diff_x), Math.min(Math.abs(diff_y), Math.abs(diff_z)));
				
				double r1 = ((BoundingSphere)(a.getBoundingPrimitive())).getRadius();
				double r2 = ((BoundingSphere)(b.getBoundingPrimitive())).getRadius();
				
	//			double bond_length = 0.28E-9;
				double bond_length = r1+r2;
				
				if(min_dist &lt;= bond_length){
				
		//			System.out.println(&quot;The two particles collided: &quot; + a.getGUID() +&quot; and &quot; + b.getGUID());
					AbstractParticle [] potentialContact = {a,b};
					potentialContacts.add(potentialContact);
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPLYe2XEeWnDaII1mfokg" name="filterNeighbouringParticles" specification="_TdyqoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPLYu2XEeWnDaII1mfokg" name="neighbouringParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPLY-2XEeWnDaII1mfokg" name="processedParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPLZO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList&lt;AbstractParticle> filteredParticles = new ArrayList&lt;>();
     for(AbstractParticle a: neighbouringParticles){
     	if(!processedParticles.contains(a.getGUID()))
     		filteredParticles.add(a);
      }
     return filteredParticles;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Tdw1cO2XEeWnDaII1mfokg" name="detectCollision" method="_TjPLXe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TdxcgO2XEeWnDaII1mfokg" name="octTree" type="_SyiuMO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tdxcge2XEeWnDaII1mfokg" name="activeParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tdxcgu2XEeWnDaII1mfokg" name="potentialContacts" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TdyqoO2XEeWnDaII1mfokg" name="filterNeighbouringParticles" visibility="private" method="_TjPLYe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tdyqoe2XEeWnDaII1mfokg" name="neighbouringParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tdyqou2XEeWnDaII1mfokg" name="processedParticles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TdzRse2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyiuMO2XEeWnDaII1mfokg" name="OctTree">
                    <ownedComment xmi:id="_Tjoz_e2XEeWnDaII1mfokg">
                      <body>@author waiyan
OctTree stores the particles in the engine according to their positions</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_ThBk0O2XEeWnDaII1mfokg" name="MAX_PARTICLES" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThBk0e2XEeWnDaII1mfokg" value="10"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThCL4e2XEeWnDaII1mfokg" name="MAX_DEPTH" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThCL4u2XEeWnDaII1mfokg" value="3"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThCy8O2XEeWnDaII1mfokg" name="nodes" visibility="private" type="_SyiuMO2XEeWnDaII1mfokg" association="_Tkz4oe2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThCy8e2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThDaAe2XEeWnDaII1mfokg" name="particles" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk0fsO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThEBEe2XEeWnDaII1mfokg" name="centre" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_Tk0fs-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThEoIe2XEeWnDaII1mfokg" name="depth" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThFPMO2XEeWnDaII1mfokg" name="half_size" visibility="private">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyYO2XEeWnDaII1mfokg" name="OctTree" specification="_Syj8UO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyYe2XEeWnDaII1mfokg" type="_SyiuMO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>nodes = new OctTree[8];
	   particles = new ArrayList&lt;>();
    this.centre = new Vector3D(0,0,0);
    this.half_size = 100e-10;
    depth = 0;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyYu2XEeWnDaII1mfokg" name="OctTree" specification="_TZBfYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyY-2XEeWnDaII1mfokg" name="level">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPyZO2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPyZe2XEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjPyZu2XEeWnDaII1mfokg" type="_SyiuMO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>nodes = new OctTree[8];
	   particles = new ArrayList&lt;>();
    this.centre = centre;
    this.half_size = half_size;
    depth = level;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyZ-2XEeWnDaII1mfokg" name="getAllParticles" specification="_SykjYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyaO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> particles = new ArrayList&lt;>();
		particles.addAll(this.particles);
		for(int i=0; i&lt;8; i++){
			if(nodes[0] == null)
				break;
			particles.addAll(nodes[i].getAllParticles());
		}
		return particles;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyae2XEeWnDaII1mfokg" name="clear" specification="_SylxgO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>particles.clear();
 
   for (int i = 0; i &lt; nodes.length; i++) {
     if (nodes[i] != null) {
       nodes[i].clear();
       nodes[i] = null;
     }
   }
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyau2XEeWnDaII1mfokg" name="split" specification="_Sylxge2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>double x = centre.x;
		double y = centre.y;
		double z = centre.z;
    
		int new_depth = depth+1;
		double new_half_size = half_size*0.5;		 
   
		Vector3D c1 = new Vector3D(x-new_half_size, y-new_half_size, z-new_half_size);
		Vector3D c2 = new Vector3D(x-new_half_size, y-new_half_size, z+new_half_size);
		Vector3D c3 = new Vector3D(x-new_half_size, y+new_half_size, z-new_half_size);
		Vector3D c4 = new Vector3D(x-new_half_size, y+new_half_size, z+new_half_size);
		Vector3D c5 = new Vector3D(x+new_half_size, y-new_half_size, z-new_half_size);
		Vector3D c6 = new Vector3D(x+new_half_size, y-new_half_size, z+new_half_size);
		Vector3D c7 = new Vector3D(x+new_half_size, y+new_half_size, z-new_half_size);
		Vector3D c8 = new Vector3D(x+new_half_size, y+new_half_size, z+new_half_size);
    
		nodes[0] = new OctTree (new_depth, c1, new_half_size);
		nodes[1] = new OctTree (new_depth, c2, new_half_size);
		nodes[2] = new OctTree (new_depth, c3, new_half_size);
		nodes[3] = new OctTree (new_depth, c4, new_half_size);
		nodes[4] = new OctTree (new_depth, c5, new_half_size);
		nodes[5] = new OctTree (new_depth, c6, new_half_size);
    	nodes[6] = new OctTree (new_depth, c7, new_half_size);
    	nodes[7] = new OctTree (new_depth, c8, new_half_size);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPya-2XEeWnDaII1mfokg" name="getIndex" specification="_TZCtgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPybO2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPybe2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = 0;
 	if (centre.x > this.centre.x)	index+=1;
 	if (centre.y > this.centre.y)	index+=2;
 	if (centre.z > this.centre.z)	index+=4;
 	 
 	if(centre.x == this.centre.x || centre.y == this.centre.y || centre.z == this.centre.z)
 		return -1;
 	 
 	return index;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPybu2XEeWnDaII1mfokg" name="insert" specification="_TZD7oO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyb-2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// if current node is not leaf, recursively find the leaf node to place particle 
		if (nodes[0] != null) {
		    int index = getIndex(particle.getPosition());
		    
		    // if not on axis
		    if(index != -1) {
		 //   	System.out.println(&quot;inserting to node &quot; + index);
		    	nodes[index].insert(particle);
		    	return;
		    }
		}
		particles.add(particle);
		//System.out.println(&quot;Tree depth:&quot; + depth + &quot; added Particle &quot; + ((Atom)(particle)).getAtomicSymbol());
		
		// if max. particle count is exceeded
		if(particles.size()>MAX_PARTICLES &amp;&amp; depth &lt; MAX_DEPTH) {
			if(nodes[0]==null) 
				split();
			
			int i =0;
			while(i&lt;particles.size()) {
				int index = getIndex(particles.get(i).getPosition());
			    // if not on axis
			    if(index != -1) {
			    	//System.out.println(&quot;Tree depth:&quot; + depth + &quot; removed Particle &quot; + ((Atom)(particles.get(i))).getAtomicSymbol());
			    	nodes[index].insert(particles.remove(i));
			    	 
			    }
			    else {
			    //	System.out.println(&quot;Tree depth:&quot; + depth + &quot; ignored Particle &quot; + ((Atom)(particles.get(i))).getAtomicSymbol());
			   	 	i++;
			    }
			}
		}
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPycO2XEeWnDaII1mfokg" name="retrieve" specification="_TZEisO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyce2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPycu2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> potentialContacts = new ArrayList&lt;>();
 	 int index = getIndex(particle.getPosition());
 	 if (index != -1 &amp;&amp; nodes[0] != null) {
 		 potentialContacts.addAll(nodes[index].retrieve(particle));
 	 }
 	 // can collide with all objects in this node
 	 potentialContacts.addAll(particles);
 	 potentialContacts.remove(particle);
      return potentialContacts;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPyc-2XEeWnDaII1mfokg" name="remove" specification="_TZFw0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPydO2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjPyde2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>int index = getIndex(particle.getPosition());
 	 if (index != -1 &amp;&amp; nodes[0] != null) {
 		 return nodes[index].remove(particle);
	  	 }
 	 return particles.remove(particle);
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjPydu2XEeWnDaII1mfokg" name="update" specification="_TZGX4e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjPyd-2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(remove(particle))
 		 insert(particle);
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjQZcO2XEeWnDaII1mfokg" name="updateAllActiveParticles" specification="_SymYkO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>ArrayList &lt;AbstractParticle> particles = World.activeParticles;
 	 for(int i=0; i&lt; particles.size(); i++)
 		 update(particles.get(i));
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjQZce2XEeWnDaII1mfokg" name="getAllParticles" specification="_Td1t8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjQZcu2XEeWnDaII1mfokg" name="particles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjQZc-2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>if (nodes[0] != null) {
 		 for(int i=0; i&lt;8; i++)
 			 nodes[i].getAllParticles(particles);
 	 }
 	 particles.addAll(this.particles);
 	 return particles;
  </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjQZdO2XEeWnDaII1mfokg" name="printTree" specification="_TZG-8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjQZde2XEeWnDaII1mfokg" name="tree" type="_SyiuMO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>if(tree.nodes[0] == null &amp;&amp; tree.particles.isEmpty())
 		  return;
 	    
		  System.out.println(&quot;=================\nDepth: &quot; + tree.depth);
		  System.out.println(&quot;centre: (&quot; + tree.centre.x + &quot;, &quot; + tree.centre.y + &quot;, &quot; + tree.centre.z + &quot;)&quot;);
		  for(AbstractParticle p: tree.particles)
			  System.out.println(&quot;Particle: &quot; + ((Atom)p).getAtomicSymbol());
 	  
		  if(tree.nodes[0]!=null) {
			  for (int i=0; i&lt;8; i++) {
 			  printTree(tree.nodes[i]);
 		  }
 	  }
   </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Syj8UO2XEeWnDaII1mfokg" name="OctTree" method="_TjPyYO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Syj8Ue2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Syj8Uu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjpbAO2XEeWnDaII1mfokg">
                        <body>Construct a default oct-tree</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Syj8U-2XEeWnDaII1mfokg" type="_SyiuMO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SykjYO2XEeWnDaII1mfokg" name="getAllParticles" method="_TjPyZ-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbAu2XEeWnDaII1mfokg">
                        <body>Return all particles in the oct-tree
	 * @return particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Td1G4O2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SylxgO2XEeWnDaII1mfokg" name="clear" method="_TjPyae2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbA-2XEeWnDaII1mfokg">
                        <body>Clear all particles in the oct-tree</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sylxge2XEeWnDaII1mfokg" name="split" visibility="private" method="_TjPyau2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbBO2XEeWnDaII1mfokg">
                        <body>Splits the node into 8 subnodes</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SymYkO2XEeWnDaII1mfokg" name="updateAllActiveParticles" method="_TjQZcO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbCu2XEeWnDaII1mfokg">
                        <body>Update all active particles in the engine</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZBfYO2XEeWnDaII1mfokg" name="OctTree" method="_TjPyYu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TZCGce2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TZCGcu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjpbAe2XEeWnDaII1mfokg">
                        <body>Construct a OctTree with the given level and size
	 * @param level
	 * @param centre
	 * @param half_size</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZBfYe2XEeWnDaII1mfokg" name="level">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TZBfYu2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZCGcO2XEeWnDaII1mfokg" name="half_size">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TZCGc-2XEeWnDaII1mfokg" type="_SyiuMO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZCtgO2XEeWnDaII1mfokg" name="getIndex" visibility="private" method="_TjPya-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbBe2XEeWnDaII1mfokg">
                        <body>Get the index of the child node where the given co-ordinate is located
	 * @param centre
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZCtge2XEeWnDaII1mfokg" name="centre" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZCtgu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZD7oO2XEeWnDaII1mfokg" name="insert" method="_TjPybu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbBu2XEeWnDaII1mfokg">
                        <body>Insert a new particle into the oct-tree
     * @param particle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZD7oe2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZEisO2XEeWnDaII1mfokg" name="retrieve" method="_TjPycO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbB-2XEeWnDaII1mfokg">
                        <body>Return all objects that could collide with the given object</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZEise2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Td1G4e2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZFw0O2XEeWnDaII1mfokg" name="remove" method="_TjPyc-2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbCO2XEeWnDaII1mfokg">
                        <body>Remove the given particle from the oct-tree
      * @param particle</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZFw0e2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZGX4O2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZGX4e2XEeWnDaII1mfokg" name="update" method="_TjPydu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbCe2XEeWnDaII1mfokg">
                        <body>Update the given particle
      * @param particle
      * @param old_position</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZGX4u2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZG-8O2XEeWnDaII1mfokg" name="printTree" method="_TjQZdO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbDO2XEeWnDaII1mfokg">
                        <body>Print the oct-tree
      * @param tree</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZG-8e2XEeWnDaII1mfokg" name="tree" type="_SyiuMO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Td1t8O2XEeWnDaII1mfokg" name="getAllParticles" method="_TjQZce2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjpbC-2XEeWnDaII1mfokg">
                        <body>Get all particles that are in the same node, child nodes and parent node of the given particle
      * @param particles
      * @return particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_Td1t8e2XEeWnDaII1mfokg" name="particles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Td2VAO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SyqqAO2XEeWnDaII1mfokg" name="Units">
                    <ownedComment xmi:id="_TjpbDe2XEeWnDaII1mfokg">
                      <body>@author waiyan
Enum variables for Distance, Mass and Time</body>
                    </ownedComment>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_SyrREO2XEeWnDaII1mfokg" name="DISTANCE">
                      <ownedAttribute xmi:id="_ThF2QO2XEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="_SytGQO2XEeWnDaII1mfokg" name="DISTANCE" visibility="private" method="_TjQZdu2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_SytGQu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_SytGQ-2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_SytGQe2XEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_SytGRO2XEeWnDaII1mfokg" type="_SyrREO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SyttUO2XEeWnDaII1mfokg" name="value" visibility="package" method="_TjQZee2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SyttUe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TZJbMO2XEeWnDaII1mfokg" name="convert" visibility="package" method="_TjQZe-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TZJbMe2XEeWnDaII1mfokg" name="from" type="_SyrREO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TZJbMu2XEeWnDaII1mfokg" name="to" type="_SyrREO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TZJbM-2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="_SyrREe2XEeWnDaII1mfokg" name="m">
                        <specification xmi:type="uml:Expression" xmi:id="_SyrREu2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbDu2XEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyrRE-2XEeWnDaII1mfokg" name="mm">
                        <specification xmi:type="uml:Expression" xmi:id="_SyrRFO2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbD-2XEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyrRFe2XEeWnDaII1mfokg" name="m">
                        <specification xmi:type="uml:Expression" xmi:id="_Syr4IO2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbEO2XEeWnDaII1mfokg" value="1e-6"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syr4Ie2XEeWnDaII1mfokg" name="nm">
                        <specification xmi:type="uml:Expression" xmi:id="_Syr4Iu2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbEe2XEeWnDaII1mfokg" value="1e-9"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syr4I-2XEeWnDaII1mfokg" name="A">
                        <specification xmi:type="uml:Expression" xmi:id="_Syr4JO2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbEu2XEeWnDaII1mfokg" value="1e-10"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syr4Je2XEeWnDaII1mfokg" name="pm">
                        <specification xmi:type="uml:Expression" xmi:id="_Syr4Ju2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbE-2XEeWnDaII1mfokg" value="1e-12"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syr4J-2XEeWnDaII1mfokg" name="fm">
                        <specification xmi:type="uml:Expression" xmi:id="_Syr4KO2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbFO2XEeWnDaII1mfokg" value="1e-15"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SysfMO2XEeWnDaII1mfokg" name="am">
                        <specification xmi:type="uml:Expression" xmi:id="_SysfMe2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjpbFe2XEeWnDaII1mfokg" value="1e-18"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_Syu7cO2XEeWnDaII1mfokg" name="MASS">
                      <ownedAttribute xmi:id="_ThGdUe2XEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="_SywwoO2XEeWnDaII1mfokg" name="MASS" visibility="private" method="_TjQZf-2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_Sywwou2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_Sywwo-2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_Sywwoe2XEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_SywwpO2XEeWnDaII1mfokg" type="_Syu7cO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SyxXsO2XEeWnDaII1mfokg" name="value" visibility="package" method="_TjQZgu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SyxXse2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="_SyvigO2XEeWnDaII1mfokg" name="amu">
                        <specification xmi:type="uml:Expression" xmi:id="_Syvige2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCEO2XEeWnDaII1mfokg" value="1.66053892e-27"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syvigu2XEeWnDaII1mfokg" name="g">
                        <specification xmi:type="uml:Expression" xmi:id="_Syvig-2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCEe2XEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyvihO2XEeWnDaII1mfokg" name="kg">
                        <specification xmi:type="uml:Expression" xmi:id="_Syvihe2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCEu2XEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_Syx-wO2XEeWnDaII1mfokg" name="TIME">
                      <ownedAttribute xmi:id="_ThHrcO2XEeWnDaII1mfokg" name="value" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedOperation xmi:id="_Sy56kO2XEeWnDaII1mfokg" name="TIME" visibility="private" method="_TjRAgO2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_Sy_aIe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_Sy_aIu2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_Sy_aIO2XEeWnDaII1mfokg" name="value">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_Sy_aI-2XEeWnDaII1mfokg" type="_Syx-wO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SzABMO2XEeWnDaII1mfokg" name="value" visibility="package" method="_TjRAg-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzABMe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedLiteral xmi:id="_Syyl0O2XEeWnDaII1mfokg" name="s">
                        <specification xmi:type="uml:Expression" xmi:id="_Syyl0e2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCE-2XEeWnDaII1mfokg" value="1e0"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syyl0u2XEeWnDaII1mfokg" name="ms">
                        <specification xmi:type="uml:Expression" xmi:id="_Syyl0-2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCFO2XEeWnDaII1mfokg" value="1e-3"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syyl1O2XEeWnDaII1mfokg" name="s">
                        <specification xmi:type="uml:Expression" xmi:id="_Syyl1e2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCFe2XEeWnDaII1mfokg" value="1e-6"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syyl1u2XEeWnDaII1mfokg" name="ns">
                        <specification xmi:type="uml:Expression" xmi:id="_Syyl1-2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCFu2XEeWnDaII1mfokg" value="1e-9"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_Syyl2O2XEeWnDaII1mfokg" name="ps">
                        <specification xmi:type="uml:Expression" xmi:id="_SyzM4O2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCF-2XEeWnDaII1mfokg" value="1e-12"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyzM4e2XEeWnDaII1mfokg" name="fs">
                        <specification xmi:type="uml:Expression" xmi:id="_SyzM4u2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCGO2XEeWnDaII1mfokg" value="1e-15"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyzM4-2XEeWnDaII1mfokg" name="as">
                        <specification xmi:type="uml:Expression" xmi:id="_SyzM5O2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCGe2XEeWnDaII1mfokg" value="1e-18"/>
                        </specification>
                      </ownedLiteral>
                      <ownedLiteral xmi:id="_SyzM5e2XEeWnDaII1mfokg" name="zs">
                        <specification xmi:type="uml:Expression" xmi:id="_SyzM5u2XEeWnDaII1mfokg">
                          <operand xmi:type="uml:LiteralString" xmi:id="_TjqCGu2XEeWnDaII1mfokg" value="1e-21"/>
                        </specification>
                      </ownedLiteral>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SzCdcO2XEeWnDaII1mfokg" name="VdWForce">
                    <ownedComment xmi:id="_TjqCG-2XEeWnDaII1mfokg">
                      <body>Return VdW force experienced by particle1 due to particle2
@param particle1 (requires BoundingSphere radius)
@param particle2 (requires BoundingSphere radius)
@return VdWForce</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_ThISgO2XEeWnDaII1mfokg" name="vdwForce" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_Tk1Gwe2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TZVBYO2XEeWnDaII1mfokg" client="_SzCdcO2XEeWnDaII1mfokg" supplier="_Sx5N8O2XEeWnDaII1mfokg" contract="_Sx5N8O2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRAhe2XEeWnDaII1mfokg" name="VdWForce" specification="_TZVocO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRAhu2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjRAh-2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjRAiO2XEeWnDaII1mfokg" type="_SzCdcO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>vdwForce = calculateForce(particle1, particle2);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRAie2XEeWnDaII1mfokg" name="getForce" specification="_SzDrkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRAiu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return vdwForce;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRAi-2XEeWnDaII1mfokg" name="getNegativeForce" specification="_SzDrke2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRAjO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return vdwForce.getNegativeVector();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRAje2XEeWnDaII1mfokg" name="calculateForce" specification="_TZWPgu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRAju2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjRAj-2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjRAkO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>double Hamaker_coefficient = 1e-19; //can be positive or negative in sign depending on the intervening medium?
		
		BoundingPrimitive bp1 = particle1.getBoundingPrimitive();
		BoundingPrimitive bp2 = particle2.getBoundingPrimitive();
		
		if(bp1 instanceof BoundingSphere &amp;&amp; bp2 instanceof BoundingSphere){
			BoundingSphere bs1 = (BoundingSphere) bp1;
			BoundingSphere bs2 = (BoundingSphere) bp2;
			double r1 = bs1.getRadius();
			double r2 = bs2.getRadius();
			
			Vector3D distanceVector = new Vector3D(particle1.getPosition());
			distanceVector.subtract(particle2.getPosition());
			double sq_distance = distanceVector.getSquaredMagnitude();
			
			double term1 = 2*r1*r2 / (sq_distance - (r1+r2)*(r1+r2));
			double term2 = 2*r1*r2 / (sq_distance - (r1-r2)*(r1-r2));
			double term3 = Math.log ((sq_distance - (r1+r2)*(r1+r2))/(sq_distance - (r1-r2)*(r1-r2)));
			double VdWScalar = -Hamaker_coefficient/6*(term1 + term2 + term3);
			
			distanceVector.normalize();
			distanceVector.scale(VdWScalar);
			return distanceVector;
		}
		return new Vector3D();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SzDrkO2XEeWnDaII1mfokg" name="getForce" method="_TjRAie2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TZWPgO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SzDrke2XEeWnDaII1mfokg" name="getNegativeForce" method="_TjRAi-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TZWPge2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZVocO2XEeWnDaII1mfokg" name="VdWForce" method="_TjRAhe2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TZVoc-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TZVodO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_TZVoce2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZVocu2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZVode2XEeWnDaII1mfokg" type="_SzCdcO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZWPgu2XEeWnDaII1mfokg" name="calculateForce" method="_TjRAje2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjqCHO2XEeWnDaII1mfokg">
                        <body>Calculate the vdW force between the two particles</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TZWPg-2XEeWnDaII1mfokg" name="particle1" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZWPhO2XEeWnDaII1mfokg" name="particle2" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TZWPhe2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_SzFgwO2XEeWnDaII1mfokg" name="World">
                    <ownedComment xmi:id="_TjqCHe2XEeWnDaII1mfokg">
                      <body>@author waiyan
Main class of the physics engine</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_ThI5kO2XEeWnDaII1mfokg" name="COEFFICENT_OF_RESTITUTION" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThI5ke2XEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThJgoe2XEeWnDaII1mfokg" name="simlvl" isStatic="true" type="_SzGu4O2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThJgou2XEeWnDaII1mfokg" value="SimulationLevel.Atomic"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThKuwu2XEeWnDaII1mfokg" name="simulationLvlAtomic" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThKuw-2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThLV0O2XEeWnDaII1mfokg" name="simulationLvlPartial" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThLV0e2XEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThLV0-2XEeWnDaII1mfokg" name="electricForceActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThL84O2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThL84u2XEeWnDaII1mfokg" name="LJForceActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThL84-2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThMj8e2XEeWnDaII1mfokg" name="frameTime_as" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThMj8u2XEeWnDaII1mfokg" value="50"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThNLAe2XEeWnDaII1mfokg" name="debugRotate" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThNLAu2XEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThNLBO2XEeWnDaII1mfokg" name="inputFilePaths" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk1t0e2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThNyEe2XEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThOZJO2XEeWnDaII1mfokg" name="outputFilePath" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThOZJe2XEeWnDaII1mfokg" value="&quot;output.txt&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThPAN-2XEeWnDaII1mfokg" name="displayUI" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThPnQO2XEeWnDaII1mfokg" value="false"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThQOUu2XEeWnDaII1mfokg" name="particleCount" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThQOU-2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThQ1YO2XEeWnDaII1mfokg" name="simulationStatus" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThQ1Ye2XEeWnDaII1mfokg" value="&quot;running&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThQ1Y-2XEeWnDaII1mfokg" name="countDownLatch" isStatic="true" type="_TZXdoO2XEeWnDaII1mfokg" association="_Tk2U4e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThRcce2XEeWnDaII1mfokg" name="allParticlesActive" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThRccu2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThSDgO2XEeWnDaII1mfokg" name="distance_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThSDge2XEeWnDaII1mfokg" value="DISTANCE.m.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThSqkO2XEeWnDaII1mfokg" name="time_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThSqke2XEeWnDaII1mfokg" value="TIME.as.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThSqk-2XEeWnDaII1mfokg" name="mass_metric" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThSqlO2XEeWnDaII1mfokg" value="MASS.kg.value()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThTRoe2XEeWnDaII1mfokg" name="activeParticles" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk278O2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThT4se2XEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThUfwO2XEeWnDaII1mfokg" name="allAtoms" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk278-2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThUfwu2XEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThVG0e2XEeWnDaII1mfokg" name="allMolecules" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk3jAe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThVt4e2XEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThWU8O2XEeWnDaII1mfokg" name="potentialContacts" isStatic="true" type="_TUPtEO2XEeWnDaII1mfokg" association="_Tk4xIO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThWU8u2XEeWnDaII1mfokg" value="new ArrayList&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThW8Ae2XEeWnDaII1mfokg" name="registry" isStatic="true" type="_SyDmAO2XEeWnDaII1mfokg" association="_Tk5YMe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThW8Au2XEeWnDaII1mfokg" value="new ForceRegistry()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThW8BO2XEeWnDaII1mfokg" name="octTree" isStatic="true" type="_SyiuMO2XEeWnDaII1mfokg" association="_Tk5_Qe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThXjEO2XEeWnDaII1mfokg" value="new OctTree()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThXjEu2XEeWnDaII1mfokg" name="detector" isStatic="true" type="_Syg5AO2XEeWnDaII1mfokg" association="_Tk6mUO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThXjE-2XEeWnDaII1mfokg" value="new NarrowCollisionDetector()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThZ_UO2XEeWnDaII1mfokg" name="resolver" isStatic="true" type="_Sx0VcO2XEeWnDaII1mfokg" association="_Tk7NYe2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThZ_Ue2XEeWnDaII1mfokg" value="new ContactResolver()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_ThZ_U-2XEeWnDaII1mfokg" name="initialPositions" isStatic="true" type="_TUQUIe2XEeWnDaII1mfokg" association="_Tk70cO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThbNcO2XEeWnDaII1mfokg" name="editor" isStatic="true" type="_SvdlAO2XEeWnDaII1mfokg" association="_Tk70c-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThbNcu2XEeWnDaII1mfokg" name="window" isStatic="true" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk8bge2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thb0ge2XEeWnDaII1mfokg" name="outputStream" isStatic="true" type="_TWRtYe2XEeWnDaII1mfokg" association="_Tk8bhO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thcbke2XEeWnDaII1mfokg" name="defaultStream" isStatic="true" type="_TWRtYe2XEeWnDaII1mfokg" association="_Tk9Cke2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThdCoO2XEeWnDaII1mfokg" name="dummyStream" isStatic="true" type="_TWRtYe2XEeWnDaII1mfokg" association="_Tk9poe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThdCou2XEeWnDaII1mfokg" name="startTime" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Thdpse2XEeWnDaII1mfokg" name="endTime" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_The30O2XEeWnDaII1mfokg" name="duration" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnkO2XEeWnDaII1mfokg" name="main" specification="_SzJyMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRnke2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjRnku2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>new World().parseArguments(args);
			
		defaultStream = System.out;
		outputStream = new PrintStream(new BufferedOutputStream(new FileOutputStream(outputFilePath)));
		dummyStream    = new PrintStream (new OutputStream(){
		    @Override
			public void write(int b) {
		        //NO-OP
		    }
		});
		
		startTime = System.nanoTime();
		for (String filePath: inputFilePaths){
			parsePDB(filePath);
		}
		
		endTime = System.nanoTime();
		duration = (endTime - startTime);  
		System.out.println(&quot;Time taken to load particles: &quot; + duration/1000);
		startTime = System.nanoTime();
	
			
		ArrayList&lt;AbstractParticle> rotateTestAtoms = new ArrayList&lt;>();
		if(debugRotate) {
			rotateTestAtoms.add(allAtoms.get(5));
			rotateTestAtoms.add(allAtoms.get(6));
			rotateTestAtoms.add(allAtoms.get(7));
			rotateTestAtoms.add(allAtoms.get(8));
		}	

		// check simulation level
		checkSimulationLevel();
		
		// checks which particles will be involved in calculations
		checkForActiveParticles();
		
		if(displayUI){
			 System.setOut(dummyStream);
			 window = new MainWindow();
			 window.getMediator().displayParticles(octTree.getAllParticles());
			 System.setOut(outputStream);
			 initialPositions = new HashMap&lt;>();
			 for (AbstractParticle particle: allAtoms){
				 Vector3D temp = particle.getPosition();
				 initialPositions.put(particle.getGUID(), new Vector3D(temp.x, temp.y, temp.z));
			 }
			 for (AbstractParticle particle: allMolecules){
				 Vector3D temp = particle.getPosition();
				 initialPositions.put(particle.getGUID(), new Vector3D(temp.x, temp.y, temp.z));
			 }
		}
		else {
			System.setOut(outputStream);
		}
		
		int i = 0;
		
		while(true) {
	
			System.out.println(&quot;\nFrame: &quot; + i);
//			startTime = System.nanoTime();
			
			// Applying Forces		
			registry.updateAllForces(activeParticles);
			
			for(AbstractParticle particle: activeParticles){
				if(simulationLvlAtomic)
					particle.integrate(frameTime_as*time_metric);	
				else {
					if(!simulationLvlPartial)
						particle.integrate(i*frameTime_as*time_metric);
					else
						particle.integrate(frameTime_as*time_metric);
				}
				printParticleStatus(particle);
			}
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken to update forces: &quot; + duration/1000);
//			startTime = System.nanoTime();

			// Update tree only after integration
			octTree.updateAllActiveParticles();
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken for broad phase: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			// Collision Detection 
			detector.detectCollision(octTree, activeParticles, potentialContacts);    	 
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken for narrow phase: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			// Resolve Collisions and set active particles
			resolver.resolveContacts(potentialContacts);	
			
//			endTime = System.nanoTime();
//			duration = (endTime - startTime);  
//			System.out.println(&quot;Time taken to resolve: &quot; + duration/1000);
//			startTime = System.nanoTime();
			
			if(displayUI){
			//	AbstractParticle [] temp_particles = activeParticles.toArray(new AbstractParticle[activeParticles.size()]);
			//	editor.getMediator().notifyUpdated(temp_particles);
				if(i%100 == 0){
					System.setOut(dummyStream);
					// Test Rotation
					if(debugRotate &amp;&amp; (simulationLvlAtomic || !simulationLvlAtomic &amp;&amp; simulationLvlPartial))
						testRotate(rotateTestAtoms);
					
					window.getMediator().displayParticles(octTree.getAllParticles());
					System.setOut(outputStream);
				}
				
				if(simulationStatus.equals(&quot;restart&quot;)){
					checkSimulationLevel();
					restartSimulation();
					simulationStatus = &quot;running&quot;;
					i=0;
				}
				
				else if(simulationStatus.equals(&quot;changed&quot;)){
					
					checkSimulationLevel();
					restartSimulation();
					simulationStatus = &quot;running&quot;;
					//i=0;
				}
				
				else if(simulationStatus.equals(&quot;paused&quot;)){
					i--;
					countDownLatch = new CountDownLatch(1);
					countDownLatch.await(Long.MAX_VALUE, TimeUnit.MILLISECONDS);
				}
			}
			
			i++;
			if(i > 10000 &amp;&amp; simulationLvlAtomic || i>20000 &amp;&amp; !simulationLvlAtomic) {
				simulationStatus = &quot;restart&quot;;
				break;
			}
		}
		outputStream.flush();
		
		if(!displayUI)
			new UpdateRegistry().displayParticles(octTree.getAllParticles());
		
		System.setOut(defaultStream);
		endTime = System.nanoTime();
		duration = (endTime - startTime); 
		System.out.println(&quot;Time taken to end: &quot; + duration/1000);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnk-2XEeWnDaII1mfokg" name="markAsActive" specification="_TZcWIO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRnlO2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>for (int index =0; index&lt; World.activeParticles.size(); index++){
			if(World.activeParticles.get(index).getGUID() == particle.getGUID()) {
				return;
			}
		}

		World.activeParticles.add(particle);
		Vector3D temp = new Vector3D();
		temp.x = particle.getPosition().x;
		temp.y = particle.getPosition().y;
		temp.z = particle.getPosition().z;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnle2XEeWnDaII1mfokg" name="checkForActiveParticles" specification="_SzKZQe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>World.activeParticles.clear();
		ArrayList &lt;AbstractParticle> particles = new ArrayList&lt;>();
		octTree.getAllParticles(particles);
		
		for(AbstractParticle particle: particles)
			markAsActive(particle);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnlu2XEeWnDaII1mfokg" name="resetActiveParticlesVelocities" specification="_SzLAUO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for(AbstractParticle particle: activeParticles)
			particle.setVelocity(0, 0, 0);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnl-2XEeWnDaII1mfokg" name="printParticleStatus" specification="_TZc9MO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRnmO2XEeWnDaII1mfokg" name="p" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>System.out.print(&quot;Particle &quot; + p.getGUID() + &quot;\t&quot; +p.getPosition().print()+&quot;\n&quot;);
		//System.out.print(&quot;Particle &quot; + p.getGUID() + &quot;\t&quot; + p.getVelocity().print()+&quot;\t&quot;);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnme2XEeWnDaII1mfokg" name="restartSimulation" specification="_SzLAUe2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (AbstractParticle particle: octTree.getAllParticles()) {
			Vector3D pos = initialPositions.get(particle.getGUID());
			if (particle instanceof Atom)
				particle.setPosition(pos.x, pos.y, pos.z);
			else if (particle instanceof Molecule)
				((sg.edu.ntu.aalhossary.fyp2014.physics_engine.core.Molecule) particle).setPositionAsCentroid();
			particle.setVelocity(0, 0, 0);
		}
		
		checkForActiveParticles();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnmu2XEeWnDaII1mfokg" name="checkSimulationLevel" specification="_SzLAUu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>octTree.clear();
		if(simulationLvlAtomic) {
			for(AbstractParticle particle: allAtoms) {
				octTree.insert(particle);
			}
		}
		else {
			for(AbstractParticle particle: allMolecules) {
				octTree.insert(particle);
			}
			if(simulationLvlPartial){
				octTree.clear();
				for(AbstractParticle particle: ((sg.edu.ntu.aalhossary.fyp2014.physics_engine.core.Molecule)allMolecules.get(0)).getAtoms()) {
					octTree.insert(particle);
				}
				
				for(int i=1; i&lt;allMolecules.size(); i++) {
					octTree.insert(allMolecules.get(i));
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnm-2XEeWnDaII1mfokg" name="parseArguments" specification="_SzNcke2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRnnO2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjRnne2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>CmdLineParser parser = new CmdLineParser(this);
		 parser.setUsageWidth(100);
		 try {
			 parser.parseArgument(args);
			 System.out.println(&quot;Output will be logged at &quot; + outputFilePath);
			 
			if(inputFilePaths.isEmpty())
				 inputFilePaths.add(&quot;lysine.pdb&quot;);
			 
			 switch (simlvl) {
				case Atomic: 	simulationLvlAtomic = true;
								break;
				case Molecular: simulationLvlAtomic = false;
								simulationLvlPartial = false;
								break;
				case Partial:	simulationLvlAtomic = false;
								simulationLvlPartial = true;
								break;
			}	
		 }
		 catch(CmdLineException e) {
			 System.err.println(e.getMessage());
			 System.err.println(&quot;java World [options...] arguments...&quot;);
			 parser.printUsage(System.err);
			 System.err.println();
			 System.exit(0);
		 }
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjRnnu2XEeWnDaII1mfokg" name="testRotate" specification="_Td9pwO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjRnn-2XEeWnDaII1mfokg" name="particles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>Vector3D axis = new Vector3D(1,0,0);
		for(AbstractParticle particle: particles) {
			particle.rotateAroundAxis(axis, 1);
		//	markAsActive(particle);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOoO2XEeWnDaII1mfokg" name="parsePDB" specification="_SzOqsu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjSOoe2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>try {
			InputStream ir = World.class.getResourceAsStream(filePath);
			BufferedReader br = new BufferedReader(new InputStreamReader(ir));
			String line = br.readLine();	// MODEL
			while(line!=null){
				ArrayList &lt;Atom> atoms = new ArrayList&lt;>();
				line = br.readLine();		// HETATM
				while(!line.equals(&quot;ENDMDL&quot;) &amp;&amp; !line.equals(&quot;END&quot;)){
					System.out.println(&quot;Parsing &quot; + line);
					double x = Double.parseDouble(line.substring(30, 38)) * 1e-10;
					double y = Double.parseDouble(line.substring(38, 46)) * 1e-10;
					double z = Double.parseDouble(line.substring(46, 54)) * 1e-10;
					int charge = Integer.parseInt(line.substring(78));
					AbstractParticle particle = new Atom(line.substring(12, 16).replace(&quot; &quot;, &quot;&quot;));
					particle.setPosition(x, y, z);
					particle.setNetCharge(charge);
					allAtoms.add(particle);
					atoms.add((Atom)particle);
					line = br.readLine();
				}
				Molecule molecule = new Molecule(atoms);
				allMolecules.add(molecule);
				line = br.readLine();
			}
			
			
			
			/*
			
			File file = new File(filePath);
			Structure struc = DataManager.readFile(file.getAbsolutePath());
			UpdateRegistry reg = new UpdateRegistry();
			reg.createUserModel(struc);
			
			List&lt;Model> models = reg.getModelList();
			for (Model model : models) {
				//upgrade molecules
				ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule> molecules = model.getMolecules();
				ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule> newMolecules= new ArrayList&lt;sg.edu.ntu.aalhossary.fyp2014.common.Molecule>(); 
				for (sg.edu.ntu.aalhossary.fyp2014.common.Molecule molecule : molecules) {
					Molecule newMolecule = new Molecule(molecule);
					newMolecules.add(newMolecule);
					for(Atom atom: newMolecule.getAtoms()) {
						allAtoms.add(atom);
					}
				}
				model.setMolecules(newMolecules);
				allMolecules.addAll(newMolecules);
			}
			*/
			 
		} catch (Exception e) {
			
			e.printStackTrace();
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SzJyMO2XEeWnDaII1mfokg" name="main" isStatic="true" method="_TjRnkO2XEeWnDaII1mfokg" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SzJyMe2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SzKZQO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SzKZQe2XEeWnDaII1mfokg" name="checkForActiveParticles" isStatic="true" method="_TjRnle2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SzLAUO2XEeWnDaII1mfokg" name="resetActiveParticlesVelocities" isStatic="true" method="_TjRnlu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SzLAUe2XEeWnDaII1mfokg" name="restartSimulation" visibility="private" isStatic="true" method="_TjRnme2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SzLAUu2XEeWnDaII1mfokg" name="checkSimulationLevel" visibility="private" isStatic="true" method="_TjRnmu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SzM1gO2XEeWnDaII1mfokg" name="setCommand" isStatic="true" raisedException="_TdfIoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SzM1ge2XEeWnDaII1mfokg" name="command">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SzNcke2XEeWnDaII1mfokg" name="parseArguments" method="_TjRnm-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SzNcku2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_SzODoe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SzOqsu2XEeWnDaII1mfokg" name="parsePDB" visibility="private" isStatic="true" method="_TjSOoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_SzOqs-2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZcWIO2XEeWnDaII1mfokg" name="markAsActive" isStatic="true" method="_TjRnk-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TZcWIe2XEeWnDaII1mfokg" name="particle" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TZc9MO2XEeWnDaII1mfokg" name="printParticleStatus" visibility="private" isStatic="true" method="_TjRnl-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TZc9Me2XEeWnDaII1mfokg" name="p" type="_Sr3ecO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Td9pwO2XEeWnDaII1mfokg" name="testRotate" visibility="private" isStatic="true" method="_TjRnnu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Td9pwe2XEeWnDaII1mfokg" name="particles" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_SzGu4O2XEeWnDaII1mfokg" name="SimulationLevel" visibility="package">
                      <ownedLiteral xmi:id="_SzHV8O2XEeWnDaII1mfokg" name="Atomic"/>
                      <ownedLiteral xmi:id="_SzHV8e2XEeWnDaII1mfokg" name="Molecular"/>
                      <ownedLiteral xmi:id="_SzHV8u2XEeWnDaII1mfokg" name="Partial"/>
                    </nestedClassifier>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkUJYO2XEeWnDaII1mfokg" name="" memberEnd="_TkUJYe2XEeWnDaII1mfokg _Sx-GcO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkUJYe2XEeWnDaII1mfokg" name="" type="_Sx5N8O2XEeWnDaII1mfokg" association="_TkUJYO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkVXgO2XEeWnDaII1mfokg" name="" memberEnd="_TkVXge2XEeWnDaII1mfokg _SyBJwO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkVXge2XEeWnDaII1mfokg" name="" type="_Sx5N8O2XEeWnDaII1mfokg" association="_TkVXgO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkw1V-2XEeWnDaII1mfokg" name="" memberEnd="_Tkw1WO2XEeWnDaII1mfokg _Tg5pAO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkw1WO2XEeWnDaII1mfokg" name="" type="_Sx1jkO2XEeWnDaII1mfokg" association="_Tkw1V-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkxcYe2XEeWnDaII1mfokg" name="" memberEnd="_TkxcYu2XEeWnDaII1mfokg _Tg5pAu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkxcYu2XEeWnDaII1mfokg" name="" type="_SyDmAO2XEeWnDaII1mfokg" association="_TkxcYe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkxcZO2XEeWnDaII1mfokg" name="" memberEnd="_TkxcZe2XEeWnDaII1mfokg _Tg7eMu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkxcZe2XEeWnDaII1mfokg" name="" type="_SyKTsO2XEeWnDaII1mfokg" association="_TkxcZO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkyDce2XEeWnDaII1mfokg" name="" memberEnd="_TkyDcu2XEeWnDaII1mfokg _Tg8FQe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkyDcu2XEeWnDaII1mfokg" name="" type="_SyKTsO2XEeWnDaII1mfokg" association="_TkyDce2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkyDdO2XEeWnDaII1mfokg" name="" memberEnd="_TkyDde2XEeWnDaII1mfokg _Tg9TY-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkyDde2XEeWnDaII1mfokg" name="" type="_SyKTsO2XEeWnDaII1mfokg" association="_TkyDdO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkyqge2XEeWnDaII1mfokg" name="" memberEnd="_Tkyqgu2XEeWnDaII1mfokg _Tg_IkO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkyqgu2XEeWnDaII1mfokg" name="" type="_SyV54O2XEeWnDaII1mfokg" association="_Tkyqge2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TkzRke2XEeWnDaII1mfokg" name="" memberEnd="_TkzRku2XEeWnDaII1mfokg _ThAWsO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TkzRku2XEeWnDaII1mfokg" name="" type="_SyZkQO2XEeWnDaII1mfokg" association="_TkzRke2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tkz4oe2XEeWnDaII1mfokg" name="" memberEnd="_Tkz4ou2XEeWnDaII1mfokg _ThCy8O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tkz4ou2XEeWnDaII1mfokg" name="" type="_SyiuMO2XEeWnDaII1mfokg" association="_Tkz4oe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk0fsO2XEeWnDaII1mfokg" name="" memberEnd="_Tk0fse2XEeWnDaII1mfokg _ThDaAe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk0fse2XEeWnDaII1mfokg" name="" type="_SyiuMO2XEeWnDaII1mfokg" association="_Tk0fsO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk0fs-2XEeWnDaII1mfokg" name="" memberEnd="_Tk0ftO2XEeWnDaII1mfokg _ThEBEe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk0ftO2XEeWnDaII1mfokg" name="" type="_SyiuMO2XEeWnDaII1mfokg" association="_Tk0fs-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk1Gwe2XEeWnDaII1mfokg" name="" memberEnd="_Tk1Gwu2XEeWnDaII1mfokg _ThISgO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk1Gwu2XEeWnDaII1mfokg" name="" type="_SzCdcO2XEeWnDaII1mfokg" association="_Tk1Gwe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk1t0e2XEeWnDaII1mfokg" name="" memberEnd="_Tk1t0u2XEeWnDaII1mfokg _ThNLBO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk1t0u2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk1t0e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk2U4e2XEeWnDaII1mfokg" name="" memberEnd="_Tk2U4u2XEeWnDaII1mfokg _ThQ1Y-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk2U4u2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk2U4e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk278O2XEeWnDaII1mfokg" name="" memberEnd="_Tk278e2XEeWnDaII1mfokg _ThTRoe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk278e2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk278O2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk278-2XEeWnDaII1mfokg" name="" memberEnd="_Tk279O2XEeWnDaII1mfokg _ThUfwO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk279O2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk278-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk3jAe2XEeWnDaII1mfokg" name="" memberEnd="_Tk3jAu2XEeWnDaII1mfokg _ThVG0e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk3jAu2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk3jAe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk4xIO2XEeWnDaII1mfokg" name="" memberEnd="_Tk4xIe2XEeWnDaII1mfokg _ThWU8O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk4xIe2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk4xIO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk5YMe2XEeWnDaII1mfokg" name="" memberEnd="_Tk5YMu2XEeWnDaII1mfokg _ThW8Ae2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk5YMu2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk5YMe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk5_Qe2XEeWnDaII1mfokg" name="" memberEnd="_Tk5_Qu2XEeWnDaII1mfokg _ThW8BO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk5_Qu2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk5_Qe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk6mUO2XEeWnDaII1mfokg" name="" memberEnd="_Tk6mUe2XEeWnDaII1mfokg _ThXjEu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk6mUe2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk6mUO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk7NYe2XEeWnDaII1mfokg" name="" memberEnd="_Tk7NYu2XEeWnDaII1mfokg _ThZ_UO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk7NYu2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk7NYe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk70cO2XEeWnDaII1mfokg" name="" memberEnd="_Tk70ce2XEeWnDaII1mfokg _ThZ_U-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk70ce2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk70cO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk70c-2XEeWnDaII1mfokg" name="" memberEnd="_Tk70dO2XEeWnDaII1mfokg _ThbNcO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk70dO2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk70c-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk8bge2XEeWnDaII1mfokg" name="" memberEnd="_Tk8bgu2XEeWnDaII1mfokg _ThbNcu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk8bgu2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk8bge2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk8bhO2XEeWnDaII1mfokg" name="" memberEnd="_Tk8bhe2XEeWnDaII1mfokg _Thb0ge2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk8bhe2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk8bhO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk9Cke2XEeWnDaII1mfokg" name="" memberEnd="_Tk9Cku2XEeWnDaII1mfokg _Thcbke2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk9Cku2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk9Cke2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk9poe2XEeWnDaII1mfokg" name="" memberEnd="_Tk9pou2XEeWnDaII1mfokg _ThdCoO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk9pou2XEeWnDaII1mfokg" name="" type="_SzFgwO2XEeWnDaII1mfokg" association="_Tk9poe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_Snq68e2XEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="_SzX0oO2XEeWnDaII1mfokg" name="MainWindow">
                    <ownedComment xmi:id="_TjqpKe2XEeWnDaII1mfokg">
                      <body>@author waiyan
GUI for Physics Engine</body>
                    </ownedComment>
                    <generalization xmi:id="_TeDwYO2XEeWnDaII1mfokg" general="_TVpbQu2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThgF8O2XEeWnDaII1mfokg" name="contentPane" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_Tk9ppO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThgtAe2XEeWnDaII1mfokg" name="coeOfResPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_Tk-Qse2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThgtA-2XEeWnDaII1mfokg" name="coeOfResSlider" visibility="private" type="_TaA94e2XEeWnDaII1mfokg" association="_Tk-QtO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThhUEe2XEeWnDaII1mfokg" name="coeOfResLbl" visibility="private" type="_TZ_vwe2XEeWnDaII1mfokg" association="_Tk-3we2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thh7Ie2XEeWnDaII1mfokg" name="simSpdPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_Tk_e0e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thh7I-2XEeWnDaII1mfokg" name="simSpdSlider" visibility="private" type="_TaA94e2XEeWnDaII1mfokg" association="_Tk_e1O2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThiiMe2XEeWnDaII1mfokg" name="simSpdLbl" visibility="private" type="_TZ_vwe2XEeWnDaII1mfokg" association="_TlAF4e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThjJQO2XEeWnDaII1mfokg" name="lennardJonesCheckBox" visibility="private" type="_TZ_IsO2XEeWnDaII1mfokg" association="_TlAs8e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThjJQu2XEeWnDaII1mfokg" name="electrostaticCheckBox" visibility="private" type="_TZ_IsO2XEeWnDaII1mfokg" association="_TlAs9O2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThjwUe2XEeWnDaII1mfokg" name="simLvlPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlBUAe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThkXYe2XEeWnDaII1mfokg" name="forcesPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlBUBO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thk-ce2XEeWnDaII1mfokg" name="atomicRadioButton" visibility="private" type="_TZ_Isu2XEeWnDaII1mfokg" association="_TlB7Ee2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThllgO2XEeWnDaII1mfokg" name="molecularRadioButton" visibility="private" type="_TZ_Isu2XEeWnDaII1mfokg" association="_TlCiIe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thllgu2XEeWnDaII1mfokg" name="commandTextField" visibility="private" type="_TWizI-2XEeWnDaII1mfokg" association="_TlCiJO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThmMke2XEeWnDaII1mfokg" name="mediator" type="_SwZZIO2XEeWnDaII1mfokg" isReadOnly="true" association="_TlDJMe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThmMku2XEeWnDaII1mfokg" name="modelList" visibility="private" type="_St43sO2XEeWnDaII1mfokg" isOrdered="true" association="_TlDwQO2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThmzoO2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_Thmzou2XEeWnDaII1mfokg" name="lblSimulationMedium" visibility="private" type="_TZ_vwe2XEeWnDaII1mfokg" association="_TlDwQ-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thnase2XEeWnDaII1mfokg" name="panel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlEXUe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThoBwe2XEeWnDaII1mfokg" name="pauseButton" visibility="private" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_TlEXVO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_ThoBw-2XEeWnDaII1mfokg" name="restartButton" visibility="private" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_TlEXV-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_Thoo0e2XEeWnDaII1mfokg" name="partialMolCheckBox" visibility="private" type="_TZ_IsO2XEeWnDaII1mfokg" association="_TlE-Ye2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOou2XEeWnDaII1mfokg" name="MainWindow" specification="_SzZp0O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjSOo-2XEeWnDaII1mfokg" type="_SzX0oO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 900, 600);
		setLocationRelativeTo(null);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));
		setContentPane(contentPane);
			
		// add JMol Panel
		JmolDisplay jmolPanel = new JmolDisplay();
		jmolPanel.setBorder(new EmptyBorder(5,0,5,0));
		contentPane.add(jmolPanel);
		
		// add mediator
		mediator = new UpdateRegistry(jmolPanel.getViewer(), modelList);
		jmolPanel.getViewer().setPercentVdwAtom(100);
     jmolPanel.setMediator(mediator);
		
		// add RHS Panel for user input
		JPanel inputPanel = new JPanel();
		inputPanel.setLayout(new BoxLayout(inputPanel, BoxLayout.Y_AXIS));
		inputPanel.setBorder(new EmptyBorder(0,5,0,5));
		contentPane.add(inputPanel, BorderLayout.EAST);
		
		createSimLvlPanel();
		inputPanel.add(simLvlPanel);
		
		
		JPanel padding = new JPanel();
		padding.setSize(20, 20);
		inputPanel.add(padding);
		
		// add slider and label for coefficient of restitution
		createCoeOfResPanel();
		inputPanel.add(coeOfResPanel);
		JPanel padding2 = new JPanel();
		padding2.setSize(20, 20);
		inputPanel.add(padding2);
		
		createSimSpdPanel();
		inputPanel.add(simSpdPanel);
		JPanel padding4 = new JPanel();
		padding4.setSize(20, 20);
		inputPanel.add(padding4);
		
		
		createForcesPanel();
		inputPanel.add(forcesPanel);
		JPanel padding3 = new JPanel();
		padding3.setSize(20, 20);
		inputPanel.add(padding3);
		
		panel = new JPanel();
		inputPanel.add(panel);
		
		pauseButton = new JButton(&quot;Pause&quot;);
		pauseButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(pauseButton.getText().equals(&quot;Pause&quot;)){
					pauseButton.setText(&quot;Resume&quot;);
					World.simulationStatus = &quot;paused&quot;;
			}
				else{
					pauseButton.setText(&quot;Pause&quot;);
					World.simulationStatus = &quot;running&quot;;
					World.countDownLatch.countDown();
				}
			}
		});
		panel.add(pauseButton);
		
		restartButton = new JButton(&quot;Restart&quot;);
		restartButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(World.simulationStatus.equals(&quot;paused&quot;)){
					World.countDownLatch.countDown();
					pauseButton.setText(&quot;Pause&quot;);
				}
				World.simulationStatus = &quot;restart&quot;;
			}
		});
		panel.add(restartButton);
		
		// add text field for user input
		commandTextField = new JTextField();
		contentPane.add(commandTextField, BorderLayout.SOUTH);
		commandTextField.requestFocusInWindow();
		
		// add action listeners
		addActionListeners();
		this.setVisible(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOpO2XEeWnDaII1mfokg" name="createCoeOfResPanel" specification="_SzaQ4-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>coeOfResPanel = new JPanel();
		coeOfResPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		coeOfResPanel.setLayout(new BoxLayout(coeOfResPanel, BoxLayout.Y_AXIS));	
		
		JPanel panel1 = new JPanel();
	//	panel1.setLayout(new BoxLayout(panel1, BoxLayout.X_AXIS));
		
		JLabel label1 = new JLabel(&quot;Coefficient of Restitution: &quot;);
		panel1.add(label1);
		
		coeOfResLbl = new JLabel(String.valueOf(World.COEFFICENT_OF_RESTITUTION));
		coeOfResLbl.setAlignmentY(Component.TOP_ALIGNMENT);
		panel1.add(coeOfResLbl);
		
		lblSimulationMedium = new JLabel(&quot;Simulation Medium&quot;);
		lblSimulationMedium.setAlignmentX(Component.CENTER_ALIGNMENT);
		coeOfResPanel.add(lblSimulationMedium);
		
		coeOfResSlider = new JSlider(0,100);
		coeOfResSlider.setSnapToTicks(true);
		coeOfResSlider.setPaintTicks(true);
		coeOfResSlider.setPaintLabels(true);
		coeOfResPanel.add(coeOfResSlider);
		coeOfResSlider.setValue((int)(World.COEFFICENT_OF_RESTITUTION*100));
		
		coeOfResPanel.add(panel1);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOpe2XEeWnDaII1mfokg" name="createSimSpdPanel" specification="_Sza38O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simSpdPanel = new JPanel();
		simSpdPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		simSpdPanel.setLayout(new BoxLayout(simSpdPanel, BoxLayout.Y_AXIS));	
		
		JPanel panel1 = new JPanel();
	//	panel1.setLayout(new BoxLayout(panel1, BoxLayout.X_AXIS));
		
		JLabel label1 = new JLabel(&quot;Frame Duration (attosecond): &quot;);
		panel1.add(label1);
		
		simSpdLbl = new JLabel(String.valueOf(World.frameTime_as));
		simSpdLbl.setAlignmentY(Component.TOP_ALIGNMENT);
		panel1.add(simSpdLbl);
		
		JLabel l = new JLabel(&quot;Frame Duration&quot;);
		l.setAlignmentX(Component.CENTER_ALIGNMENT);
		simSpdPanel.add(l);
		
		simSpdSlider = new JSlider(0,100);
		simSpdSlider.setSnapToTicks(true);
		simSpdSlider.setPaintTicks(true);
		simSpdSlider.setPaintLabels(true);
		simSpdPanel.add(simSpdSlider);
		simSpdSlider.setValue((int)(World.frameTime_as));
		simSpdPanel.add(panel1);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOpu2XEeWnDaII1mfokg" name="createSimLvlPanel" specification="_Sza38e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simLvlPanel = new JPanel();
		simLvlPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
		simLvlPanel.setLayout(new BoxLayout(simLvlPanel, BoxLayout.Y_AXIS));
		
		JLabel label1 = new JLabel(&quot;Simulation Level&quot;);
		label1.setAlignmentX(Component.CENTER_ALIGNMENT);
		simLvlPanel.add(label1);
		
		ButtonGroup bg = new ButtonGroup();
		
		atomicRadioButton = new JRadioButton(&quot;atomic&quot;);
	    molecularRadioButton = new JRadioButton(&quot;molecular&quot;);
	    bg.add(atomicRadioButton);
	    bg.add(molecularRadioButton);
	    partialMolCheckBox = new JCheckBox(&quot;Partial Molecular&quot;);
	    
	    if(World.simulationLvlAtomic == true) {
	    	atomicRadioButton.setSelected(true);
	    	partialMolCheckBox.setEnabled(false);
	    	partialMolCheckBox.setSelected(false);
	    }
	    else {
	    	molecularRadioButton.setSelected(true);
	    	partialMolCheckBox.setEnabled(true);
	    	partialMolCheckBox.setSelected(World.simulationLvlPartial);
	    }
	    
	    JPanel panel2 = new JPanel();
	    panel2.add(atomicRadioButton);
	    panel2.add(molecularRadioButton);
		simLvlPanel.add(panel2);	
		JPanel panel1 = new JPanel();
		panel1.add(partialMolCheckBox);
		simLvlPanel.add(panel1);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjSOp-2XEeWnDaII1mfokg" name="createForcesPanel" specification="_Sza38u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>forcesPanel = new JPanel();
		forcesPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
	//	forcesPanel.setLayout(new BoxLayout(forcesPanel, BoxLayout.Y_AXIS));
		forcesPanel.setLayout(new BorderLayout());
		
		ButtonGroup bg = new ButtonGroup();
		lennardJonesCheckBox = new JCheckBox(&quot;Lennard-Jones Force&quot;);
		lennardJonesCheckBox.setAlignmentX(Component.CENTER_ALIGNMENT);
	    electrostaticCheckBox = new JCheckBox(&quot;Electrostatic Force&quot;);
	    electrostaticCheckBox.setAlignmentX(Component.CENTER_ALIGNMENT);
	 
	    if(World.electricForceActive)
	    	electrostaticCheckBox.setSelected(true);
	    if(World.LJForceActive)
	    	lennardJonesCheckBox.setSelected(true);
	    
	    JPanel panel2 = new JPanel();
	    panel2.setLayout(new BoxLayout(panel2, BoxLayout.Y_AXIS));
	    JLabel label1 = new JLabel(&quot;Forces&quot;);
	    label1.setAlignmentX(Component.CENTER_ALIGNMENT);
	    
	    panel2.add(label1);
	    panel2.add(electrostaticCheckBox);
	    panel2.add(lennardJonesCheckBox);
		forcesPanel.add(panel2, BorderLayout.CENTER);	
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjS1sO2XEeWnDaII1mfokg" name="addActionListeners" specification="_SzbfAO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>DecimalFormat formatter = new DecimalFormat(&quot;0.00&quot;);
		
		coeOfResSlider.addChangeListener(new ChangeListener() {
			public void stateChanged(ChangeEvent event) {
             double currentVal = ((JSlider)event.getSource()).getValue()/100.0;
             coeOfResLbl.setText(formatter.format(currentVal));
             World.COEFFICENT_OF_RESTITUTION = currentVal;
             World.resetActiveParticlesVelocities();
         }
     });
		
		simSpdSlider.addChangeListener(new ChangeListener() {
			public void stateChanged(ChangeEvent event) {
             int currentVal = ((JSlider)event.getSource()).getValue();
             simSpdLbl.setText(String.valueOf(currentVal));
             World.frameTime_as = currentVal;
             World.resetActiveParticlesVelocities();
         }
     });
		
		commandTextField.addKeyListener(new KeyAdapter() {
         public void keyReleased(KeyEvent e) {
         	if(e.getKeyCode() != 10)	// enter key
         		return;
         	
         	JTextField textField = (JTextField) e.getSource();
             String text = textField.getText();
             commandTextField.setText(text.toUpperCase()); 
             try {
					World.setCommand(textField.getText());
				} catch (Exception e1) {
					e1.printStackTrace();
				}
         }
		});
		
		atomicRadioButton.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JRadioButton button = (JRadioButton) e.getSource();
		        if (button.getText().equals(&quot;atomic&quot;)){
		        	World.simulationLvlAtomic = true;
		        	electrostaticCheckBox.setEnabled(true);
		        	electrostaticCheckBox.setSelected(World.electricForceActive);
		        	
		        	World.frameTime_as = 50;
		        	simSpdLbl.setText(&quot;50&quot;);
		        	simSpdSlider.setValue(50);
		        	partialMolCheckBox.setEnabled(false);
			    	partialMolCheckBox.setSelected(false);
			    	World.simulationStatus = &quot;changed&quot;;
		        }
		    }
		});
		
		molecularRadioButton.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JRadioButton button = (JRadioButton) e.getSource();
		        if (button.getText().equals(&quot;molecular&quot;)){
		        	World.simulationLvlAtomic = false;
		    
		        	partialMolCheckBox.setEnabled(true);
			    	partialMolCheckBox.setSelected(World.simulationLvlPartial);
		        	World.simulationStatus = &quot;changed&quot;;
		        }
		    }
		});
		
		lennardJonesCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Lennard-Jones Force&quot;)){
		        	if(checkBox.isSelected())
		        		World.LJForceActive = true;
		        	else
		        		World.LJForceActive = false;
		        }
		        World.resetActiveParticlesVelocities();
		    }
		});
		
		electrostaticCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Electrostatic Force&quot;)){
		        	if(checkBox.isSelected())
		        		World.electricForceActive = true;
		        	else
		        		World.electricForceActive = false;
		        }
		        World.resetActiveParticlesVelocities();
		     //   World.simulationStatus = &quot;restart&quot;;
		    }
		});
		
		partialMolCheckBox.addActionListener(new ActionListener(){
		    public void actionPerformed(ActionEvent e) {
		    	JCheckBox checkBox = (JCheckBox) e.getSource();
		        if (checkBox.getText().equals(&quot;Partial Molecular&quot;)){
		        	if(checkBox.isSelected())
		        		World.simulationLvlPartial = true;
		        	else
		        		World.simulationLvlPartial = false;
		        }
		        World.resetActiveParticlesVelocities();
		        World.simulationStatus = &quot;changed&quot;;
		    }
		});
		
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_SzZp0O2XEeWnDaII1mfokg" name="MainWindow" method="_TjSOou2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_SzaQ4O2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_SzaQ4e2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjqpKu2XEeWnDaII1mfokg">
                        <body>Create the main frame.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_SzaQ4u2XEeWnDaII1mfokg" type="_SzX0oO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_SzaQ4-2XEeWnDaII1mfokg" name="createCoeOfResPanel" visibility="private" method="_TjSOpO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjqpK-2XEeWnDaII1mfokg">
                        <body>Create the panel for setting the coefficient of resolution</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sza38O2XEeWnDaII1mfokg" name="createSimSpdPanel" visibility="private" method="_TjSOpe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Sza38e2XEeWnDaII1mfokg" name="createSimLvlPanel" visibility="private" method="_TjSOpu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjqpLO2XEeWnDaII1mfokg">
                        <body>Create the panel for setting the simulation level (atomic or molecular)</body>
                      </ownedComment>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Sza38u2XEeWnDaII1mfokg" name="createForcesPanel" visibility="private" method="_TjSOp-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_SzbfAO2XEeWnDaII1mfokg" name="addActionListeners" visibility="private" method="_TjS1sO2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_TjqpLe2XEeWnDaII1mfokg">
                        <body>Add ActionListeners for UI inputs</body>
                      </ownedComment>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk9ppO2XEeWnDaII1mfokg" name="" memberEnd="_Tk9ppe2XEeWnDaII1mfokg _ThgF8O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk9ppe2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk9ppO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk-Qse2XEeWnDaII1mfokg" name="" memberEnd="_Tk-Qsu2XEeWnDaII1mfokg _ThgtAe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk-Qsu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk-Qse2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk-QtO2XEeWnDaII1mfokg" name="" memberEnd="_Tk-Qte2XEeWnDaII1mfokg _ThgtA-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk-Qte2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk-QtO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk-3we2XEeWnDaII1mfokg" name="" memberEnd="_Tk-3wu2XEeWnDaII1mfokg _ThhUEe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk-3wu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk-3we2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk_e0e2XEeWnDaII1mfokg" name="" memberEnd="_Tk_e0u2XEeWnDaII1mfokg _Thh7Ie2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk_e0u2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk_e0e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_Tk_e1O2XEeWnDaII1mfokg" name="" memberEnd="_Tk_e1e2XEeWnDaII1mfokg _Thh7I-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_Tk_e1e2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_Tk_e1O2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlAF4e2XEeWnDaII1mfokg" name="" memberEnd="_TlAF4u2XEeWnDaII1mfokg _ThiiMe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlAF4u2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlAF4e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlAs8e2XEeWnDaII1mfokg" name="" memberEnd="_TlAs8u2XEeWnDaII1mfokg _ThjJQO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlAs8u2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlAs8e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlAs9O2XEeWnDaII1mfokg" name="" memberEnd="_TlAs9e2XEeWnDaII1mfokg _ThjJQu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlAs9e2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlAs9O2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlBUAe2XEeWnDaII1mfokg" name="" memberEnd="_TlBUAu2XEeWnDaII1mfokg _ThjwUe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlBUAu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlBUAe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlBUBO2XEeWnDaII1mfokg" name="" memberEnd="_TlBUBe2XEeWnDaII1mfokg _ThkXYe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlBUBe2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlBUBO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlB7Ee2XEeWnDaII1mfokg" name="" memberEnd="_TlB7Eu2XEeWnDaII1mfokg _Thk-ce2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlB7Eu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlB7Ee2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlCiIe2XEeWnDaII1mfokg" name="" memberEnd="_TlCiIu2XEeWnDaII1mfokg _ThllgO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlCiIu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlCiIe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlCiJO2XEeWnDaII1mfokg" name="" memberEnd="_TlCiJe2XEeWnDaII1mfokg _Thllgu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlCiJe2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlCiJO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlDJMe2XEeWnDaII1mfokg" name="" memberEnd="_TlDJMu2XEeWnDaII1mfokg _ThmMke2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlDJMu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlDJMe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlDwQO2XEeWnDaII1mfokg" name="" memberEnd="_TlDwQe2XEeWnDaII1mfokg _ThmMku2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlDwQe2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlDwQO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlDwQ-2XEeWnDaII1mfokg" name="" memberEnd="_TlDwRO2XEeWnDaII1mfokg _Thmzou2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlDwRO2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlDwQ-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlEXUe2XEeWnDaII1mfokg" name="" memberEnd="_TlEXUu2XEeWnDaII1mfokg _Thnase2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlEXUu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlEXUe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlEXVO2XEeWnDaII1mfokg" name="" memberEnd="_TlEXVe2XEeWnDaII1mfokg _ThoBwe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlEXVe2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlEXVO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlEXV-2XEeWnDaII1mfokg" name="" memberEnd="_TlEXWO2XEeWnDaII1mfokg _ThoBw-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlEXWO2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlEXV-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlE-Ye2XEeWnDaII1mfokg" name="" memberEnd="_TlE-Yu2XEeWnDaII1mfokg _Thoo0e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlE-Yu2XEeWnDaII1mfokg" name="" type="_SzX0oO2XEeWnDaII1mfokg" association="_TlE-Ye2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_SlqIwO2XEeWnDaII1mfokg" name="ss_predictor">
                <packagedElement xmi:type="uml:Class" xmi:id="_SvVCIO2XEeWnDaII1mfokg" name="IOutilityTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-FkO2XEeWnDaII1mfokg" name="testFastafileToInputStream" specification="_SvVpMO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/TEST.txt&quot;;
		String input = &quot;ABCD&quot;;
		StringBuilder sb = new StringBuilder();
		InputStream is = IOutility.fastafileToInputStream(pathname);
		InputStreamReader isr = new InputStreamReader(is);
		BufferedReader br = new BufferedReader(isr);
		String read = br.readLine();
		sb.append(read);
		String result = sb.toString();
		assertEquals(input,result);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fke2XEeWnDaII1mfokg" name="testPdbFileTofastaString" specification="_SvWQQu2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		String pdbstring = IOutility.pdbFileTofastaString(pathname);
		String result = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		assertEquals(result,pdbstring);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fku2XEeWnDaII1mfokg" name="testPdbStringTofastaString" specification="_SvW3U-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		File file = new File(pathname);
		StringBuilder sb = new StringBuilder((int)file.length());
		Scanner input = new Scanner(file);
		String lineSeparator = System.getProperty(&quot;line.separator&quot;);
		while (input.hasNextLine()){
			sb.append(input.nextLine() + lineSeparator);
		}
		String result = sb.toString();
		//System.out.println(result);
		String test = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		String fastastring = IOutility.pdbStringTofastaString(result);
		assertEquals(test,fastastring);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fk-2XEeWnDaII1mfokg" name="testStringToInputStream" specification="_SvXeY-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String string = &quot;abcd&quot;;
		InputStream is = IOutility.stringToInputStream(string);
		InputStreamReader isr = new InputStreamReader(is);
		StringBuilder sb = new StringBuilder();
		BufferedReader br = new BufferedReader(isr);
		String read = br.readLine();
		sb.append(read);
		String result = sb.toString();
		assertEquals(string,result);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-FlO2XEeWnDaII1mfokg" name="testObjectstoFasta" specification="_SvYsgO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		String result = IOutility.ObjectstoFasta(models.get(0).getMolecules().get(0).getChains());
		String test = &quot;>&quot;+&quot;\n&quot; + &quot;MTYKLILNGKTLKGETTTEAVDAATAEKVFKQYANDNGVDGEWTYDDATKTFTVTE&quot;;
		assertEquals(test,result);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fle2XEeWnDaII1mfokg" name="testObjectstoPdbString" specification="_SvYshO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		String pdbstring = IOutility.ObjectstoPdbString(models);
		assertNotNull(pdbstring);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Flu2XEeWnDaII1mfokg" name="testSTRIDEWritetoFile" specification="_SvZTk-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		IOutility.STRIDEWriteToFile(sp.Pregion);
		System.out.println(sp.Pregion.get(0).start);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fl-2XEeWnDaII1mfokg" name="testIUPREDWritetoFile" specification="_SvZ6o-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/1PGB.fasta.txt&quot;;
		InputStream is = IOutility.fastafileToInputStream(pathname);
		IUPRED_Predictor sp = new IUPRED_Predictor();
		sp.process(is);
		IOutility.IUPREDWriteToFile(sp.Pregion);
		System.out.println(sp.Pregion.get(0).aminoacid);
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-FmO2XEeWnDaII1mfokg" name="testCreateAminoAcids" specification="_Svahs-2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String projectFolder=System.clearProperty(&quot;user.dir&quot;);
//		System.out.println(System.clearProperty(&quot;current.dir&quot;));
		String pathname = projectFolder+&quot;/res/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		ArrayList&lt;AminoAcid>test = IOutility.createAminoAcid(pathname,sp.Pregion.get(0));
		assertEquals(&quot;PRO&quot;,test.get(0).getName());
	//	System.out.println(test.get(0).getResidueSeqNum());
	//	System.out.println(test.get(0).getName());
	//	float[] coo = test.get(0).getAtomList().get(0).getCoordinates();
	//	System.out.println(Arrays.toString(coo));
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Ti-Fme2XEeWnDaII1mfokg" name="testCreateResiduesFromModel" specification="_Svbv0O2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		File file = new File(&quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		
		ArrayList&lt;Residue> test =  IOutility.createObjectsFromModel(sp.Pregion.get(0), models.get(0));
		assertEquals(&quot;PRO&quot;,test.get(0).getName());
		/*System.out.println(test.size());
		for(Residue r: test){
			for(Atom a :r.getAtomList()){
			System.out.println(a.getName());
			}
		}*/
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_SvVpMO2XEeWnDaII1mfokg" name="testFastafileToInputStream" method="_Ti-FkO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvWQQu2XEeWnDaII1mfokg" name="testPdbFileTofastaString" method="_Ti-Fke2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvW3U-2XEeWnDaII1mfokg" name="testPdbStringTofastaString" method="_Ti-Fku2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvXeY-2XEeWnDaII1mfokg" name="testStringToInputStream" method="_Ti-Fk-2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvYsgO2XEeWnDaII1mfokg" name="testObjectstoFasta" method="_Ti-FlO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvYshO2XEeWnDaII1mfokg" name="testObjectstoPdbString" method="_Ti-Fle2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvZTk-2XEeWnDaII1mfokg" name="testSTRIDEWritetoFile" method="_Ti-Flu2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_SvZ6o-2XEeWnDaII1mfokg" name="testIUPREDWritetoFile" method="_Ti-Fl-2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_Svahs-2XEeWnDaII1mfokg" name="testCreateAminoAcids" method="_Ti-FmO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_Svbv0O2XEeWnDaII1mfokg" name="testCreateResiduesFromModel" method="_Ti-Fme2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_Soy8VO2XEeWnDaII1mfokg" name="PredictorController">
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_hsvcoO2XEeWnDaII1mfokg" name="InputMethodEnum"/>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_hswDsO2XEeWnDaII1mfokg" name="OutputMethodEnum"/>
                  <packagedElement xmi:type="uml:Enumeration" xmi:id="_hswDsu2XEeWnDaII1mfokg" name="PredictorEnum"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_S0xi0O2XEeWnDaII1mfokg" name="IOutility">
                  <ownedAttribute xmi:id="_TiQT4O2XEeWnDaII1mfokg" name="map" visibility="package" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <qualifier xmi:id="_TiQ68O2XEeWnDaII1mfokg">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </qualifier>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiQT4e2XEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKde2XEeWnDaII1mfokg" name="_initializer1" specification="_S0yJ4O2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>map.put(&quot;GLY&quot;, &quot;G&quot;);
		map.put(&quot;ALA&quot;, &quot;A&quot;);
		map.put(&quot;VAL&quot;, &quot;V&quot;);
		map.put(&quot;LEU&quot;, &quot;L&quot;);
		map.put(&quot;ILE&quot;, &quot;I&quot;);
		map.put(&quot;PRO&quot;, &quot;P&quot;);
		map.put(&quot;PHE&quot;, &quot;F&quot;);
		map.put(&quot;TYR&quot;, &quot;Y&quot;);
		map.put(&quot;TRP&quot;, &quot;W&quot;);
		map.put(&quot;SER&quot;, &quot;S&quot;);
		map.put(&quot;THR&quot;, &quot;T&quot;);
		map.put(&quot;CYS&quot;, &quot;C&quot;);
		map.put(&quot;MET&quot;, &quot;M&quot;);
		map.put(&quot;ASN&quot;, &quot;N&quot;);
		map.put(&quot;GLN&quot;, &quot;Q&quot;);
		map.put(&quot;LYS&quot;, &quot;K&quot;);
		map.put(&quot;ARG&quot;, &quot;R&quot;);
		map.put(&quot;HIS&quot;, &quot;H&quot;);
		map.put(&quot;ASP&quot;, &quot;D&quot;);
		map.put(&quot;GLU&quot;, &quot;E&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKdu2XEeWnDaII1mfokg" name="fastafileToInputStream" specification="_S0yw8-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TjaKd-2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TjaKeO2XEeWnDaII1mfokg" type="_TWDD4-2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>File f = new File(pathname);
	InputStream inputStream = null;
		if (f.exists()){
			InputStreamProvider isp = new InputStreamProvider();
			try {
				 inputStream = isp.getInputStream(pathname);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
		return inputStream;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKee2XEeWnDaII1mfokg" name="pdbFileTofastaString" specification="_S0zYAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TjaKeu2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TjaKe-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>StringBuilder sb = new StringBuilder();
			sb.append(&quot;>&quot;).append(&quot;\n&quot;);
			PDBFileReader pdbreader = new PDBFileReader();
			Structure structure = null;
			String sequence = null;
			try{
				structure=pdbreader.getStructure(pathname);
				for(org.biojava.bio.structure.Chain c :structure.getChains()){
					sequence = c.getAtomSequence();
					sb.append(sequence);
					}
				}catch (IOException e){
				e.printStackTrace();
			}
			return sb.toString();
		
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKfO2XEeWnDaII1mfokg" name="pdbStringTofastaString" specification="_S00mIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TjaKfe2XEeWnDaII1mfokg" name="pdbString">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TjaKfu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>InputStream is = new ByteArrayInputStream(pdbString.getBytes(StandardCharsets.UTF_8));
		PDBFileParser pdbreader = new PDBFileParser();
		BufferedReader br = new BufferedReader(new InputStreamReader(is));
		StringBuilder sb = new StringBuilder();
		sb.append(&quot;>&quot;).append(&quot;\n&quot;);
		Structure structure = null;
		String sequence = null;
		try{
			structure=pdbreader.parsePDBFile(br);
			for(org.biojava.bio.structure.Chain c :structure.getChains()){
				sequence = c.getAtomSequence();
				sb.append(sequence);
				}
			}catch (IOException e){
			e.printStackTrace();
		}
	//	System.out.println(sb.toString());
		return sb.toString();
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaxgO2XEeWnDaII1mfokg" name="stringToInputStream" specification="_S01NMe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxge2XEeWnDaII1mfokg" name="input">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjaxgu2XEeWnDaII1mfokg" type="_TWDD4-2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>InputStream inputStream = null;
		
			if(input==null){
				throw new IllegalStateException(&quot;Input String not yet set&quot;);
				
			}else{
				inputStream = new ByteArrayInputStream(input.getBytes());
			}
				
		return inputStream;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxg-2XEeWnDaII1mfokg" name="ObjectstoFasta" specification="_Te6E8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TjaxhO2XEeWnDaII1mfokg" name="chains" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjaxhe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>StringBuilder sb = new StringBuilder();
		sb.append(&quot;>&quot;).append(&quot;\n&quot;);
		char x;
		for (Chain c:chains){
			for(Residue res:c.getResidues()){
			AminoAcid aa = (AminoAcid)res;	
			x = aa.getAminoChar();	
			sb.append(x);
			}
		}
		return sb.toString();
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxhu2XEeWnDaII1mfokg" name="ObjectstoPdbString" specification="_Te6sAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxh-2XEeWnDaII1mfokg" name="models" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TjaxiO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return DataManager.modelToPDB(models);
	
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxie2XEeWnDaII1mfokg" name="STRIDEWriteToFile" specification="_Te7TEe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxiu2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>FileWriter writer = new FileWriter(&quot;/temp/STRIDE_Output.txt&quot;);
			ArrayList&lt;String> strings = new ArrayList&lt;String>();
			for(STRIDE_Output o :output){
				strings.add(o.toString());
			}
			for(String str: strings){
				writer.write(str);
				writer.write(System.getProperty(&quot;line.separator&quot;));
			}
			writer.close();
			
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxi-2XEeWnDaII1mfokg" name="IUPREDWriteToFile" specification="_Te9IQO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TjaxjO2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>FileWriter writer = new FileWriter(&quot;/temp/IUPRED_Output.txt&quot;);
		ArrayList&lt;String> strings = new ArrayList&lt;String>();
		for(IUPRED_Output o :output){
			strings.add(o.toString());
		}
		for(String str: strings){
			writer.write(str);
			writer.write(System.getProperty(&quot;line.separator&quot;));
		}
		writer.close();
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxje2XEeWnDaII1mfokg" name="createAminoAcid" specification="_Te-WYe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxju2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjaxj-2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TjaxkO2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>PDBFileReader pdbreader = new PDBFileReader();
		 Structure pdb = null;
		 
		 ArrayList&lt;AminoAcid> regions = new ArrayList&lt;AminoAcid>();
		 
		 try {
			pdb = pdbreader.getStructure(pathname);
	
				org.biojava.bio.structure.Chain c = pdb.getChainByPDB(stride.chain);
				for(Group a:c.getGroupsByPDB(stride.startpos, stride.endpos)){
					AminoAcid aa = new AminoAcid();
					aa.setName(a.getPDBName());
					aa.setAminoChar(map.get(a.getPDBName()).charAt(0));
					Chain chain = new Chain();
					aa.setParent(chain);
					chain.setChainName(a.getChainId());
					aa.setResidueSeqNum(Integer.parseInt(a.getPDBCode()));
					aa.setAtomList(a.getAtoms());	
					regions.add(aa);
				}
			
		} catch (IOException | StructureException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		 return regions;
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjaxke2XEeWnDaII1mfokg" name="createObjectsFromPDB" specification="_TfALkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxku2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjaxk-2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ArrayList&lt;ArrayList&lt;AminoAcid>> PaminoAcid=new ArrayList&lt;ArrayList&lt;AminoAcid>>();
		for(STRIDE_Output o : output){
			PaminoAcid.add(IOutility.createAminoAcid(pathname,o));
		}
		
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaxlO2XEeWnDaII1mfokg" name="createObjectsFromModel" specification="_TfCAwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjaxle2XEeWnDaII1mfokg" name="output" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjaxlu2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjaxl-2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>Model m = (Model)input;
		
		ArrayList&lt;Residue> Presidues=new ArrayList&lt;Residue>();
			for(Molecule mol:m.getMolecules()){
				for(Chain c:mol.getChains()){
					if(c.name.equals(output.chain)){
						Presidues = c.getResidues(output.startpos, output.endpos);
					}	
				}
			}
		
			return Presidues;
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_S0yJ4O2XEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="_TjaKde2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_S0yw8O2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_S0yw8e2XEeWnDaII1mfokg" key="init"/>
                    </eAnnotations>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S0yw8-2XEeWnDaII1mfokg" name="fastafileToInputStream" isStatic="true" method="_TjaKdu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S0yw9O2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Te5d4O2XEeWnDaII1mfokg" type="_TWDD4-2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S0zYAO2XEeWnDaII1mfokg" name="pdbFileTofastaString" isStatic="true" method="_TjaKee2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S0zYAe2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S0zYAu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S00mIO2XEeWnDaII1mfokg" name="pdbStringTofastaString" isStatic="true" method="_TjaKfO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S00mIe2XEeWnDaII1mfokg" name="pdbString">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S01NMO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S01NMe2XEeWnDaII1mfokg" name="stringToInputStream" isStatic="true" method="_TjaxgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S01NMu2XEeWnDaII1mfokg" name="input">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Te5d4e2XEeWnDaII1mfokg" type="_TWDD4-2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Te6E8O2XEeWnDaII1mfokg" name="ObjectstoFasta" isStatic="true" method="_Tjaxg-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Te6E8e2XEeWnDaII1mfokg" name="chains" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Te6E8u2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Te6sAO2XEeWnDaII1mfokg" name="ObjectstoPdbString" isStatic="true" method="_Tjaxhu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Te6sAe2XEeWnDaII1mfokg" name="models" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Te6sAu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Te7TEe2XEeWnDaII1mfokg" name="STRIDEWriteToFile" isStatic="true" method="_Tjaxie2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Te7TEu2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Te9IQO2XEeWnDaII1mfokg" name="IUPREDWriteToFile" isStatic="true" method="_Tjaxi-2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Te9IQe2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_Te-WYe2XEeWnDaII1mfokg" name="createAminoAcid" isStatic="true" method="_Tjaxje2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Te-WYu2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Te-WY-2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Te-9ce2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TfALkO2XEeWnDaII1mfokg" name="createObjectsFromPDB" isStatic="true" method="_Tjaxke2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TfALke2XEeWnDaII1mfokg" name="output" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TfALku2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TfCAwO2XEeWnDaII1mfokg" name="createObjectsFromModel" isStatic="true" method="_TjaxlO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TfCAwe2XEeWnDaII1mfokg" name="output" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TfCAwu2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TfCn0e2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_S1DPoO2XEeWnDaII1mfokg" name="AlphaHelix">
                  <generalization xmi:id="_TbXBsO2XEeWnDaII1mfokg" general="_S1Fr4O2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjb_qe2XEeWnDaII1mfokg" name="setResidues" specification="_TfJVgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjb_qu2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjb_q-2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>ArrayList &lt;Residue> temp = new ArrayList &lt;Residue>();
		if(stride.prediction.equals(&quot;AlphaHelix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjcmsO2XEeWnDaII1mfokg" name="getOrientation" specification="_TfJ8kO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjcmse2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_Tjcmsu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcms-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-4;
		ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
		float [] avg = new float [3];
		float sum0 = 0; float sum1 = 0; float sum2 = 0;
		Residue[] key = new Residue[size];
		Residue[] value = new Residue[size];
		for(int i = 0; i&lt; size; i++){	
				key[i]=residues.get(i);
				value[i]=residues.get(i+4);
				total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
			}
		
		for(float[] f1:total){
	
		sum0 += f1[0];
		sum1 += f1[1];
		sum2 += f1[2];
		
		avg[0] = sum0 /total.size();
		avg[1] = sum1 /total.size();
		avg[2] = sum2 /total.size();
		}
		
		
		
		return avg;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_TfJVgO2XEeWnDaII1mfokg" name="setResidues" method="_Tjb_qe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TfJVge2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TfJVgu2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_TfJ8kO2XEeWnDaII1mfokg" name="getOrientation" method="_TjcmsO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_TfJ8ke2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_TfJ8ku2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TfJ8k-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_S1EdwO2XEeWnDaII1mfokg" name="AlphaHelixTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjcmtO2XEeWnDaII1mfokg" name="test" specification="_S1Edwe2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		STRIDE_Predictor sp = new STRIDE_Predictor();
		sp.process(pathname);
		File file = new File(&quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		
		AlphaHelix alpha = new AlphaHelix();
		
		alpha.setResidues(sp.Pregion.get(0), models.get(0));
		
		//PDBFileReader pdbreader = new PDBFileReader();
		//Structure pdb = null;
		
		//pdb = pdbreader.getStructure(pathname);
		
		/*try {
			org.biojava.bio.structure.Chain c = pdb.getChainByPDB(sp.Pregion.get(0).chain);
			for(Residue res:alpha.residues){
				
			}
		} catch (StructureException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}*/
		
		System.out.println(sp.Pregion.size());
		double  t =alpha.getLength(alpha.residues.get(alpha.residues.size()-1).getAtom(&quot;CA&quot;).getCoordinates(), alpha.residues.get(0).getAtom(&quot;CA&quot;).getCoordinates());
		
		System.out.println(t);
		
		
		
		float[] avg = alpha.getOrientation(alpha.residues);
		System.out.println(Helix.Cal_euc_distance(avg));
		System.out.println(Arrays.toString(avg));
		
		

		
		
		
			
	
			
	
			
		
		
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_S1Edwe2XEeWnDaII1mfokg" name="test" method="_TjcmtO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_S1Fr4O2XEeWnDaII1mfokg" name="Helix">
                  <ownedAttribute xmi:id="_Tiar8O2XEeWnDaII1mfokg" name="residues" visibility="package" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlWEIe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_TibTAu2XEeWnDaII1mfokg" name="orientation" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                    <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tib6EO2XEeWnDaII1mfokg" value="*"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjcmte2XEeWnDaII1mfokg" name="FindDifference" specification="_S1GS8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjcmtu2XEeWnDaII1mfokg" name="f1">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcmt-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_TjcmuO2XEeWnDaII1mfokg" name="f2">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcmue2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjcmuu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcmu-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>float[] length = new float[3];
		length [0] = f1[0]-f2[0];
		length [1] = f1[1]-f2[1];
		length [2] = f1[2]-f2[2];
		
		return length;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjcmvO2XEeWnDaII1mfokg" name="Cal_euc_distance" specification="_S1G6Au2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjcmve2XEeWnDaII1mfokg" name="f">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcmvu2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjcmv-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double e_dist = 0;
		e_dist = Math.sqrt(((f[0]*f[0])+(f[1]*f[1])+(f[2]*f[2])));
		return e_dist;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjcmwO2XEeWnDaII1mfokg" name="getLength" specification="_S1HhEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_Tjcmwe2XEeWnDaII1mfokg" name="start">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjcmwu2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjcmw-2XEeWnDaII1mfokg" name="end">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjcmxO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_Tjcmxe2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>double length = 0;
		float[] diff = FindDifference(end, start);	
		length = Cal_euc_distance(diff);
		
		return length;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_S1GS8O2XEeWnDaII1mfokg" name="FindDifference" isStatic="true" method="_Tjcmte2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S1GS8e2XEeWnDaII1mfokg" name="f1">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1G6AO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S1GS8u2XEeWnDaII1mfokg" name="f2">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1G6Ae2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S1GS8-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1GS9O2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S1G6Au2XEeWnDaII1mfokg" name="Cal_euc_distance" isStatic="true" method="_TjcmvO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S1G6A-2XEeWnDaII1mfokg" name="f">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1G6Be2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S1G6BO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_S1HhEO2XEeWnDaII1mfokg" name="getLength" method="_TjcmwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_S1HhEe2XEeWnDaII1mfokg" name="start">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1HhFO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S1HhEu2XEeWnDaII1mfokg" name="end">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1IIIO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_S1HhE-2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_Te9vUe2XEeWnDaII1mfokg" name="STRIDE_Output">
                  <ownedAttribute xmi:id="_htXHse2XEeWnDaII1mfokg" name="prediction" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htXuwO2XEeWnDaII1mfokg" name="chain" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htXuwu2XEeWnDaII1mfokg" name="start" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htXuxO2XEeWnDaII1mfokg" name="startpos" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htYV0e2XEeWnDaII1mfokg" name="end" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htYV0-2XEeWnDaII1mfokg" name="endpos" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht0asO2XEeWnDaII1mfokg" name="Rpred" specification="_hp9OYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht0ase2XEeWnDaII1mfokg" name="Rpred">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>prediction = Rpred;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht0asu2XEeWnDaII1mfokg" name="Rchain" specification="_hp91cO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht0as-2XEeWnDaII1mfokg" name="Rchain">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>chain = Rchain;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht0atO2XEeWnDaII1mfokg" name="Rstart" specification="_hp91cu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht0ate2XEeWnDaII1mfokg" name="Rstart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>start = Rstart;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht0atu2XEeWnDaII1mfokg" name="RstartPos" specification="_hp-cge2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht0at-2XEeWnDaII1mfokg" name="RstartPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>startpos = RstartPos;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht1BwO2XEeWnDaII1mfokg" name="Rend" specification="_hp_DkO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht1Bwe2XEeWnDaII1mfokg" name="Rend">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>end = Rend;
		 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht1o0O2XEeWnDaII1mfokg" name="RendPos" specification="_hp_Dku2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht1o0e2XEeWnDaII1mfokg" name="RendPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>endpos = RendPos;
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht1o0u2XEeWnDaII1mfokg" name="printRegion" specification="_hoZvMO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>System.out.println(&quot;Prediction:&quot;+prediction+&quot;	Chain:&quot;+chain+&quot;		Start:&quot;+start+&quot;		End:&quot;+ end);	 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht2P4O2XEeWnDaII1mfokg" name="toString" specification="_hoZvMe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht2P4e2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>String string=null;
		 string = &quot;Prediction:&quot;+prediction+&quot;	Chain:&quot;+chain+&quot;		Start:&quot;+start+&quot;		End:&quot;+end+&quot;&quot;; 
		 return string;
	 </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hoZvMO2XEeWnDaII1mfokg" name="printRegion" method="_ht1o0u2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hoZvMe2XEeWnDaII1mfokg" name="toString" method="_ht2P4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp_qoO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp9OYO2XEeWnDaII1mfokg" name="Rpred" method="_ht0asO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp9OYe2XEeWnDaII1mfokg" name="Rpred">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp91cO2XEeWnDaII1mfokg" name="Rchain" method="_ht0asu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp91ce2XEeWnDaII1mfokg" name="Rchain">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp91cu2XEeWnDaII1mfokg" name="Rstart" method="_ht0atO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp-cgO2XEeWnDaII1mfokg" name="Rstart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp-cge2XEeWnDaII1mfokg" name="RstartPos" method="_ht0atu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp-cgu2XEeWnDaII1mfokg" name="RstartPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp_DkO2XEeWnDaII1mfokg" name="Rend" method="_ht1BwO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp_Dke2XEeWnDaII1mfokg" name="Rend">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp_Dku2XEeWnDaII1mfokg" name="RendPos" method="_ht1o0O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp_Dk-2XEeWnDaII1mfokg" name="RendPos">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_TlWEIe2XEeWnDaII1mfokg" name="" memberEnd="_TlWEIu2XEeWnDaII1mfokg _Tiar8O2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_TlWEIu2XEeWnDaII1mfokg" name="" type="_S1Fr4O2XEeWnDaII1mfokg" association="_TlWEIe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpetQO2XEeWnDaII1mfokg" name="IUPRED_Output">
                  <ownedAttribute xmi:id="_htOk0O2XEeWnDaII1mfokg" name="position" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htOk0u2XEeWnDaII1mfokg" name="aminoacid" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htPL4e2XEeWnDaII1mfokg" name="score" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htPy8e2XEeWnDaII1mfokg" name="map" visibility="package" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    <qualifier xmi:id="_htQaAe2XEeWnDaII1mfokg">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </qualifier>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htQaAO2XEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htviM-2XEeWnDaII1mfokg" name="_initializer1" specification="_hpfUUO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>map.put(&quot;G&quot;, &quot;GLY&quot;);
		map.put(&quot;A&quot;, &quot;ALA&quot;);
		map.put(&quot;V&quot;, &quot;VAL&quot;);
		map.put(&quot;L&quot;, &quot;LEU&quot;);
		map.put(&quot;I&quot;, &quot;ILE&quot;);
		map.put(&quot;P&quot;, &quot;PRO&quot;);
		map.put(&quot;F&quot;, &quot;PHE&quot;);
		map.put(&quot;Y&quot;, &quot;TYR&quot;);
		map.put(&quot;W&quot;, &quot;TRP&quot;);
		map.put(&quot;S&quot;, &quot;SER&quot;);
		map.put(&quot;T&quot;, &quot;THR&quot;);
		map.put(&quot;C&quot;, &quot;CYS&quot;);
		map.put(&quot;M&quot;, &quot;MET&quot;);
		map.put(&quot;N&quot;, &quot;ASN&quot;);
		map.put(&quot;Q&quot;, &quot;GLN&quot;);
		map.put(&quot;K&quot;, &quot;LYS&quot;);
		map.put(&quot;R&quot;, &quot;ARG&quot;);
		map.put(&quot;H&quot;, &quot;HIS&quot;);
		map.put(&quot;D&quot;, &quot;ASP&quot;);
		map.put(&quot;E&quot;, &quot;GLU&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwJQO2XEeWnDaII1mfokg" name="outputposition" specification="_hpf7YO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwJQe2XEeWnDaII1mfokg" name="Rposition">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.position = Rposition;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwJQu2XEeWnDaII1mfokg" name="outputscore" specification="_hpf7Yu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwJQ-2XEeWnDaII1mfokg" name="Rscore">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.score=Rscore;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwJRO2XEeWnDaII1mfokg" name="aminoacid" specification="_hpgicO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwJRe2XEeWnDaII1mfokg" name="Raminoacid">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>this.aminoacid= map.get(Raminoacid);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwJRu2XEeWnDaII1mfokg" name="printRegion" specification="_hpgicu2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>System.out.println(&quot;Pos:&quot;+position+&quot;	AminoAcid:&quot;+aminoacid+&quot; Score:&quot;+score); 
	 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwJR-2XEeWnDaII1mfokg" name="toString" specification="_hpgic-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwJSO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>String string=null;
		string = &quot;Pos:&quot;+position+&quot;	AminoAcid:&quot;+aminoacid+&quot; Score:&quot;+score+&quot;&quot;;
		return string;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpfUUO2XEeWnDaII1mfokg" name="_initializer1" isStatic="true" method="_htviM-2XEeWnDaII1mfokg">
                    <eAnnotations xmi:id="_hpfUUe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_hpfUUu2XEeWnDaII1mfokg" key="init"/>
                    </eAnnotations>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpf7YO2XEeWnDaII1mfokg" name="outputposition" method="_htwJQO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpf7Ye2XEeWnDaII1mfokg" name="Rposition">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpf7Yu2XEeWnDaII1mfokg" name="outputscore" method="_htwJQu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpf7Y-2XEeWnDaII1mfokg" name="Rscore">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpgicO2XEeWnDaII1mfokg" name="aminoacid" method="_htwJRO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpgice2XEeWnDaII1mfokg" name="Raminoacid">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpgicu2XEeWnDaII1mfokg" name="printRegion" method="_htwJRu2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hpgic-2XEeWnDaII1mfokg" name="toString" method="_htwJR-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hphJgO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hphwkO2XEeWnDaII1mfokg" name="IUPRED_Predictor">
                  <generalization xmi:id="_hsuOg-2XEeWnDaII1mfokg" general="_hp7ZMO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_htRBEO2XEeWnDaII1mfokg" name="Pregion" visibility="package" type="_TUPtEO2XEeWnDaII1mfokg" association="_huTi4O2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htRBEu2XEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwwUO2XEeWnDaII1mfokg" name="process" specification="_hphwke2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwwUe2XEeWnDaII1mfokg" name="is" type="_TWDD4-2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>ProcessBuilder pb = new ProcessBuilder();
			pb.directory(new File(&quot;/temp/iupred&quot;));
			String line = null;
			try {

				assert pb.redirectInput() == Redirect.PIPE;
				Vector&lt;String> commands = new Vector&lt;String>();
				commands.add(&quot;./iupred&quot;);
				commands.add(&quot;--&quot;);
				commands.add(&quot;long&quot;);
	//			Map &lt;String, String> env = pb.environment();
//				env.put(&quot;IUPred_PATH&quot;, strLine);
				
			/*	Set&lt;String> keySet = environment.keySet();
				for(String key: keySet){
					String value = environment.get(key);
					System.out.println(key+&quot;\t\t:\t&quot;+value);
				}*/
				pb.command(commands);
				pb.redirectOutput(Redirect.PIPE);
				pb.redirectErrorStream(true);
				
				Process p =pb.start();
				try{
					OutputStream out = p.getOutputStream();
					
					int d;
					while((d = is.read()) != -1){
						out.write(d);
					}
					is.close();
					out.close();
				}
				catch(FileNotFoundException e){
					
				}
				InputStream is1 = p.getInputStream();
				BufferedReader br = new BufferedReader(new InputStreamReader(is1));
				Pregion =new ArrayList &lt;IUPRED_Output>();
					while ((line = br.readLine()) != null){
						Pattern pat = Pattern.compile(&quot;[ ]{2,}&quot;);
		            	Matcher m =pat.matcher(line);
		            	if(m.find()){
		            		ArrayList&lt;String> region_list = new ArrayList&lt;String>();
		            		region_list.add(line);
		            		for(String s:region_list){
		            		IUPRED_Output predicted = new IUPRED_Output();
		            		String []splitArray = s.split(&quot;\\s+&quot;);     		
		            		predicted.outputposition(splitArray[1]);
		            		predicted.aminoacid(splitArray[2]);
		            		predicted.outputscore(splitArray[3]);
		            		Pregion.add(predicted);	
		            		}
		            		
		            	} 
		            
					}	
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			
			}
			
			

			
		</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hphwke2XEeWnDaII1mfokg" name="process" method="_htwwUO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hphwku2XEeWnDaII1mfokg" name="is" type="_TWDD4-2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpiXoO2XEeWnDaII1mfokg" name="IUPRED_PredictorTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwwUu2XEeWnDaII1mfokg" name="testIUPRED_Predictor" specification="_hpi-sO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>InputStream is = new FileInputStream(&quot;/Users/benkong/documents/fyp/iupred/P53_HUMAN.seq&quot;);
		IUPRED_Output test = new IUPRED_Output();
		test.position = &quot;342&quot;;
		IUPRED_Predictor predictor = new IUPRED_Predictor();
		try {
			predictor.process(is);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		assertEquals(test.position, predictor.Pregion.get(183).position);
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpi-sO2XEeWnDaII1mfokg" name="testIUPRED_Predictor" method="_htwwUu2XEeWnDaII1mfokg" raisedException="_hssZUO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpkM0O2XEeWnDaII1mfokg" name="InputManager">
                  <ownedAttribute xmi:id="_htSPMO2XEeWnDaII1mfokg" name="inputMethod" visibility="package" type="_TbJmUO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_htSPMu2XEeWnDaII1mfokg" name="input" visibility="package" type="_TWqu8O2XEeWnDaII1mfokg" association="_huTi4-2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwwU-2XEeWnDaII1mfokg" name="getInputMethod" specification="_hpkM0e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwwVO2XEeWnDaII1mfokg" type="_TbJmUO2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return inputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htwwVe2XEeWnDaII1mfokg" name="setInputMethod" specification="_hpkz4O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htwwVu2XEeWnDaII1mfokg" name="inputMethod" type="_TbJmUO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>//No need to check here till now. will check in next methods
		this.inputMethod = inputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htxXYO2XEeWnDaII1mfokg" name="getInput" specification="_hpkz4u2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htxXYe2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>this.input = input;
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htxXYu2XEeWnDaII1mfokg" name="readFile" specification="_hpla8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htxXY-2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_htxXZO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>File file = new File(pathname);
		StringBuilder fileContents = new StringBuilder((int)file.length());
		Scanner scanner = new Scanner(file);
		String lineSeparator = System.getProperty(&quot;line.separator&quot;);
		try{
			while(scanner.hasNextLine()){
				fileContents.append(scanner.nextLine()).append(lineSeparator);
			}
			return fileContents.toString();
		}finally{
			scanner.close();
		}
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpkM0e2XEeWnDaII1mfokg" name="getInputMethod" method="_htwwU-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpkM0u2XEeWnDaII1mfokg" type="_TbJmUO2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpkz4O2XEeWnDaII1mfokg" name="setInputMethod" method="_htwwVe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpkz4e2XEeWnDaII1mfokg" name="inputMethod" type="_TbJmUO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpkz4u2XEeWnDaII1mfokg" name="getInput" method="_htxXYO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpkz4-2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpla8O2XEeWnDaII1mfokg" name="readFile" method="_htxXYu2XEeWnDaII1mfokg" raisedException="_hssZUO2XEeWnDaII1mfokg">
                    <ownedComment xmi:id="_huGuke2XEeWnDaII1mfokg">
                      <body>@deprecated we may need it later
	 * @param pathname
	 * @return
	 * @throws FileNotFoundException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_hpla8e2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_hpla8u2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpmpEO2XEeWnDaII1mfokg" name="OutputManager">
                  <ownedAttribute xmi:id="_htS2Qe2XEeWnDaII1mfokg" name="outputMethod" visibility="package" type="_hp488O2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_htTdUe2XEeWnDaII1mfokg" name="inputManager" type="_hpkM0O2XEeWnDaII1mfokg" association="_huTi5u2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htTdUu2XEeWnDaII1mfokg" value="new InputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htTdVO2XEeWnDaII1mfokg" name="sp" type="_hqARsO2XEeWnDaII1mfokg" association="_huUJ8e2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htTdVe2XEeWnDaII1mfokg" value="new STRIDE_Predictor()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htxXZe2XEeWnDaII1mfokg" name="getOutputMethod" specification="_hpn3MO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htxXZu2XEeWnDaII1mfokg" type="_hp488O2XEeWnDaII1mfokg" direction="return"/>
                    <language>java</language>
                    <body>return outputMethod;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htxXZ-2XEeWnDaII1mfokg" name="SetOutputMethod" specification="_hswqwu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htxXaO2XEeWnDaII1mfokg" name="output" type="_hp488O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htxXae2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>//TODO change into enum
		if (predictor==null) {
			throw new IllegalStateException(&quot;Predictor is not yet set&quot;);
		}	
		else if(predictor==PredictorEnum.IUPRED){
			if (output.equals(OutputMethodEnum.FILE)) {
				//ok, do all necessary assignments
				this.outputMethod = output;
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on predictor&quot;);
			}
		if(predictor.equals(PredictorEnum.STRIDE)){
			if (output.equals(OutputMethodEnum.FILE)) {
				this.outputMethod = output;
			}else if(output.equals(OutputMethodEnum.OBJECTS)) {
				//ok, do all necessary assignments
				this.outputMethod = output;
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on predictor&quot;);
				}
		
			}
		}
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htx-cO2XEeWnDaII1mfokg" name="OutputObjects" specification="_hppFUe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htx-ce2XEeWnDaII1mfokg" name="input" type="_TbJmUO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(input==InputMethodEnum.pdb_file_iupred ||input==InputMethodEnum.pdb_file_stride ){
		//	IOutility.createObjectsFromPDB(sp.Pregion);
		}else if(input==InputMethodEnum.objects){
			IOutility.createObjectsFromModel(sp.Pregion.get(0), inputManager.input);
		}
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpn3MO2XEeWnDaII1mfokg" name="getOutputMethod" method="_htxXZe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hswqwe2XEeWnDaII1mfokg" type="_hp488O2XEeWnDaII1mfokg" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpoeQO2XEeWnDaII1mfokg" name="OutputFile"/>
                  <ownedOperation xmi:id="_hppFUe2XEeWnDaII1mfokg" name="OutputObjects" method="_htx-cO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hppsYO2XEeWnDaII1mfokg" name="input" type="_TbJmUO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hswqwu2XEeWnDaII1mfokg" name="SetOutputMethod" method="_htxXZ-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hswqw-2XEeWnDaII1mfokg" name="output" type="_hp488O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hsxR0O2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hprhkO2XEeWnDaII1mfokg" name="OutputManagerTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htx-cu2XEeWnDaII1mfokg" name="testOutputFile" specification="_hpsIoO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>fail(&quot;Not yet implemented&quot;);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htx-c-2XEeWnDaII1mfokg" name="testOutputObjects" specification="_hpsvsu2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>fail(&quot;Not yet implemented&quot;);
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpsIoO2XEeWnDaII1mfokg" name="testOutputFile" method="_htx-cu2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hpsvsu2XEeWnDaII1mfokg" name="testOutputObjects" method="_htx-c-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hptWwe2XEeWnDaII1mfokg" name="PI_Helix">
                  <generalization xmi:id="_hpuk4e2XEeWnDaII1mfokg" general="_S1Fr4O2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htx-dO2XEeWnDaII1mfokg" name="setResidues" specification="_hptWwu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htx-de2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htx-du2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(stride.prediction.equals(&quot;PIHelix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htylgO2XEeWnDaII1mfokg" name="getOrientation" specification="_hpt90O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htylge2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htylgu2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_htylg-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-5;
	ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
	float [] avg = new float [3];
	float sum0 = 0; float sum1 = 0; float sum2 = 0;
	Residue[] key = new Residue[size];
	Residue[] value = new Residue[size];
	for(int i = 0; i&lt; size; i++){	
			key[i]=residues.get(i);
			value[i]=residues.get(i+5);
			total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
		}
	for(Residue res: key){
		System.out.println(res.getResidueSeqNum());
	}
	for(Residue res1: value){
		System.out.println(res1.getResidueSeqNum());
	}
	
	for(float[] f1:total){

	sum0 += f1[0];
	sum1 += f1[1];
	sum2 += f1[2];
	
	avg[0] = sum0 /total.size();
	avg[1] = sum1 /total.size();
	avg[2] = sum2 /total.size();
	}
	
	
	
	return avg;
</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hptWwu2XEeWnDaII1mfokg" name="setResidues" method="_htx-dO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hptWw-2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hptWxO2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hpt90O2XEeWnDaII1mfokg" name="getOrientation" method="_htylgO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hpt90e2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hpt90u2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hpt90-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpvL8O2XEeWnDaII1mfokg" name="PredictionManager">
                  <ownedAttribute xmi:id="_htUEYe2XEeWnDaII1mfokg" name="predictor" visibility="package" type="_hp7ZMO2XEeWnDaII1mfokg" association="_huUJ9O2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htUEYu2XEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htUrce2XEeWnDaII1mfokg" name="inputstream" visibility="package" type="_TWDD4-2XEeWnDaII1mfokg" association="_huUxAe2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_htVSge2XEeWnDaII1mfokg" name="pathname" visibility="package">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htylhO2XEeWnDaII1mfokg" name="process" specification="_hpwaEO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>if (this.predictor instanceof IUPRED_Predictor){
				predictor.process(this.inputstream);
			}else if(this.predictor instanceof STRIDE_Predictor){
				predictor.process(this.pathname);
			}
		</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htylhe2XEeWnDaII1mfokg" name="setPredictor" specification="_hsx44O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htylhu2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htylh-2XEeWnDaII1mfokg" name="inputMethod" type="_TbJmUO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htyliO2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if (inputMethod==null) {
			throw new IllegalStateException(&quot;Input Method is not yet set&quot;);
		}
		switch (inputMethod) {
		case fasta_file:
			if (predictor.equals(PredictorEnum.IUPRED)) {
					if(input instanceof File){
						String filepath = ((File)input).getAbsolutePath();
						inputstream = IOutility.fastafileToInputStream(filepath);
						this.predictor=new IUPRED_Predictor();
				}
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
			}
			break;
		case fasta_string:
			if (predictor.equals(PredictorEnum.IUPRED)) {
					if(input instanceof String){	
						inputstream = IOutility.stringToInputStream((String)input);
						this.predictor=new IUPRED_Predictor();
				}
			} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
			}
			
			break;
		case objects:
			//TODO prepare (object to PDB or to FASTA) pipeline based on your need
			if(predictor==PredictorEnum.STRIDE){
					if(input instanceof ArrayList&lt;?>){
						if(((ArrayList&lt;?>)input).get(0)instanceof Model){
							IOutility.ObjectstoPdbString((ArrayList&lt;Model>)input);
							this.predictor=new STRIDE_Predictor();
						}		
				}else{
					throw new IllegalArgumentException(&quot;invalid input&quot;);
				}
			}
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			else if(predictor==PredictorEnum.IUPRED){
					if(input instanceof ArrayList&lt;?>){
						if(((ArrayList&lt;?>)input).get(0)instanceof Chain){
							String fasta = IOutility.ObjectstoFasta((ArrayList&lt;Chain>)input);
							inputstream = IOutility.stringToInputStream(fasta);
							this.predictor=new IUPRED_Predictor();	
							}
					}
				} else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			
			break;
		case pdb_file_stride://do not have to read file to input stream
			if(predictor==PredictorEnum.STRIDE){
					if(input instanceof File){
						pathname = ((File)input).getAbsolutePath();
						this.predictor=new STRIDE_Predictor();
					}
			}else{
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			break;
		case pdb_file_iupred:	
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			if(predictor==PredictorEnum.IUPRED){
					if(input instanceof File){
						String filepath = ((File)input).getAbsolutePath();
						String fasta = IOutility.pdbFileTofastaString(filepath);
						System.out.println(fasta);
						inputstream = IOutility.stringToInputStream(fasta);
						this.predictor=new IUPRED_Predictor();
					}
			}else {
				throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
				}
			break;
		case pdb_string:
			//TODO prepare (PDB to FASTA) pipeline (if you need)
			 if(predictor==PredictorEnum.IUPRED){
					 if(input instanceof String){	
						 String fastaString = IOutility.pdbStringTofastaString((String)input);
						 inputstream = IOutility.stringToInputStream(fastaString);
						 this.predictor=new IUPRED_Predictor();
					}
			 }	else {
					throw new IllegalArgumentException(&quot;Can't instantiate instance based on input&quot;);
					}	 
			break;
			
		default:
			break;
		}		
		

	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpwaEO2XEeWnDaII1mfokg" name="process" method="_htylhO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hsx44O2XEeWnDaII1mfokg" name="setPredictor" method="_htylhe2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hsyf8O2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hsyf8e2XEeWnDaII1mfokg" name="inputMethod" type="_TbJmUO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hsyf8u2XEeWnDaII1mfokg" name="input" type="_TWqu8O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hpxoMO2XEeWnDaII1mfokg" name="PredictionManagerTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htylie2XEeWnDaII1mfokg" name="testSetPredictorFastaFile" specification="_hpxoMe2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/iupred/TEST.txt&quot;;
		Object input = new File (pathname);
		PredictorEnum predictor = PredictorEnum.IUPRED;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.fasta_file);
		//im.setInputMethod(null);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			InputStreamReader isr = new InputStreamReader(pm.inputstream);
			BufferedReader br = new BufferedReader(isr);
			String read = br.readLine();
			
			assertEquals(&quot;ABCD&quot;,read);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzMkO2XEeWnDaII1mfokg" name="testSetPredictorFastaString" specification="_hpy2Uu2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>PredictorEnum predictor = PredictorEnum.IUPRED;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.fasta_string);
		//im.setInputMethod(null);
		Object input = new String (&quot;ABCD&quot;);
		
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			InputStreamReader isr = new InputStreamReader(pm.inputstream);
			BufferedReader br = new BufferedReader(isr);
			String read = br.readLine();
			assertEquals(&quot;ABCD&quot;,read);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzMke2XEeWnDaII1mfokg" name="testSetPredictorPDBfile1" specification="_hpzdYu2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		PredictorEnum predictor = PredictorEnum.STRIDE;
		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.pdb_file_stride);
		Object input = new File (pathname);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof STRIDE_Predictor){
			assertNotNull(pm.predictor);
		}else{
			assertNull(pm.predictor);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzMku2XEeWnDaII1mfokg" name="testSetPredictorPDBfile2" specification="_hp0EcO2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>String pathname = &quot;/Users/benkong/documents/fyp/stride/4HHB.pdb&quot;;
		PredictorEnum predictor = PredictorEnum.IUPRED;

		InputManager im = new InputManager();
		im.setInputMethod(InputMethodEnum.pdb_file_iupred);
		Object input = new File (pathname);
		PredictionManager pm = new PredictionManager();
		pm.setPredictor(predictor, im.inputMethod, input);

		if(pm.predictor instanceof IUPRED_Predictor){
			assertNotNull(pm.predictor);
		}else{
			assertNull(pm.predictor);
		}

		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hpxoMe2XEeWnDaII1mfokg" name="testSetPredictorFastaFile" method="_htylie2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hpy2Uu2XEeWnDaII1mfokg" name="testSetPredictorFastaString" method="_htzMkO2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hpzdYu2XEeWnDaII1mfokg" name="testSetPredictorPDBfile1" method="_htzMke2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                  <ownedOperation xmi:id="_hp0EcO2XEeWnDaII1mfokg" name="testSetPredictorPDBfile2" method="_htzMku2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hp0rgO2XEeWnDaII1mfokg" name="PredictorController">
                  <ownedAttribute xmi:id="_htV5kO2XEeWnDaII1mfokg" name="inputManager" type="_hpkM0O2XEeWnDaII1mfokg" association="_huUxBO2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htV5ke2XEeWnDaII1mfokg" value="new InputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htV5k-2XEeWnDaII1mfokg" name="outputManager" type="_hpmpEO2XEeWnDaII1mfokg" association="_huVYEe2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htWgoO2XEeWnDaII1mfokg" value="new OutputManager()"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_htWgou2XEeWnDaII1mfokg" name="predictionManager" type="_hpvL8O2XEeWnDaII1mfokg" association="_huVYFO2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htWgo-2XEeWnDaII1mfokg" value="new PredictionManager()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzMk-2XEeWnDaII1mfokg" name="setInputMethod" specification="_hp5kAO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htzMlO2XEeWnDaII1mfokg" name="input" type="_TbJmUO2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>inputManager.setInputMethod(input);
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzMle2XEeWnDaII1mfokg" name="setPredictor" specification="_hszuEO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htzMlu2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>predictionManager.setPredictor(predictor,inputManager.inputMethod,inputManager.input); 
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzzoO2XEeWnDaII1mfokg" name="setOutputMethod" specification="_hs0VIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htzzoe2XEeWnDaII1mfokg" name="output" type="_hp488O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_htzzou2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>outputManager.SetOutputMethod(output,predictor);
	
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hp5kAO2XEeWnDaII1mfokg" name="setInputMethod" method="_htzMk-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp5kAe2XEeWnDaII1mfokg" name="input" type="_TbJmUO2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hszuEO2XEeWnDaII1mfokg" name="setPredictor" method="_htzMle2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hszuEe2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hs0VIO2XEeWnDaII1mfokg" name="setOutputMethod" method="_htzzoO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hs0VIe2XEeWnDaII1mfokg" name="output" type="_hp488O2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hs0VIu2XEeWnDaII1mfokg" name="predictor" type="_hp3u0O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_TbJmUO2XEeWnDaII1mfokg" name="InputMethodEnum">
                    <ownedLiteral xmi:id="_hoOJAO2XEeWnDaII1mfokg" name="pdb_string"/>
                    <ownedLiteral xmi:id="_hoOJAe2XEeWnDaII1mfokg" name="pdb_file_stride"/>
                    <ownedLiteral xmi:id="_hoOJAu2XEeWnDaII1mfokg" name="pdb_file_iupred"/>
                    <ownedLiteral xmi:id="_hoOJA-2XEeWnDaII1mfokg" name="fasta_string"/>
                    <ownedLiteral xmi:id="_hoOwEO2XEeWnDaII1mfokg" name="fasta_file"/>
                    <ownedLiteral xmi:id="_hoOwEe2XEeWnDaII1mfokg" name="objects"/>
                  </nestedClassifier>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_hp3u0O2XEeWnDaII1mfokg" name="PredictorEnum">
                    <ownedLiteral xmi:id="_hp4V4O2XEeWnDaII1mfokg" name="STRIDE"/>
                    <ownedLiteral xmi:id="_hp4V4e2XEeWnDaII1mfokg" name="IUPRED"/>
                  </nestedClassifier>
                  <nestedClassifier xmi:type="uml:Enumeration" xmi:id="_hp488O2XEeWnDaII1mfokg" name="OutputMethodEnum">
                    <ownedLiteral xmi:id="_hp488u2XEeWnDaII1mfokg" name="FILE"/>
                    <ownedLiteral xmi:id="_hp488-2XEeWnDaII1mfokg" name="OBJECTS"/>
                  </nestedClassifier>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hp7ZMO2XEeWnDaII1mfokg" name="PredictorWrapper" isAbstract="true">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzzo-2XEeWnDaII1mfokg" name="process" specification="_hp8AQO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htzzpO2XEeWnDaII1mfokg" name="is" type="_TWDD4-2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>// TODO Auto-generated method stub
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htzzpe2XEeWnDaII1mfokg" name="process" specification="_hp8AQu2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_htzzpu2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>// TODO Auto-generated method stub
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hp8AQO2XEeWnDaII1mfokg" name="process" method="_htzzo-2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp8AQe2XEeWnDaII1mfokg" name="is" type="_TWDD4-2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hp8AQu2XEeWnDaII1mfokg" name="process" method="_htzzpe2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hp8nUO2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hqARsO2XEeWnDaII1mfokg" name="STRIDE_Predictor">
                  <generalization xmi:id="_hs08MO2XEeWnDaII1mfokg" general="_hp7ZMO2XEeWnDaII1mfokg"/>
                  <ownedAttribute xmi:id="_htY84e2XEeWnDaII1mfokg" name="Pregion" visibility="package" type="_TUPtEO2XEeWnDaII1mfokg" association="_huV_Ie2XEeWnDaII1mfokg">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_htZj8e2XEeWnDaII1mfokg" value="null"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht2P4u2XEeWnDaII1mfokg" name="process" specification="_hqA4wO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht2P4-2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ProcessBuilder pb = new ProcessBuilder();
		pb.directory(new File(&quot;/temp/stride&quot;));
		

		try {
		assert pb.redirectInput() == Redirect.PIPE;
		Vector&lt;String> commands = new Vector&lt;String>();
		commands.add(&quot;./stride&quot;);
		commands.add(pathname);
		
		pb.command(commands);
		pb.redirectOutput(Redirect.PIPE);
		pb.redirectErrorStream(true);
		
		Process p =pb.start();
		
		InputStream input = p.getInputStream();
		BufferedReader br = new BufferedReader(new InputStreamReader(input));
		String str;
		
     Pregion = new ArrayList&lt;STRIDE_Output>();
    
		
		    while ((str = br.readLine()) != null) {
		 
		    
		    	Pattern pat = Pattern.compile(&quot;LOC&quot;);
         	Matcher m =pat.matcher(str);
         	if (m.find()){
         	ArrayList&lt;String> region_list = new ArrayList&lt;String>();
         	region_list.add(str);
         	
         	for(String sentence:region_list){
         		STRIDE_Output predicted = new STRIDE_Output();
         		String []splitArray = sentence.split(&quot;\\s+&quot;);
         		predicted.Rpred(splitArray[1]);
         		predicted.Rchain(splitArray[4]);
         		predicted.Rstart(splitArray[2]);
         		predicted.RstartPos(splitArray[3]);
         		predicted.Rend(splitArray[5]);
         		predicted.RendPos(splitArray[6]);
         		Pregion.add(predicted);
         		}
         	}
         	}
		}catch (IOException e){
			e.printStackTrace();
		}
	
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hqA4wO2XEeWnDaII1mfokg" name="process" method="_ht2P4u2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hqA4we2XEeWnDaII1mfokg" name="pathname">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hqBf0O2XEeWnDaII1mfokg" name="STRIDE_PredictorTest">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht2P5O2XEeWnDaII1mfokg" name="test" specification="_hqBf0e2XEeWnDaII1mfokg">
                    <language>java</language>
                    <body>STRIDE_Output test = new STRIDE_Output();
		test.start = &quot;PRO&quot;;
		String pathname = &quot;/Users/benkong/Documents/FYP/stride/4HHB.pdb&quot;;
		STRIDE_Predictor predictor = new STRIDE_Predictor();
		predictor.process(pathname);
		
		assertEquals(test.start, predictor.Pregion.get(0).start);
		
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hqBf0e2XEeWnDaII1mfokg" name="test" method="_ht2P5O2XEeWnDaII1mfokg" raisedException="_TV7vIO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hqCG4-2XEeWnDaII1mfokg" name="ThreeTenHelix">
                  <generalization xmi:id="_hqEjIO2XEeWnDaII1mfokg" general="_S1Fr4O2XEeWnDaII1mfokg"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht2P5e2XEeWnDaII1mfokg" name="setResidues" specification="_hqCt8O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht2P5u2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_ht2P5-2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                    <language>java</language>
                    <body>if(stride.prediction.equals(&quot;310Helix&quot;)){
			this.residues=IOutility.createObjectsFromModel(stride,o);
		}
		
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht228O2XEeWnDaII1mfokg" name="getOrientation" specification="_hqCt8-2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht228e2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_ht228u2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht228-2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int size = residues.size()-3;
	ArrayList &lt;float[]> total = new ArrayList &lt;float[]>();
	float [] avg = new float [3];
	float sum0 = 0; float sum1 = 0; float sum2 = 0;
	Residue[] key = new Residue[size];
	Residue[] value = new Residue[size];
	for(int i = 0; i&lt; size; i++){	
			key[i]=residues.get(i);
			value[i]=residues.get(i+3);
			total.add(FindDifference(value[i].getAtom(&quot;N&quot;).getCoordinates(),key[i].getAtom(&quot;O&quot;).getCoordinates()));
		}
	for(Residue res: key){
		System.out.println(res.getResidueSeqNum());
	}
	for(Residue res1: value){
		System.out.println(res1.getResidueSeqNum());
	}
	
	for(float[] f1:total){

	sum0 += f1[0];
	sum1 += f1[1];
	sum2 += f1[2];
	
	avg[0] = sum0 /total.size();
	avg[1] = sum1 /total.size();
	avg[2] = sum2 /total.size();
	}
	
	
	
	return avg;
</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hqCt8O2XEeWnDaII1mfokg" name="setResidues" method="_ht2P5e2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hqCt8e2XEeWnDaII1mfokg" name="stride" type="_Te9vUe2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hqCt8u2XEeWnDaII1mfokg" name="o" type="_TWqu8O2XEeWnDaII1mfokg"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_hqCt8-2XEeWnDaII1mfokg" name="getOrientation" method="_ht228O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hqCt9O2XEeWnDaII1mfokg" name="residues" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    <ownedParameter xmi:id="_hqDVAO2XEeWnDaII1mfokg" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqDVAe2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_hqEjIe2XEeWnDaII1mfokg" name="test">
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht229O2XEeWnDaII1mfokg" name="main" specification="_hqFKMO2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_ht229e2XEeWnDaII1mfokg" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ht229u2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>File file = new File(&quot;/Users/benkong/documents/fyp/stride/1PGB.pdb&quot;);
		Structure struc = DataManager.readFile(file.getAbsolutePath());
		UpdateRegistry updateReg = new UpdateRegistry();
		updateReg.createUserModel(struc);
		ArrayList&lt;Model> models = (ArrayList&lt;Model>)updateReg.getModelList();
		System.out.println(models.size());

	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_hqFKMO2XEeWnDaII1mfokg" name="main" isStatic="true" method="_ht229O2XEeWnDaII1mfokg">
                    <ownedParameter xmi:id="_hqFKMe2XEeWnDaII1mfokg" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hqFxQO2XEeWnDaII1mfokg" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huTi4O2XEeWnDaII1mfokg" name="" memberEnd="_huTi4e2XEeWnDaII1mfokg _htRBEO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huTi4e2XEeWnDaII1mfokg" name="" type="_hphwkO2XEeWnDaII1mfokg" association="_huTi4O2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huTi4-2XEeWnDaII1mfokg" name="" memberEnd="_huTi5O2XEeWnDaII1mfokg _htSPMu2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huTi5O2XEeWnDaII1mfokg" name="" type="_hpkM0O2XEeWnDaII1mfokg" association="_huTi4-2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huTi5u2XEeWnDaII1mfokg" name="" memberEnd="_huTi5-2XEeWnDaII1mfokg _htTdUe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huTi5-2XEeWnDaII1mfokg" name="" type="_hpmpEO2XEeWnDaII1mfokg" association="_huTi5u2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huUJ8e2XEeWnDaII1mfokg" name="" memberEnd="_huUJ8u2XEeWnDaII1mfokg _htTdVO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huUJ8u2XEeWnDaII1mfokg" name="" type="_hpmpEO2XEeWnDaII1mfokg" association="_huUJ8e2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huUJ9O2XEeWnDaII1mfokg" name="" memberEnd="_huUJ9e2XEeWnDaII1mfokg _htUEYe2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huUJ9e2XEeWnDaII1mfokg" name="" type="_hpvL8O2XEeWnDaII1mfokg" association="_huUJ9O2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huUxAe2XEeWnDaII1mfokg" name="" memberEnd="_huUxAu2XEeWnDaII1mfokg _htUrce2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huUxAu2XEeWnDaII1mfokg" name="" type="_hpvL8O2XEeWnDaII1mfokg" association="_huUxAe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huUxBO2XEeWnDaII1mfokg" name="" memberEnd="_huUxBe2XEeWnDaII1mfokg _htV5kO2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huUxBe2XEeWnDaII1mfokg" name="" type="_hp0rgO2XEeWnDaII1mfokg" association="_huUxBO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huVYEe2XEeWnDaII1mfokg" name="" memberEnd="_huVYEu2XEeWnDaII1mfokg _htV5k-2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huVYEu2XEeWnDaII1mfokg" name="" type="_hp0rgO2XEeWnDaII1mfokg" association="_huVYEe2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huVYFO2XEeWnDaII1mfokg" name="" memberEnd="_huVYFe2XEeWnDaII1mfokg _htWgou2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huVYFe2XEeWnDaII1mfokg" name="" type="_hp0rgO2XEeWnDaII1mfokg" association="_huVYFO2XEeWnDaII1mfokg"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_huV_Ie2XEeWnDaII1mfokg" name="" memberEnd="_huV_Iu2XEeWnDaII1mfokg _htY84e2XEeWnDaII1mfokg">
                  <ownedEnd xmi:id="_huV_Iu2XEeWnDaII1mfokg" name="" type="_hqARsO2XEeWnDaII1mfokg" association="_huV_Ie2XEeWnDaII1mfokg"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_Sn_rEO2XEeWnDaII1mfokg" name="physics_engine2">
                <packagedElement xmi:type="uml:Package" xmi:id="_SoA5MO2XEeWnDaII1mfokg" name="amber03">
                  <packagedElement xmi:type="uml:Package" xmi:id="_SoBgQO2XEeWnDaII1mfokg" name="topology">
                    <packagedElement xmi:type="uml:Class" xmi:id="_S0GNYO2XEeWnDaII1mfokg" name="TopologyDatabase">
                      <ownedAttribute xmi:id="_Th5uke2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlIowe2XEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th5uku2XEeWnDaII1mfokg" value="Logger.getLogger( TopologyDatabase.class.getName() )"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Th6VoO2XEeWnDaII1mfokg" name="instance" isStatic="true" type="_S0GNYO2XEeWnDaII1mfokg" isReadOnly="true" association="_TlIoxO2XEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th6Vou2XEeWnDaII1mfokg" value="null"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Th68su2XEeWnDaII1mfokg" name="vdParams" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TlJP0e2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th8K0e2XEeWnDaII1mfokg" name="bondParams" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TlJP1O2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th8x4u2XEeWnDaII1mfokg" name="angleParams" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TlJP1-2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th-AAO2XEeWnDaII1mfokg" name="properDihedralParams" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TlKd8e2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th-nEe2XEeWnDaII1mfokg" name="improperDihedralParams" visibility="private" type="_TUQUIe2XEeWnDaII1mfokg" association="_TlKd9O2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5Au2XEeWnDaII1mfokg" name="TopologyDatabase" specification="_S0HbgO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5A-2XEeWnDaII1mfokg" type="_S0GNYO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>log.info(&quot;Loading Typology Database&quot;);
		loadBondedParams();
		loadNonBondedParams();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5BO2XEeWnDaII1mfokg" name="getVdParams" specification="_S0ICkO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5Be2XEeWnDaII1mfokg" name="atom">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_TjV5Bu2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjV5B-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return vdParams.get(atom);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5CO2XEeWnDaII1mfokg" name="getBondParams" specification="_TeTA8O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5Ce2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjV5Cu2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjV5C-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;Double> t = bondParams.get(atoms);
		if (t == null) {
			Collections.reverse(atoms);
			t = bondParams.get(atoms);
		}
		return t;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5DO2XEeWnDaII1mfokg" name="getAngleParams" specification="_TeUPEO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5De2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjV5Du2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjV5D-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;Double> t = angleParams.get(atoms);
		if (t == null) {
			Collections.reverse(atoms);
			t = angleParams.get(atoms);
		}
		return t;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5EO2XEeWnDaII1mfokg" name="getImproperDihedralParams" specification="_TeU2Ie2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5Ee2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjV5Eu2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjV5E-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> key = new ArrayList&lt;String>(atoms);		
		List&lt;String> key2 = new ArrayList&lt;String>(atoms);
		Collections.reverse(key2);
		List&lt;Double> value = improperDihedralParams.get(key);
		if (value == null) {
			value = improperDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(0, &quot;X&quot;);
			value = improperDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(0, &quot;X&quot;);
			value = improperDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(1, &quot;X&quot;);
			value = improperDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(1, &quot;X&quot;);
			value = improperDihedralParams.get(key2);
		}
		return value;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjV5FO2XEeWnDaII1mfokg" name="getProperDihedralParams" specification="_TeWEQe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjV5Fe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjV5Fu2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjV5F-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> key = new ArrayList&lt;String>(atoms);
		List&lt;String> key2 = new ArrayList&lt;String>(atoms);
		Collections.reverse(key2);
		List&lt;Double> value = properDihedralParams.get(key);
		if (value == null) {
			value = properDihedralParams.get(key2);
		}
		if (value == null) {
			key.set(0, &quot;X&quot;);
			key.set(3, &quot;X&quot;);
			value = properDihedralParams.get(key);
		}
		if (value == null) {
			key2.set(0, &quot;X&quot;);
			key2.set(3, &quot;X&quot;);
			value = properDihedralParams.get(key2);
		}
		return value;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgEO2XEeWnDaII1mfokg" name="loadNonBondedParams" specification="_S0JQsO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>String fileName = &quot;res/amber03/ffnonbonded.itp&quot;;
		List&lt;String> fileAsList = FileReader.readFile(fileName);
		int atomtypes = fileAsList.indexOf(&quot;[ atomtypes ]&quot;);
		loadVdParams(fileAsList.subList(atomtypes+1,  fileAsList.size()));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgEe2XEeWnDaII1mfokg" name="loadBondedParams" specification="_S0J3wO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>String fileName = &quot;res/amber03/ffbonded.itp&quot;;
		List&lt;String> fileAsList = FileReader.readFile(fileName);
		int bondtypes = fileAsList.indexOf(&quot;[ bondtypes ]&quot;);
		int constrainttypes = fileAsList.indexOf(&quot;[ constrainttypes ]&quot;);
		int angletypes = fileAsList.indexOf(&quot;[ angletypes ]&quot;);
		int improperDihedral = fileAsList.indexOf(&quot;[ dihedraltypes ]&quot;);
		int properDihedral = fileAsList.lastIndexOf(&quot;[ dihedraltypes ]&quot;);
		
//		System.out.println(bondtypes);
//		System.out.println(constrainttypes);
//		System.out.println(angletypes);
//		System.out.println(improperDihedral);
//		System.out.println(properDihedral);
		
		loadBondParams(fileAsList.subList(bondtypes+1, constrainttypes));
		loadAngleParams(fileAsList.subList(angletypes+1, improperDihedral));
		loadImproperDihedralParams(fileAsList.subList(improperDihedral+1, properDihedral));
		loadProperDihedralParams(fileAsList.subList(properDihedral+1, fileAsList.size()));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgEu2XEeWnDaII1mfokg" name="loadVdParams" specification="_Tef1QO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgE-2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>vdParams = new HashMap&lt;String, List&lt;Double>>();
		for (String s : atoms) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 6 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				String key = t[0];
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[5]));
				value.add(Double.parseDouble(t[6]));
//				System.out.println(value);
				vdParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgFO2XEeWnDaII1mfokg" name="loadBondParams" specification="_TehDYe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgFe2XEeWnDaII1mfokg" name="bonds" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>bondParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : bonds) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[1]);
				key.add(t[2]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[4]));
				value.add(Double.parseDouble(t[5]));
//				System.out.println(value);
				bondParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgFu2XEeWnDaII1mfokg" name="loadAngleParams" specification="_TekGsO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgF-2XEeWnDaII1mfokg" name="angles" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>angleParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : angles) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[0]);
				key.add(t[1]);
				key.add(t[2]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[4]));
				value.add(Double.parseDouble(t[5]));
//				System.out.println(value);
				angleParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgGO2XEeWnDaII1mfokg" name="loadImproperDihedralParams" specification="_TelU0O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgGe2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>improperDihedralParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 6 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[0]);
				key.add(t[1]);
				key.add(t[2]);
				key.add(t[3]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[5]));
				value.add(Double.parseDouble(t[6]));
//				System.out.println(value);
				improperDihedralParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgGu2XEeWnDaII1mfokg" name="loadProperDihedralParams" specification="_Tel74e2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgG-2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>properDihedralParams = new HashMap&lt;List&lt;String>, List&lt;Double>>();
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 8 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
				List&lt;String> key = new ArrayList&lt;String>();
				key.add(t[1]);
				key.add(t[2]);
				key.add(t[3]);
				key.add(t[4]);
//				System.out.println(key);
				List&lt;Double> value = new ArrayList&lt;Double>();
				value.add(Double.parseDouble(t[6]));
				value.add(Double.parseDouble(t[7]));
				value.add(Double.parseDouble(t[8]));
//				System.out.println(value);
				properDihedralParams.put(key, value);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_S0HbgO2XEeWnDaII1mfokg" name="TopologyDatabase" visibility="private" method="_TjV5Au2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_S0Hbge2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_S0Hbgu2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_S0Hbg-2XEeWnDaII1mfokg" type="_S0GNYO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_S0ICkO2XEeWnDaII1mfokg" name="getVdParams" method="_TjV5BO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_S0ICke2XEeWnDaII1mfokg" name="atom">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <ownedParameter xmi:id="_S0ICku2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S0IpoO2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_S0JQsO2XEeWnDaII1mfokg" name="loadNonBondedParams" visibility="private" method="_TjWgEO2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_S0J3wO2XEeWnDaII1mfokg" name="loadBondedParams" visibility="private" method="_TjWgEe2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeTA8O2XEeWnDaII1mfokg" name="getBondParams" method="_TjV5CO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeTA8e2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeTA8u2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TeTA8-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TeUPEO2XEeWnDaII1mfokg" name="getAngleParams" method="_TjV5DO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeUPEe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeUPEu2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TeUPE-2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TeU2Ie2XEeWnDaII1mfokg" name="getImproperDihedralParams" method="_TjV5EO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeVdMO2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeVdMe2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TeVdMu2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TeWEQe2XEeWnDaII1mfokg" name="getProperDihedralParams" method="_TjV5FO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeWEQu2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeWEQ-2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                          <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TeWrUO2XEeWnDaII1mfokg" value="*"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Tef1QO2XEeWnDaII1mfokg" name="loadVdParams" visibility="private" method="_TjWgEu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Tef1Qe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TehDYe2XEeWnDaII1mfokg" name="loadBondParams" visibility="private" method="_TjWgFO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TehDYu2XEeWnDaII1mfokg" name="bonds" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TekGsO2XEeWnDaII1mfokg" name="loadAngleParams" visibility="private" method="_TjWgFu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TekGse2XEeWnDaII1mfokg" name="angles" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TelU0O2XEeWnDaII1mfokg" name="loadImproperDihedralParams" visibility="private" method="_TjWgGO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TelU0e2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Tel74e2XEeWnDaII1mfokg" name="loadProperDihedralParams" visibility="private" method="_TjWgGu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Tel74u2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_S0OJMO2XEeWnDaII1mfokg" name="TopologyBuilder">
                      <ownedAttribute xmi:id="_Th_1MO2XEeWnDaII1mfokg" name="params" visibility="private" type="_TWqu8O2XEeWnDaII1mfokg" association="_GGHxAO26EeWnDaII1mfokg">
                        <qualifier xmi:id="_TiAcQO2XEeWnDaII1mfokg">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </qualifier>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TiAcQe2XEeWnDaII1mfokg" name="m" visibility="package" type="_S0a9gO2XEeWnDaII1mfokg" association="_GGIYEO26EeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiAcQu2XEeWnDaII1mfokg" value="new MolecularSystem()"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TiBDUe2XEeWnDaII1mfokg" name="T" visibility="package" isLeaf="true" isReadOnly="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiBDUu2XEeWnDaII1mfokg" value="288"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TiBqYe2XEeWnDaII1mfokg" name="K" visibility="package" isLeaf="true" isReadOnly="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiBqYu2XEeWnDaII1mfokg" value="8.314510e-3"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgHO2XEeWnDaII1mfokg" name="build" specification="_TeoYIO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgHe2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjWgHu2XEeWnDaII1mfokg" type="_S0a9gO2XEeWnDaII1mfokg" direction="return">
                          <name xsi:nil="true"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>//		this.config = config;
		String dir = (String) config.get(&quot;dir&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;/&quot;;
		params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		m.particles = new ArrayList&lt;AbstractParticle>();
		m.interactions = new ArrayList&lt;Interaction>();
		readNameAndPosition(dir + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
		readTopology(dir + (String) config.get(&quot;name&quot;) +&quot;.top&quot;);
		initVelocity();
		return m;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjWgH-2XEeWnDaII1mfokg" name="readTopology" specification="_S0PXUO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjWgIO2XEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> fileAsList = FileReader.readFile(fileName);
		int atoms = fileAsList.indexOf(&quot;[ atoms ]&quot;);
		int bonds = fileAsList.indexOf(&quot;[ bonds ]&quot;);
		int pairs = fileAsList.indexOf(&quot;[ pairs ]&quot;);
		int angles = fileAsList.indexOf(&quot;[ angles ]&quot;);
		int properDihedrals = fileAsList.indexOf(&quot;[ dihedrals ]&quot;);
		int improperDihedrals = fileAsList.lastIndexOf(&quot;[ dihedrals ]&quot;);
		int position_restraints = fileAsList.lastIndexOf(&quot;[ position_restraints ]&quot;);
		
		loadAtoms(fileAsList.subList(atoms+1, bonds));
		
		System.out.println(&quot;Loading bonds...&quot;);
		loadBonds(fileAsList.subList(bonds+1, pairs));
		
		System.out.println(&quot;Loading pairs...&quot;);
		loadPairs(fileAsList.subList(pairs+1, angles));
		
		System.out.println(&quot;Loading angles...&quot;);
		loadAngles(fileAsList.subList(angles+1, properDihedrals));

		System.out.println(&quot;Loading ImproperDihedral...&quot;);
		loadProperDihedrals(fileAsList.subList(properDihedrals+1, improperDihedrals));

		System.out.println(&quot;Loading ProperDihedral...&quot;);
		loadImproperDihedrals(fileAsList.subList(improperDihedrals+1, position_restraints));
		
		updateExclude();
//		generateNonBondedInteraction();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHIO2XEeWnDaII1mfokg" name="updateExclude" specification="_S0P-Ye2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>int n = m.particles.size();
//		boolean visited[] = new boolean[n];
		
		for (int i=0; i&lt;n; i++) {
			Atom atom1 = (Atom) m.particles.get(i);
			ArrayList&lt;Atom> neighbor = atom1.getNeighbor();
			for (Atom atom2: neighbor) {
				m.exclude[atom1.getGUID()-1][atom2.getGUID()-1] = true;
				ArrayList&lt;Atom> neighbor2 = atom2.getNeighbor();
				for (Atom atom3: neighbor2) {
					m.exclude[atom1.getGUID()-1][atom3.getGUID()-1] = true;
				}
			}
		}
		
//		for (int i=0; i&lt;n; i++) {
//			for (int j=0; j&lt;n; j++) {
//				if (m.exclude[i][j]) {
//					System.out.println(i + &quot; &quot; + j);
//				}
//			}
//		}
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHIe2XEeWnDaII1mfokg" name="readNameAndPosition" specification="_S0QlcO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHIu2XEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>List&lt;String> fileAsList = FileReader.readFile(fileName);
		int count = Integer.valueOf(fileAsList.get(1).trim());
		loadNameAndPosition(fileAsList.subList(2, count+2));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHI-2XEeWnDaII1mfokg" name="loadAtoms" specification="_TepmQO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHJO2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(atoms.toString());
		int i = 0;
		for (String s : atoms) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 8 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				String type = t[2];
				double charge = Double.parseDouble(t[7]);
				double mass = Double.parseDouble(t[8]);
				Atom atom = (Atom) m.particles.get(i);
				atom.setType(type);
				atom.setCharge(charge);
				atom.setMass(mass);
//				System.out.println(i + &quot; &quot; + atom);
				i++;
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHJe2XEeWnDaII1mfokg" name="loadBonds" specification="_TeqNUe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHJu2XEeWnDaII1mfokg" name="bonds" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(bonds.toString());
		
		for (String s : bonds) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 3 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				m.interactions.add(new Bond(atoms));
				atom1.addNeighbor(atom2);
				atom2.addNeighbor(atom1);
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHJ-2XEeWnDaII1mfokg" name="loadPairs" specification="_Teq0Ye2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHKO2XEeWnDaII1mfokg" name="pairs" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(pairs.toString());
		int n = m.particles.size();
		m.exclude = new boolean[n][n];
		
		for (int i=0; i&lt;n; i++) {
			for (int j=0; j&lt;n; j++) {
				m.exclude[i][j] = false;
			}
		}
		
		for (String s : pairs) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 3 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				int n1 = Integer.parseInt(t[1])-1;
				int n2 = Integer.parseInt(t[2])-1;
				
				m.exclude[n1][n2] = true;
				m.exclude[n2][n1] = true;
//				m.interactions.add(new ElectrostaticPotential(atom1, atom2));
//				m.interactions.add(new LennardJonesPotential(atom1, atom2));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHKe2XEeWnDaII1mfokg" name="loadAngles" specification="_TesCge2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHKu2XEeWnDaII1mfokg" name="angles" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(angles.toString());
		
		for (String s : angles) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 4 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				m.interactions.add(new Angle(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHK-2XEeWnDaII1mfokg" name="loadProperDihedrals" specification="_TetQoO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHLO2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(dihedrals.toString());
		
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				Atom atom4 = (Atom) m.particles.get(Integer.parseInt(t[4])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				atoms.add(atom4);
				m.interactions.add(new ProperDihedral(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHLe2XEeWnDaII1mfokg" name="loadImproperDihedrals" specification="_Tet3se2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHLu2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>//		System.out.println(dihedrals.toString());
		for (String s : dihedrals) {
			String[] t = s.split(&quot; +&quot;);
			if (t.length > 5 &amp;&amp; !t[0].contains(&quot;;&quot;)) {
//				System.out.println(Arrays.toString(t));
				Atom atom1 = (Atom) m.particles.get(Integer.parseInt(t[1])-1);
				Atom atom2 = (Atom) m.particles.get(Integer.parseInt(t[2])-1);
				Atom atom3 = (Atom) m.particles.get(Integer.parseInt(t[3])-1);
				Atom atom4 = (Atom) m.particles.get(Integer.parseInt(t[4])-1);
				List&lt;Atom> atoms = new ArrayList&lt;Atom>();
				atoms.add(atom1);
				atoms.add(atom2);
				atoms.add(atom3);
				atoms.add(atom4);
				m.interactions.add(new ImproperDihedral(atoms));
			}
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHL-2XEeWnDaII1mfokg" name="loadNameAndPosition" specification="_TevF0O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjXHMO2XEeWnDaII1mfokg" name="s" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>for (int i=0; i&lt;s.size(); i++) {
			String[] t = s.get(i).split(&quot; +&quot;);
//			System.out.println(Arrays.toString(t));
			double x = Double.parseDouble(t[4]);
			double y = Double.parseDouble(t[5]);
			double z = Double.parseDouble(t[6]);
			Atom atom = new Atom();
			atom.setPosition(x, y, z, 0);
			atom.setName(t[2]);
			m.particles.add(atom);
		}
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXHMe2XEeWnDaII1mfokg" name="generateNonBondedInteraction" specification="_S0RMgO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>int count = m.particles.size();
		if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
			for (int i=0; i&lt;count-1; i++) {
				for (int j=i+1; j&lt;count; j++) {
					ElectrostaticPotential e = new ElectrostaticPotential((Atom)m.particles.get(i), (Atom)m.particles.get(j));
					m.interactions.add(e);
				}
			}
		}
		
		if ((Boolean) params.get(&quot;LennardJones&quot;)) {
			for (int i=0; i&lt;count-1; i++) {
				for (int j=i+1; j&lt;count; j++) {
					LennardJonesPotential l = new LennardJonesPotential((Atom)m.particles.get(i), (Atom)m.particles.get(j));
					m.interactions.add(l);
				}
			}
		}
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuMO2XEeWnDaII1mfokg" name="initVelocity" specification="_S0RzkO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Random rand = new Random();
		double p, m1, m2, v1, v2;
		AbstractParticle a1, a2;
		for (int i=0; i&lt;m.particles.size()/2; i++) {
			p = 0.01 * rand.nextDouble() + 1;
			a1 = m.particles.get(i);
			m1 = a1.getMass();
			a2 = m.particles.get(m.particles.size()-i-1);
			m2 = a2.getMass();
			v1 = Math.sqrt(2 * K * T * Math.log(p) / m1 / Math.sqrt(m1 / (2 * Math.PI * K * T)));
			v2 = Math.sqrt(2 * K * T * Math.log(p) / m2 / Math.sqrt(m2 / (2 * Math.PI * K * T)));
			a1.setVelocity(v1, v1, v1);
			a2.setVelocity(-v2, -v2, -v2);
		}
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_S0PXUO2XEeWnDaII1mfokg" name="readTopology" visibility="private" method="_TjWgH-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_S0P-YO2XEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_S0P-Ye2XEeWnDaII1mfokg" name="updateExclude" visibility="private" method="_TjXHIO2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_S0QlcO2XEeWnDaII1mfokg" name="readNameAndPosition" visibility="private" method="_TjXHIe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_S0Qlce2XEeWnDaII1mfokg" name="fileName">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_S0RMgO2XEeWnDaII1mfokg" name="generateNonBondedInteraction" method="_TjXHMe2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_S0RzkO2XEeWnDaII1mfokg" name="initVelocity" method="_TjXuMO2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeoYIO2XEeWnDaII1mfokg" name="build" method="_TjWgHO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeoYIe2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeoYIu2XEeWnDaII1mfokg" type="_S0a9gO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TepmQO2XEeWnDaII1mfokg" name="loadAtoms" visibility="private" method="_TjXHI-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TepmQe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TeqNUe2XEeWnDaII1mfokg" name="loadBonds" visibility="private" method="_TjXHJe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeqNUu2XEeWnDaII1mfokg" name="bonds" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Teq0Ye2XEeWnDaII1mfokg" name="loadPairs" visibility="private" method="_TjXHJ-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TerbcO2XEeWnDaII1mfokg" name="pairs" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TesCge2XEeWnDaII1mfokg" name="loadAngles" visibility="private" method="_TjXHKe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TesCgu2XEeWnDaII1mfokg" name="angles" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TetQoO2XEeWnDaII1mfokg" name="loadProperDihedrals" visibility="private" method="_TjXHK-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TetQoe2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Tet3se2XEeWnDaII1mfokg" name="loadImproperDihedrals" method="_TjXHLe2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Tet3su2XEeWnDaII1mfokg" name="dihedrals" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TevF0O2XEeWnDaII1mfokg" name="loadNameAndPosition" method="_TjXHL-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TevF0e2XEeWnDaII1mfokg" name="s" type="_TUfksO2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlIowe2XEeWnDaII1mfokg" name="" memberEnd="_TlIowu2XEeWnDaII1mfokg _Th5uke2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlIowu2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlIowe2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlIoxO2XEeWnDaII1mfokg" name="" memberEnd="_TlIoxe2XEeWnDaII1mfokg _Th6VoO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlIoxe2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlIoxO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlJP0e2XEeWnDaII1mfokg" name="" memberEnd="_TlJP0u2XEeWnDaII1mfokg _Th68su2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlJP0u2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlJP0e2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlJP1O2XEeWnDaII1mfokg" name="" memberEnd="_TlJP1e2XEeWnDaII1mfokg _Th8K0e2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlJP1e2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlJP1O2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlJP1-2XEeWnDaII1mfokg" name="" memberEnd="_TlJP2O2XEeWnDaII1mfokg _Th8x4u2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlJP2O2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlJP1-2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlKd8e2XEeWnDaII1mfokg" name="" memberEnd="_TlKd8u2XEeWnDaII1mfokg _Th-AAO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlKd8u2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlKd8e2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlKd9O2XEeWnDaII1mfokg" name="" memberEnd="_TlKd9e2XEeWnDaII1mfokg _Th-nEe2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlKd9e2XEeWnDaII1mfokg" name="" type="_S0GNYO2XEeWnDaII1mfokg" association="_TlKd9O2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_GGHxAO26EeWnDaII1mfokg" name="" memberEnd="_GGHxAe26EeWnDaII1mfokg _Th_1MO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_GGHxAe26EeWnDaII1mfokg" name="" type="_S0OJMO2XEeWnDaII1mfokg" association="_GGHxAO26EeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_GGIYEO26EeWnDaII1mfokg" name="" memberEnd="_GGIYEe26EeWnDaII1mfokg _TiAcQe2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_GGIYEe26EeWnDaII1mfokg" name="" type="_S0OJMO2XEeWnDaII1mfokg" association="_GGIYEO26EeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_SoCuYO2XEeWnDaII1mfokg" name="models">
                    <packagedElement xmi:type="uml:Class" xmi:id="_Szg-kO2XEeWnDaII1mfokg" name="Angle">
                      <generalization xmi:id="_TaI5sO2XEeWnDaII1mfokg" general="_Sz0gkO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Thp28O2XEeWnDaII1mfokg" name="th0">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_ThqeAe2XEeWnDaII1mfokg" name="v_ji" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_TlFlce2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_ThrFEe2XEeWnDaII1mfokg" name="theta" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjrQMO2XEeWnDaII1mfokg" name="cth">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjrQM-2XEeWnDaII1mfokg" name="v_jk" visibility="private" type="_SuxogO2XEeWnDaII1mfokg" association="_TlWrNO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_TjrQNu2XEeWnDaII1mfokg" name="cosTheta" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Tjr3Qu2XEeWnDaII1mfokg" name="cosThetaSqr" visibility="private">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjS1se2XEeWnDaII1mfokg" name="Angle" specification="_TeGMoO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjS1su2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjS1s-2XEeWnDaII1mfokg" type="_Szg-kO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getAngleParams(query);
		th0 = Math.toRadians(params.get(0));
		cth = params.get(1);
		
		v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
//		System.out.println(&quot;v_ji: &quot; + v_ji);
//		System.out.println(&quot;v_jk: &quot; + v_jk);
		cosTheta = Geometry.cosTheta(v_ji, v_jk);
//		System.out.println(cosTheta);
		cosThetaSqr = cosTheta * cosTheta;
		theta = Math.acos(cosTheta);
//		System.out.println(&quot;th0: &quot; + String.valueOf(th0) + &quot; theta: &quot; + String.valueOf(theta));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjS1tO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_SzhloO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		cosTheta = Geometry.cosTheta(v_ji, v_jk);
		cosThetaSqr = cosTheta * cosTheta;
		theta = Math.acos(cosTheta);
		
		if (cosThetaSqr >= 1) {
			return;
		}
		
		double dVdt = - 0.5* cth * (theta - th0);
		
//		Vector3D energy = new Vector3D();
		Vector3D force_i = new Vector3D();
		Vector3D force_j = new Vector3D();
		Vector3D force_k = new Vector3D();
		
//		int  m;
     double st, sth;
     double cik, cii, ckk;
     double nrkj2, nrij2;
     double nrkj_1, nrij_1;
//        double f_i, f_j, f_k;
		
     st  = dVdt / Math.sqrt(1 - cosThetaSqr);
     sth = st * cosTheta;
     
     nrij2 = v_ji.getMagnitude() * v_ji.getMagnitude();
     nrkj2 = v_jk.getMagnitude() * v_jk.getMagnitude();

     nrij_1 = 1 / Math.sqrt(nrij2);
     nrkj_1 = 1 / Math.sqrt(nrkj2);

     cik = st*nrij_1*nrkj_1;
     cii = sth*nrij_1*nrij_1;
     ckk = sth*nrkj_1*nrkj_1;
     
     force_i.x = - (cik * v_jk.x - cii * v_ji.x);
     force_i.y = - (cik * v_jk.y - cii * v_ji.y);
     force_i.z = - (cik * v_jk.z - cii * v_ji.z);
     
     force_k.x = - (cik * v_ji.x - ckk * v_jk.x);
     force_k.y = - (cik * v_ji.y - ckk * v_jk.y);
     force_k.z = - (cik * v_ji.z - ckk * v_jk.z);
     
     force_j = force_i.getNegativeVector().addAndReturn(force_k.getNegativeVector());
     
//        atoms.get(0).addForce(force_i.getNegativeVector());
//        atoms.get(1).addForce(force_j.getNegativeVector());
//        atoms.get(2).addForce(force_k.getNegativeVector());
     
     atoms.get(0).addForce(force_i);
     atoms.get(1).addForce(force_j);
     atoms.get(2).addForce(force_k);
     
//        for (m = 0; m &lt; DIM; m++)
//        {           
//            f_i[m]    = -(cik*r_kj[m] - cii*r_ij[m]);
//            f_k[m]    = -(cik*r_ij[m] - ckk*r_kj[m]);
//            f_j[m]    = -f_i[m] - f_k[m];
//            f[ai][m] += f_i[m];
//            f[aj][m] += f_j[m];
//            f[ak][m] += f_k[m];
//        }
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_SzhloO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjS1tO2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeGMoO2XEeWnDaII1mfokg" name="Angle" method="_TjS1se2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TeGMou2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TeGMo-2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TeGMoe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeGMpO2XEeWnDaII1mfokg" type="_Szg-kO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Szko8O2XEeWnDaII1mfokg" name="Atom">
                      <generalization xmi:id="_SzxdQO2XEeWnDaII1mfokg" general="_SzwPI-2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_ThrsIe2XEeWnDaII1mfokg" name="type" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_ThsTMe2XEeWnDaII1mfokg" name="name" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Ths6Qe2XEeWnDaII1mfokg" name="charge" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Ths6Q-2XEeWnDaII1mfokg" name="neighbor" visibility="package" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlFldO2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjS1te2XEeWnDaII1mfokg" name="getName" specification="_SzlQAO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjS1tu2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return name;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjS1t-2XEeWnDaII1mfokg" name="setName" specification="_SzmeIO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjS1uO2XEeWnDaII1mfokg" name="name">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.name = name;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcwO2XEeWnDaII1mfokg" name="getType" specification="_SznFMO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcwe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return type;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcwu2XEeWnDaII1mfokg" name="setType" specification="_SzoTUO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcw-2XEeWnDaII1mfokg" name="type">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.type = type;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcxO2XEeWnDaII1mfokg" name="getCharge" specification="_Szo6YO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcxe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return charge;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcxu2XEeWnDaII1mfokg" name="setCharge" specification="_Szphce2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcx-2XEeWnDaII1mfokg" name="charge">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>this.charge = charge;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcyO2XEeWnDaII1mfokg" name="getNeighbor" specification="_Szty4O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcye2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>return neighbor;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjTcyu2XEeWnDaII1mfokg" name="addNeighbor" specification="_TaKH0O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjTcy-2XEeWnDaII1mfokg" name="atom" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <language>java</language>
                        <body>if (neighbor == null) {
			neighbor = new ArrayList&lt;Atom>();
		}
		neighbor.add(atom);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUD0O2XEeWnDaII1mfokg" name="toString" specification="_SzvoEO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUD0e2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                        <language>java</language>
                        <body>return type + &quot; &quot; + this.getPosition();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_SzlQAO2XEeWnDaII1mfokg" name="getName" method="_TjS1te2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_Szl3EO2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SzmeIO2XEeWnDaII1mfokg" name="setName" method="_TjS1t-2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzmeIe2XEeWnDaII1mfokg" name="name">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SznFMO2XEeWnDaII1mfokg" name="getType" method="_TjTcwO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SznFMe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SzoTUO2XEeWnDaII1mfokg" name="setType" method="_TjTcwu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzoTUe2XEeWnDaII1mfokg" name="type">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Szo6YO2XEeWnDaII1mfokg" name="getCharge" method="_TjTcxO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzphcO2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Szphce2XEeWnDaII1mfokg" name="setCharge" method="_TjTcxu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzqIgO2XEeWnDaII1mfokg" name="charge">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_Szty4O2XEeWnDaII1mfokg" name="getNeighbor" method="_TjTcyO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TeIB0O2XEeWnDaII1mfokg" type="_TUPtEO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                      <ownedOperation xmi:id="_SzvoEO2XEeWnDaII1mfokg" name="toString" method="_TjUD0O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_SzvoEe2XEeWnDaII1mfokg" direction="return">
                          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        </ownedParameter>
                      </ownedOperation>
                      <ownedOperation xmi:id="_TaKH0O2XEeWnDaII1mfokg" name="addNeighbor" method="_TjTcyu2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TaKu4O2XEeWnDaII1mfokg" name="atom" type="_Szko8O2XEeWnDaII1mfokg"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_SzyrYO2XEeWnDaII1mfokg" name="Bond">
                      <generalization xmi:id="_TaMkEO2XEeWnDaII1mfokg" general="_Sz0gkO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_ThuIYe2XEeWnDaII1mfokg" name="b0">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Thuvcu2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlGMge2XEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_ThvWgO2XEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Tjr3Re2XEeWnDaII1mfokg" name="kb">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUD0u2XEeWnDaII1mfokg" name="Bond" specification="_TeJP8O2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUD0-2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUD1O2XEeWnDaII1mfokg" type="_SzyrYO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getBondParams(query);
//		System.out.println(query.toString());
		b0 = params.get(0);
		kb = params.get(1);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUD1e2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_SzzScO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Atom atom1 = atoms.get(0);
		Atom atom2 = atoms.get(1);
		Vector3D v_ji = Geometry.vector(atom2.getPosition(), atom1.getPosition());
		
		double dr2 = v_ji.getSquaredMagnitude();
		double dr = Math.sqrt(dr2);
		
		double forceMagnitude = - 0.5 * kb * (dr - b0);
		
		forceMagnitude /= dr;
		
		Vector3D force = v_ji;
		force.scale(forceMagnitude);
		
//		Vector3D energy = new Vector3D();
//		Vector3D force = new Vector3D();
//		double d_x = v_ij.x - bond.x;
//		force.x = - 0.5 * kb * d_x;
//		energy.x = kb * d_x * d_x;
		
//		double d_y = v_ij.y - bond.y;
//		force.y = - 0.5 * kb * d_y;
//		energy.y = kb * d_y * d_y;
		
//		double d_z = v_ij.z - bond.z;
//		force.z = - 0.5* kb * d_z;
//		energy.z = kb * d_z;
		
//		atoms.get(0).potentialEnergy.add(energy);
		atom1.addForce(force);
//		atoms.get(1).potentialEnergy.add(energy.getNegativeVector());
		atom2.addForce(force.getNegativeVector());
//		System.out.println(&quot;Force: &quot; + force.toString());
//		log.info(&quot;[B] &quot; + &quot;(&quot; + atom1.getGUID() + &quot;,&quot; + atom2.getGUID() + &quot;)&quot; + force.toString());
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_SzzScO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjUD1e2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeJP8O2XEeWnDaII1mfokg" name="Bond" method="_TjUD0u2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TeJ3AO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TeJ3Ae2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TeJP8e2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeJ3Au2XEeWnDaII1mfokg" type="_SzyrYO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Sz0gkO2XEeWnDaII1mfokg" name="BondedInteraction" isAbstract="true">
                      <ownedAttribute xmi:id="_ThvWge2XEeWnDaII1mfokg" name="atoms" visibility="package" type="_Szko8O2XEeWnDaII1mfokg" isOrdered="true" association="_TlGzke2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_ThvWgu2XEeWnDaII1mfokg" value="*"/>
                      </ownedAttribute>
                      <interfaceRealization xmi:id="_TaNLIO2XEeWnDaII1mfokg" client="_Sz0gkO2XEeWnDaII1mfokg" supplier="_S0ZvYO2XEeWnDaII1mfokg" contract="_S0ZvYO2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUD1u2XEeWnDaII1mfokg" name="BondedInteraction" specification="_TeLFIO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUD1-2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUD2O2XEeWnDaII1mfokg" type="_Sz0gkO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.atoms = atoms;
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_TeLFIO2XEeWnDaII1mfokg" name="BondedInteraction" method="_TjUD1u2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TeLsMO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TeLsMe2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TeLFIe2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeLsMu2XEeWnDaII1mfokg" type="_Sz0gkO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Sz1usO2XEeWnDaII1mfokg" name="Dihedral" isAbstract="true">
                      <generalization xmi:id="_TaOZQO2XEeWnDaII1mfokg" general="_Sz0gkO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_ThyZ0O2XEeWnDaII1mfokg" name="phi0">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_ThzA4e2XEeWnDaII1mfokg" name="v_ji" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TlGzlO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Thzn8e2XEeWnDaII1mfokg" name="phi" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjseUu2XEeWnDaII1mfokg" name="kd">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjtFYO2XEeWnDaII1mfokg" name="v_jk" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TlXSQe2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_TjtFY-2XEeWnDaII1mfokg" name="v_lk" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TlX5Ue2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_TjtFZu2XEeWnDaII1mfokg" name="m" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TlX5VO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Tjtscu2XEeWnDaII1mfokg" name="n" visibility="protected" type="_SuxogO2XEeWnDaII1mfokg" association="_TlX5V-2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Tjtsde2XEeWnDaII1mfokg" name="dp" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjuTge2XEeWnDaII1mfokg" name="dVdphi" visibility="protected">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq4O2XEeWnDaII1mfokg" name="Dihedral" specification="_TeM6UO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUq4e2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUq4u2XEeWnDaII1mfokg" type="_Sz1usO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq4-2XEeWnDaII1mfokg" name="updateProperties" specification="_Sz4K8O2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>v_ji = atoms.get(0).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_jk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(1).getPosition());
		v_lk = atoms.get(2).getPosition().subtractAndReturn(atoms.get(3).getPosition());
		
	    m = v_ji.getCrossProduct(v_jk);
	    n = v_jk.getCrossProduct(v_lk);
	    
	    phi = Geometry.phi(m, n);
		dp = phi - phi0;
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq5O2XEeWnDaII1mfokg" name="calcForce" specification="_Sz4K8e2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D f_i, f_j, f_k, f_l;
	    Vector3D uvec, vvec, svec;
	    double iprm, iprn, nrkj, nrkj2, nrkj_1, nrkj_2;
	    double a, b, p, q;
		
		iprm  = m.getSquaredMagnitude();
	    iprn  = n.getSquaredMagnitude();
	    nrkj2 = v_jk.getSquaredMagnitude();
	    
	    if ((iprm > 1e-8) &amp;&amp; (iprn > 1e-8)) {
	        nrkj_1 = 1/Math.sqrt(nrkj2);
	        nrkj_2 = nrkj_1*nrkj_1;
	        nrkj   = nrkj2*nrkj_1;
	        // f_i
	        a      = -dVdphi*nrkj/iprm;
	        f_i = new Vector3D();
	        f_i.addScaledVector(m, a);
	        // f_l
	        b     = dVdphi*nrkj/iprn;
	        f_l = new Vector3D();
	        f_l.addScaledVector(n, b);
	        
	        p     = v_ji.getScalarProduct(v_jk);
	        p    *= nrkj_2;
	        q     = v_lk.getScalarProduct(v_jk);
	        q    *= nrkj_2;
	        uvec = new Vector3D();
	        uvec.addScaledVector(f_i, p);
	        vvec = new Vector3D();
	        vvec.addScaledVector(f_l, q);
	        
	        // f_j
	        svec = Geometry.vector(vvec, uvec);
	        f_j = Geometry.vector(svec, f_i);
	        // f_k
	        f_k = new Vector3D();
	        f_k.add(f_l);
	        f_k.add(svec);
	        
	        atoms.get(0).addForce(f_i);
	        atoms.get(1).addForce(f_j.getNegativeVector());
	        atoms.get(2).addForce(f_k.getNegativeVector());
	        atoms.get(3).addForce(f_l);
	        
//	        atoms.get(0).addForce(f_i.getNegativeVector());
//	        atoms.get(1).addForce(f_j);
//	        atoms.get(2).addForce(f_k);
//	        atoms.get(3).addForce(f_l.getNegativeVector());
	    }
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_Sz3j4O2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" isAbstract="true"/>
                      <ownedOperation xmi:id="_Sz4K8O2XEeWnDaII1mfokg" name="updateProperties" method="_TjUq4-2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_Sz4K8e2XEeWnDaII1mfokg" name="calcForce" visibility="protected" method="_TjUq5O2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeM6UO2XEeWnDaII1mfokg" name="Dihedral" method="_TjUq4O2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TeNhYO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TeNhYe2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TeM6Ue2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeNhYu2XEeWnDaII1mfokg" type="_Sz1usO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Sz6AIO2XEeWnDaII1mfokg" name="ElectrostaticPotential">
                      <generalization xmi:id="_TaPnY-2XEeWnDaII1mfokg" general="_S0CjAO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th02EO2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlHaoe2XEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th1dIO2XEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Th1dIe2XEeWnDaII1mfokg" name="f" isStatic="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th1dIu2XEeWnDaII1mfokg" value="138.935485"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Th2EMe2XEeWnDaII1mfokg" name="epsilon_r" isStatic="true">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th2EMu2XEeWnDaII1mfokg" value="1"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq5e2XEeWnDaII1mfokg" name="ElectrostaticPotential" specification="_TaPAUO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUq5u2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUq5-2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUq6O2XEeWnDaII1mfokg" type="_Sz6AIO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(i, j);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq6e2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_Sz6nMO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D v_ij = Geometry.vector(i.getPosition(), j.getPosition());
		
		double dist = v_ij.getMagnitude();		
		Vector3D force = new Vector3D();
		
		double forceMagnitude = f * i.charge * j.charge / epsilon_r / dist;
		force = v_ij.getUnitVector();
		force.scale(forceMagnitude);
		

//		if (Math.abs(u.x) - 1e-10 > 0) {
//			force.x = - u.x / v_ij.x;
//		}
//		if (Math.abs(u.y) - 1e-10 > 0) {
//			force.y = - u.y / v_ij.y;
//		}
//		if (Math.abs(u.z) - 1e-10 > 0) {
//			force.z = - u.z / v_ij.z;
//		}
		
		i.addForce(force);
		j.addForce(force.getNegativeVector());
		log.info(&quot;[E]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + forceMagnitude);
		log.info(&quot;[E]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + force.toString());
//		System.out.println(i.getAccumulatedForce());
//		i.potentialEnergy.add(energy);
//		j.potentialEnergy.add(energy.getNegativeVector());
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_Sz6nMO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjUq6e2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TaPAUO2XEeWnDaII1mfokg" name="ElectrostaticPotential" method="_TjUq5e2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TaPnYO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TaPnYe2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TaPAUe2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaPAUu2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaPnYu2XEeWnDaII1mfokg" type="_Sz6AIO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Sz9DcO2XEeWnDaII1mfokg" name="ImproperDihedral">
                      <generalization xmi:id="_TaQ1gO2XEeWnDaII1mfokg" general="_Sz1usO2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjUq6u2XEeWnDaII1mfokg" name="ImproperDihedral" specification="_TeOvgO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjUq6-2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjUq7O2XEeWnDaII1mfokg" type="_Sz9DcO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
		List&lt;Double> params = db.getImproperDihedralParams(query);
		phi0 = Math.toRadians(params.get(0));
		kd = params.get(1);
		
		
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR8O2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_Sz-RkO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>updateProperties();
		dVdphi = - kd * dp;
	    calcForce();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_Sz-RkO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjVR8O2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeOvgO2XEeWnDaII1mfokg" name="ImproperDihedral" method="_TjUq6u2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TePWke2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TePWku2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TePWkO2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TePWk-2XEeWnDaII1mfokg" type="_Sz9DcO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_Sz_fsO2XEeWnDaII1mfokg" name="LennardJonesPotential">
                      <generalization xmi:id="_TaRclu2XEeWnDaII1mfokg" general="_S0CjAO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th2rQe2XEeWnDaII1mfokg" name="sigma_i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Th35YO2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlHapO2XEeWnDaII1mfokg">
                        <defaultValue xmi:type="uml:LiteralString" xmi:id="_Th35Ye2XEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_TjuThO2XEeWnDaII1mfokg" name="sigma_j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Tju6ke2XEeWnDaII1mfokg" name="epsilon_i">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedAttribute xmi:id="_Tju6lO2XEeWnDaII1mfokg" name="epsilon_j">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR8e2XEeWnDaII1mfokg" name="LennardJonesPotential" specification="_TaRckO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjVR8u2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjVR8-2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjVR9O2XEeWnDaII1mfokg" type="_Sz_fsO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(i, j);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;Double>param_i = db.getVdParams(i.type);
		List&lt;Double>param_j = db.getVdParams(j.type);
		sigma_i = param_i.get(0);
		sigma_j = param_j.get(0);
		
//		sigma_i *= 0.1;
//		sigma_j *= 0.1;
		
		epsilon_i = param_i.get(1);
		epsilon_j = param_j.get(1);
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR9e2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_S0BU4O2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>Vector3D v_ij = Geometry.vector(i.getPosition(), j.getPosition());
		double dist = v_ij.getMagnitude();
		
//		double ci6 = 4 * epsilon_i * Math.pow(sigma_i, 6);
//		double ci12 = 4 * epsilon_i * Math.pow(sigma_i, 12);
//		double cj6 = 4 * epsilon_j * Math.pow(sigma_j, 6);
//		double cj12 = 4 * epsilon_j * Math.pow(sigma_j, 12);
//		double cij6 = Math.sqrt(ci6 * cj6);
//		double cij12 = Math.sqrt(ci12 * cj12);
		
		double epsilon_ij = Math.sqrt(epsilon_i * epsilon_j);
		double sigma_ij = 0.5 * (sigma_i + sigma_j);
		double cij12 = 4 * epsilon_ij * Math.pow(sigma_ij, 12);
		double cij6 = 4 * epsilon_ij * Math.pow(sigma_ij, 6);
		
//		log.info(&quot;[DIST]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + dist);
//		log.info(&quot;[SIGMA]&quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + 0.5 * (sigma_i + sigma_j));
		
		double forceMagnitude = 12 * cij12 / Math.pow(dist, 13) - 6 * cij6 / Math.pow(dist, 7);
		
//		double sigma_ij = (sigma_i + sigma_j) * 0.5;
//		double epsilon_ij = Math.sqrt(epsilon_i * epsilon_j);
		
//		double forceMagnitude = epsilon_ij * (12 * (1 &lt;&lt; 6) * Math.pow(sigma_ij, 12) / Math.pow(dist, 13) - 6 * 2 * Math.pow(sigma_ij, 6) / Math.pow(dist, 7) );
		
		Vector3D force = v_ij.getUnitVector();
		force.scale(forceMagnitude);
		
		i.addForce(force);
		j.addForce(force.getNegativeVector());
//		log.info(&quot;[L] &quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + forceMagnitude);
//		log.info(&quot;[L] &quot; + &quot;(&quot; + i.getGUID() + &quot;,&quot; + j.getGUID() + &quot;)&quot; + force.toString());
//		System.out.println(i.getAccumulatedForce());
//		i.potentialEnergy.add(energy.getNegativeVector());
//		j.potentialEnergy.add(energy);
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_S0BU4O2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjVR9e2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TaRckO2XEeWnDaII1mfokg" name="LennardJonesPotential" method="_TjVR8e2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TaRck-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TaRclO2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TaRcke2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaRcku2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaRcle2XEeWnDaII1mfokg" type="_Sz_fsO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_S0CjAO2XEeWnDaII1mfokg" name="NonBondedInteraction" isAbstract="true">
                      <ownedAttribute xmi:id="_Th4gcO2XEeWnDaII1mfokg" name="i" visibility="package" type="_Szko8O2XEeWnDaII1mfokg" association="_TlIBse2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Tju6l-2XEeWnDaII1mfokg" name="j" visibility="package" type="_Szko8O2XEeWnDaII1mfokg" association="_TlYgYe2XEeWnDaII1mfokg"/>
                      <interfaceRealization xmi:id="_TaSDoO2XEeWnDaII1mfokg" client="_S0CjAO2XEeWnDaII1mfokg" supplier="_S0ZvYO2XEeWnDaII1mfokg" contract="_S0ZvYO2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR9u2XEeWnDaII1mfokg" name="NonBondedInteraction" specification="_TaSqsO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjVR9-2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjVR-O2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjVR-e2XEeWnDaII1mfokg" type="_S0CjAO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>this.i = i; this.j = j;
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_TaSqsO2XEeWnDaII1mfokg" name="NonBondedInteraction" method="_TjVR9u2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TaSqs-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TaSqtO2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TaSqse2XEeWnDaII1mfokg" name="i" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaSqsu2XEeWnDaII1mfokg" name="j" type="_Szko8O2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TaSqte2XEeWnDaII1mfokg" type="_S0CjAO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Class" xmi:id="_S0EYMO2XEeWnDaII1mfokg" name="ProperDihedral">
                      <generalization xmi:id="_TaTRwO2XEeWnDaII1mfokg" general="_Sz1usO2XEeWnDaII1mfokg"/>
                      <ownedAttribute xmi:id="_Th5HgO2XEeWnDaII1mfokg" name="mult" visibility="package">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedAttribute>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR-u2XEeWnDaII1mfokg" name="ProperDihedral" specification="_TeQksO2XEeWnDaII1mfokg">
                        <ownedParameter xmi:id="_TjVR--2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TjVR_O2XEeWnDaII1mfokg" type="_S0EYMO2XEeWnDaII1mfokg" direction="return"/>
                        <language>java</language>
                        <body>super(atoms);
		TopologyDatabase db = TopologyDatabase.getInstance();
		List&lt;String> query = new ArrayList&lt;String>();
		for (Atom atom : atoms) {
			query.add(atom.type);
		}
//		System.out.println(query);
		List&lt;Double> params = db.getProperDihedralParams(query);
		phi0 = Math.toRadians(params.get(0));
		kd = params.get(1);
		mult = params.get(2);
		
		updateProperties();
		
		System.out.println(&quot;phi0: &quot; + String.valueOf(phi0) + &quot; phi: &quot; + String.valueOf(phi) + &quot; kd: &quot; + kd + &quot; mult: &quot; + mult);

	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjVR_e2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" specification="_S0E_QO2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>updateProperties();
		
		double mdphi, sdphi;
		mdphi = mult * phi - phi0;
		sdphi = Math.sin(mdphi);
		dVdphi = - 0.5 * kd * mult * sdphi;
		
		calcForce();
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_S0E_QO2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm" method="_TjVR_e2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_TeQksO2XEeWnDaII1mfokg" name="ProperDihedral" method="_TjVR-u2XEeWnDaII1mfokg">
                        <eAnnotations xmi:id="_TeRLwO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                          <details xmi:id="_TeRLwe2XEeWnDaII1mfokg" key="create"/>
                        </eAnnotations>
                        <ownedParameter xmi:id="_TeQkse2XEeWnDaII1mfokg" name="atoms" type="_TUfksO2XEeWnDaII1mfokg"/>
                        <ownedParameter xmi:id="_TeRLwu2XEeWnDaII1mfokg" type="_S0EYMO2XEeWnDaII1mfokg" direction="return"/>
                      </ownedOperation>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlFlce2XEeWnDaII1mfokg" name="" memberEnd="_TlFlcu2XEeWnDaII1mfokg _ThqeAe2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlFlcu2XEeWnDaII1mfokg" name="" type="_Szg-kO2XEeWnDaII1mfokg" association="_TlFlce2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlFldO2XEeWnDaII1mfokg" name="" memberEnd="_TlFlde2XEeWnDaII1mfokg _Ths6Q-2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlFlde2XEeWnDaII1mfokg" name="" type="_Szko8O2XEeWnDaII1mfokg" association="_TlFldO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlGMge2XEeWnDaII1mfokg" name="" memberEnd="_TlGMgu2XEeWnDaII1mfokg _Thuvcu2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlGMgu2XEeWnDaII1mfokg" name="" type="_SzyrYO2XEeWnDaII1mfokg" association="_TlGMge2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlGzke2XEeWnDaII1mfokg" name="" memberEnd="_TlGzku2XEeWnDaII1mfokg _ThvWge2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlGzku2XEeWnDaII1mfokg" name="" type="_Sz0gkO2XEeWnDaII1mfokg" association="_TlGzke2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlGzlO2XEeWnDaII1mfokg" name="" memberEnd="_TlGzle2XEeWnDaII1mfokg _ThzA4e2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlGzle2XEeWnDaII1mfokg" name="" type="_Sz1usO2XEeWnDaII1mfokg" association="_TlGzlO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlHaoe2XEeWnDaII1mfokg" name="" memberEnd="_TlHaou2XEeWnDaII1mfokg _Th02EO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlHaou2XEeWnDaII1mfokg" name="" type="_Sz6AIO2XEeWnDaII1mfokg" association="_TlHaoe2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlHapO2XEeWnDaII1mfokg" name="" memberEnd="_TlHape2XEeWnDaII1mfokg _Th35YO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlHape2XEeWnDaII1mfokg" name="" type="_Sz_fsO2XEeWnDaII1mfokg" association="_TlHapO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlIBse2XEeWnDaII1mfokg" name="" memberEnd="_TlIBsu2XEeWnDaII1mfokg _Th4gcO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlIBsu2XEeWnDaII1mfokg" name="" type="_S0CjAO2XEeWnDaII1mfokg" association="_TlIBse2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlWrNO2XEeWnDaII1mfokg" name="" memberEnd="_TlWrNe2XEeWnDaII1mfokg _TjrQM-2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlWrNe2XEeWnDaII1mfokg" name="" type="_Szg-kO2XEeWnDaII1mfokg" association="_TlWrNO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlXSQe2XEeWnDaII1mfokg" name="" memberEnd="_TlXSQu2XEeWnDaII1mfokg _TjtFYO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlXSQu2XEeWnDaII1mfokg" name="" type="_Sz1usO2XEeWnDaII1mfokg" association="_TlXSQe2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlX5Ue2XEeWnDaII1mfokg" name="" memberEnd="_TlX5Uu2XEeWnDaII1mfokg _TjtFY-2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlX5Uu2XEeWnDaII1mfokg" name="" type="_Sz1usO2XEeWnDaII1mfokg" association="_TlX5Ue2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlX5VO2XEeWnDaII1mfokg" name="" memberEnd="_TlX5Ve2XEeWnDaII1mfokg _TjtFZu2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlX5Ve2XEeWnDaII1mfokg" name="" type="_Sz1usO2XEeWnDaII1mfokg" association="_TlX5VO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlX5V-2XEeWnDaII1mfokg" name="" memberEnd="_TlX5WO2XEeWnDaII1mfokg _Tjtscu2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlX5WO2XEeWnDaII1mfokg" name="" type="_Sz1usO2XEeWnDaII1mfokg" association="_TlX5V-2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_TlYgYe2XEeWnDaII1mfokg" name="" memberEnd="_TlYgYu2XEeWnDaII1mfokg _Tju6l-2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_TlYgYu2XEeWnDaII1mfokg" name="" type="_S0CjAO2XEeWnDaII1mfokg" association="_TlYgYe2XEeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Package" xmi:id="_hof10O2XEeWnDaII1mfokg" name="typology">
                    <packagedElement xmi:type="uml:Class" xmi:id="_hqFxQe2XEeWnDaII1mfokg" name="TypologyDatabaseTest">
                      <eAnnotations xmi:id="_hqFxQu2XEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
                        <contents xmi:type="ecore:EAnnotation" xmi:id="_hqFxQ-2XEeWnDaII1mfokg" source="codegen">
                          <details xmi:id="_hqFxRO2XEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test"/>
                        </contents>
                      </eAnnotations>
                      <ownedAttribute xmi:id="_htaLAO2XEeWnDaII1mfokg" name="db" visibility="private" isStatic="true" type="_S0GNYO2XEeWnDaII1mfokg" association="_huV_JO2XEeWnDaII1mfokg"/>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht229-2XEeWnDaII1mfokg" name="oneTimeSetUp" specification="_hqFxRe2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>db = TopologyDatabase.getInstance();
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht22-O2XEeWnDaII1mfokg" name="testVdParams" specification="_hqGYU-2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;Double> H0 = new ArrayList&lt;Double>();
		List&lt;Double> Cs = new ArrayList&lt;Double>();
		List&lt;Double> OW_spc = new ArrayList&lt;Double>();
		List&lt;Double> Zn = new ArrayList&lt;Double>();
		
		H0.add(2.47135e-01);
		H0.add(6.56888e-02);
		
		Cs.add(6.04920e-01);
		Cs.add(3.37230e-04);
		
		OW_spc.add(3.16557e-01);
		OW_spc.add(6.50629e-01);

		Zn.add(1.95998e-01);
		Zn.add(5.23000e-02);
		
		assertEquals(H0, db.getVdParams(&quot;H0&quot;));
		assertEquals(Cs, db.getVdParams(&quot;Cs&quot;));
		assertEquals(OW_spc, db.getVdParams(&quot;OW_spc&quot;));
		assertEquals(Zn, db.getVdParams(&quot;Zn&quot;));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht22-e2XEeWnDaII1mfokg" name="testBondParams" specification="_hqG_Y-2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> CT_H0_key = new ArrayList&lt;String>();
		List&lt;String> CT_F_key = new ArrayList&lt;String>();
		List&lt;Double> CT_H0_value = new ArrayList&lt;Double>();
		List&lt;Double> CT_F_value = new ArrayList&lt;Double>();
		
		CT_H0_key.add(&quot;CT&quot;);
		CT_H0_key.add(&quot;H0&quot;);
		
		CT_F_key.add(&quot;CT&quot;);
		CT_F_key.add(&quot;F&quot;);
		
		CT_H0_value.add(0.10900);
		CT_H0_value.add(284512.0);
		
		CT_F_value.add(0.13800);
		CT_F_value.add(307105.6);

		assertEquals(CT_H0_value, db.getBondParams(CT_H0_key));
		assertEquals(CT_F_value, db.getBondParams(CT_F_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht3eAO2XEeWnDaII1mfokg" name="testAngleParams" specification="_hqG_Z-2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> H0_CT_H0_key = new ArrayList&lt;String>();
		List&lt;String> N_C_N_key = new ArrayList&lt;String>();
		List&lt;Double> H0_CT_H0_value = new ArrayList&lt;Double>();
		List&lt;Double> N_C_N_value = new ArrayList&lt;Double>();
		
		H0_CT_H0_key.add(&quot;H0&quot;);
		H0_CT_H0_key.add(&quot;CT&quot;);
		H0_CT_H0_key.add(&quot;H0&quot;);
		
		N_C_N_key.add(&quot;N&quot;);
		N_C_N_key.add(&quot;C&quot;);
		N_C_N_key.add(&quot;N&quot;);
		
		H0_CT_H0_value.add(109.500);
		H0_CT_H0_value.add(292.880);
		
		N_C_N_value.add(120.000);
		N_C_N_value.add(585.760);

		assertEquals(H0_CT_H0_value, db.getAngleParams(H0_CT_H0_key));
		assertEquals(N_C_N_value, db.getAngleParams(N_C_N_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht3eAe2XEeWnDaII1mfokg" name="testImproperDihedralParams" specification="_hqHmc-2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> X_O2_C_O2_key = new ArrayList&lt;String>();
		List&lt;String> X_X_CA_H5_key = new ArrayList&lt;String>();
		List&lt;Double> X_O2_C_O2_value = new ArrayList&lt;Double>();
		List&lt;Double> X_X_CA_H5_value = new ArrayList&lt;Double>();
		
		X_O2_C_O2_key.add(&quot;H0&quot;);
		X_O2_C_O2_key.add(&quot;O2&quot;);
		X_O2_C_O2_key.add(&quot;C&quot;);
		X_O2_C_O2_key.add(&quot;O2&quot;);
		
		X_X_CA_H5_key.add(&quot;H0&quot;);
		X_X_CA_H5_key.add(&quot;H0&quot;);
		X_X_CA_H5_key.add(&quot;CA&quot;);
		X_X_CA_H5_key.add(&quot;H5&quot;);
		
		X_O2_C_O2_value.add(180.000);
		X_O2_C_O2_value.add(43.93200);
		
		X_X_CA_H5_value.add(180.000);
		X_X_CA_H5_value.add(4.60240);

		assertEquals(X_O2_C_O2_value, db.getImproperDihedralParams(X_O2_C_O2_key));
		assertEquals(X_X_CA_H5_value, db.getImproperDihedralParams(X_X_CA_H5_key));
	</body>
                      </ownedBehavior>
                      <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_ht3eAu2XEeWnDaII1mfokg" name="testProperDihedralParams" specification="_hqINgu2XEeWnDaII1mfokg">
                        <language>java</language>
                        <body>List&lt;String> X_C_C_X_key = new ArrayList&lt;String>();
		List&lt;Double> X_C_C_X_value = new ArrayList&lt;Double>();
		
		X_C_C_X_key.add(&quot;H0&quot;);
		X_C_C_X_key.add(&quot;C&quot;);
		X_C_C_X_key.add(&quot;C&quot;);
		X_C_C_X_key.add(&quot;O2&quot;);
		
		X_C_C_X_value.add(180.000);
		X_C_C_X_value.add(15.16700);
		X_C_C_X_value.add(2.0);

		assertEquals(X_C_C_X_value, db.getProperDihedralParams(X_C_C_X_key));
	</body>
                      </ownedBehavior>
                      <ownedOperation xmi:id="_hqFxRe2XEeWnDaII1mfokg" name="oneTimeSetUp" isStatic="true" method="_ht229-2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_hqGYU-2XEeWnDaII1mfokg" name="testVdParams" method="_ht22-O2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_hqG_Y-2XEeWnDaII1mfokg" name="testBondParams" method="_ht22-e2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_hqG_Z-2XEeWnDaII1mfokg" name="testAngleParams" method="_ht3eAO2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_hqHmc-2XEeWnDaII1mfokg" name="testImproperDihedralParams" method="_ht3eAe2XEeWnDaII1mfokg"/>
                      <ownedOperation xmi:id="_hqINgu2XEeWnDaII1mfokg" name="testProperDihedralParams" method="_ht3eAu2XEeWnDaII1mfokg"/>
                    </packagedElement>
                    <packagedElement xmi:type="uml:Association" xmi:id="_huV_JO2XEeWnDaII1mfokg" name="" memberEnd="_huV_Je2XEeWnDaII1mfokg _htaLAO2XEeWnDaII1mfokg">
                      <ownedEnd xmi:id="_huV_Je2XEeWnDaII1mfokg" name="" type="_hqFxQe2XEeWnDaII1mfokg" association="_huV_JO2XEeWnDaII1mfokg"/>
                    </packagedElement>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SoBgQe2XEeWnDaII1mfokg" name="math">
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0gdEO2XEeWnDaII1mfokg" name="Geometry" isAbstract="true">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVRe2XEeWnDaII1mfokg" name="vector" specification="_Ta2rYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjYVRu2XEeWnDaII1mfokg" name="a" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjYVR-2XEeWnDaII1mfokg" name="b" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjYVSO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return b.subtractAndReturn(a);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVSe2XEeWnDaII1mfokg" name="cosTheta" specification="_Ta2rZO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjYVSu2XEeWnDaII1mfokg" name="v_ji" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjYVS-2XEeWnDaII1mfokg" name="v_jk" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjYVTO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return (v_ji.x * v_jk.x + v_ji.y * v_jk.y + v_ji.z * v_jk.z) / v_ji.getMagnitude() / v_jk.getMagnitude();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVTe2XEeWnDaII1mfokg" name="theta" specification="_S0hrMO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjYVTu2XEeWnDaII1mfokg" name="cos">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjYVT-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return Math.acos(cos);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjY8UO2XEeWnDaII1mfokg" name="phi" specification="_Ta3Sc-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjY8Ue2XEeWnDaII1mfokg" name="m" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjY8Uu2XEeWnDaII1mfokg" name="n" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjY8U-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>double p = theta(cosTheta(m, n));
		if (p &lt; 0) {
			p *= -1;
		}
//		System.out.println(p);
		return p;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0hrMO2XEeWnDaII1mfokg" name="theta" isStatic="true" method="_TjYVTe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_S0hrMe2XEeWnDaII1mfokg" name="cos">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_S0hrMu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Ta2rYO2XEeWnDaII1mfokg" name="vector" isStatic="true" method="_TjYVRe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ta2rYe2XEeWnDaII1mfokg" name="a" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta2rYu2XEeWnDaII1mfokg" name="b" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta2rY-2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Ta2rZO2XEeWnDaII1mfokg" name="cosTheta" isStatic="true" method="_TjYVSe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ta3ScO2XEeWnDaII1mfokg" name="v_ji" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta3Sce2XEeWnDaII1mfokg" name="v_jk" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta3Scu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_Ta3Sc-2XEeWnDaII1mfokg" name="phi" isStatic="true" method="_TjY8UO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Ta3SdO2XEeWnDaII1mfokg" name="m" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta3Sde2XEeWnDaII1mfokg" name="n" type="_SuxogO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Ta35gO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_hpcRAO2XEeWnDaII1mfokg" name="GeometryTest">
                    <eAnnotations xmi:id="_hpcRAe2XEeWnDaII1mfokg" source="http://ns.yatta.de/umllab">
                      <contents xmi:type="ecore:EAnnotation" xmi:id="_hpcRAu2XEeWnDaII1mfokg" source="codegen">
                        <details xmi:id="_hpcRA-2XEeWnDaII1mfokg" key="codegenDirectory" value="/ntu-fyp2014-common/VParadigm/NTU_2014FYP_Common/test"/>
                      </contents>
                    </eAnnotations>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htviMO2XEeWnDaII1mfokg" name="testVector" specification="_hpc4EO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(0, 0, 0);
		Vector3D b = new Vector3D(1, 2, 3);
		assertEquals(new Vector3D(1, 2, 3), Geometry.vector(a, b));
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htviMe2XEeWnDaII1mfokg" name="testTheta" specification="_hpdfIu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(1, 0, 0);
		Vector3D b = new Vector3D(0, 1, 0);
		Vector3D c = new Vector3D(1, 1, 0);
		assertEquals(90.0/180*Math.PI, Geometry.theta(Geometry.cosTheta(a, b)), 1e-6);
		assertEquals(45.0/180*Math.PI, Geometry.theta(Geometry.cosTheta(a, c)), 1e-6);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htviMu2XEeWnDaII1mfokg" name="testPhi" specification="_hpdfJu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Vector3D a = new Vector3D(1, 0, 0);
		Vector3D b = new Vector3D(0, 1, 0);
		Vector3D c = new Vector3D(0, 0, -1);
		Vector3D d = new Vector3D(1, 0, -1);
		
		Vector3D m = a.getCrossProduct(b);
		Vector3D n1 = c.getCrossProduct(b);
		Vector3D n2 = d.getCrossProduct(b);
		
		assertEquals(90.0/180*Math.PI, Geometry.phi(m, n1), 1e-6);
		assertEquals(45.0/180*Math.PI, Geometry.phi(m, n2), 1e-6);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_hpc4EO2XEeWnDaII1mfokg" name="testVector" method="_htviMO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hpdfIu2XEeWnDaII1mfokg" name="testTheta" method="_htviMe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_hpdfJu2XEeWnDaII1mfokg" name="testPhi" method="_htviMu2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SoIN8O2XEeWnDaII1mfokg" name="core">
                  <packagedElement xmi:type="uml:Class" xmi:id="_SzwPI-2XEeWnDaII1mfokg" name="AbstractParticle">
                    <generalization xmi:id="_S0WsEO2XEeWnDaII1mfokg" general="_Sr3ecO2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuMe2XEeWnDaII1mfokg" name="getAccumulatedForce" specification="_S0U24O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjXuMu2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>return forceAccumulated;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuM-2XEeWnDaII1mfokg" name="getAccumulatedAcceleration" specification="_S0Vd8O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjXuNO2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>Vector3D a = new Vector3D();
//		System.out.println(forceAccumulated);
		a.addScaledVector(forceAccumulated, inverseMass);
//		System.out.println(a);
		return a;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuNe2XEeWnDaII1mfokg" name="resetCount" specification="_S0WFAO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>particleCount = 0;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0U24O2XEeWnDaII1mfokg" name="getAccumulatedForce" method="_TjXuMe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TayZ8O2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_S0Vd8O2XEeWnDaII1mfokg" name="getAccumulatedAcceleration" method="_TjXuM-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TayZ8e2XEeWnDaII1mfokg" type="_SuxogO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_S0WFAO2XEeWnDaII1mfokg" name="resetCount" isStatic="true" method="_TjXuNe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0XTIO2XEeWnDaII1mfokg" name="Application">
                    <ownedAttribute xmi:id="_TiC4gO2XEeWnDaII1mfokg" name="enableUI" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiC4ge2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiC4g-2XEeWnDaII1mfokg" name="totalFrame" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiDfkO2XEeWnDaII1mfokg" value="10000"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiDfku2XEeWnDaII1mfokg" name="dir" visibility="private" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiDfk-2XEeWnDaII1mfokg" value="&quot;res/amber03_test/&quot;"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiEGoe2XEeWnDaII1mfokg" name="config" visibility="private" isStatic="true" type="_TWqu8O2XEeWnDaII1mfokg" association="_TlLsEe2XEeWnDaII1mfokg">
                      <qualifier xmi:id="_TiEtse2XEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiEGou2XEeWnDaII1mfokg" value="new HashMap&lt;>()"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiEtsu2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlLsFO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiEts-2XEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuNu2XEeWnDaII1mfokg" name="init" specification="_S0X6MO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>FileHandler fh;

		try {
	        fh = new FileHandler(&quot;Log.txt&quot;);
	        log.addHandler(fh);
	        SimpleFormatter formatter = new SimpleFormatter();  
	        fh.setFormatter(formatter);
	        log.setUseParentHandlers(false);
	    } catch (SecurityException e) {
	        e.printStackTrace();  
	    } catch (IOException e) {  
	        e.printStackTrace();
	    }
		
		config.put(&quot;frame&quot;, totalFrame);
		config.put(&quot;dir&quot;, dir);
		config.put(&quot;name&quot;, &quot;AFS&quot;);
		config.put(&quot;timeDelta&quot;, 0.0002);
		config.put(&quot;forceField&quot;, &quot;Amber03&quot;);
		
		Map&lt;String, Object> params = new HashMap&lt;String, Object>();
		params.put(&quot;Bond&quot;, false);
		params.put(&quot;Angle&quot;, false);
		params.put(&quot;ProperDihedral&quot;, false);
		params.put(&quot;ImproperDihedral&quot;, false);
		params.put(&quot;Electrostatic&quot;, false);
		params.put(&quot;LennardJones&quot;, true);
		
		config.put(&quot;ffParams&quot;, params);
		
		log.info(&quot;Application starts&quot;);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuN-2XEeWnDaII1mfokg" name="main" specification="_S0YhQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjXuOO2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TjXuOe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>init();
	    
		Controller controller = ControllerFactory.createController(enableUI, config);
		controller.start();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0X6MO2XEeWnDaII1mfokg" name="init" visibility="private" isStatic="true" method="_TjXuNu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0YhQO2XEeWnDaII1mfokg" name="main" isStatic="true" method="_TjXuN-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_S0YhQe2XEeWnDaII1mfokg" name="args">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S0YhQu2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="_S0ZvYO2XEeWnDaII1mfokg" name="Interaction">
                    <generalization xmi:id="_S0aWcO2XEeWnDaII1mfokg" general="_St3pkO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0aWce2XEeWnDaII1mfokg" name="calcPotentialEnergyTerm"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0a9gO2XEeWnDaII1mfokg" name="MolecularSystem">
                    <ownedAttribute xmi:id="_TiFUwO2XEeWnDaII1mfokg" name="particles" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlLsF-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiF70u2XEeWnDaII1mfokg" name="interactions" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlMTIe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiHJ8e2XEeWnDaII1mfokg" name="rlist" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlMTJO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiHxAu2XEeWnDaII1mfokg" name="exclude">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_TiIYEO2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiIYE-2XEeWnDaII1mfokg" name="timeDelta">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiI_IO2XEeWnDaII1mfokg" value="0.0002"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiI_Ie2XEeWnDaII1mfokg" name="params" type="_TWqu8O2XEeWnDaII1mfokg" association="_TlM6Me2XEeWnDaII1mfokg">
                      <qualifier xmi:id="_TiI_Iu2XEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiJmMO2XEeWnDaII1mfokg" name="R" visibility="private" isLeaf="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiJmMe2XEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiJmM-2XEeWnDaII1mfokg" name="updateRlistStep">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiKNQO2XEeWnDaII1mfokg" value="20"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiKNQe2XEeWnDaII1mfokg" name="log" visibility="private" isLeaf="true" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" isReadOnly="true" association="_TlM6NO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiKNQu2XEeWnDaII1mfokg" value="Logger.getLogger(&quot;main&quot;)"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjXuOu2XEeWnDaII1mfokg" name="MolecularSystem" specification="_S0cLoO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjXuO-2XEeWnDaII1mfokg" type="_S0a9gO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>AbstractParticle.resetCount();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVQO2XEeWnDaII1mfokg" name="initRlist" specification="_S0cysO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Rebuild rlist&quot;);
		if (particles == null || particles.size() == 0) {
			return;
		}
		rlist = new ArrayList&lt;ArrayList&lt;AbstractParticle>>();
		for (int i=0; i&lt;particles.size(); i++) {
			ArrayList&lt;AbstractParticle> l = new ArrayList&lt;AbstractParticle>();
			rlist.add(l);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVQe2XEeWnDaII1mfokg" name="updateRlist" specification="_S0cyse2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>initRlist();
		int n = particles.size();
		
		for (int i=0; i&lt;n; i++) {
			for (int j=i+1; j&lt;n; j++) {
				AbstractParticle p1 = particles.get(i);
				AbstractParticle p2 = particles.get(j);
				double dist = p1.getPosition().subtractAndReturn(p2.getPosition()).getMagnitude();
				if (dist &lt; R &amp;&amp; !exclude[i][j]) {
					rlist.get(i).add(p2);
					rlist.get(j).add(p1);
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVQu2XEeWnDaII1mfokg" name="nextFrame" specification="_S0cysu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>updateEnergyPotential();
		integrate();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVQ-2XEeWnDaII1mfokg" name="updateEnergyPotential" specification="_S0dZwO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (Interaction interaction: interactions) {
			if (interaction instanceof Bond) {
				if ((Boolean) params.get(&quot;Bond&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof Angle) {
				if ((Boolean) params.get(&quot;Angle&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof ProperDihedral) {
				if ((Boolean) params.get(&quot;ProperDihedral&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
			else if (interaction instanceof ImproperDihedral) {
				if ((Boolean) params.get(&quot;ImproperDihedral&quot;)) {
		   			interaction.calcPotentialEnergyTerm();
				}
			}
		}
		
		if ((Boolean) params.get(&quot;LennardJones&quot;) || (Boolean) params.get(&quot;Electrostatic&quot;)) {
			int n = rlist.size();
			for (int i=0; i&lt;n; i++) {
				for (AbstractParticle p: rlist.get(i)) {
					if (p.getGUID()-1 > i) {
						if ((Boolean) params.get(&quot;LennardJones&quot;)) {
							Interaction ljInteraction = new LennardJonesPotential((Atom)particles.get(i), (Atom)p);
							ljInteraction.calcPotentialEnergyTerm();
						}
						if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
							Interaction elecInteraction = new ElectrostaticPotential((Atom)particles.get(i), (Atom)p);
							elecInteraction.calcPotentialEnergyTerm();
						}
					}
				}
			}
		}
		
//		if ((Boolean) params.get(&quot;LennardJones&quot;)) {
//   			interaction.calcPotentialEnergyTerm();
//		}
//		else if (interaction instanceof ElectrostaticPotential) {
//			if ((Boolean) params.get(&quot;Electrostatic&quot;)) {
//	   			interaction.calcPotentialEnergyTerm();
//			}
//		}
		
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjYVRO2XEeWnDaII1mfokg" name="integrate" specification="_S0eA0O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>/**
		 * Velocity Verlet Algorithm
		 */
		for (AbstractParticle particle: particles) {
			Vector3D r = particle.getPosition();
			Vector3D v = particle.getVelocity();
			Vector3D a = particle.getAcceleration();
			Vector3D a2 = particle.getAccumulatedAcceleration();
//			log.info(&quot;[ACC]&quot; + a2);
						
			Vector3D dr = new Vector3D();
			dr.x = v.x * timeDelta + 0.5 * a.x * timeDelta * timeDelta;
			dr.y = v.y * timeDelta + 0.5 * a.y * timeDelta * timeDelta;
			dr.z = v.z * timeDelta + 0.5 * a.z * timeDelta * timeDelta;
			r.add(dr);
			
			Vector3D dv = new Vector3D();
			dv.x = 0.5 * (a.x + a2.x) * timeDelta;
			dv.y = 0.5 * (a.y + a2.y) * timeDelta;
			dv.z = 0.5 * (a.z + a2.z) * timeDelta;
			v.add(dv);
			
			particle.setAcceleration(a2.x, a2.y, a2.z);
			particle.clearAccumulator();
			
//			System.out.println(&quot;Positon: &quot; + particle.getPosition());
//			System.out.println(&quot;Velocity: &quot; + particle.getVelocity());
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0cLoO2XEeWnDaII1mfokg" name="MolecularSystem" method="_TjXuOu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_S0cLoe2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_S0cLou2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_S0cLo-2XEeWnDaII1mfokg" type="_S0a9gO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_S0cysO2XEeWnDaII1mfokg" name="initRlist" method="_TjYVQO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0cyse2XEeWnDaII1mfokg" name="updateRlist" method="_TjYVQe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0cysu2XEeWnDaII1mfokg" name="nextFrame" method="_TjYVQu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0dZwO2XEeWnDaII1mfokg" name="updateEnergyPotential" method="_TjYVQ-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0eA0O2XEeWnDaII1mfokg" name="integrate" method="_TjYVRO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlLsEe2XEeWnDaII1mfokg" name="" memberEnd="_TlLsEu2XEeWnDaII1mfokg _TiEGoe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlLsEu2XEeWnDaII1mfokg" name="" type="_S0XTIO2XEeWnDaII1mfokg" association="_TlLsEe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlLsFO2XEeWnDaII1mfokg" name="" memberEnd="_TlLsFe2XEeWnDaII1mfokg _TiEtsu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlLsFe2XEeWnDaII1mfokg" name="" type="_S0XTIO2XEeWnDaII1mfokg" association="_TlLsFO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlLsF-2XEeWnDaII1mfokg" name="" memberEnd="_TlLsGO2XEeWnDaII1mfokg _TiFUwO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlLsGO2XEeWnDaII1mfokg" name="" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlLsF-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlMTIe2XEeWnDaII1mfokg" name="" memberEnd="_TlMTIu2XEeWnDaII1mfokg _TiF70u2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlMTIu2XEeWnDaII1mfokg" name="" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlMTIe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlMTJO2XEeWnDaII1mfokg" name="" memberEnd="_TlMTJe2XEeWnDaII1mfokg _TiHJ8e2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlMTJe2XEeWnDaII1mfokg" name="" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlMTJO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlM6Me2XEeWnDaII1mfokg" name="" memberEnd="_TlM6Mu2XEeWnDaII1mfokg _TiI_Ie2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlM6Mu2XEeWnDaII1mfokg" name="" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlM6Me2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlM6NO2XEeWnDaII1mfokg" name="" memberEnd="_TlM6Ne2XEeWnDaII1mfokg _TiKNQe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlM6Ne2XEeWnDaII1mfokg" name="" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlM6NO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_Sobv8O2XEeWnDaII1mfokg" name="util">
                  <packagedElement xmi:type="uml:Class" xmi:id="_S1CBgO2XEeWnDaII1mfokg" name="FileReader">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjb_pe2XEeWnDaII1mfokg" name="readFile" specification="_S1CokO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tjb_pu2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Tjb_p-2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjb_qO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;String> lines = new ArrayList&lt;String>();
	    File file = new File(filePath);
		Charset charset = Charset.defaultCharset();
		Path path = Paths.get(file.getAbsolutePath());

		try {
			lines = Files.readAllLines(path, charset);
		} catch (IOException e) {
			System.out.println(e);
		}
//		for (String line : lines) {
//			System.out.println(line);
//		}
		return lines;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S1CokO2XEeWnDaII1mfokg" name="readFile" isStatic="true" method="_Tjb_pe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_S1Coke2XEeWnDaII1mfokg" name="filePath">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_S1Coku2XEeWnDaII1mfokg" isOrdered="true" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S1Cok-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_SomIAu2XEeWnDaII1mfokg" name="ui">
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0i5UO2XEeWnDaII1mfokg" name="CliController">
                    <generalization xmi:id="_Ta-nMO2XEeWnDaII1mfokg" general="_S0lVkO2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjY8VO2XEeWnDaII1mfokg" name="CliController" specification="_TezXQO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjY8Ve2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjY8Vu2XEeWnDaII1mfokg" type="_S0i5UO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super(config);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjY8V-2XEeWnDaII1mfokg" name="start" specification="_S0jgYO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>super.start();
//		for (AbstractParticle particle: m.particles) {
//			System.out.println(particle.getPosition().toString());
//		}
		System.out.println(Geometry.vector(m.particles.get(0).getPosition(), m.particles.get(1).getPosition()).getMagnitude());
//		System.out.println(m.particles.get(0).getAcceleration());
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0jgYO2XEeWnDaII1mfokg" name="start" method="_TjY8V-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_TezXQO2XEeWnDaII1mfokg" name="CliController" method="_TjY8VO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Tez-Ue2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Tez-Uu2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Tez-UO2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Tez-U-2XEeWnDaII1mfokg" type="_S0i5UO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0lVkO2XEeWnDaII1mfokg" name="Controller" isAbstract="true">
                    <ownedAttribute xmi:id="_TiK0UO2XEeWnDaII1mfokg" name="STOPPED" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiK0Ue2XEeWnDaII1mfokg" value="-1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiLbYe2XEeWnDaII1mfokg" name="PAUSED" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiLbYu2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiMCce2XEeWnDaII1mfokg" name="RUNNING" isStatic="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiMCcu2XEeWnDaII1mfokg" value="1"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiMpge2XEeWnDaII1mfokg" name="config" type="_TWqu8O2XEeWnDaII1mfokg" association="_TlNhQe2XEeWnDaII1mfokg">
                      <qualifier xmi:id="_TiMpg-2XEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiNQkO2XEeWnDaII1mfokg" name="status">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiNQke2XEeWnDaII1mfokg" value="STOPPED"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiN3oO2XEeWnDaII1mfokg" name="m" visibility="protected" type="_S0a9gO2XEeWnDaII1mfokg" association="_TlOIUe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiN3ou2XEeWnDaII1mfokg" name="currentFrame">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiN3o-2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiOese2XEeWnDaII1mfokg" name="totalFrame">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiOesu2XEeWnDaII1mfokg" value="0"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiPFwO2XEeWnDaII1mfokg" name="tb" visibility="package" type="_S0OJMO2XEeWnDaII1mfokg" association="_TlOvYe2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjY8WO2XEeWnDaII1mfokg" name="Controller" specification="_Te1zgO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjY8We2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjY8Wu2XEeWnDaII1mfokg" type="_S0lVkO2XEeWnDaII1mfokg" direction="return">
                        <name xsi:nil="true"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>this.config = config;
		totalFrame = (Integer) config.get(&quot;frame&quot;);
		init();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjYO2XEeWnDaII1mfokg" name="buildTopology" specification="_S0mjsO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Building topology...&quot;);
		tb = new TopologyBuilder();
		m = tb.build(config);
		m.setTimeDelta((Double) config.get(&quot;timeDelta&quot;));
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		m.setParams(params);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjYe2XEeWnDaII1mfokg" name="init" specification="_S0mjse2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>buildTopology();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0mjsO2XEeWnDaII1mfokg" name="buildTopology" method="_TjZjYO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0mjse2XEeWnDaII1mfokg" name="init" method="_TjZjYe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0nKwO2XEeWnDaII1mfokg" name="start"/>
                    <ownedOperation xmi:id="_Te1zgO2XEeWnDaII1mfokg" name="Controller" method="_TjY8WO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Te1zgu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Te1zg-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Te1zge2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Te1zhO2XEeWnDaII1mfokg" type="_S0lVkO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0o_8O2XEeWnDaII1mfokg" name="ControllerFactory">
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjYu2XEeWnDaII1mfokg" name="createController" specification="_Te3osO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjZjY-2XEeWnDaII1mfokg" name="enableUI">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_TjZjZO2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjZjZe2XEeWnDaII1mfokg" type="_S0lVkO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>if (enableUI) {
			return new GuiController(config);
		}
		else {
			return new CliController(config);
		}
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_Te3osO2XEeWnDaII1mfokg" name="createController" isStatic="true" method="_TjZjYu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Te3ose2XEeWnDaII1mfokg" name="enableUI">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_Te3osu2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Te3os-2XEeWnDaII1mfokg" type="_S0lVkO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Interface" xmi:id="_S0q1IO2XEeWnDaII1mfokg" name="EventListener">
                    <ownedAttribute xmi:id="_S0sDQe2XEeWnDaII1mfokg" name="status" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedOperation xmi:id="_S0q1Ie2XEeWnDaII1mfokg" name="onRestart"/>
                    <ownedOperation xmi:id="_S0rcMO2XEeWnDaII1mfokg" name="onStop"/>
                    <ownedOperation xmi:id="_S0rcMe2XEeWnDaII1mfokg" name="onPause"/>
                    <ownedOperation xmi:id="_S0sDQO2XEeWnDaII1mfokg" name="onResume"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S0sqUO2XEeWnDaII1mfokg" name="GuiController">
                    <generalization xmi:id="_TbBqgO2XEeWnDaII1mfokg" general="_S0lVkO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiPs0O2XEeWnDaII1mfokg" name="v" visibility="package" type="_S05eoO2XEeWnDaII1mfokg" association="_TlPWce2XEeWnDaII1mfokg"/>
                    <interfaceRealization xmi:id="_TbBDcO2XEeWnDaII1mfokg" client="_S0sqUO2XEeWnDaII1mfokg" supplier="_S0q1IO2XEeWnDaII1mfokg" contract="_S0q1IO2XEeWnDaII1mfokg"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjZu2XEeWnDaII1mfokg" name="GuiController" specification="_Te4Pwe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjZjZ-2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjZjaO2XEeWnDaII1mfokg" type="_S0sqUO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super(config);
		v = new View(this, config);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjae2XEeWnDaII1mfokg" name="start" specification="_S0tRYO2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>status = RUNNING;
		
		// main loop
		while (currentFrame &lt; totalFrame) {
			if (status == STOPPED || status == PAUSED) {
				break;
			}
			
			if (currentFrame % m.getUpdateRlistStep() == 0) {
				m.initRlist();
			}
			
//			if (status == PAUSED) {
//				// on hold when application is not running
//				System.out.println(&quot;Pending...&quot;);
//				try {
//					Thread.sleep(1000);
//					continue;
//				} catch (InterruptedException e) {
//					e.printStackTrace();
//				}
//			}
			
			currentFrame++;
			System.out.println(&quot;Frame &quot; + currentFrame);
			
			m.nextFrame();
			// update Jmol viewer
			try {
				v.getMediator().updateViewerCoord(m.particles);
			}
			catch (Exception e) {
				e.printStackTrace();
			}
			// pause 1s for each frame
			try {
				Thread.sleep(100);
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjZjau2XEeWnDaII1mfokg" name="onRestart" specification="_S0t4cu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulation restarts...&quot;);
     		status = STOPPED;
     		currentFrame = 0;
     		v.reload();
     		init();
     		v.disableConfig();
     		status = RUNNING;
     		start();
         }
     }, &quot;Restart&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKcO2XEeWnDaII1mfokg" name="getStatus" specification="_S0ufgu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjaKce2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>return status;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKcu2XEeWnDaII1mfokg" name="onStop" specification="_S0vGk-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulaton stops.&quot;);
     		currentFrame = 0;
     		status = STOPPED;
         }
     }, &quot;Stop&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKc-2XEeWnDaII1mfokg" name="onPause" specification="_S0vtou2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	System.out.println(&quot;Simulaton pauses.&quot;);
     		status = PAUSED;
         }
     }, &quot;Pause&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjaKdO2XEeWnDaII1mfokg" name="onResume" specification="_S0wUsu2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>Thread t = new Thread(new Runnable(){
         public void run(){
         	if (status == STOPPED) {
     			return;
     		}
     		System.out.println(&quot;Simulaton resumes.&quot;);
     		m.setTimeDelta((Double) config.get(&quot;timeDelta&quot;));
     		start();
         }
     }, &quot;Resume&quot;);
		t.start();
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S0tRYO2XEeWnDaII1mfokg" name="start" method="_TjZjae2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0t4cu2XEeWnDaII1mfokg" name="onRestart" method="_TjZjau2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0ufgu2XEeWnDaII1mfokg" name="getStatus" method="_TjaKcO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_S0ufg-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_S0vGk-2XEeWnDaII1mfokg" name="onStop" method="_TjaKcu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0vtou2XEeWnDaII1mfokg" name="onPause" method="_TjaKc-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0wUsu2XEeWnDaII1mfokg" name="onResume" method="_TjaKdO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_Te4Pwe2XEeWnDaII1mfokg" name="GuiController" method="_TjZjZu2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_Te420O2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_Te420e2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_Te4Pwu2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_Te420u2XEeWnDaII1mfokg" type="_S0sqUO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_S05eoO2XEeWnDaII1mfokg" name="View">
                    <generalization xmi:id="_TfGSMe2XEeWnDaII1mfokg" general="_TVpbQu2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiRiAO2XEeWnDaII1mfokg" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiSJEO2XEeWnDaII1mfokg" value="1L"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiSJEe2XEeWnDaII1mfokg" name="listener" visibility="package" type="_S0q1IO2XEeWnDaII1mfokg" association="_TlPWdO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiSwIe2XEeWnDaII1mfokg" name="contentPane" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlP9ge2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiTXMe2XEeWnDaII1mfokg" name="simulationPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlP9hO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiT-QO2XEeWnDaII1mfokg" name="forcesPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlQkke2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiT-Qu2XEeWnDaII1mfokg" name="commandTextField" visibility="private" type="_TWizI-2XEeWnDaII1mfokg" association="_TlRLoO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiUlUe2XEeWnDaII1mfokg" name="mediator" type="_TfD18O2XEeWnDaII1mfokg" isReadOnly="true" association="_TlRLo-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiVMYO2XEeWnDaII1mfokg" name="controlPanel" visibility="private" type="_TZuC8e2XEeWnDaII1mfokg" association="_TlRyse2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiVzce2XEeWnDaII1mfokg" name="pauseButton" visibility="private" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_TlRytO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiWage2XEeWnDaII1mfokg" name="stopButton" visibility="private" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_TlSZwe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiXBke2XEeWnDaII1mfokg" name="restartButton" visibility="private" type="_TXJ3Ie2XEeWnDaII1mfokg" association="_TlTA0e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiXBk-2XEeWnDaII1mfokg" name="config" visibility="private" type="_TWqu8O2XEeWnDaII1mfokg" association="_TlTn4e2XEeWnDaII1mfokg">
                      <qualifier xmi:id="_TiXooe2XEeWnDaII1mfokg">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </qualifier>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_TiXoou2XEeWnDaII1mfokg" name="viewer" visibility="private" type="_TXOIkO2XEeWnDaII1mfokg" association="_TlUO8e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiYPse2XEeWnDaII1mfokg" name="cbMolecule" visibility="private" type="_TXKeMe2XEeWnDaII1mfokg" association="_TlU2AO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiYPs-2XEeWnDaII1mfokg" name="tfTimeDelta" visibility="private" type="_TWizI-2XEeWnDaII1mfokg" association="_TlU2A-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiY2we2XEeWnDaII1mfokg" name="cbForceField" visibility="private" type="_TXKeMe2XEeWnDaII1mfokg" association="_TlVdEe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_TiY2w-2XEeWnDaII1mfokg" name="ffParamComponents" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_TlVdFO2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_TiZd0e2XEeWnDaII1mfokg" value="new ArrayList&lt;JComponent>()"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYkO2XEeWnDaII1mfokg" name="View" specification="_TfFEEO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_TjbYke2XEeWnDaII1mfokg" name="listener" type="_S0q1IO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjbYku2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TjbYk-2XEeWnDaII1mfokg" type="_S05eoO2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>super((String) config.get(&quot;name&quot;));
		
		this.listener = listener;
		this.config = config;
		
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 900, 600);
		setLocationRelativeTo(null);
		contentPane = new JPanel();
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
		contentPane.setLayout(new BorderLayout(0, 0));
		setContentPane(contentPane);
		
		// add JMol Panel
		JmolDisplay jmolPanel = new JmolDisplay();
		jmolPanel.setBorder(new EmptyBorder(5,0,5,0));
		contentPane.add(jmolPanel);
		
		// add mediator
		
		viewer = jmolPanel.getViewer();
		viewer.evalString(&quot;set debug OFF;&quot;);
		mediator = new UpdateRegistry(viewer);
		viewer.setPercentVdwAtom(20);
		viewer.evalString(&quot;&quot;);
		viewer.evalString(&quot;load &quot; + (String) config.get(&quot;dir&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
		viewer.evalString(&quot;wireframe only;wireframe reset;spacefill reset;&quot;);
//		viewer.evalString(&quot;set mouseDragFactor 1.0&quot;);
     jmolPanel.setMediator(mediator);
		
		// add RHS Panel for user input
		JPanel inputPanel = new JPanel();
		inputPanel.setBorder(new EmptyBorder(0,5,0,5));
		contentPane.add(inputPanel, BorderLayout.EAST);
		
		createSimulationPanel();

		inputPanel.setLayout(new BorderLayout(0, 1));
		inputPanel.add(simulationPanel, BorderLayout.NORTH);
		
		createForcesPanel();
		inputPanel.add(forcesPanel, BorderLayout.CENTER);

		controlPanel = new JPanel();
		controlPanel.setAlignmentX(LEFT_ALIGNMENT);
		inputPanel.add(controlPanel, BorderLayout.SOUTH);
		
		pauseButton = new JButton(&quot;Pause&quot;);
		pauseButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if (listener.getStatus() > 0){
					pauseButton.setText(&quot;Resume&quot;);
					partialEnableSimulationPanel();
					enableForcePanel();
					listener.onPause();
				}
				else {
					pauseButton.setText(&quot;Pause&quot;);
					saveParams();
					disableForcePanel();
					disableSimulationPanel();
					listener.onResume();
				}
			}
		});
		controlPanel.add(pauseButton);
		
		stopButton = new JButton(&quot;Stop&quot;);
		stopButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				if(stopButton.getText().equals(&quot;Stop&quot;)){
					stopButton.setText(&quot;Start&quot;);
					pauseButton.setEnabled(false);
					enableConfig();
					listener.onStop();
				}
				else{
					stopButton.setText(&quot;Stop&quot;);
					pauseButton.setText(&quot;Pause&quot;);
					pauseButton.setEnabled(true);
					saveParams();
					listener.onRestart();
					System.out.println(&quot;restart done&quot;);
				}
			}
		});
		controlPanel.add(stopButton);
		
		restartButton = new JButton(&quot;Restart&quot;);
		restartButton.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				stopButton.setText(&quot;Stop&quot;);
				pauseButton.setText(&quot;Pause&quot;);
				pauseButton.setEnabled(true);
				saveParams();
				listener.onRestart();
			}
		});
		controlPanel.add(restartButton);
		
		// add text field for user input
//		commandTextField = new JTextField();
//		contentPane.add(commandTextField, BorderLayout.SOUTH);
//		commandTextField.requestFocusInWindow();
		
		this.setVisible(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYlO2XEeWnDaII1mfokg" name="reload" specification="_S07T0O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>System.out.println(&quot;Reloading view...&quot;);
		reloadViewer();
		reloadParams();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYle2XEeWnDaII1mfokg" name="reloadViewer" specification="_S07T0e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>viewer.evalString(&quot;load &quot; + (String) config.get(&quot;dir&quot;) + (String) config.get(&quot;name&quot;) + &quot;/&quot; + (String) config.get(&quot;name&quot;) + &quot;.gro&quot;);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYlu2XEeWnDaII1mfokg" name="reloadParams" specification="_S07T0u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>//		forcesPanel = null;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYl-2XEeWnDaII1mfokg" name="createSimulationPanel" specification="_S0764O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>simulationPanel = new JPanel();
     simulationPanel.setBorder(BorderFactory.createTitledBorder(&quot;Simulation Parameters&quot;));
//        simulationPanel.setToolTipText(&quot;sample text&quot;);
//        simulationPanel.setBorder(new EtchedBorder(EtchedBorder.LOWERED, null, null));
     GridBagLayout gbl_simulationPanel = new GridBagLayout();
     gbl_simulationPanel.columnWeights = new double[]{0.0, 1.0};
     gbl_simulationPanel.rowWeights = new double[]{0.0, 0.0, 0.0};
     simulationPanel.setLayout(gbl_simulationPanel);
             
     JLabel lbTimeDelta = new JLabel(&quot;Time Delta(ns): &quot;, SwingConstants.RIGHT);
     
     GridBagConstraints gbc_lbTimeDelta = new GridBagConstraints();
     gbc_lbTimeDelta.fill = GridBagConstraints.HORIZONTAL;
     gbc_lbTimeDelta.insets = new Insets(0, 0, 5, 5);
     gbc_lbTimeDelta.gridx = 0;
     gbc_lbTimeDelta.gridy = 0;
     simulationPanel.add(lbTimeDelta, gbc_lbTimeDelta);
             
     tfTimeDelta = new JTextField(config.get(&quot;timeDelta&quot;).toString());
     GridBagConstraints gbc_tfTimeDelta = new GridBagConstraints();
     gbc_tfTimeDelta.fill = GridBagConstraints.BOTH;
     gbc_tfTimeDelta.insets = new Insets(0, 0, 5, 0);
     gbc_tfTimeDelta.gridx = 1;
     gbc_tfTimeDelta.gridy = 0;
     simulationPanel.add(tfTimeDelta, gbc_tfTimeDelta);
     JLabel lbMolecule = new JLabel(&quot;Molecule: &quot;, SwingConstants.RIGHT);
     
     GridBagConstraints gbc_lbMolecule = new GridBagConstraints();
     gbc_lbMolecule.anchor = GridBagConstraints.EAST;
     gbc_lbMolecule.insets = new Insets(0, 0, 5, 5);
     gbc_lbMolecule.fill = GridBagConstraints.VERTICAL;
     gbc_lbMolecule.gridx = 0;
     gbc_lbMolecule.gridy = 1;
     simulationPanel.add(lbMolecule, gbc_lbMolecule);
		
		cbMolecule = new JComboBox();
		GridBagConstraints gbc_comboBox = new GridBagConstraints();
		
		String[] molecules = getMoleculeList(); 
		
		cbMolecule.setModel(new DefaultComboBoxModel(molecules));
		
		String name = (String) config.get(&quot;name&quot;);
		System.out.println(name);
		for (int i=0; i&lt;molecules.length; i++) {
			System.out.println(molecules[i]);
			if (name.equals(molecules[i])) {
				cbMolecule.setSelectedIndex(i);
				break;
			}
		}
		
		gbc_comboBox.insets = new Insets(0, 0, 5, 0);
		gbc_comboBox.fill = GridBagConstraints.HORIZONTAL;
		gbc_comboBox.gridx = 1;
		gbc_comboBox.gridy = 1;
		simulationPanel.add(cbMolecule, gbc_comboBox);
		JLabel lbForceField = new JLabel(&quot;Force Field: &quot;, SwingConstants.RIGHT);
		
		GridBagConstraints gbc_lbForceField = new GridBagConstraints();
		gbc_lbForceField.fill = GridBagConstraints.BOTH;
		gbc_lbForceField.insets = new Insets(0, 0, 0, 5);
		gbc_lbForceField.gridx = 0;
		gbc_lbForceField.gridy = 2;
		simulationPanel.add(lbForceField, gbc_lbForceField);
		        
     cbForceField = new JComboBox();
     cbForceField.setModel(new DefaultComboBoxModel(new String[] {&quot;Amber03&quot;}));
     cbForceField.addActionListener(new ActionListener() {
         @Override
         public void actionPerformed(ActionEvent e) {
         	
         }
     });
     GridBagConstraints gbc_cbForceField = new GridBagConstraints();
     gbc_cbForceField.fill = GridBagConstraints.HORIZONTAL;
     gbc_cbForceField.gridx = 1;
     gbc_cbForceField.gridy = 2;
     simulationPanel.add(cbForceField, gbc_cbForceField);
     
     disableSimulationPanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYmO2XEeWnDaII1mfokg" name="disableSimulationPanel" specification="_S0764e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(false);
		cbMolecule.setEnabled(false);
		cbForceField.setEnabled(false);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYme2XEeWnDaII1mfokg" name="partialEnableSimulationPanel" specification="_S0764u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(true);
//		cbMolecule.setEnabled(false);
//		cbForceField.setEnabled(false);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYmu2XEeWnDaII1mfokg" name="enableSimulationPanel" specification="_S0764-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>tfTimeDelta.setEnabled(true);
		cbMolecule.setEnabled(true);
		cbForceField.setEnabled(true);
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYm-2XEeWnDaII1mfokg" name="createForcesPanel" specification="_S0765O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>forcesPanel = new JPanel();
		forcesPanel.setBorder(BorderFactory.createTitledBorder(&quot;Force Field Parameters&quot;));
		forcesPanel.setLayout(new BoxLayout(forcesPanel, BoxLayout.Y_AXIS));
		
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		
		for (Map.Entry&lt;String, Object> e: params.entrySet()) {
			if (e.getValue() instanceof Boolean) {
				JCheckBox cb = new JCheckBox(e.getKey());
				cb.setAlignmentX(LEFT_ALIGNMENT);
				if ((Boolean) e.getValue()) {
					cb.setSelected(true);
				}
				cb.addActionListener(new ActionListener(){
				    public void actionPerformed(ActionEvent e) {
				    	JCheckBox cb = (JCheckBox) e.getSource();
				    	config.put(cb.getText(), cb.isSelected());
				    }
				});
				forcesPanel.add(cb);
				ffParamComponents.add(cb);
			}
		}

	    JLabel label1 = new JLabel(&quot;Forces&quot;);
	    label1.setAlignmentX(Component.LEFT_ALIGNMENT);
	    
	    disableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYnO2XEeWnDaII1mfokg" name="disableForcePanel" specification="_S0765e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (JComponent c: ffParamComponents) {
			c.setEnabled(false);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYne2XEeWnDaII1mfokg" name="enableForcePanel" specification="_S08h8O2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>for (JComponent c: ffParamComponents) {
			c.setEnabled(true);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_TjbYnu2XEeWnDaII1mfokg" name="saveParams" specification="_S08h8e2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>// fields in simulation panel
		config.put(&quot;name&quot;, (String) cbMolecule.getSelectedItem());
		config.put(&quot;timeDelta&quot;, Double.parseDouble(tfTimeDelta.getText()));
		config.put(&quot;forceField&quot;, (String) cbForceField.getSelectedItem());
		// fields in force panel
		Map&lt;String, Object> params = (Map&lt;String, Object>) config.get(&quot;ffParams&quot;);
		
		for (JComponent c: ffParamComponents) {
			if (c instanceof JCheckBox) {
				JCheckBox cb = (JCheckBox) c;
				String key = cb.getText();
				Boolean value = cb.isSelected();
				params.put(key, value);
			}
		}
		System.out.println(params.toString());
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjb_oO2XEeWnDaII1mfokg" name="disableConfig" specification="_S08h8u2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>disableSimulationPanel();
		disableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjb_oe2XEeWnDaII1mfokg" name="enableConfig" specification="_S08h8-2XEeWnDaII1mfokg">
                      <language>java</language>
                      <body>enableSimulationPanel();
		enableForcePanel();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_Tjb_ou2XEeWnDaII1mfokg" name="getMoleculeList" specification="_S08h9O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_Tjb_o-2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_Tjb_pO2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>File f = null;
	    String[] paths = {};
	    List&lt;String> molecules = new ArrayList&lt;String>();
	            
	    try{      
	    	f = new File(&quot;res/amber03_test/&quot;);
         paths = f.list();
	    	for(String path:paths) {
	    		if (!path.equals(&quot;.DS_Store&quot;)) {
	    			molecules.add(path);
	    		}
	    	}
	    }catch(Exception e){
	    	e.printStackTrace();
	    }
		return molecules.toArray(new String[molecules.size()]);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_S07T0O2XEeWnDaII1mfokg" name="reload" method="_TjbYlO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S07T0e2XEeWnDaII1mfokg" name="reloadViewer" visibility="private" method="_TjbYle2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S07T0u2XEeWnDaII1mfokg" name="reloadParams" visibility="private" method="_TjbYlu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0764O2XEeWnDaII1mfokg" name="createSimulationPanel" visibility="private" method="_TjbYl-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0764e2XEeWnDaII1mfokg" name="disableSimulationPanel" visibility="protected" method="_TjbYmO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0764u2XEeWnDaII1mfokg" name="partialEnableSimulationPanel" visibility="protected" method="_TjbYme2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0764-2XEeWnDaII1mfokg" name="enableSimulationPanel" visibility="protected" method="_TjbYmu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0765O2XEeWnDaII1mfokg" name="createForcesPanel" visibility="private" method="_TjbYm-2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S0765e2XEeWnDaII1mfokg" name="disableForcePanel" visibility="protected" method="_TjbYnO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S08h8O2XEeWnDaII1mfokg" name="enableForcePanel" visibility="protected" method="_TjbYne2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S08h8e2XEeWnDaII1mfokg" name="saveParams" visibility="protected" method="_TjbYnu2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S08h8u2XEeWnDaII1mfokg" name="disableConfig" visibility="protected" method="_Tjb_oO2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S08h8-2XEeWnDaII1mfokg" name="enableConfig" visibility="protected" method="_Tjb_oe2XEeWnDaII1mfokg"/>
                    <ownedOperation xmi:id="_S08h9O2XEeWnDaII1mfokg" name="getMoleculeList" visibility="protected" method="_Tjb_ou2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_S09JAO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_S09JAe2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_TfFEEO2XEeWnDaII1mfokg" name="View" method="_TjbYkO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_TfFrIO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_TfFrIe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_TjwIse2XEeWnDaII1mfokg">
                        <body>Create the main frame.</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_TfFEEe2XEeWnDaII1mfokg" name="listener" type="_S0q1IO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TfFEEu2XEeWnDaII1mfokg" name="config" type="_TWtyRe2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_TfFrIu2XEeWnDaII1mfokg" type="_S05eoO2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_TfD18O2XEeWnDaII1mfokg" name="UpdateRegistry">
                    <ownedComment xmi:id="_huGHgO2XEeWnDaII1mfokg">
                      <body>@author Wenjie
 *
 *	This class acts as the &quot;middle-man&quot; between JmolDisplay 
 *	and back end calculations and object model.
 *	Contains sections:
 *	- Methods called when there's changes to object model
 *	- Methods called when there's changes in JmolDisplay
 *	- Methods called to notify Viewer of new changes to object Model
 *	- private methods used only within class.</body>
                    </ownedComment>
                    <generalization xmi:id="_hn5Y4e2XEeWnDaII1mfokg" general="_SwZZIO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htH3IO2XEeWnDaII1mfokg" name="dragMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htIeMe2XEeWnDaII1mfokg" name="addMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htIeM-2XEeWnDaII1mfokg" name="storeAddAtom" visibility="protected" type="_SsiM0O2XEeWnDaII1mfokg" association="_huP4gO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htJFQe2XEeWnDaII1mfokg" name="jmolPanel" visibility="protected" type="_SwxzoO2XEeWnDaII1mfokg" association="_huP4g-2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htJFQ-2XEeWnDaII1mfokg" name="minimizeMode" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htJsUe2XEeWnDaII1mfokg" name="logger" visibility="protected" isStatic="true" type="_TVqpYe2XEeWnDaII1mfokg" association="_huQfke2XEeWnDaII1mfokg">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htJsUu2XEeWnDaII1mfokg" value="java.util.logging.Logger.getLogger(UpdateRegistry.class.getName())"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htJsVO2XEeWnDaII1mfokg" name="viewer" visibility="private" type="_TXOIkO2XEeWnDaII1mfokg" association="_huRGoe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htKTYe2XEeWnDaII1mfokg" name="toolPanel" visibility="private" type="_SxCSUO2XEeWnDaII1mfokg" association="_huRGpO2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htKTY-2XEeWnDaII1mfokg" name="modelList" visibility="private" type="_St43sO2XEeWnDaII1mfokg" isOrdered="true" association="_huRtse2XEeWnDaII1mfokg">
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_htKTZO2XEeWnDaII1mfokg" value="*"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htK6ce2XEeWnDaII1mfokg" name="selectedAtoms" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_huSUwe2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htLhgu2XEeWnDaII1mfokg" name="savedAtoms" visibility="private" type="_TUPtEO2XEeWnDaII1mfokg" association="_huS70e2XEeWnDaII1mfokg"/>
                    <ownedAttribute xmi:id="_htMIku2XEeWnDaII1mfokg" name="offset" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_htMvoO2XEeWnDaII1mfokg" value="*"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htMvou2XEeWnDaII1mfokg" value="new double[3]"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_htNWsO2XEeWnDaII1mfokg" name="atomselected" visibility="protected">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_htNWse2XEeWnDaII1mfokg" value="true"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htuUEO2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_hn0gYO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htuUEe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUEu2XEeWnDaII1mfokg" name="toolPanel" type="_SxCSUO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUE-2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUFO2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.jmolPanel = jmolPanel;
		this.viewer = jmolPanel.getViewer();
		this.modelList = models;
		this.toolPanel = toolPanel;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
		this.addMode = false;
		this.minimizeMode = false;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htuUFe2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_hn2VkO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htuUFu2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUF-2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUGO2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;
		this.modelList = models;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htuUGe2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_hn28oe2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htuUGu2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_htuUG-2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = viewer;
		this.modelList = null;
		this.dragMode = -1;
		this.mouseState = new MouseState();
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7IO2XEeWnDaII1mfokg" name="UpdateRegistry" specification="_hn3jsO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7Ie2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                      <language>java</language>
                      <body>this.viewer = null;
		this.modelList = new ArrayList&lt;Model>();
		this.toolPanel = null;
//		this.mouseState = new MouseState();
		this.dragMode = -1;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7Iu2XEeWnDaII1mfokg" name="setSelectedAtoms" specification="_hn3jtO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7I-2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//System.out.println(&quot;Selected: &quot; + values);
		if(selectedAtoms==null)
			selectedAtoms = new ArrayList&lt;Atom>();
		else
			selectedAtoms.clear();

		String[] valueGet = values.toString().split(&quot;[{ }]&quot;);
		if(modelList!=null){
			Model currentModel = modelList.get(viewer.getDisplayModelIndex());
			for(int i=0;i&lt;valueGet.length;i++){
				if(valueGet[i].compareTo(&quot;&quot;)!= 0){
					// if its list of continuous atoms
					if(valueGet[i].contains(&quot;:&quot;)){
						int start = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[0])+1;
						int end = Integer.parseInt(valueGet[i].split(&quot;:&quot;)[1])+1;
						for(int j=start;j&lt;=end;j++){
							selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+j));
						}
					}
					else{
						selectedAtoms.add(currentModel.getAtomHash().get(currentModel.getModelName()+(Integer.parseInt(valueGet[i])+1)));
					}
				}
			}
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7JO2XEeWnDaII1mfokg" name="atomMoved" specification="_hn3jtu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7Je2XEeWnDaII1mfokg" name="atomsMoved" type="_TWAnpO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>// get the list of atoms moved.
		if(atomselected)
			setSelectedAtoms(atomsMoved);
		
		// update the atoms moved in user model.
		for(int i=0;i&lt;selectedAtoms.size();i++){
			int atomIndex = selectedAtoms.get(i).getAtomSeqNum()-1;
			double[] coords = {viewer.ms.at[atomIndex].x,viewer.ms.at[atomIndex].y,viewer.ms.at[atomIndex].z};
			if(coords[0]!=selectedAtoms.get(i).getCoordinates()[0]){
				offset[0] = selectedAtoms.get(i).getCoordinates()[0]- coords[0];
				offset[1] = selectedAtoms.get(i).getCoordinates()[1]- coords[1];
				offset[2] = selectedAtoms.get(i).getCoordinates()[2]- coords[2];
				selectedAtoms.get(i).setCoordinates(coords);
			}
			else{
				coords[0] = selectedAtoms.get(i).getCoordinates()[0]-offset[0];
				coords[1] = selectedAtoms.get(i).getCoordinates()[1]-offset[1];
				coords[2] = selectedAtoms.get(i).getCoordinates()[2]-offset[2];
				viewer.ms.at[atomIndex].x = (float)coords[0]; 
				viewer.ms.at[atomIndex].y = (float)coords[1]; 
				viewer.ms.at[atomIndex].z = (float)coords[2]; 
				selectedAtoms.get(i).setCoordinates(coords);
			}
			
			//System.out.println(&quot;COORD:&quot; + selectedAtoms.get(i).getCoordinates()[0]);
		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7Ju2XEeWnDaII1mfokg" name="capCoord" specification="_hpZ0wO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7J-2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_htu7KO2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(coord &lt; 0)
			return Math.max(-999.000, coord);
		return Math.min(coord, +999.000);
		
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7Ke2XEeWnDaII1mfokg" name="display" specification="_hn4Kwu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7Ku2XEeWnDaII1mfokg" name="list" type="_TUPtEO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>//		String gro = 	&quot;HEMOGLOBIN (DEOXY) (ALPHA CHAIN);; HEMOGLOBIN (DEOXY) (BETA CHAIN);&quot; +
//						&quot;   38&quot; +
//						&quot;    1VAL      N    1   0.620   1.687   0.485&quot; +
//						&quot;    1VAL     H1    2   0.641   1.610   0.425&quot; +
//						&quot;    1VAL     H2    3   0.634   1.659   0.581&quot; +
//						&quot;    1VAL     H3    4   0.525   1.715   0.472&quot; +
//						&quot;    1VAL     CA    5   0.691   1.776   0.461&quot; +
//						&quot;    1VAL     HA    6   0.671   1.775   0.363&quot; +
//						&quot;    1VAL     CB    7   0.637   1.904   0.581&quot; +
//						&quot;    1VAL     HB    8   0.634   1.943   0.673&quot; +
//						&quot;    1VAL    CG1    9   0.701   2.013   0.542&quot; +
//						&quot;    1VAL   HG11   10   0.677   2.089   0.602&quot; +
//						&quot;    1VAL   HG12   11   0.799   1.996   0.546&quot; +
//						&quot;    1VAL   HG13   12   0.674   2.035   0.448&quot; +
//						&quot;    1VAL    CG2   13   0.525   1.853   0.568&quot; +
//						&quot;    1VAL   HG21   14   0.459   1.902   0.626&quot; +
//						&quot;    1VAL   HG22   15   0.496   1.859   0.472&quot; +
//						&quot;    1VAL   HG23   16   0.528   1.757   0.596&quot; +
//						&quot;    1VAL      C   17   0.850   1.738   0.480&quot; +
//						&quot;    1VAL      O   18   0.881   1.701   0.594&quot; +
//						&quot;    2LEU      N   19   0.910   1.804   0.386&quot; +
//						&quot;    2LEU      H   20   0.870   1.852   0.307&quot; +
//						&quot;    2LEU     CA   21   1.060   1.789   0.428&quot; +
//						&quot;    2LEU     HA   22   1.079   1.703   0.476&quot; +
//						&quot;    2LEU     CB   23   1.110   1.801   0.282&quot; +
//						&quot;    2LEU    HB1   24   1.199   1.846   0.282&quot; +
//						&quot;    2LEU    HB2   25   1.045   1.856   0.230&quot; +
//						&quot;    2LEU     CG   26   1.132   1.696   0.193&quot; +
//						&quot;    2LEU     HG   27   1.125   1.695   0.293&quot; +
//						&quot;    2LEU    CD1   28   1.147   1.560   0.234&quot; +
//						&quot;    2LEU   HD11   29   1.162   1.502   0.153&quot; +
//						&quot;    2LEU   HD12   30   1.225   1.551   0.296&quot; +
//						&quot;    2LEU   HD13   31   1.064   1.530   0.281&quot; +
//						&quot;    2LEU    CD2   32   1.142   1.727   0.030&quot; +
//						&quot;    2LEU   HD21   33   1.158   1.641  -0.019&quot; +
//						&quot;    2LEU   HD22   34   1.057   1.768  -0.001&quot; +
//						&quot;    2LEU   HD23   35   1.218   1.790   0.013&quot; +
//						&quot;    2LEU      C   36   1.127   1.918   0.530&quot; +
//						&quot;    2LEU    OC1   37   1.182   1.914   0.613&quot; +
//						&quot;    2LEU    OC2   38   1.081   2.018   0.465&quot; +
//						&quot;   6.31500   8.35900   5.30868   0.00000   0.00000   0.00000   0.00000  -0.87313   0.00000&quot;;
		

	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7K-2XEeWnDaII1mfokg" name="notifyUpdated" specification="_hn4x0e2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7LO2XEeWnDaII1mfokg" name="particles" type="_SzwPI-2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_htu7Le2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>List&lt;Atom> atomsUpdated = new ArrayList&lt;Atom>();
		
		// When the two particles are part of common model
//		if(modelList.size()!=0){
//			for(int i=0;i&lt;particles.length;i++){
//				if(particles[i] instanceof Atom){ // if particle is Atom type
//					// get the updated atom from model
//					atomsUpdated.add(modelList.get(0).getAtomHash().get(modelList.get(0).getModelName()+((Atom)particles[i]).getChainSeqNum()));
//				}
//			}
//			// update atoms in jmol display
//			for(int i=0;i&lt;atomsUpdated.size();i++){
//				Atom atom = atomsUpdated.get(i);
//				float xOffset = (float)atom.getPosition().x - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).x;
//				float yOffset = (float)atom.getPosition().y - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).y;
//				float zOffset = (float)atom.getPosition().z - viewer.getAtomPoint3f(atom.getChainSeqNum()-1).z;
//				viewer.evalString(&quot;select atomno=&quot;+ atom.getChainSeqNum());
//				viewer.evalString(&quot;translateSelected {&quot; + xOffset + &quot; &quot; + yOffset + &quot; &quot; + zOffset + &quot;}&quot;);
//			}
//		}
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_htu7Lu2XEeWnDaII1mfokg" name="updateViewerCoord" specification="_hn4x1O2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_htu7L-2XEeWnDaII1mfokg" name="particles" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <language>java</language>
                      <body>for(AbstractParticle p: particles) {
			Vector3D position = p.getPosition();
	    	viewer.ms.setAtomCoord((p.getGUID()-1), (float)position.x*10, (float)position.y*10, (float)position.z*10);
	    }
		viewer.refresh(3, &quot;Simulation&quot;);
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_hn0gYO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_htuUEO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_hn1Hc-2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_hn1HdO2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_huGHge2XEeWnDaII1mfokg">
                        <body>*****************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_hn0gYe2XEeWnDaII1mfokg" name="jmolPanel" type="_SwxzoO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn1HcO2XEeWnDaII1mfokg" name="toolPanel" type="_SxCSUO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn1Hce2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn1Hcu2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn2VkO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_htuUFe2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_hn2VlO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_hn2Vle2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_hn2Vke2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn2Vku2XEeWnDaII1mfokg" name="models" type="_TUfksO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn2Vk-2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn28oe2XEeWnDaII1mfokg" name="UpdateRegistry" method="_htuUGe2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_hn28pO2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_hn28pe2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_hn28ou2XEeWnDaII1mfokg" name="viewer" type="_TXOIkO2XEeWnDaII1mfokg"/>
                      <ownedParameter xmi:id="_hn28o-2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn3jsO2XEeWnDaII1mfokg" name="UpdateRegistry" method="_htu7IO2XEeWnDaII1mfokg">
                      <eAnnotations xmi:id="_hn3jsu2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_hn3js-2XEeWnDaII1mfokg" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_hn3jse2XEeWnDaII1mfokg" type="_TfD18O2XEeWnDaII1mfokg" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn3jtO2XEeWnDaII1mfokg" name="setSelectedAtoms" method="_htu7Iu2XEeWnDaII1mfokg">
                      <ownedComment xmi:id="_huGukO2XEeWnDaII1mfokg">
                        <body>*******************************************************</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_hn3jte2XEeWnDaII1mfokg" name="values" type="_TWAnpO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn3jtu2XEeWnDaII1mfokg" name="atomMoved" method="_htu7JO2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hn3jt-2XEeWnDaII1mfokg" name="atomsMoved" type="_TWAnpO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn4KwO2XEeWnDaII1mfokg" name="atomMoved"/>
                    <ownedOperation xmi:id="_hn4Kwe2XEeWnDaII1mfokg" name="setModelBonds"/>
                    <ownedOperation xmi:id="_hn4Kwu2XEeWnDaII1mfokg" name="display" method="_htu7Ke2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hn4Kw-2XEeWnDaII1mfokg" name="list" type="_TUPtEO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn4x0e2XEeWnDaII1mfokg" name="notifyUpdated" method="_htu7K-2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hn4x0u2XEeWnDaII1mfokg" name="particles" type="_SzwPI-2XEeWnDaII1mfokg">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_hn4x0-2XEeWnDaII1mfokg" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hn4x1O2XEeWnDaII1mfokg" name="updateViewerCoord" method="_htu7Lu2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hn4x1e2XEeWnDaII1mfokg" name="particles" type="_TUfksO2XEeWnDaII1mfokg"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hpZ0wO2XEeWnDaII1mfokg" name="capCoord" visibility="private" method="_htu7Ju2XEeWnDaII1mfokg">
                      <ownedParameter xmi:id="_hpZ0we2XEeWnDaII1mfokg" name="coord">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hpZ0wu2XEeWnDaII1mfokg" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_hpab0O2XEeWnDaII1mfokg" name="setMouseState">
                      <ownedParameter xmi:id="_hpab0e2XEeWnDaII1mfokg" name="x">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hpab0u2XEeWnDaII1mfokg" name="y">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_hpab0-2XEeWnDaII1mfokg" name="mode">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlNhQe2XEeWnDaII1mfokg" name="" memberEnd="_TlNhQu2XEeWnDaII1mfokg _TiMpge2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlNhQu2XEeWnDaII1mfokg" name="" type="_S0lVkO2XEeWnDaII1mfokg" association="_TlNhQe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlOIUe2XEeWnDaII1mfokg" name="" memberEnd="_TlOIUu2XEeWnDaII1mfokg _TiN3oO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlOIUu2XEeWnDaII1mfokg" name="" type="_S0lVkO2XEeWnDaII1mfokg" association="_TlOIUe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlOvYe2XEeWnDaII1mfokg" name="" memberEnd="_TlOvYu2XEeWnDaII1mfokg _TiPFwO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlOvYu2XEeWnDaII1mfokg" name="" type="_S0lVkO2XEeWnDaII1mfokg" association="_TlOvYe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlPWce2XEeWnDaII1mfokg" name="" memberEnd="_TlPWcu2XEeWnDaII1mfokg _TiPs0O2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlPWcu2XEeWnDaII1mfokg" name="" type="_S0sqUO2XEeWnDaII1mfokg" association="_TlPWce2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlPWdO2XEeWnDaII1mfokg" name="" memberEnd="_TlPWde2XEeWnDaII1mfokg _TiSJEe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlPWde2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlPWdO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlP9ge2XEeWnDaII1mfokg" name="" memberEnd="_TlP9gu2XEeWnDaII1mfokg _TiSwIe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlP9gu2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlP9ge2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlP9hO2XEeWnDaII1mfokg" name="" memberEnd="_TlP9he2XEeWnDaII1mfokg _TiTXMe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlP9he2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlP9hO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlQkke2XEeWnDaII1mfokg" name="" memberEnd="_TlQkku2XEeWnDaII1mfokg _TiT-QO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlQkku2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlQkke2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlRLoO2XEeWnDaII1mfokg" name="" memberEnd="_TlRLoe2XEeWnDaII1mfokg _TiT-Qu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlRLoe2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlRLoO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlRLo-2XEeWnDaII1mfokg" name="" memberEnd="_TlRLpO2XEeWnDaII1mfokg _TiUlUe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlRLpO2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlRLo-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlRyse2XEeWnDaII1mfokg" name="" memberEnd="_TlRysu2XEeWnDaII1mfokg _TiVMYO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlRysu2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlRyse2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlRytO2XEeWnDaII1mfokg" name="" memberEnd="_TlRyte2XEeWnDaII1mfokg _TiVzce2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlRyte2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlRytO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlSZwe2XEeWnDaII1mfokg" name="" memberEnd="_TlSZwu2XEeWnDaII1mfokg _TiWage2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlSZwu2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlSZwe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlTA0e2XEeWnDaII1mfokg" name="" memberEnd="_TlTA0u2XEeWnDaII1mfokg _TiXBke2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlTA0u2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlTA0e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlTn4e2XEeWnDaII1mfokg" name="" memberEnd="_TlTn4u2XEeWnDaII1mfokg _TiXBk-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlTn4u2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlTn4e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlUO8e2XEeWnDaII1mfokg" name="" memberEnd="_TlUO8u2XEeWnDaII1mfokg _TiXoou2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlUO8u2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlUO8e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlU2AO2XEeWnDaII1mfokg" name="" memberEnd="_TlU2Ae2XEeWnDaII1mfokg _TiYPse2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlU2Ae2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlU2AO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlU2A-2XEeWnDaII1mfokg" name="" memberEnd="_TlU2BO2XEeWnDaII1mfokg _TiYPs-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlU2BO2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlU2A-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlVdEe2XEeWnDaII1mfokg" name="" memberEnd="_TlVdEu2XEeWnDaII1mfokg _TiY2we2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlVdEu2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlVdEe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_TlVdFO2XEeWnDaII1mfokg" name="" memberEnd="_TlVdFe2XEeWnDaII1mfokg _TiY2w-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_TlVdFe2XEeWnDaII1mfokg" name="" type="_S05eoO2XEeWnDaII1mfokg" association="_TlVdFO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huP4gO2XEeWnDaII1mfokg" name="" memberEnd="_huP4ge2XEeWnDaII1mfokg _htIeM-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huP4ge2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huP4gO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huP4g-2XEeWnDaII1mfokg" name="" memberEnd="_huP4hO2XEeWnDaII1mfokg _htJFQe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huP4hO2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huP4g-2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huQfke2XEeWnDaII1mfokg" name="" memberEnd="_huQfku2XEeWnDaII1mfokg _htJsUe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huQfku2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huQfke2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huRGoe2XEeWnDaII1mfokg" name="" memberEnd="_huRGou2XEeWnDaII1mfokg _htJsVO2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huRGou2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huRGoe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huRGpO2XEeWnDaII1mfokg" name="" memberEnd="_huRGpe2XEeWnDaII1mfokg _htKTYe2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huRGpe2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huRGpO2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huRtse2XEeWnDaII1mfokg" name="" memberEnd="_huRtsu2XEeWnDaII1mfokg _htKTY-2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huRtsu2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huRtse2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huSUwe2XEeWnDaII1mfokg" name="" memberEnd="_huSUwu2XEeWnDaII1mfokg _htK6ce2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huSUwu2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huSUwe2XEeWnDaII1mfokg"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_huS70e2XEeWnDaII1mfokg" name="" memberEnd="_huS70u2XEeWnDaII1mfokg _htLhgu2XEeWnDaII1mfokg">
                    <ownedEnd xmi:id="_huS70u2XEeWnDaII1mfokg" name="" type="_TfD18O2XEeWnDaII1mfokg" association="_huS70e2XEeWnDaII1mfokg"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
            </packagedElement>
          </packagedElement>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_SkWhMO2XEeWnDaII1mfokg" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_SkXIQO2XEeWnDaII1mfokg" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_TUPtEO2XEeWnDaII1mfokg" name="ArrayList"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_SlctYO2XEeWnDaII1mfokg" name="logging">
          <packagedElement xmi:type="uml:Class" xmi:id="_TVpbQO2XEeWnDaII1mfokg" name="Level"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TVqpYe2XEeWnDaII1mfokg" name="Logger"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TWUJoe2XEeWnDaII1mfokg" name="FileHandler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TWUwse2XEeWnDaII1mfokg" name="Handler"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TWVXwe2XEeWnDaII1mfokg" name="SimpleFormatter"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SnSgcO2XEeWnDaII1mfokg" name="Map">
          <packagedElement xmi:type="uml:Interface" xmi:id="_TYfT4u2XEeWnDaII1mfokg" name="Entry"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SnqT4O2XEeWnDaII1mfokg" name="concurrent">
          <packagedElement xmi:type="uml:Class" xmi:id="_TZXdoO2XEeWnDaII1mfokg" name="CountDownLatch"/>
          <packagedElement xmi:type="uml:Enumeration" xmi:id="_TZYEse2XEeWnDaII1mfokg" name="TimeUnit"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_TUQUIe2XEeWnDaII1mfokg" name="HashMap"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TUfksO2XEeWnDaII1mfokg" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWJKgu2XEeWnDaII1mfokg" name="Arrays"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWJxke2XEeWnDaII1mfokg" name="Scanner"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TWtyRe2XEeWnDaII1mfokg" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXnxMO2XEeWnDaII1mfokg" name="Collections"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TavWoO2XEeWnDaII1mfokg" name="Random"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_hoAGke2XEeWnDaII1mfokg" name="regex">
          <packagedElement xmi:type="uml:Class" xmi:id="_hstnc-2XEeWnDaII1mfokg" name="Matcher"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_hsuOge2XEeWnDaII1mfokg" name="Pattern"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_hstnce2XEeWnDaII1mfokg" name="Vector"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SkZkgu2XEeWnDaII1mfokg" name="lang">
        <packagedElement xmi:type="uml:Package" xmi:id="_hoAGkO2XEeWnDaII1mfokg" name="ProcessBuilder">
          <packagedElement xmi:type="uml:Class" xmi:id="_hstAYe2XEeWnDaII1mfokg" name="Redirect"/>
        </packagedElement>
        <packagedElement xmi:type="uml:DataType" xmi:id="_TUQ7Me2XEeWnDaII1mfokg" name="String"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWqu8O2XEeWnDaII1mfokg" name="Object"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TcQZkO2XEeWnDaII1mfokg" name="Cloneable"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TcRnsu2XEeWnDaII1mfokg" name="CloneNotSupportedException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TcylEO2XEeWnDaII1mfokg" name="StringBuffer"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TdfIoO2XEeWnDaII1mfokg" name="Exception"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SlSVUO2XEeWnDaII1mfokg" name="text">
        <packagedElement xmi:type="uml:Class" xmi:id="_TVXucO2XEeWnDaII1mfokg" name="DecimalFormat"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TVYVge2XEeWnDaII1mfokg" name="NumberFormat"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SlcGUO2XEeWnDaII1mfokg" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_TVo0MO2XEeWnDaII1mfokg" name="File"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TV7vIO2XEeWnDaII1mfokg" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TV9kUO2XEeWnDaII1mfokg" name="BufferedWriter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWDD4e2XEeWnDaII1mfokg" name="BufferedReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWDD4-2XEeWnDaII1mfokg" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWJKgO2XEeWnDaII1mfokg" name="InputStreamReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWM04u2XEeWnDaII1mfokg" name="BufferedOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWQfQO2XEeWnDaII1mfokg" name="FileOutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWRGUO2XEeWnDaII1mfokg" name="OutputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWRtYe2XEeWnDaII1mfokg" name="PrintStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWSUce2XEeWnDaII1mfokg" name="PrintWriter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXM6cO2XEeWnDaII1mfokg" name="FileWriter"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TXvF8O2XEeWnDaII1mfokg" name="FileFilter"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TbCRkO2XEeWnDaII1mfokg" name="ByteArrayInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_hssZUO2XEeWnDaII1mfokg" name="FileNotFoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_hsu1kO2XEeWnDaII1mfokg" name="FileInputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_hs1jQO2XEeWnDaII1mfokg" name="FileReader"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Slr98O2XEeWnDaII1mfokg" name="awt">
        <packagedElement xmi:type="uml:Class" xmi:id="_TWLmwO2XEeWnDaII1mfokg" name="Container"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_Slr98e2XEeWnDaII1mfokg" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="_TW9p4O2XEeWnDaII1mfokg" name="MouseEvent"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TW_fEO2XEeWnDaII1mfokg" name="ActionEvent"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TXAGIu2XEeWnDaII1mfokg" name="KeyEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TXue4O2XEeWnDaII1mfokg" name="ActionListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TZtb4O2XEeWnDaII1mfokg" name="KeyAdapter"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Tc4Eoe2XEeWnDaII1mfokg" name="WindowAdapter"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_Tc89IO2XEeWnDaII1mfokg" name="WindowEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TdB1oO2XEeWnDaII1mfokg" name="MouseListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWM04O2XEeWnDaII1mfokg" name="Dimension"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXnKIO2XEeWnDaII1mfokg" name="Rectangle"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXq0gO2XEeWnDaII1mfokg" name="Graphics"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX9IYO2XEeWnDaII1mfokg" name="BorderLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX9vce2XEeWnDaII1mfokg" name="GridBagConstraints"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX9vc-2XEeWnDaII1mfokg" name="GridBagLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX-Wge2XEeWnDaII1mfokg" name="Insets"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TaCMAe2XEeWnDaII1mfokg" name="Component"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TbQUAe2XEeWnDaII1mfokg" name="GridLayout"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Slr98u2XEeWnDaII1mfokg" name="net">
        <packagedElement xmi:type="uml:Class" xmi:id="_TWS7ge2XEeWnDaII1mfokg" name="ServerSocket"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWTikO2XEeWnDaII1mfokg" name="Socket"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SomIAO2XEeWnDaII1mfokg" name="nio">
        <packagedElement xmi:type="uml:Package" xmi:id="_SomIAe2XEeWnDaII1mfokg" name="file">
          <packagedElement xmi:type="uml:Class" xmi:id="_TazBAO2XEeWnDaII1mfokg" name="FileSystems"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TazoEO2XEeWnDaII1mfokg" name="Path"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SoyVQO2XEeWnDaII1mfokg" name="charset">
          <packagedElement xmi:type="uml:Class" xmi:id="_TbC4oO2XEeWnDaII1mfokg" name="StandardCharsets"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TbVzkO2XEeWnDaII1mfokg" name="Charset"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Sko1EO2XEeWnDaII1mfokg" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_Sko1Ee2XEeWnDaII1mfokg" name="biojava">
        <packagedElement xmi:type="uml:Package" xmi:id="_Sko1Eu2XEeWnDaII1mfokg" name="bio">
          <packagedElement xmi:type="uml:Package" xmi:id="_Sko1E-2XEeWnDaII1mfokg" name="structure">
            <packagedElement xmi:type="uml:Interface" xmi:id="_TUaFIe2XEeWnDaII1mfokg" name="Group"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_SlkCIO2XEeWnDaII1mfokg" name="io">
              <packagedElement xmi:type="uml:Class" xmi:id="_TV8WMO2XEeWnDaII1mfokg" name="MMCIFFileReader"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_TV8WMu2XEeWnDaII1mfokg" name="PDBFileReader"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_TbDfse2XEeWnDaII1mfokg" name="PDBFileParser"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_SmpnQO2XEeWnDaII1mfokg" name="align">
              <packagedElement xmi:type="uml:Package" xmi:id="_SmpnQe2XEeWnDaII1mfokg" name="gui">
                <packagedElement xmi:type="uml:Class" xmi:id="_TdS7YO2XEeWnDaII1mfokg" name="JPrintPanel"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_TUasMe2XEeWnDaII1mfokg" name="HetatomImpl"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_TUb6UO2XEeWnDaII1mfokg" name="Chain"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_TUfksu2XEeWnDaII1mfokg" name="Structure"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_TVvh4O2XEeWnDaII1mfokg" name="StructureException"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_TbC4ou2XEeWnDaII1mfokg" name="Atom"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Slhl4O2XEeWnDaII1mfokg" name="jmol">
        <packagedElement xmi:type="uml:Package" xmi:id="_Slhl4e2XEeWnDaII1mfokg" name="api">
          <packagedElement xmi:type="uml:Class" xmi:id="_TVwI8e2XEeWnDaII1mfokg" name="JmolViewer"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TV-yce2XEeWnDaII1mfokg" name="JmolSelectionListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TXoYQO2XEeWnDaII1mfokg" name="JmolAdapter"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TXpmYe2XEeWnDaII1mfokg" name="JmolStatusListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SlnFcO2XEeWnDaII1mfokg" name="java">
          <packagedElement xmi:type="uml:Class" xmi:id="_TWAnpO2XEeWnDaII1mfokg" name="BS"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SmG0sO2XEeWnDaII1mfokg" name="c">
          <packagedElement xmi:type="uml:Enumeration" xmi:id="_TWo5wO2XEeWnDaII1mfokg" name="CBK"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SmRz0O2XEeWnDaII1mfokg" name="viewer">
          <packagedElement xmi:type="uml:Class" xmi:id="_TXOIkO2XEeWnDaII1mfokg" name="Viewer"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SmqOUO2XEeWnDaII1mfokg" name="adapter">
          <packagedElement xmi:type="uml:Package" xmi:id="_SmqOUe2XEeWnDaII1mfokg" name="smarter">
            <packagedElement xmi:type="uml:Class" xmi:id="_TXkt4O2XEeWnDaII1mfokg" name="SmarterJmolAdapter"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Smq1YO2XEeWnDaII1mfokg" name="modelkit">
          <packagedElement xmi:type="uml:Class" xmi:id="_TXlU8O2XEeWnDaII1mfokg" name="ModelKitPopup"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TXlU8u2XEeWnDaII1mfokg" name="ModelKitPopupResourceBundle"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Smq1Ye2XEeWnDaII1mfokg" name="popup">
          <packagedElement xmi:type="uml:Class" xmi:id="_TXl8Ae2XEeWnDaII1mfokg" name="PopupResource"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Smq1Yu2XEeWnDaII1mfokg" name="util">
          <packagedElement xmi:type="uml:Class" xmi:id="_TXmjEe2XEeWnDaII1mfokg" name="Logger"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_hohD8e2XEeWnDaII1mfokg" name="minimize">
          <packagedElement xmi:type="uml:Class" xmi:id="_hs2xYe2XEeWnDaII1mfokg" name="MinAtom"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_hs3Yce2XEeWnDaII1mfokg" name="Util"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SlnsgO2XEeWnDaII1mfokg" name="junit">
        <packagedElement xmi:type="uml:Class" xmi:id="_TWCc0O2XEeWnDaII1mfokg" name="Assert"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TWKYoO2XEeWnDaII1mfokg" name="Test"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SnU8sO2XEeWnDaII1mfokg" name="jsoup">
        <packagedElement xmi:type="uml:Class" xmi:id="_TYi-QO2XEeWnDaII1mfokg" name="Jsoup"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_SnVjwO2XEeWnDaII1mfokg" name="nodes">
          <packagedElement xmi:type="uml:Class" xmi:id="_TYi-Qu2XEeWnDaII1mfokg" name="Document"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TYjlUe2XEeWnDaII1mfokg" name="Element"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_SnVjwe2XEeWnDaII1mfokg" name="select">
          <packagedElement xmi:type="uml:Class" xmi:id="_TYkMYO2XEeWnDaII1mfokg" name="Elements"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_SnqT4e2XEeWnDaII1mfokg" name="kohsuke">
        <packagedElement xmi:type="uml:Package" xmi:id="_Snq68O2XEeWnDaII1mfokg" name="args4j">
          <packagedElement xmi:type="uml:Interface" xmi:id="_TZYrwe2XEeWnDaII1mfokg" name="Argument"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TZZS0e2XEeWnDaII1mfokg" name="CmdLineException"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TZZS0-2XEeWnDaII1mfokg" name="CmdLineParser"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TZZ54e2XEeWnDaII1mfokg" name="Option"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_Soy8UO2XEeWnDaII1mfokg" name="biojava3">
        <packagedElement xmi:type="uml:Package" xmi:id="_Soy8Ue2XEeWnDaII1mfokg" name="core">
          <packagedElement xmi:type="uml:Package" xmi:id="_Soy8Uu2XEeWnDaII1mfokg" name="util">
            <packagedElement xmi:type="uml:Class" xmi:id="_TbEGwe2XEeWnDaII1mfokg" name="InputStreamProvider"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Soy8U-2XEeWnDaII1mfokg" name="structure">
          <packagedElement xmi:type="uml:Class" xmi:id="_TbEt0e2XEeWnDaII1mfokg" name="StructureIO"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_SlctYe2XEeWnDaII1mfokg" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_SlctYu2XEeWnDaII1mfokg" name="swing">
        <packagedElement xmi:type="uml:Class" xmi:id="_TVpbQu2XEeWnDaII1mfokg" name="JFrame"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_SmwU8O2XEeWnDaII1mfokg" name="filechooser">
          <packagedElement xmi:type="uml:Class" xmi:id="_TX428e2XEeWnDaII1mfokg" name="FileNameExtensionFilter"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Sn2hIO2XEeWnDaII1mfokg" name="border">
          <packagedElement xmi:type="uml:Class" xmi:id="_TZuqAe2XEeWnDaII1mfokg" name="EmptyBorder"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_TaCzEO2XEeWnDaII1mfokg" name="EtchedBorder"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_Sn3IMO2XEeWnDaII1mfokg" name="event">
          <packagedElement xmi:type="uml:Class" xmi:id="_TaBk8O2XEeWnDaII1mfokg" name="ChangeEvent"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_TaBk8u2XEeWnDaII1mfokg" name="ChangeListener"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_TVqCUe2XEeWnDaII1mfokg" name="JOptionPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWiMEe2XEeWnDaII1mfokg" name="Box"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWizIe2XEeWnDaII1mfokg" name="JMenuBar"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TWizI-2XEeWnDaII1mfokg" name="JTextField"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXJQEO2XEeWnDaII1mfokg" name="ButtonGroup"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXJ3Ie2XEeWnDaII1mfokg" name="JButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TXKeMe2XEeWnDaII1mfokg" name="JComboBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX3o0O2XEeWnDaII1mfokg" name="JFileChooser"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX3o0u2XEeWnDaII1mfokg" name="JMenu"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TX4P4e2XEeWnDaII1mfokg" name="JMenuItem"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TYALsO2XEeWnDaII1mfokg" name="JComponent"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TZuC8e2XEeWnDaII1mfokg" name="JPanel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TZ-hoO2XEeWnDaII1mfokg" name="BoxLayout"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TZ_IsO2XEeWnDaII1mfokg" name="JCheckBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TZ_Isu2XEeWnDaII1mfokg" name="JRadioButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TZ_vwe2XEeWnDaII1mfokg" name="JLabel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TaA94e2XEeWnDaII1mfokg" name="JSlider"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TbOe0O2XEeWnDaII1mfokg" name="BorderFactory"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TbPF4e2XEeWnDaII1mfokg" name="DefaultComboBoxModel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TbPs8O2XEeWnDaII1mfokg" name="SpringLayout"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_TbPs8u2XEeWnDaII1mfokg" name="SwingConstants"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_TdZpEO2XEeWnDaII1mfokg" name="JTextArea"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_SmJQ8O2XEeWnDaII1mfokg" name="javajs">
      <packagedElement xmi:type="uml:Package" xmi:id="_SmJ4AO2XEeWnDaII1mfokg" name="awt">
        <packagedElement xmi:type="uml:Class" xmi:id="_TWvAYe2XEeWnDaII1mfokg" name="Dimension"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_hohD8O2XEeWnDaII1mfokg" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_hs2KUe2XEeWnDaII1mfokg" name="T3d"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_Q5zq8O2XEeWnDaII1mfokg">
      <eAnnotations xmi:id="_Q5zq8e2XEeWnDaII1mfokg" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_Q5zq8u2XEeWnDaII1mfokg" base_Package="_Qq4eIO2XEeWnDaII1mfokg">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:Generics xmi:id="_SsqvsO2XEeWnDaII1mfokg" genericsValue="Bond" base_Element="_SsqIo-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_SstL8-2XEeWnDaII1mfokg" base_Element="_SstL8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_StLtEO2XEeWnDaII1mfokg" base_Element="_SsuaEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_StYhY-2XEeWnDaII1mfokg" base_Element="_StYhYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_StZIce2XEeWnDaII1mfokg" base_Element="_StZIcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_StZvgO2XEeWnDaII1mfokg" base_Element="_StZIcO2XEeWnDaII1mfokg">
    <annotations xmi:id="_StZvge2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_StyKAO2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_Stxi8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_StyxEe2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_StyxEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_St6s4O2XEeWnDaII1mfokg" genericsValue="Molecule" base_Element="_St6F0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_St77AO2XEeWnDaII1mfokg" base_Element="_St7T8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_St77Au2XEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="_St77Ae2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_St8iE-2XEeWnDaII1mfokg" base_Element="_St8iEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_SuDPwO2XEeWnDaII1mfokg" genericsValue="Chain" base_Element="_SuCosO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SuJ9cu2XEeWnDaII1mfokg" base_Element="_SuJWYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_SuO18O2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_SuOO4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SujmEO2XEeWnDaII1mfokg" base_Element="_Sui_AO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_SujmE-2XEeWnDaII1mfokg" dimensions="1" base_Element="_Sui_Ae2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvDVUO2XEeWnDaII1mfokg" base_Element="_SvCuQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvD8YO2XEeWnDaII1mfokg" base_Element="_SvDVUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvVpMe2XEeWnDaII1mfokg" base_Element="_SvVpMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvWQQO2XEeWnDaII1mfokg" base_Element="_SvVpMO2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvWQQe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvW3UO2XEeWnDaII1mfokg" base_Element="_SvWQQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvW3Ue2XEeWnDaII1mfokg" base_Element="_SvWQQu2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvW3Uu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvXeYO2XEeWnDaII1mfokg" base_Element="_SvW3U-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvXeYe2XEeWnDaII1mfokg" base_Element="_SvW3U-2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvXeYu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvYFcO2XEeWnDaII1mfokg" base_Element="_SvXeY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvYFce2XEeWnDaII1mfokg" base_Element="_SvXeY-2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvYFcu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvYsge2XEeWnDaII1mfokg" base_Element="_SvYsgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvYsgu2XEeWnDaII1mfokg" base_Element="_SvYsgO2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvYsg-2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvZTkO2XEeWnDaII1mfokg" base_Element="_SvYshO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvZTke2XEeWnDaII1mfokg" base_Element="_SvYshO2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvZTku2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvZ6oO2XEeWnDaII1mfokg" base_Element="_SvZTk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvZ6oe2XEeWnDaII1mfokg" base_Element="_SvZTk-2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvZ6ou2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvahsO2XEeWnDaII1mfokg" base_Element="_SvZ6o-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Svahse2XEeWnDaII1mfokg" base_Element="_SvZ6o-2XEeWnDaII1mfokg">
    <annotations xmi:id="_Svahsu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SvbIwO2XEeWnDaII1mfokg" base_Element="_Svahs-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SvbIwe2XEeWnDaII1mfokg" base_Element="_Svahs-2XEeWnDaII1mfokg">
    <annotations xmi:id="_SvbIwu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Svbv0e2XEeWnDaII1mfokg" base_Element="_Svbv0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Svbv0u2XEeWnDaII1mfokg" base_Element="_Svbv0O2XEeWnDaII1mfokg">
    <annotations xmi:id="_Svbv0-2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_SvezI-2XEeWnDaII1mfokg" base_Element="_SvezIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_SwJhgO2XEeWnDaII1mfokg" genericsValue="int []" base_Element="_SwI6cu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Sw3TMO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_Sw2sIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SxdJEO2XEeWnDaII1mfokg" base_Element="_SxciAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Sxioou2XEeWnDaII1mfokg" base_Element="_SxiooO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_SyE0IO2XEeWnDaII1mfokg" genericsValue="AbstractParticle, ArrayList&lt;Vector3D>" base_Element="_SyENEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_SyS2lO2XEeWnDaII1mfokg" base_Element="_SyS2kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_SylKcO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_SykjYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SzGu4e2XEeWnDaII1mfokg" base_Element="_SzGu4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SzNckO2XEeWnDaII1mfokg" base_Element="_SzM1gO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SzODoO2XEeWnDaII1mfokg" base_Element="_SzNcke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_SzODou2XEeWnDaII1mfokg" base_Element="_SzNcku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SzODo-2XEeWnDaII1mfokg" base_Element="_SzNcke2XEeWnDaII1mfokg">
    <annotations xmi:id="_SzOqsO2XEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="_SzOqse2XEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpKO2XEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SziMsO2XEeWnDaII1mfokg" base_Element="_SzhloO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SziMse2XEeWnDaII1mfokg" base_Element="_SzhloO2XEeWnDaII1mfokg">
    <annotations xmi:id="_SziMsu2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_SzuZ8O2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_Szty4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_SzwPIO2XEeWnDaII1mfokg" base_Element="_SzvoEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_SzwPIe2XEeWnDaII1mfokg" base_Element="_SzvoEO2XEeWnDaII1mfokg">
    <annotations xmi:id="_SzwPIu2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Szz5gO2XEeWnDaII1mfokg" base_Element="_SzzScO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Szz5ge2XEeWnDaII1mfokg" base_Element="_SzzScO2XEeWnDaII1mfokg">
    <annotations xmi:id="_Szz5gu2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Sz7OQO2XEeWnDaII1mfokg" base_Element="_Sz6nMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Sz7OQe2XEeWnDaII1mfokg" base_Element="_Sz6nMO2XEeWnDaII1mfokg">
    <annotations xmi:id="_Sz7OQu2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Sz-Rke2XEeWnDaII1mfokg" base_Element="_Sz-RkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Sz-4oO2XEeWnDaII1mfokg" base_Element="_Sz-RkO2XEeWnDaII1mfokg">
    <annotations xmi:id="_Sz-4oe2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0BU4e2XEeWnDaII1mfokg" base_Element="_S0BU4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0B78O2XEeWnDaII1mfokg" base_Element="_S0BU4O2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0B78e2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0E_Qe2XEeWnDaII1mfokg" base_Element="_S0E_QO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0FmUO2XEeWnDaII1mfokg" base_Element="_S0E_QO2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0FmUe2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0kHcO2XEeWnDaII1mfokg" base_Element="_S0jgYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0kHce2XEeWnDaII1mfokg" base_Element="_S0jgYO2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0kHcu2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0nKwe2XEeWnDaII1mfokg" base_Element="_S0nKwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0tRYe2XEeWnDaII1mfokg" base_Element="_S0tRYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0t4cO2XEeWnDaII1mfokg" base_Element="_S0tRYO2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0t4ce2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0t4c-2XEeWnDaII1mfokg" base_Element="_S0t4cu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0ufgO2XEeWnDaII1mfokg" base_Element="_S0t4cu2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0ufge2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0vGkO2XEeWnDaII1mfokg" base_Element="_S0ufgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0vGke2XEeWnDaII1mfokg" base_Element="_S0ufgu2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0vGku2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0vGlO2XEeWnDaII1mfokg" base_Element="_S0vGk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0vtoO2XEeWnDaII1mfokg" base_Element="_S0vGk-2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0vtoe2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0vto-2XEeWnDaII1mfokg" base_Element="_S0vtou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0wUsO2XEeWnDaII1mfokg" base_Element="_S0vtou2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0wUse2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0wUs-2XEeWnDaII1mfokg" base_Element="_S0wUsu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S0wUtO2XEeWnDaII1mfokg" base_Element="_S0wUsu2XEeWnDaII1mfokg">
    <annotations xmi:id="_S0wUte2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S0yw8u2XEeWnDaII1mfokg" base_Element="_S0yJ4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_S09JAu2XEeWnDaII1mfokg" base_Element="_S08h9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_S1FE0O2XEeWnDaII1mfokg" base_Element="_S1Edwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_S1FE0e2XEeWnDaII1mfokg" base_Element="_S1Edwe2XEeWnDaII1mfokg">
    <annotations xmi:id="_S1FE0u2XEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="_S1FE0-2XEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjwIsu2XEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
    <annotations xmi:id="_S1FE1O2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_S1GS9e2XEeWnDaII1mfokg" base_Element="_S1GS8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUQUIO2XEeWnDaII1mfokg" base_Element="_TUPtEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUQ7MO2XEeWnDaII1mfokg" base_Element="_TUQUIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TURiQO2XEeWnDaII1mfokg" base_Element="_TUQ7Me2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUasMO2XEeWnDaII1mfokg" base_Element="_TUaFIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUbTQO2XEeWnDaII1mfokg" base_Element="_TUasMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUb6Ue2XEeWnDaII1mfokg" base_Element="_TUb6UO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUfkse2XEeWnDaII1mfokg" base_Element="_TUfksO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TUgLwO2XEeWnDaII1mfokg" base_Element="_TUfksu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TU3_MO2XEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Chain" base_Element="_TU3YIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVYVgO2XEeWnDaII1mfokg" base_Element="_TVXucO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVYVgu2XEeWnDaII1mfokg" base_Element="_TVYVge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVo0Me2XEeWnDaII1mfokg" base_Element="_TVo0MO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVpbQe2XEeWnDaII1mfokg" base_Element="_TVpbQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVqCUO2XEeWnDaII1mfokg" base_Element="_TVpbQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVqpYO2XEeWnDaII1mfokg" base_Element="_TVqCUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVqpYu2XEeWnDaII1mfokg" base_Element="_TVqpYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVwI8O2XEeWnDaII1mfokg" base_Element="_TVvh4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TVwI8u2XEeWnDaII1mfokg" base_Element="_TVwI8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TV7vIe2XEeWnDaII1mfokg" base_Element="_TV7vIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TV8WMe2XEeWnDaII1mfokg" base_Element="_TV8WMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TV89QO2XEeWnDaII1mfokg" base_Element="_TV8WMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TV9kUe2XEeWnDaII1mfokg" base_Element="_TV9kUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TV_ZgO2XEeWnDaII1mfokg" base_Element="_TV-yce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWBOsO2XEeWnDaII1mfokg" base_Element="_TWAnpO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWDD4O2XEeWnDaII1mfokg" base_Element="_TWCc0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWDD4u2XEeWnDaII1mfokg" base_Element="_TWDD4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWIjcO2XEeWnDaII1mfokg" base_Element="_TWDD4-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWJKge2XEeWnDaII1mfokg" base_Element="_TWJKgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWJxkO2XEeWnDaII1mfokg" base_Element="_TWJKgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWJxku2XEeWnDaII1mfokg" base_Element="_TWJxke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWKYoe2XEeWnDaII1mfokg" base_Element="_TWKYoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWMN0O2XEeWnDaII1mfokg" base_Element="_TWLmwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWM04e2XEeWnDaII1mfokg" base_Element="_TWM04O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWP4MO2XEeWnDaII1mfokg" base_Element="_TWM04u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWQfQe2XEeWnDaII1mfokg" base_Element="_TWQfQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWRtYO2XEeWnDaII1mfokg" base_Element="_TWRGUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWSUcO2XEeWnDaII1mfokg" base_Element="_TWRtYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWS7gO2XEeWnDaII1mfokg" base_Element="_TWSUce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWS7gu2XEeWnDaII1mfokg" base_Element="_TWS7ge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWUJoO2XEeWnDaII1mfokg" base_Element="_TWTikO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWUwsO2XEeWnDaII1mfokg" base_Element="_TWUJoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWVXwO2XEeWnDaII1mfokg" base_Element="_TWUwse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWiMEO2XEeWnDaII1mfokg" base_Element="_TWVXwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWizIO2XEeWnDaII1mfokg" base_Element="_TWiMEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWizIu2XEeWnDaII1mfokg" base_Element="_TWizIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWjaMO2XEeWnDaII1mfokg" base_Element="_TWizI-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWpg0O2XEeWnDaII1mfokg" base_Element="_TWo5wO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWqu8e2XEeWnDaII1mfokg" base_Element="_TWqu8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TWskIO2XEeWnDaII1mfokg" dimensions="2" base_Element="_TWr9EO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TWtLM-2XEeWnDaII1mfokg" dimensions="3" base_Element="_TWskIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWuZUO2XEeWnDaII1mfokg" base_Element="_TWtyRe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TWvAYu2XEeWnDaII1mfokg" base_Element="_TWvAYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TW9p4e2XEeWnDaII1mfokg" base_Element="_TW9p4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TW_fEe2XEeWnDaII1mfokg" base_Element="_TW_fEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXAtMO2XEeWnDaII1mfokg" base_Element="_TXAGIu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXJ3IO2XEeWnDaII1mfokg" base_Element="_TXJQEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXKeMO2XEeWnDaII1mfokg" base_Element="_TXJ3Ie2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXKeMu2XEeWnDaII1mfokg" base_Element="_TXKeMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXNhgO2XEeWnDaII1mfokg" base_Element="_TXM6cO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXOIke2XEeWnDaII1mfokg" base_Element="_TXOIkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXkt4e2XEeWnDaII1mfokg" base_Element="_TXkt4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXlU8e2XEeWnDaII1mfokg" base_Element="_TXlU8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXl8AO2XEeWnDaII1mfokg" base_Element="_TXlU8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXmjEO2XEeWnDaII1mfokg" base_Element="_TXl8Ae2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXmjEu2XEeWnDaII1mfokg" base_Element="_TXmjEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXnKIe2XEeWnDaII1mfokg" base_Element="_TXnKIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXnxMe2XEeWnDaII1mfokg" base_Element="_TXnxMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXpmYO2XEeWnDaII1mfokg" base_Element="_TXoYQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXqNcO2XEeWnDaII1mfokg" base_Element="_TXpmYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXq0ge2XEeWnDaII1mfokg" base_Element="_TXq0gO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TXue4e2XEeWnDaII1mfokg" base_Element="_TXue4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX3BwO2XEeWnDaII1mfokg" base_Element="_TXvF8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX3o0e2XEeWnDaII1mfokg" base_Element="_TX3o0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX4P4O2XEeWnDaII1mfokg" base_Element="_TX3o0u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX428O2XEeWnDaII1mfokg" base_Element="_TX4P4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX5eAO2XEeWnDaII1mfokg" base_Element="_TX428e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX9vcO2XEeWnDaII1mfokg" base_Element="_TX9IYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX9vcu2XEeWnDaII1mfokg" base_Element="_TX9vce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX-WgO2XEeWnDaII1mfokg" base_Element="_TX9vc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TX-Wgu2XEeWnDaII1mfokg" base_Element="_TX-Wge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYALse2XEeWnDaII1mfokg" base_Element="_TYALsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYf68O2XEeWnDaII1mfokg" base_Element="_TYfT4u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYi-Qe2XEeWnDaII1mfokg" base_Element="_TYi-QO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYjlUO2XEeWnDaII1mfokg" base_Element="_TYi-Qu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYjlUu2XEeWnDaII1mfokg" base_Element="_TYjlUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYkMYe2XEeWnDaII1mfokg" base_Element="_TYkMYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYkzcO2XEeWnDaII1mfokg" base_Element="_TYkMYu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TYlagO2XEeWnDaII1mfokg" base_Element="_TYkzce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TZFJwO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_TZEisO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZYEsO2XEeWnDaII1mfokg" base_Element="_TZXdoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZYrwO2XEeWnDaII1mfokg" base_Element="_TZYEse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZZS0O2XEeWnDaII1mfokg" base_Element="_TZYrwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZZS0u2XEeWnDaII1mfokg" base_Element="_TZZS0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZZ54O2XEeWnDaII1mfokg" base_Element="_TZZS0-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZag8O2XEeWnDaII1mfokg" base_Element="_TZZ54e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZuC8O2XEeWnDaII1mfokg" base_Element="_TZtb4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZuqAO2XEeWnDaII1mfokg" base_Element="_TZuC8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZvREO2XEeWnDaII1mfokg" base_Element="_TZuqAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZ-hoe2XEeWnDaII1mfokg" base_Element="_TZ-hoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZ_Ise2XEeWnDaII1mfokg" base_Element="_TZ_IsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TZ_vwO2XEeWnDaII1mfokg" base_Element="_TZ_Isu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaA94O2XEeWnDaII1mfokg" base_Element="_TZ_vwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaA94u2XEeWnDaII1mfokg" base_Element="_TaA94e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaBk8e2XEeWnDaII1mfokg" base_Element="_TaBk8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaCMAO2XEeWnDaII1mfokg" base_Element="_TaBk8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaCMAu2XEeWnDaII1mfokg" base_Element="_TaCMAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TaCzEe2XEeWnDaII1mfokg" base_Element="_TaCzEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tav9sO2XEeWnDaII1mfokg" base_Element="_TavWoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TazBAe2XEeWnDaII1mfokg" base_Element="_TazBAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TazoEe2XEeWnDaII1mfokg" base_Element="_TazoEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbCRke2XEeWnDaII1mfokg" base_Element="_TbCRkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbC4oe2XEeWnDaII1mfokg" base_Element="_TbC4oO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbDfsO2XEeWnDaII1mfokg" base_Element="_TbC4ou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbEGwO2XEeWnDaII1mfokg" base_Element="_TbDfse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbEt0O2XEeWnDaII1mfokg" base_Element="_TbEGwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbI_QO2XEeWnDaII1mfokg" base_Element="_TbEt0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbJmUe2XEeWnDaII1mfokg" base_Element="_TbJmUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbPF4O2XEeWnDaII1mfokg" base_Element="_TbOe0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbPF4u2XEeWnDaII1mfokg" base_Element="_TbPF4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbPs8e2XEeWnDaII1mfokg" base_Element="_TbPs8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbQUAO2XEeWnDaII1mfokg" base_Element="_TbPs8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbQ7EO2XEeWnDaII1mfokg" base_Element="_TbQUAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TbWaoO2XEeWnDaII1mfokg" base_Element="_TbVzkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TcNWQO2XEeWnDaII1mfokg" base_Element="_TcMvMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_TcN9UO2XEeWnDaII1mfokg" base_Element="_TcMvMO2XEeWnDaII1mfokg">
    <annotations xmi:id="_TcN9Ue2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_TcQZke2XEeWnDaII1mfokg" base_Element="_TcQZkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TcS10O2XEeWnDaII1mfokg" base_Element="_TcRnsu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TcgRMO2XEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="_TcV5Ie2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TciGYO2XEeWnDaII1mfokg" genericsValue="Molecule" base_Element="_TchfUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tcj7kO2XEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Chain" base_Element="_Tcitce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TclJsO2XEeWnDaII1mfokg" genericsValue="Bond" base_Element="_Tckioe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tcnl8O2XEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="_TcmX0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TcqpQO2XEeWnDaII1mfokg" genericsValue="org.biojava.bio.structure.Atom" base_Element="_TcqCMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TcrQUO2XEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="_TcqpQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TctFgO2XEeWnDaII1mfokg" base_Element="_TcsecO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_TctskO2XEeWnDaII1mfokg" base_Element="_TcsecO2XEeWnDaII1mfokg">
    <annotations xmi:id="_Tctske2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tcvhwe2XEeWnDaII1mfokg" base_Element="_Tcu6sO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Tcvhwu2XEeWnDaII1mfokg" base_Element="_Tcu6sO2XEeWnDaII1mfokg">
    <annotations xmi:id="_Tcvhw-2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_Tcx-Au2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_Tcx-AO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TczMIO2XEeWnDaII1mfokg" base_Element="_TcylEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tc4rsO2XEeWnDaII1mfokg" base_Element="_Tc4Eoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tc9kMO2XEeWnDaII1mfokg" base_Element="_Tc89IO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TdB1oe2XEeWnDaII1mfokg" base_Element="_TdB1oO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdJxcO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_TdIjU-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdK_kO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_TdKYgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdM0wO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_TdMNs-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdQfIO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_TdPRAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TdTicO2XEeWnDaII1mfokg" base_Element="_TdS7YO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TdXz4u2XEeWnDaII1mfokg" base_Element="_TdXz4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_TdYa8O2XEeWnDaII1mfokg" base_Element="_TdXz4O2XEeWnDaII1mfokg">
    <annotations xmi:id="_TdYa8e2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_TdaQIO2XEeWnDaII1mfokg" base_Element="_TdZpEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdcFUO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_TdbeQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TdcsYu2XEeWnDaII1mfokg" base_Element="_TdcsYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_TddTcO2XEeWnDaII1mfokg" base_Element="_TdcsYO2XEeWnDaII1mfokg">
    <annotations xmi:id="_TddTce2XEeWnDaII1mfokg" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_TdfvsO2XEeWnDaII1mfokg" base_Element="_TdfIoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tdhk4O2XEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="_Tdg90e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdtyIO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_TdtLEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdwOYO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TdvnUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdyDkO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_Tdxcge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdyDke2XEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="_Tdxcgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TdzRsO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_TdyqoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tdz4wO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_Tdyqoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tdz4we2XEeWnDaII1mfokg" genericsValue="Integer" base_Element="_Tdyqou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Td1t8u2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_Td1t8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Td2VAe2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_Td1t8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Td-Q0O2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_Td9pwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeGzsO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TeGMoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeKeEO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TeJP8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeMTQO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TeLFIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeOIcO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TeM6Ue2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeP9oO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TePWkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeRy0O2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TeQkse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeToAO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TeTA8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeU2IO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TeUPEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeWEQO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TeVdMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeWrUe2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TeWEQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TehDYO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_Tef1Qe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TejfoO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TehDYu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TektwO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TekGse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tel74O2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TelU0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TenKAO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_Tel74u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Teo_MO2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_TeoYIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeqNUO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TepmQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Teq0YO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TeqNUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TesCgO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TerbcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TespkO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TesCgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tet3sO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TetQoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TeuewO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_Tet3su2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tevs4O2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TevF0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te0lYO2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_Tez-UO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te2akO2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_Te1zge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te4PwO2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_Te3osu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te420-2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_Te4Pwu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te6E8-2XEeWnDaII1mfokg" genericsValue="Chain" base_Element="_Te6E8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te7TEO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_Te6sAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te76IO2XEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="_Te7TEu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te9vUO2XEeWnDaII1mfokg" genericsValue="IUPRED_Output" base_Element="_Te9IQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Te-9cO2XEeWnDaII1mfokg" genericsValue="AminoAcid" base_Element="_Te-WYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Te_kgO2XEeWnDaII1mfokg" base_Element="_Te-WYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_Te_kge2XEeWnDaII1mfokg" base_Element="_Te-WYe2XEeWnDaII1mfokg">
    <annotations xmi:id="_Te_kgu2XEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="_Te_kg-2XEeWnDaII1mfokg" skipName="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjwIsO2XEeWnDaII1mfokg" value="&quot;deprecation&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_TfBZsO2XEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="_TfALke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfCn0O2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_TfCAwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfGSMO2XEeWnDaII1mfokg" genericsValue="String, Object" base_Element="_TfFEEu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TfKjoO2XEeWnDaII1mfokg" base_Element="_TfJ8kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfLxwO2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_TfJ8ke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfeFou2XEeWnDaII1mfokg" base_Element="_TfeFoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfesse2XEeWnDaII1mfokg" base_Element="_TfessO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TffTwO2XEeWnDaII1mfokg" base_Element="_Tfessu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TffTwu2XEeWnDaII1mfokg" base_Element="_TffTwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tff60O2XEeWnDaII1mfokg" base_Element="_TffTw-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tff60u2XEeWnDaII1mfokg" base_Element="_Tff60e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfgh4e2XEeWnDaII1mfokg" base_Element="_Tfgh4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfgh4-2XEeWnDaII1mfokg" base_Element="_Tfgh4u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfhI8e2XEeWnDaII1mfokg" base_Element="_TfhI8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfhI8-2XEeWnDaII1mfokg" base_Element="_TfhI8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfhwAe2XEeWnDaII1mfokg" base_Element="_TfhwAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfhwA-2XEeWnDaII1mfokg" base_Element="_TfhwAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfiXEO2XEeWnDaII1mfokg" base_Element="_TfhwBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfiXEu2XEeWnDaII1mfokg" base_Element="_TfiXEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfi-IO2XEeWnDaII1mfokg" base_Element="_TfiXE-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfkMQO2XEeWnDaII1mfokg" base_Element="_TfjlMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfkzUO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TfkMQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfkzUe2XEeWnDaII1mfokg" base_Element="_TfkMQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TflaYO2XEeWnDaII1mfokg" base_Element="_TfkzUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfmogO2XEeWnDaII1mfokg" base_Element="_TflaYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfnPkO2XEeWnDaII1mfokg" base_Element="_Tfmoge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfnPk-2XEeWnDaII1mfokg" base_Element="_TfnPke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfnPle2XEeWnDaII1mfokg" base_Element="_TfnPlO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfn2oe2XEeWnDaII1mfokg" base_Element="_Tfn2oO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfn2o-2XEeWnDaII1mfokg" base_Element="_Tfn2ou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfodsO2XEeWnDaII1mfokg" base_Element="_Tfn2pO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfodsu2XEeWnDaII1mfokg" base_Element="_Tfodse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfpEwe2XEeWnDaII1mfokg" base_Element="_TfpEwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tfpr0u2XEeWnDaII1mfokg" base_Element="_Tfpr0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfpr0-2XEeWnDaII1mfokg" base_Element="_Tfpr0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TfqS4e2XEeWnDaII1mfokg" base_Element="_Tfpr1O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfqS4u2XEeWnDaII1mfokg" base_Element="_Tfpr1O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfqS5O2XEeWnDaII1mfokg" base_Element="_TfqS4-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tfq58e2XEeWnDaII1mfokg" genericsValue="Bond" base_Element="_Tfq58O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfrhAO2XEeWnDaII1mfokg" base_Element="_Tfq58O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfrhAu2XEeWnDaII1mfokg" base_Element="_TfrhAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TfsvIe2XEeWnDaII1mfokg" base_Property="_TfsvIO2XEeWnDaII1mfokg" siblings="_TjiGQe2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfsvIu2XEeWnDaII1mfokg" base_Element="_TfsvIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TftWMe2XEeWnDaII1mfokg" base_Element="_TftWMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tft9QO2XEeWnDaII1mfokg" base_Element="_TftWMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfukUO2XEeWnDaII1mfokg" base_Element="_Tft9Qe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfukUu2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_TfukUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfvLYO2XEeWnDaII1mfokg" base_Element="_TfukUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfvLYu2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TfvLYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfwZgO2XEeWnDaII1mfokg" base_Element="_TfvLYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfxAkO2XEeWnDaII1mfokg" base_Element="_TfwZge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfxnoO2XEeWnDaII1mfokg" base_Element="_TfxAke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tfxnou2XEeWnDaII1mfokg" base_Element="_Tfxnoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TfyOse2XEeWnDaII1mfokg" genericsValue="Molecule" base_Element="_TfyOsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TfyOsu2XEeWnDaII1mfokg" base_Element="_TfyOsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tfzc0O2XEeWnDaII1mfokg" genericsValue="String, Atom" base_Element="_Tfy1wO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf0D4O2XEeWnDaII1mfokg" base_Element="_Tfy1wO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tf0D4-2XEeWnDaII1mfokg" base_Element="_Tf0D4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf0D5O2XEeWnDaII1mfokg" base_Element="_Tf0D4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf1SAO2XEeWnDaII1mfokg" base_Element="_Tf0q8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf1SAu2XEeWnDaII1mfokg" base_Element="_Tf1SAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf15EO2XEeWnDaII1mfokg" base_Element="_Tf1SA-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf15Eu2XEeWnDaII1mfokg" base_Element="_Tf15Ee2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf2gIO2XEeWnDaII1mfokg" base_Element="_Tf15E-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tf2gIu2XEeWnDaII1mfokg" genericsValue="Chain" base_Element="_Tf2gIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf3HMO2XEeWnDaII1mfokg" base_Element="_Tf2gIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf3HMu2XEeWnDaII1mfokg" base_Element="_Tf3HMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf3uQe2XEeWnDaII1mfokg" base_Element="_Tf3uQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf4VUe2XEeWnDaII1mfokg" base_Element="_Tf4VUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf48YO2XEeWnDaII1mfokg" base_Element="_Tf4VUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf48Yu2XEeWnDaII1mfokg" base_Element="_Tf48Ye2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tf5jcO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_Tf48Y-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf5jce2XEeWnDaII1mfokg" base_Element="_Tf48Y-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tf6KgO2XEeWnDaII1mfokg" genericsValue="Integer" base_Element="_Tf5jcu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf6xkO2XEeWnDaII1mfokg" base_Element="_Tf5jcu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tf7YoO2XEeWnDaII1mfokg" genericsValue="Vector3D" base_Element="_Tf6xke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf7Yoe2XEeWnDaII1mfokg" base_Element="_Tf6xke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tf7_su2XEeWnDaII1mfokg" base_Element="_Tf7_sO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tf9N0u2XEeWnDaII1mfokg" base_Element="_Tf9N0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf904O2XEeWnDaII1mfokg" base_Element="_Tf9N0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf_DAO2XEeWnDaII1mfokg" base_Element="_Tf-b8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf_qEO2XEeWnDaII1mfokg" base_Element="_Tf_DAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tf_qEu2XEeWnDaII1mfokg" base_Element="_Tf_qEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgARIe2XEeWnDaII1mfokg" base_Element="_TgARIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgBfQO2XEeWnDaII1mfokg" base_Element="_TgA4MO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgBfQu2XEeWnDaII1mfokg" base_Element="_TgBfQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgCGUO2XEeWnDaII1mfokg" base_Element="_TgBfQ-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgCGUu2XEeWnDaII1mfokg" base_Element="_TgCGUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgDUce2XEeWnDaII1mfokg" base_Element="_TgCtYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgD7gO2XEeWnDaII1mfokg" base_Element="_TgDUcu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgD7g-2XEeWnDaII1mfokg" base_Element="_TgD7ge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgEiku2XEeWnDaII1mfokg" base_Element="_TgEikO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgIM8e2XEeWnDaII1mfokg" base_Element="_TgIM8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgI0AO2XEeWnDaII1mfokg" base_Element="_TgIM8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgJbEe2XEeWnDaII1mfokg" base_Element="_TgJbEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgKCIO2XEeWnDaII1mfokg" base_Element="_TgJbEu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgKCIu2XEeWnDaII1mfokg" base_Element="_TgKCIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgKpMe2XEeWnDaII1mfokg" base_Element="_TgKpMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgLQQO2XEeWnDaII1mfokg" base_Element="_TgKpMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgLQQu2XEeWnDaII1mfokg" base_Element="_TgLQQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgL3Uu2XEeWnDaII1mfokg" base_Element="_TgL3UO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgMeYO2XEeWnDaII1mfokg" base_Element="_TgL3U-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgNsgO2XEeWnDaII1mfokg" base_Element="_TgNFcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgSlAO2XEeWnDaII1mfokg" base_Element="_TgOTkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TgTMEu2XEeWnDaII1mfokg" dimensions="1" base_Element="_TgTMEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgTzIO2XEeWnDaII1mfokg" base_Element="_TgTMEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TgUaMO2XEeWnDaII1mfokg" genericsValue="int[]" base_Element="_TgTzIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgUaMe2XEeWnDaII1mfokg" base_Element="_TgTzIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TgUaNO2XEeWnDaII1mfokg" base_Element="_TgUaMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgVBQO2XEeWnDaII1mfokg" base_Element="_TgUaMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgWPYO2XEeWnDaII1mfokg" base_Element="_TgVoUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgW2cO2XEeWnDaII1mfokg" base_Element="_TgWPYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgYEkO2XEeWnDaII1mfokg" base_Element="_TgXdgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TgYEku2XEeWnDaII1mfokg" genericsValue="String" base_Element="_TgYEke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgYroO2XEeWnDaII1mfokg" base_Element="_TgYEke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgYrou2XEeWnDaII1mfokg" base_Element="_TgYroe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgZSse2XEeWnDaII1mfokg" base_Element="_TgZSsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgZ5we2XEeWnDaII1mfokg" base_Element="_TgZ5wO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgag0O2XEeWnDaII1mfokg" base_Element="_TgZ5wu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgag0u2XEeWnDaII1mfokg" base_Element="_Tgag0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgbH4O2XEeWnDaII1mfokg" base_Element="_Tgag0-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgbH4u2XEeWnDaII1mfokg" base_Element="_TgbH4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgbu8e2XEeWnDaII1mfokg" base_Element="_Tgbu8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgcWAO2XEeWnDaII1mfokg" base_Element="_Tgbu8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgcWAu2XEeWnDaII1mfokg" base_Element="_TgcWAe2XEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="_Tgc9EO2XEeWnDaII1mfokg" name="getViewer" method="_TjCXCO2XEeWnDaII1mfokg">
      <ownedParameter xmi:id="_Tgc9Ee2XEeWnDaII1mfokg" type="_TVwI8e2XEeWnDaII1mfokg" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgdkIe2XEeWnDaII1mfokg" base_Element="_TgdkIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TgeLMe2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TgeLMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TgeyQO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TgeLMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgeyQe2XEeWnDaII1mfokg" base_Element="_TgeLMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TgfZUu2XEeWnDaII1mfokg" base_Element="_TgfZUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgfZVO2XEeWnDaII1mfokg" base_Element="_TgfZUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TggAYu2XEeWnDaII1mfokg" base_Element="_TggAYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgh1ke2XEeWnDaII1mfokg" base_Element="_Tgh1kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgicoO2XEeWnDaII1mfokg" base_Element="_Tgh1ku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgjqwO2XEeWnDaII1mfokg" base_Element="_Tgicoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgk44O2XEeWnDaII1mfokg" base_Element="_TgkR0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tglf8e2XEeWnDaII1mfokg" base_Element="_Tglf8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgmHAe2XEeWnDaII1mfokg" base_Element="_TgmHAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TgnVIO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_TgmuEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgn8MO2XEeWnDaII1mfokg" base_Element="_TgmuEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgojQO2XEeWnDaII1mfokg" base_Element="_Tgn8Me2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgpKUO2XEeWnDaII1mfokg" base_Element="_TgojQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgqYcO2XEeWnDaII1mfokg" base_Element="_TgpxYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgtbwe2XEeWnDaII1mfokg" base_Element="_TgtbwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TguC0O2XEeWnDaII1mfokg" base_Element="_Tgtbwu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TguC0u2XEeWnDaII1mfokg" base_Element="_TguC0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgup4O2XEeWnDaII1mfokg" base_Element="_TguC0-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgup4u2XEeWnDaII1mfokg" base_Element="_Tgup4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgvQ8e2XEeWnDaII1mfokg" base_Element="_TgvQ8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tgv4AO2XEeWnDaII1mfokg" base_Element="_TgvQ8u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgxGIO2XEeWnDaII1mfokg" base_Element="_TgwfEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgxtMO2XEeWnDaII1mfokg" base_Element="_TgxGIe2XEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="_TgxtMe2XEeWnDaII1mfokg" name="getAtomicMass" method="_TjHPgO2XEeWnDaII1mfokg">
      <ownedParameter xmi:id="_TgxtMu2XEeWnDaII1mfokg" direction="return">
        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
      </ownedParameter>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgyUQe2XEeWnDaII1mfokg" base_Element="_TgyUQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TgziYe2XEeWnDaII1mfokg" base_Element="_TgziYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg0Jce2XEeWnDaII1mfokg" base_Element="_Tg0JcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tg0wgu2XEeWnDaII1mfokg" base_Property="_Tg0wgO2XEeWnDaII1mfokg" siblings="_Tjm-we2XEeWnDaII1mfokg _Tjm-xe2XEeWnDaII1mfokg _Tjnl0e2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg1XkO2XEeWnDaII1mfokg" base_Element="_Tg0wgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg1-oO2XEeWnDaII1mfokg" base_Element="_Tg1Xke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg3Mwe2XEeWnDaII1mfokg" base_Element="_Tg3MwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg3z0e2XEeWnDaII1mfokg" base_Element="_Tg3z0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg4a4O2XEeWnDaII1mfokg" base_Element="_Tg3z0u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg5B8O2XEeWnDaII1mfokg" base_Element="_Tg4a4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg5pAe2XEeWnDaII1mfokg" base_Element="_Tg5pAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Tg6QEO2XEeWnDaII1mfokg" genericsValue="AbstractParticle, ArrayList&lt;Vector3D>" base_Element="_Tg5pAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg63IO2XEeWnDaII1mfokg" base_Element="_Tg5pAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg7eMe2XEeWnDaII1mfokg" base_Element="_Tg7eMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg8FQO2XEeWnDaII1mfokg" base_Element="_Tg7eMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg8sUO2XEeWnDaII1mfokg" base_Element="_Tg8FQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tg9TYO2XEeWnDaII1mfokg" base_Element="_Tg8sUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg9TYu2XEeWnDaII1mfokg" base_Element="_Tg8sUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tg96cO2XEeWnDaII1mfokg" base_Element="_Tg9TY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg96cu2XEeWnDaII1mfokg" base_Element="_Tg9TY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_Tg-hge2XEeWnDaII1mfokg" base_Element="_Tg96c-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg-hgu2XEeWnDaII1mfokg" base_Element="_Tg96c-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg_Ike2XEeWnDaII1mfokg" base_Element="_Tg_IkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tg_vou2XEeWnDaII1mfokg" base_Element="_Tg_voO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThA9wO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_ThAWsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThCL4O2XEeWnDaII1mfokg" base_Element="_ThBk0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThCL4-2XEeWnDaII1mfokg" base_Element="_ThCL4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_ThCy8u2XEeWnDaII1mfokg" dimensions="1" base_Element="_ThCy8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThDaAO2XEeWnDaII1mfokg" base_Element="_ThCy8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThDaAu2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_ThDaAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThEBEO2XEeWnDaII1mfokg" base_Element="_ThDaAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThEoIO2XEeWnDaII1mfokg" base_Element="_ThEBEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThEoIu2XEeWnDaII1mfokg" base_Element="_ThEoIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThFPMe2XEeWnDaII1mfokg" base_Element="_ThFPMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThGdUO2XEeWnDaII1mfokg" base_Element="_ThF2QO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThHEYO2XEeWnDaII1mfokg" base_Element="_ThGdUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThHrce2XEeWnDaII1mfokg" base_Element="_ThHrcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThISge2XEeWnDaII1mfokg" base_Element="_ThISgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThJgoO2XEeWnDaII1mfokg" base_Element="_ThI5kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThKHsO2XEeWnDaII1mfokg" base_Element="_ThJgoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_ThKHse2XEeWnDaII1mfokg" base_Element="_ThJgoe2XEeWnDaII1mfokg">
    <annotations xmi:id="_ThKHsu2XEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="_ThKHs-2XEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqCHu2XEeWnDaII1mfokg" value="&quot;-l&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThKuwO2XEeWnDaII1mfokg" name="aliases" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqCH-2XEeWnDaII1mfokg" value="&quot;-level&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThKuwe2XEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqCIO2XEeWnDaII1mfokg" value="&quot;Simulation Level&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThKuxO2XEeWnDaII1mfokg" base_Element="_ThKuwu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThLV0u2XEeWnDaII1mfokg" base_Element="_ThLV0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThL84e2XEeWnDaII1mfokg" base_Element="_ThLV0-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThMj8O2XEeWnDaII1mfokg" base_Element="_ThL84u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThNLAO2XEeWnDaII1mfokg" base_Element="_ThMj8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThNLA-2XEeWnDaII1mfokg" base_Element="_ThNLAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThNyEO2XEeWnDaII1mfokg" genericsValue="String" base_Element="_ThNLBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThNyEu2XEeWnDaII1mfokg" base_Element="_ThNLBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_ThOZIO2XEeWnDaII1mfokg" base_Element="_ThNLBO2XEeWnDaII1mfokg">
    <annotations xmi:id="_ThOZIe2XEeWnDaII1mfokg" name="Argument">
      <annotationParameters xmi:id="_ThOZIu2XEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpIO2XEeWnDaII1mfokg" value="&quot;inputs of the Engine&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThOZI-2XEeWnDaII1mfokg" name="metaVar" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpIe2XEeWnDaII1mfokg" value="&quot;INPUTS&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThPAMO2XEeWnDaII1mfokg" base_Element="_ThOZJO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_ThPAMe2XEeWnDaII1mfokg" base_Element="_ThOZJO2XEeWnDaII1mfokg">
    <annotations xmi:id="_ThPAMu2XEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="_ThPAM-2XEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpIu2XEeWnDaII1mfokg" value="&quot;-o&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThPANO2XEeWnDaII1mfokg" name="aliases" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpI-2XEeWnDaII1mfokg" value="&quot;-output&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThPANe2XEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpJO2XEeWnDaII1mfokg" value="&quot;output of the engine&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThPANu2XEeWnDaII1mfokg" name="metaVar" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpJe2XEeWnDaII1mfokg" value="&quot;OUTPUT&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThPnQe2XEeWnDaII1mfokg" base_Element="_ThPAN-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_ThPnQu2XEeWnDaII1mfokg" base_Element="_ThPAN-2XEeWnDaII1mfokg">
    <annotations xmi:id="_ThPnQ-2XEeWnDaII1mfokg" name="Option">
      <annotationParameters xmi:id="_ThQOUO2XEeWnDaII1mfokg" name="name" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpJu2XEeWnDaII1mfokg" value="&quot;-gui&quot;"/>
      </annotationParameters>
      <annotationParameters xmi:id="_ThQOUe2XEeWnDaII1mfokg" name="usage" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_TjqpJ-2XEeWnDaII1mfokg" value="&quot;enable GUI&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThQOVO2XEeWnDaII1mfokg" base_Element="_ThQOUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThQ1Yu2XEeWnDaII1mfokg" base_Element="_ThQ1YO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThRccO2XEeWnDaII1mfokg" base_Element="_ThQ1Y-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThRcc-2XEeWnDaII1mfokg" base_Element="_ThRcce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThSDgu2XEeWnDaII1mfokg" base_Element="_ThSDgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThSqku2XEeWnDaII1mfokg" base_Element="_ThSqkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThTRoO2XEeWnDaII1mfokg" base_Element="_ThSqk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThT4sO2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_ThTRoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThT4su2XEeWnDaII1mfokg" base_Element="_ThTRoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThUfwe2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_ThUfwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThVG0O2XEeWnDaII1mfokg" base_Element="_ThUfwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThVt4O2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_ThVG0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThVt4u2XEeWnDaII1mfokg" base_Element="_ThVG0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThWU8e2XEeWnDaII1mfokg" genericsValue="AbstractParticle[]" base_Element="_ThWU8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThW8AO2XEeWnDaII1mfokg" base_Element="_ThWU8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThW8A-2XEeWnDaII1mfokg" base_Element="_ThW8Ae2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThXjEe2XEeWnDaII1mfokg" base_Element="_ThW8BO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThZYQO2XEeWnDaII1mfokg" base_Element="_ThXjEu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThZ_Uu2XEeWnDaII1mfokg" base_Element="_ThZ_UO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThamYO2XEeWnDaII1mfokg" genericsValue="Integer,Vector3D" base_Element="_ThZ_U-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThamYe2XEeWnDaII1mfokg" base_Element="_ThZ_U-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThbNce2XEeWnDaII1mfokg" base_Element="_ThbNcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thb0gO2XEeWnDaII1mfokg" base_Element="_ThbNcu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThcbkO2XEeWnDaII1mfokg" base_Element="_Thb0ge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thcbku2XEeWnDaII1mfokg" base_Element="_Thcbke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThdCoe2XEeWnDaII1mfokg" base_Element="_ThdCoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThdpsO2XEeWnDaII1mfokg" base_Element="_ThdCou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TheQwO2XEeWnDaII1mfokg" base_Element="_Thdpse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_The30e2XEeWnDaII1mfokg" base_Element="_The30O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThgtAO2XEeWnDaII1mfokg" base_Element="_ThgF8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThgtAu2XEeWnDaII1mfokg" base_Element="_ThgtAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThhUEO2XEeWnDaII1mfokg" base_Element="_ThgtA-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thh7IO2XEeWnDaII1mfokg" base_Element="_ThhUEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thh7Iu2XEeWnDaII1mfokg" base_Element="_Thh7Ie2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThiiMO2XEeWnDaII1mfokg" base_Element="_Thh7I-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThiiMu2XEeWnDaII1mfokg" base_Element="_ThiiMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThjJQe2XEeWnDaII1mfokg" base_Element="_ThjJQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThjwUO2XEeWnDaII1mfokg" base_Element="_ThjJQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThkXYO2XEeWnDaII1mfokg" base_Element="_ThjwUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thk-cO2XEeWnDaII1mfokg" base_Element="_ThkXYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thk-cu2XEeWnDaII1mfokg" base_Element="_Thk-ce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thllge2XEeWnDaII1mfokg" base_Element="_ThllgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThmMkO2XEeWnDaII1mfokg" base_Element="_Thllgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thmzoe2XEeWnDaII1mfokg" base_Element="_ThmMku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThnasO2XEeWnDaII1mfokg" base_Element="_Thmzou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThoBwO2XEeWnDaII1mfokg" base_Element="_Thnase2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThoBwu2XEeWnDaII1mfokg" base_Element="_ThoBwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thoo0O2XEeWnDaII1mfokg" base_Element="_ThoBw-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThpP4O2XEeWnDaII1mfokg" base_Element="_Thoo0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Thp28e2XEeWnDaII1mfokg" base_Property="_Thp28O2XEeWnDaII1mfokg" siblings="_TjrQMO2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThqeAO2XEeWnDaII1mfokg" base_Element="_Thp28O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_ThqeAu2XEeWnDaII1mfokg" base_Property="_ThqeAe2XEeWnDaII1mfokg" siblings="_TjrQM-2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThrFEO2XEeWnDaII1mfokg" base_Element="_ThqeAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_ThrFEu2XEeWnDaII1mfokg" base_Property="_ThrFEe2XEeWnDaII1mfokg" siblings="_TjrQNu2XEeWnDaII1mfokg _Tjr3Qu2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThrsIO2XEeWnDaII1mfokg" base_Element="_ThrFEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThsTMO2XEeWnDaII1mfokg" base_Element="_ThrsIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ths6QO2XEeWnDaII1mfokg" base_Element="_ThsTMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Ths6Qu2XEeWnDaII1mfokg" base_Element="_Ths6Qe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_ThthUO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_Ths6Q-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThuIYO2XEeWnDaII1mfokg" base_Element="_Ths6Q-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_ThuvcO2XEeWnDaII1mfokg" base_Property="_ThuIYe2XEeWnDaII1mfokg" siblings="_Tjr3Re2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thuvce2XEeWnDaII1mfokg" base_Element="_ThuIYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thv9kO2XEeWnDaII1mfokg" base_Element="_ThvWge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_ThyZ0e2XEeWnDaII1mfokg" base_Property="_ThyZ0O2XEeWnDaII1mfokg" siblings="_TjseUu2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ThzA4O2XEeWnDaII1mfokg" base_Element="_ThyZ0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_ThzA4u2XEeWnDaII1mfokg" base_Property="_ThzA4e2XEeWnDaII1mfokg" siblings="_TjtFYO2XEeWnDaII1mfokg _TjtFY-2XEeWnDaII1mfokg _TjtFZu2XEeWnDaII1mfokg _Tjtscu2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Thzn8O2XEeWnDaII1mfokg" base_Element="_ThzA4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Th0PAO2XEeWnDaII1mfokg" base_Property="_Thzn8e2XEeWnDaII1mfokg" siblings="_Tjtsde2XEeWnDaII1mfokg _TjuTge2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th0PAe2XEeWnDaII1mfokg" base_Element="_Thzn8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th2EMO2XEeWnDaII1mfokg" base_Element="_Th1dIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th2rQO2XEeWnDaII1mfokg" base_Element="_Th2EMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Th3SUO2XEeWnDaII1mfokg" base_Property="_Th2rQe2XEeWnDaII1mfokg" siblings="_TjuThO2XEeWnDaII1mfokg _Tju6ke2XEeWnDaII1mfokg _Tju6lO2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th3SUe2XEeWnDaII1mfokg" base_Element="_Th2rQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Th4gce2XEeWnDaII1mfokg" base_Property="_Th4gcO2XEeWnDaII1mfokg" siblings="_Tju6l-2XEeWnDaII1mfokg" root="true"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th4gcu2XEeWnDaII1mfokg" base_Element="_Th4gcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th5ukO2XEeWnDaII1mfokg" base_Element="_Th5HgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th6Voe2XEeWnDaII1mfokg" base_Element="_Th6VoO2XEeWnDaII1mfokg">
    <associatedElement xmi:type="uml:Operation" xmi:id="_Th68sO2XEeWnDaII1mfokg" name="getInstance" isStatic="true" method="_TjV5AO2XEeWnDaII1mfokg">
      <ownedParameter xmi:id="_Th68se2XEeWnDaII1mfokg" type="_S0GNYO2XEeWnDaII1mfokg" direction="return"/>
    </associatedElement>
  </UMLLabProfile:LegacyStyledElement>
  <UMLLabProfile:Generics xmi:id="_Th7jwO2XEeWnDaII1mfokg" genericsValue="String, List&lt;Double>" base_Element="_Th68su2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th8K0O2XEeWnDaII1mfokg" base_Element="_Th68su2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Th8x4O2XEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="_Th8K0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th8x4e2XEeWnDaII1mfokg" base_Element="_Th8K0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Th9Y8O2XEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="_Th8x4u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th9Y8e2XEeWnDaII1mfokg" base_Element="_Th8x4u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Th-AAe2XEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="_Th-AAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th-nEO2XEeWnDaII1mfokg" base_Element="_Th-AAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_Th-nEu2XEeWnDaII1mfokg" genericsValue="List&lt;String>, List&lt;Double>" base_Element="_Th-nEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th_OIO2XEeWnDaII1mfokg" base_Element="_Th-nEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Th_1Me2XEeWnDaII1mfokg" base_Element="_Th_1MO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiBDUO2XEeWnDaII1mfokg" base_Element="_TiAcQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiBqYO2XEeWnDaII1mfokg" base_Element="_TiBDUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiCRcO2XEeWnDaII1mfokg" base_Element="_TiBqYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiC4gu2XEeWnDaII1mfokg" base_Element="_TiC4gO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiDfke2XEeWnDaII1mfokg" base_Element="_TiC4g-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiEGoO2XEeWnDaII1mfokg" base_Element="_TiDfku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiEtsO2XEeWnDaII1mfokg" base_Element="_TiEGoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TiF70O2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_TiFUwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiF70e2XEeWnDaII1mfokg" base_Element="_TiFUwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TiGi4O2XEeWnDaII1mfokg" genericsValue="Interaction" base_Element="_TiF70u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiHJ8O2XEeWnDaII1mfokg" base_Element="_TiF70u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TiHxAO2XEeWnDaII1mfokg" genericsValue="ArrayList&lt;AbstractParticle>" base_Element="_TiHJ8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiHxAe2XEeWnDaII1mfokg" base_Element="_TiHJ8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TiIYEe2XEeWnDaII1mfokg" dimensions="2" base_Element="_TiHxAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiIYEu2XEeWnDaII1mfokg" base_Element="_TiHxAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiJmMu2XEeWnDaII1mfokg" base_Element="_TiJmMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiLbYO2XEeWnDaII1mfokg" base_Element="_TiK0UO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiMCcO2XEeWnDaII1mfokg" base_Element="_TiLbYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiMpgO2XEeWnDaII1mfokg" base_Element="_TiMCce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiMpgu2XEeWnDaII1mfokg" base_Element="_TiMpge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiNQku2XEeWnDaII1mfokg" base_Element="_TiNQkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiN3oe2XEeWnDaII1mfokg" base_Element="_TiN3oO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiOesO2XEeWnDaII1mfokg" base_Element="_TiN3ou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiOes-2XEeWnDaII1mfokg" base_Element="_TiOese2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiPFwe2XEeWnDaII1mfokg" base_Element="_TiPFwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiPs0e2XEeWnDaII1mfokg" base_Element="_TiPs0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiSwIO2XEeWnDaII1mfokg" base_Element="_TiSJEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiTXMO2XEeWnDaII1mfokg" base_Element="_TiSwIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiTXMu2XEeWnDaII1mfokg" base_Element="_TiTXMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiT-Qe2XEeWnDaII1mfokg" base_Element="_TiT-QO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiUlUO2XEeWnDaII1mfokg" base_Element="_TiT-Qu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiVzcO2XEeWnDaII1mfokg" base_Element="_TiVMYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiWagO2XEeWnDaII1mfokg" base_Element="_TiVzce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiXBkO2XEeWnDaII1mfokg" base_Element="_TiWage2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiXBku2XEeWnDaII1mfokg" base_Element="_TiXBke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiXooO2XEeWnDaII1mfokg" base_Element="_TiXBk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiYPsO2XEeWnDaII1mfokg" base_Element="_TiXoou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiYPsu2XEeWnDaII1mfokg" base_Element="_TiYPse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiY2wO2XEeWnDaII1mfokg" base_Element="_TiYPs-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiY2wu2XEeWnDaII1mfokg" base_Element="_TiY2we2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TiZd0O2XEeWnDaII1mfokg" genericsValue="JComponent" base_Element="_TiY2w-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TiZd0u2XEeWnDaII1mfokg" base_Element="_TiY2w-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_TibTAO2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_Tiar8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TibTAe2XEeWnDaII1mfokg" base_Element="_Tiar8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_TichIO2XEeWnDaII1mfokg" dimensions="1" base_Element="_TibTAu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TichIe2XEeWnDaII1mfokg" base_Element="_TibTAu2XEeWnDaII1mfokg"/>
  <uml:OpaqueBehavior xmi:id="_Tiu1AO2XEeWnDaII1mfokg" name="getName" specification="_SuJWYO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_Tiu1Ae2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return &quot;PARTICLE&quot;;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjCXCO2XEeWnDaII1mfokg" name="getViewer" specification="_Tgc9EO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjCXCe2XEeWnDaII1mfokg" type="_TVwI8e2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>return viewer;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjHPgO2XEeWnDaII1mfokg" name="getAtomicMass" specification="_TgxtMe2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjHPge2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return atomicMass;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjHPgu2XEeWnDaII1mfokg" name="AtomType" specification="_SxLcQO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjHPg-2XEeWnDaII1mfokg" name="name">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjHPhO2XEeWnDaII1mfokg" name="atomicMass">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjHPhe2XEeWnDaII1mfokg" name="atomicNum">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjHPhu2XEeWnDaII1mfokg" type="_SxHK0O2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.name = name;&#xD;
		this.atomicMass = atomicMass;&#xD;
		this.atomicNum = atomicNum;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjHPh-2XEeWnDaII1mfokg" name="getAtomName" specification="_SxMqYO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjHPiO2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjHPie2XEeWnDaII1mfokg" name="getAtomicNum" specification="_SxNRcO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjHPiu2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </ownedParameter>
    <language>java</language>
    <body>return atomicNum;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjH2kO2XEeWnDaII1mfokg" name="BondType" specification="_SxaFwO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjH2ke2XEeWnDaII1mfokg" name="name">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjH2ku2XEeWnDaII1mfokg" type="_SxPGoO2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.name = name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjH2k-2XEeWnDaII1mfokg" name="toString" specification="_SxbT4O2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjH2lO2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </ownedParameter>
    <language>java</language>
    <body>return name;&#xD;
	</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjQZdu2XEeWnDaII1mfokg" name="DISTANCE" specification="_SytGQO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjQZd-2XEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjQZeO2XEeWnDaII1mfokg" type="_SyrREO2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjQZee2XEeWnDaII1mfokg" name="value" specification="_SyttUO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjQZeu2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjQZe-2XEeWnDaII1mfokg" name="convert" specification="_TZJbMO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjQZfO2XEeWnDaII1mfokg" name="from" type="_SyrREO2XEeWnDaII1mfokg"/>
    <ownedParameter xmi:id="_TjQZfe2XEeWnDaII1mfokg" name="to" type="_SyrREO2XEeWnDaII1mfokg"/>
    <ownedParameter xmi:id="_TjQZfu2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return from.value/to.value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjQZf-2XEeWnDaII1mfokg" name="MASS" specification="_SywwoO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjQZgO2XEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjQZge2XEeWnDaII1mfokg" type="_Syu7cO2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjQZgu2XEeWnDaII1mfokg" name="value" specification="_SyxXsO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjQZg-2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjRAgO2XEeWnDaII1mfokg" name="TIME" specification="_Sy56kO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjRAge2XEeWnDaII1mfokg" name="value">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <ownedParameter xmi:id="_TjRAgu2XEeWnDaII1mfokg" type="_Syx-wO2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>this.value = value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjRAg-2XEeWnDaII1mfokg" name="value" specification="_SzABMO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjRAhO2XEeWnDaII1mfokg" direction="return">
      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </ownedParameter>
    <language>java</language>
    <body>return value;
		</body>
  </uml:OpaqueBehavior>
  <uml:OpaqueBehavior xmi:id="_TjV5AO2XEeWnDaII1mfokg" name="getInstance" specification="_Th68sO2XEeWnDaII1mfokg">
    <ownedParameter xmi:id="_TjV5Ae2XEeWnDaII1mfokg" type="_S0GNYO2XEeWnDaII1mfokg" direction="return"/>
    <language>java</language>
    <body>if (instance == null) {
			instance = new TopologyDatabase();
		}
		return instance;
	</body>
  </uml:OpaqueBehavior>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjiGQu2XEeWnDaII1mfokg" base_Property="_TjiGQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjiGQ-2XEeWnDaII1mfokg" base_Element="_TjiGQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjm-wu2XEeWnDaII1mfokg" base_Property="_Tjm-we2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjm-w-2XEeWnDaII1mfokg" base_Element="_Tjm-we2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjm-xu2XEeWnDaII1mfokg" base_Property="_Tjm-xe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjm-x-2XEeWnDaII1mfokg" base_Element="_Tjm-xe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjnl0u2XEeWnDaII1mfokg" base_Property="_Tjnl0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjnl0-2XEeWnDaII1mfokg" base_Element="_Tjnl0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjrQMe2XEeWnDaII1mfokg" base_Property="_TjrQMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjrQMu2XEeWnDaII1mfokg" base_Element="_TjrQMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjrQNO2XEeWnDaII1mfokg" base_Property="_TjrQM-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjrQNe2XEeWnDaII1mfokg" base_Element="_TjrQM-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjr3QO2XEeWnDaII1mfokg" base_Property="_TjrQNu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjr3Qe2XEeWnDaII1mfokg" base_Element="_TjrQNu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjr3Q-2XEeWnDaII1mfokg" base_Property="_Tjr3Qu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjr3RO2XEeWnDaII1mfokg" base_Element="_Tjr3Qu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjseUO2XEeWnDaII1mfokg" base_Property="_Tjr3Re2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjseUe2XEeWnDaII1mfokg" base_Element="_Tjr3Re2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjseU-2XEeWnDaII1mfokg" base_Property="_TjseUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjseVO2XEeWnDaII1mfokg" base_Element="_TjseUu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjtFYe2XEeWnDaII1mfokg" base_Property="_TjtFYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjtFYu2XEeWnDaII1mfokg" base_Element="_TjtFYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjtFZO2XEeWnDaII1mfokg" base_Property="_TjtFY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjtFZe2XEeWnDaII1mfokg" base_Element="_TjtFY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjtscO2XEeWnDaII1mfokg" base_Property="_TjtFZu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjtsce2XEeWnDaII1mfokg" base_Element="_TjtFZu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjtsc-2XEeWnDaII1mfokg" base_Property="_Tjtscu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjtsdO2XEeWnDaII1mfokg" base_Element="_Tjtscu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tjtsdu2XEeWnDaII1mfokg" base_Property="_Tjtsde2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjuTgO2XEeWnDaII1mfokg" base_Element="_Tjtsde2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjuTgu2XEeWnDaII1mfokg" base_Property="_TjuTge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_TjuTg-2XEeWnDaII1mfokg" base_Element="_TjuTge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjuThe2XEeWnDaII1mfokg" base_Property="_TjuThO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tju6kO2XEeWnDaII1mfokg" base_Element="_TjuThO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tju6ku2XEeWnDaII1mfokg" base_Property="_Tju6ke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tju6k-2XEeWnDaII1mfokg" base_Element="_Tju6ke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_Tju6le2XEeWnDaII1mfokg" base_Property="_Tju6lO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tju6lu2XEeWnDaII1mfokg" base_Element="_Tju6lO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:MultiDeclaration xmi:id="_TjvhoO2XEeWnDaII1mfokg" base_Property="_Tju6l-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_Tjvhoe2XEeWnDaII1mfokg" base_Element="_Tju6l-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkUwcO2XEeWnDaII1mfokg" base_Element="_TkUJYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkVXgu2XEeWnDaII1mfokg" base_Element="_TkVXgO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkV-ku2XEeWnDaII1mfokg" base_Element="_TkV-kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkWlou2XEeWnDaII1mfokg" base_Element="_TkWloO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkXMsO2XEeWnDaII1mfokg" base_Element="_TkWlo-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkXzwO2XEeWnDaII1mfokg" base_Element="_TkXMse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkYa0O2XEeWnDaII1mfokg" base_Element="_TkXzwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkYa0-2XEeWnDaII1mfokg" base_Element="_TkYa0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkZB4O2XEeWnDaII1mfokg" base_Element="_TkYa1O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkZo8O2XEeWnDaII1mfokg" base_Element="_TkZB4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkZo8-2XEeWnDaII1mfokg" base_Element="_TkZo8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkZo9u2XEeWnDaII1mfokg" base_Element="_TkZo9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkaQAu2XEeWnDaII1mfokg" base_Element="_TkaQAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkaQBe2XEeWnDaII1mfokg" base_Element="_TkaQA-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tka3EO2XEeWnDaII1mfokg" base_Element="_TkaQBu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkbeIO2XEeWnDaII1mfokg" base_Element="_Tka3Ee2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkbeI-2XEeWnDaII1mfokg" base_Element="_TkbeIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkcFMO2XEeWnDaII1mfokg" base_Element="_TkbeJO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkcsQO2XEeWnDaII1mfokg" base_Element="_TkcFMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkdTUO2XEeWnDaII1mfokg" base_Element="_TkcsQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkdTU-2XEeWnDaII1mfokg" base_Element="_TkdTUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkd6YO2XEeWnDaII1mfokg" base_Element="_TkdTVO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkd6Y-2XEeWnDaII1mfokg" base_Element="_Tkd6Ye2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkehcu2XEeWnDaII1mfokg" base_Element="_TkehcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkfIgO2XEeWnDaII1mfokg" base_Element="_Tkehc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkfIg-2XEeWnDaII1mfokg" base_Element="_TkfIge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkfvku2XEeWnDaII1mfokg" base_Element="_TkfvkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkgWoO2XEeWnDaII1mfokg" base_Element="_Tkfvk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkg9sO2XEeWnDaII1mfokg" base_Element="_TkgWoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkhkwO2XEeWnDaII1mfokg" base_Element="_Tkg9se2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkhkw-2XEeWnDaII1mfokg" base_Element="_Tkhkwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkiL0O2XEeWnDaII1mfokg" base_Element="_TkhkxO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkiy4O2XEeWnDaII1mfokg" base_Element="_TkiL0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkiy4-2XEeWnDaII1mfokg" base_Element="_Tkiy4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkjZ8O2XEeWnDaII1mfokg" base_Element="_Tkiy5O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkjZ8-2XEeWnDaII1mfokg" base_Element="_TkjZ8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkkBAu2XEeWnDaII1mfokg" base_Element="_TkkBAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkkBBe2XEeWnDaII1mfokg" base_Element="_TkkBA-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkkoEO2XEeWnDaII1mfokg" base_Element="_TkkBBu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkkoE-2XEeWnDaII1mfokg" base_Element="_TkkoEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TklPIO2XEeWnDaII1mfokg" base_Element="_TkkoFO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TklPI-2XEeWnDaII1mfokg" base_Element="_TklPIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkl2MO2XEeWnDaII1mfokg" base_Element="_TklPJO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkl2M-2XEeWnDaII1mfokg" base_Element="_Tkl2Me2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkl2Nu2XEeWnDaII1mfokg" base_Element="_Tkl2NO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkmdQu2XEeWnDaII1mfokg" base_Element="_TkmdQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkmdRe2XEeWnDaII1mfokg" base_Element="_TkmdQ-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TknEUO2XEeWnDaII1mfokg" base_Element="_TkmdRu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TknEU-2XEeWnDaII1mfokg" base_Element="_TknEUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TknrYu2XEeWnDaII1mfokg" base_Element="_TknrYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkoScO2XEeWnDaII1mfokg" base_Element="_TknrY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkoSc-2XEeWnDaII1mfokg" base_Element="_TkoSce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tko5gO2XEeWnDaII1mfokg" base_Element="_TkoSdO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tko5g-2XEeWnDaII1mfokg" base_Element="_Tko5ge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkpgku2XEeWnDaII1mfokg" base_Element="_TkpgkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkqHoO2XEeWnDaII1mfokg" base_Element="_Tkpgk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkqHo-2XEeWnDaII1mfokg" base_Element="_TkqHoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkqusO2XEeWnDaII1mfokg" base_Element="_TkqHpO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkqus-2XEeWnDaII1mfokg" base_Element="_Tkquse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkrVwO2XEeWnDaII1mfokg" base_Element="_TkqutO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkrVw-2XEeWnDaII1mfokg" base_Element="_TkrVwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkrVxu2XEeWnDaII1mfokg" base_Element="_TkrVxO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkr80O2XEeWnDaII1mfokg" base_Element="_TkrVx-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tksj4O2XEeWnDaII1mfokg" base_Element="_Tkr80e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tksj4-2XEeWnDaII1mfokg" base_Element="_Tksj4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TktK8O2XEeWnDaII1mfokg" base_Element="_Tksj5O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TktyAO2XEeWnDaII1mfokg" base_Element="_TktK8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TktyA-2XEeWnDaII1mfokg" base_Element="_TktyAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkuZEO2XEeWnDaII1mfokg" base_Element="_TktyBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkuZE-2XEeWnDaII1mfokg" base_Element="_TkuZEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkvAIu2XEeWnDaII1mfokg" base_Element="_TkvAIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkvnMO2XEeWnDaII1mfokg" base_Element="_TkvAI-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkwOQO2XEeWnDaII1mfokg" base_Element="_TkvnMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkw1UO2XEeWnDaII1mfokg" base_Element="_TkwOQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkw1U-2XEeWnDaII1mfokg" base_Element="_Tkw1Ue2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkw1Vu2XEeWnDaII1mfokg" base_Element="_Tkw1VO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkxcYO2XEeWnDaII1mfokg" base_Element="_Tkw1V-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkxcY-2XEeWnDaII1mfokg" base_Element="_TkxcYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkyDcO2XEeWnDaII1mfokg" base_Element="_TkxcZO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkyDc-2XEeWnDaII1mfokg" base_Element="_TkyDce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkyqgO2XEeWnDaII1mfokg" base_Element="_TkyDdO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TkzRkO2XEeWnDaII1mfokg" base_Element="_Tkyqge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkz4oO2XEeWnDaII1mfokg" base_Element="_TkzRke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tkz4o-2XEeWnDaII1mfokg" base_Element="_Tkz4oe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk0fsu2XEeWnDaII1mfokg" base_Element="_Tk0fsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk1GwO2XEeWnDaII1mfokg" base_Element="_Tk0fs-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk1t0O2XEeWnDaII1mfokg" base_Element="_Tk1Gwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk2U4O2XEeWnDaII1mfokg" base_Element="_Tk1t0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk2U4-2XEeWnDaII1mfokg" base_Element="_Tk2U4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk278u2XEeWnDaII1mfokg" base_Element="_Tk278O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk3jAO2XEeWnDaII1mfokg" base_Element="_Tk278-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk4KEO2XEeWnDaII1mfokg" base_Element="_Tk3jAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk5YMO2XEeWnDaII1mfokg" base_Element="_Tk4xIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk5_QO2XEeWnDaII1mfokg" base_Element="_Tk5YMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk5_Q-2XEeWnDaII1mfokg" base_Element="_Tk5_Qe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk7NYO2XEeWnDaII1mfokg" base_Element="_Tk6mUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk7NY-2XEeWnDaII1mfokg" base_Element="_Tk7NYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk70cu2XEeWnDaII1mfokg" base_Element="_Tk70cO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk8bgO2XEeWnDaII1mfokg" base_Element="_Tk70c-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk8bg-2XEeWnDaII1mfokg" base_Element="_Tk8bge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk9CkO2XEeWnDaII1mfokg" base_Element="_Tk8bhO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk9poO2XEeWnDaII1mfokg" base_Element="_Tk9Cke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk9po-2XEeWnDaII1mfokg" base_Element="_Tk9poe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk-QsO2XEeWnDaII1mfokg" base_Element="_Tk9ppO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk-Qs-2XEeWnDaII1mfokg" base_Element="_Tk-Qse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk-3wO2XEeWnDaII1mfokg" base_Element="_Tk-QtO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk_e0O2XEeWnDaII1mfokg" base_Element="_Tk-3we2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_Tk_e0-2XEeWnDaII1mfokg" base_Element="_Tk_e0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlAF4O2XEeWnDaII1mfokg" base_Element="_Tk_e1O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlAs8O2XEeWnDaII1mfokg" base_Element="_TlAF4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlAs8-2XEeWnDaII1mfokg" base_Element="_TlAs8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlBUAO2XEeWnDaII1mfokg" base_Element="_TlAs9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlBUA-2XEeWnDaII1mfokg" base_Element="_TlBUAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlB7EO2XEeWnDaII1mfokg" base_Element="_TlBUBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlCiIO2XEeWnDaII1mfokg" base_Element="_TlB7Ee2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlCiI-2XEeWnDaII1mfokg" base_Element="_TlCiIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlDJMO2XEeWnDaII1mfokg" base_Element="_TlCiJO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlDJM-2XEeWnDaII1mfokg" base_Element="_TlDJMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlDwQu2XEeWnDaII1mfokg" base_Element="_TlDwQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlEXUO2XEeWnDaII1mfokg" base_Element="_TlDwQ-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlEXU-2XEeWnDaII1mfokg" base_Element="_TlEXUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlEXVu2XEeWnDaII1mfokg" base_Element="_TlEXVO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlE-YO2XEeWnDaII1mfokg" base_Element="_TlEXV-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlFlcO2XEeWnDaII1mfokg" base_Element="_TlE-Ye2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlFlc-2XEeWnDaII1mfokg" base_Element="_TlFlce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlGMgO2XEeWnDaII1mfokg" base_Element="_TlFldO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlGzkO2XEeWnDaII1mfokg" base_Element="_TlGMge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlGzk-2XEeWnDaII1mfokg" base_Element="_TlGzke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlHaoO2XEeWnDaII1mfokg" base_Element="_TlGzlO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlHao-2XEeWnDaII1mfokg" base_Element="_TlHaoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlIBsO2XEeWnDaII1mfokg" base_Element="_TlHapO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlIowO2XEeWnDaII1mfokg" base_Element="_TlIBse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlIow-2XEeWnDaII1mfokg" base_Element="_TlIowe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlJP0O2XEeWnDaII1mfokg" base_Element="_TlIoxO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlJP0-2XEeWnDaII1mfokg" base_Element="_TlJP0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlJP1u2XEeWnDaII1mfokg" base_Element="_TlJP1O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlKd8O2XEeWnDaII1mfokg" base_Element="_TlJP1-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlKd8-2XEeWnDaII1mfokg" base_Element="_TlKd8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlLFAO2XEeWnDaII1mfokg" base_Element="_TlKd9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlLsE-2XEeWnDaII1mfokg" base_Element="_TlLsEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlLsFu2XEeWnDaII1mfokg" base_Element="_TlLsFO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlMTIO2XEeWnDaII1mfokg" base_Element="_TlLsF-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlMTI-2XEeWnDaII1mfokg" base_Element="_TlMTIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlM6MO2XEeWnDaII1mfokg" base_Element="_TlMTJO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlM6M-2XEeWnDaII1mfokg" base_Element="_TlM6Me2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlNhQO2XEeWnDaII1mfokg" base_Element="_TlM6NO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlOIUO2XEeWnDaII1mfokg" base_Element="_TlNhQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlOvYO2XEeWnDaII1mfokg" base_Element="_TlOIUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlPWcO2XEeWnDaII1mfokg" base_Element="_TlOvYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlPWc-2XEeWnDaII1mfokg" base_Element="_TlPWce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlP9gO2XEeWnDaII1mfokg" base_Element="_TlPWdO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlP9g-2XEeWnDaII1mfokg" base_Element="_TlP9ge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlQkkO2XEeWnDaII1mfokg" base_Element="_TlP9hO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlQkk-2XEeWnDaII1mfokg" base_Element="_TlQkke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlRLou2XEeWnDaII1mfokg" base_Element="_TlRLoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlRysO2XEeWnDaII1mfokg" base_Element="_TlRLo-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlRys-2XEeWnDaII1mfokg" base_Element="_TlRyse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlSZwO2XEeWnDaII1mfokg" base_Element="_TlRytO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlTA0O2XEeWnDaII1mfokg" base_Element="_TlSZwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlTn4O2XEeWnDaII1mfokg" base_Element="_TlTA0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlUO8O2XEeWnDaII1mfokg" base_Element="_TlTn4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlUO8-2XEeWnDaII1mfokg" base_Element="_TlUO8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlU2Au2XEeWnDaII1mfokg" base_Element="_TlU2AO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlVdEO2XEeWnDaII1mfokg" base_Element="_TlU2A-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlVdE-2XEeWnDaII1mfokg" base_Element="_TlVdEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlWEIO2XEeWnDaII1mfokg" base_Element="_TlVdFO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlWrMO2XEeWnDaII1mfokg" base_Element="_TlWEIe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlWrM-2XEeWnDaII1mfokg" base_Element="_TlWrMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlXSQO2XEeWnDaII1mfokg" base_Element="_TlWrNO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlX5UO2XEeWnDaII1mfokg" base_Element="_TlXSQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlX5U-2XEeWnDaII1mfokg" base_Element="_TlX5Ue2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlX5Vu2XEeWnDaII1mfokg" base_Element="_TlX5VO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlYgYO2XEeWnDaII1mfokg" base_Element="_TlX5V-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_TlYgY-2XEeWnDaII1mfokg" base_Element="_TlYgYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hn1ugO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_hn1Hce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hn28oO2XEeWnDaII1mfokg" genericsValue="Model" base_Element="_hn2Vku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hn4x0O2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_hn4Kw-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hn5Y4O2XEeWnDaII1mfokg" genericsValue="AbstractParticle" base_Element="_hn4x1e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hoNh8O2XEeWnDaII1mfokg" base_Element="_TbJmUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ho--AO2XEeWnDaII1mfokg" base_Element="_hn4KwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_ho--Ae2XEeWnDaII1mfokg" base_Element="_hn4Kwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpab1O2XEeWnDaII1mfokg" base_Element="_hpab0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpc4Ee2XEeWnDaII1mfokg" base_Element="_hpc4EO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpdfIO2XEeWnDaII1mfokg" base_Element="_hpc4EO2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpdfIe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpdfI-2XEeWnDaII1mfokg" base_Element="_hpdfIu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpdfJO2XEeWnDaII1mfokg" base_Element="_hpdfIu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpdfJe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpeGMO2XEeWnDaII1mfokg" base_Element="_hpdfJu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpeGMe2XEeWnDaII1mfokg" base_Element="_hpdfJu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpeGMu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpfUU-2XEeWnDaII1mfokg" base_Element="_hpfUUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpi-se2XEeWnDaII1mfokg" base_Element="_hpi-sO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpjlwO2XEeWnDaII1mfokg" base_Element="_hpi-sO2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpjlwe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hppFUO2XEeWnDaII1mfokg" base_Element="_hpoeQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpsIoe2XEeWnDaII1mfokg" base_Element="_hpsIoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpsvsO2XEeWnDaII1mfokg" base_Element="_hpsIoO2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpsvse2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpsvs-2XEeWnDaII1mfokg" base_Element="_hpsvsu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpsvtO2XEeWnDaII1mfokg" base_Element="_hpsvsu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hptWwO2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_hpt91O2XEeWnDaII1mfokg" base_Element="_hpt90O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hpuk4O2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_hpt90e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpyPQO2XEeWnDaII1mfokg" base_Element="_hpxoMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpy2UO2XEeWnDaII1mfokg" base_Element="_hpxoMe2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpy2Ue2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpy2U-2XEeWnDaII1mfokg" base_Element="_hpy2Uu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpzdYO2XEeWnDaII1mfokg" base_Element="_hpy2Uu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpzdYe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hpzdY-2XEeWnDaII1mfokg" base_Element="_hpzdYu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hpzdZO2XEeWnDaII1mfokg" base_Element="_hpzdYu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hpzdZe2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hp0Ece2XEeWnDaII1mfokg" base_Element="_hp0EcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hp0Ecu2XEeWnDaII1mfokg" base_Element="_hp0EcO2XEeWnDaII1mfokg">
    <annotations xmi:id="_hp0Ec-2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hp488e2XEeWnDaII1mfokg" base_Element="_hp488O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqCG4O2XEeWnDaII1mfokg" base_Element="_hqBf0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqCG4e2XEeWnDaII1mfokg" base_Element="_hqBf0e2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqCG4u2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_hqDVAu2XEeWnDaII1mfokg" base_Element="_hqCt8-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_hqD8EO2XEeWnDaII1mfokg" genericsValue="Residue" base_Element="_hqCt9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqGYUO2XEeWnDaII1mfokg" base_Element="_hqFxRe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqGYUe2XEeWnDaII1mfokg" base_Element="_hqFxRe2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqGYUu2XEeWnDaII1mfokg" name="BeforeClass"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqG_YO2XEeWnDaII1mfokg" base_Element="_hqGYU-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqG_Ye2XEeWnDaII1mfokg" base_Element="_hqGYU-2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqG_Yu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqG_ZO2XEeWnDaII1mfokg" base_Element="_hqG_Y-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqG_Ze2XEeWnDaII1mfokg" base_Element="_hqG_Y-2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqG_Zu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqHmcO2XEeWnDaII1mfokg" base_Element="_hqG_Z-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqHmce2XEeWnDaII1mfokg" base_Element="_hqG_Z-2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqHmcu2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqHmdO2XEeWnDaII1mfokg" base_Element="_hqHmc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqINgO2XEeWnDaII1mfokg" base_Element="_hqHmc-2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqINge2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hqI0kO2XEeWnDaII1mfokg" base_Element="_hqINgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hqI0ke2XEeWnDaII1mfokg" base_Element="_hqINgu2XEeWnDaII1mfokg">
    <annotations xmi:id="_hqI0ku2XEeWnDaII1mfokg" name="Test"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Array xmi:id="_hqRXd-2XEeWnDaII1mfokg" base_Element="_hqRXc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_hqkSZO2XEeWnDaII1mfokg" base_Element="_hqjrVO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_hqmupu2XEeWnDaII1mfokg" base_Element="_hqmuoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_hqn8wu2XEeWnDaII1mfokg" base_Element="_hqnVsu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_hqoj1O2XEeWnDaII1mfokg" base_Element="_hqoj0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_hqpK5O2XEeWnDaII1mfokg" base_Element="_hqpK4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hstAYO2XEeWnDaII1mfokg" base_Element="_hssZUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hstncO2XEeWnDaII1mfokg" base_Element="_hstAYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hstncu2XEeWnDaII1mfokg" base_Element="_hstnce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hsuOgO2XEeWnDaII1mfokg" base_Element="_hstnc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hsuOgu2XEeWnDaII1mfokg" base_Element="_hsuOge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hsu1ke2XEeWnDaII1mfokg" base_Element="_hsu1kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hsvcoe2XEeWnDaII1mfokg" base_Element="_hsvcoO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hswDse2XEeWnDaII1mfokg" base_Element="_hswDsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hswqwO2XEeWnDaII1mfokg" base_Element="_hswDsu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hsyf8-2XEeWnDaII1mfokg" base_Element="_hsx44O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Annotations xmi:id="_hszHAO2XEeWnDaII1mfokg" base_Element="_hsx44O2XEeWnDaII1mfokg">
    <annotations xmi:id="_hszHAe2XEeWnDaII1mfokg" name="SuppressWarnings">
      <annotationParameters xmi:id="_hszHAu2XEeWnDaII1mfokg" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_huGuku2XEeWnDaII1mfokg" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_hs2KUO2XEeWnDaII1mfokg" base_Element="_hs1jQO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hs2xYO2XEeWnDaII1mfokg" base_Element="_hs2KUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hs3YcO2XEeWnDaII1mfokg" base_Element="_hs2xYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hs3Ycu2XEeWnDaII1mfokg" base_Element="_hs3Yce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htIeMO2XEeWnDaII1mfokg" base_Element="_htH3IO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htIeMu2XEeWnDaII1mfokg" base_Element="_htIeMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htJFQO2XEeWnDaII1mfokg" base_Element="_htIeM-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htJFQu2XEeWnDaII1mfokg" base_Element="_htJFQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htJsUO2XEeWnDaII1mfokg" base_Element="_htJFQ-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htJsU-2XEeWnDaII1mfokg" base_Element="_htJsUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htKTYO2XEeWnDaII1mfokg" base_Element="_htJsVO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htKTYu2XEeWnDaII1mfokg" base_Element="_htKTYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htK6cO2XEeWnDaII1mfokg" base_Element="_htKTY-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htLhgO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_htK6ce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htLhge2XEeWnDaII1mfokg" base_Element="_htK6ce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htMIkO2XEeWnDaII1mfokg" genericsValue="Atom" base_Element="_htLhgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htMIke2XEeWnDaII1mfokg" base_Element="_htLhgu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_htMvoe2XEeWnDaII1mfokg" base_Element="_htMIku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htMvo-2XEeWnDaII1mfokg" base_Element="_htMIku2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htNWsu2XEeWnDaII1mfokg" base_Element="_htNWsO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htOk0e2XEeWnDaII1mfokg" base_Element="_htOk0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htPL4O2XEeWnDaII1mfokg" base_Element="_htOk0u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htPy8O2XEeWnDaII1mfokg" base_Element="_htPL4e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htRBEe2XEeWnDaII1mfokg" genericsValue="IUPRED_Output" base_Element="_htRBEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htRoIO2XEeWnDaII1mfokg" base_Element="_htRBEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htSPMe2XEeWnDaII1mfokg" base_Element="_htSPMO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htS2QO2XEeWnDaII1mfokg" base_Element="_htSPMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htTdUO2XEeWnDaII1mfokg" base_Element="_htS2Qe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htTdU-2XEeWnDaII1mfokg" base_Element="_htTdUe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htUEYO2XEeWnDaII1mfokg" base_Element="_htTdVO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htUrcO2XEeWnDaII1mfokg" base_Element="_htUEYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htVSgO2XEeWnDaII1mfokg" base_Element="_htUrce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htVSgu2XEeWnDaII1mfokg" base_Element="_htVSge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htV5ku2XEeWnDaII1mfokg" base_Element="_htV5kO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htWgoe2XEeWnDaII1mfokg" base_Element="_htV5k-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htXHsO2XEeWnDaII1mfokg" base_Element="_htWgou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htXHsu2XEeWnDaII1mfokg" base_Element="_htXHse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htXuwe2XEeWnDaII1mfokg" base_Element="_htXuwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htXuw-2XEeWnDaII1mfokg" base_Element="_htXuwu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htYV0O2XEeWnDaII1mfokg" base_Element="_htXuxO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htYV0u2XEeWnDaII1mfokg" base_Element="_htYV0e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htY84O2XEeWnDaII1mfokg" base_Element="_htYV0-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htZj8O2XEeWnDaII1mfokg" genericsValue="STRIDE_Output" base_Element="_htY84e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htZj8u2XEeWnDaII1mfokg" base_Element="_htY84e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htaLAe2XEeWnDaII1mfokg" base_Element="_htaLAO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htbZIe2XEeWnDaII1mfokg" base_Element="_htayEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htcAMO2XEeWnDaII1mfokg" genericsValue="String,Integer" base_Element="_htbZIu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htcAMe2XEeWnDaII1mfokg" base_Element="_htbZIu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htcnQO2XEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_htcAMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htcnQe2XEeWnDaII1mfokg" base_Element="_htcAMu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htdOUe2XEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_htdOUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htd1YO2XEeWnDaII1mfokg" base_Element="_htdOUO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htd1Yu2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htd1Ye2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hteccO2XEeWnDaII1mfokg" base_Element="_htd1Ye2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htfDgO2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htecce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htfDge2XEeWnDaII1mfokg" base_Element="_htecce2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htfqke2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htfqkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htgRoO2XEeWnDaII1mfokg" base_Element="_htfqkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htg4sO2XEeWnDaII1mfokg" genericsValue="String,Double" base_Element="_htgRoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htg4se2XEeWnDaII1mfokg" base_Element="_htgRoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htit4O2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htiG0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htit4e2XEeWnDaII1mfokg" base_Element="_htiG0O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htjU8e2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htjU8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htj8AO2XEeWnDaII1mfokg" base_Element="_htjU8O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Generics xmi:id="_htkjEe2XEeWnDaII1mfokg" genericsValue="String,double[]" base_Element="_htkjEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htkjEu2XEeWnDaII1mfokg" base_Element="_htkjEO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htlKIu2XEeWnDaII1mfokg" base_Element="_htlKIO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htlxMO2XEeWnDaII1mfokg" base_Element="_htlKI-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htlxMu2XEeWnDaII1mfokg" base_Element="_htlxMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htmYQO2XEeWnDaII1mfokg" base_Element="_htlxM-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htmYQ-2XEeWnDaII1mfokg" base_Element="_htmYQe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htm_Ue2XEeWnDaII1mfokg" base_Element="_htmYRO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htnmYu2XEeWnDaII1mfokg" base_Element="_htnmYO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htoNcu2XEeWnDaII1mfokg" base_Element="_htoNcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_hto0ge2XEeWnDaII1mfokg" base_Element="_htoNc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htpbkO2XEeWnDaII1mfokg" base_Element="_hto0gu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Array xmi:id="_htqCoO2XEeWnDaII1mfokg" dimensions="2" base_Element="_htpbke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htqCoe2XEeWnDaII1mfokg" base_Element="_htpbke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htqpsO2XEeWnDaII1mfokg" base_Element="_htqCou2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htqpsu2XEeWnDaII1mfokg" base_Element="_htqpse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htrQwu2XEeWnDaII1mfokg" base_Element="_htrQwO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_htr30O2XEeWnDaII1mfokg" base_Element="_htrQw-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huP4gu2XEeWnDaII1mfokg" base_Element="_huP4gO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huQfkO2XEeWnDaII1mfokg" base_Element="_huP4g-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huRGoO2XEeWnDaII1mfokg" base_Element="_huQfke2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huRGo-2XEeWnDaII1mfokg" base_Element="_huRGoe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huRtsO2XEeWnDaII1mfokg" base_Element="_huRGpO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huSUwO2XEeWnDaII1mfokg" base_Element="_huRtse2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huS70O2XEeWnDaII1mfokg" base_Element="_huSUwe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huS70-2XEeWnDaII1mfokg" base_Element="_huS70e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huTi4u2XEeWnDaII1mfokg" base_Element="_huTi4O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huTi5e2XEeWnDaII1mfokg" base_Element="_huTi4-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huUJ8O2XEeWnDaII1mfokg" base_Element="_huTi5u2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huUJ8-2XEeWnDaII1mfokg" base_Element="_huUJ8e2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huUxAO2XEeWnDaII1mfokg" base_Element="_huUJ9O2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huUxA-2XEeWnDaII1mfokg" base_Element="_huUxAe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huVYEO2XEeWnDaII1mfokg" base_Element="_huUxBO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huVYE-2XEeWnDaII1mfokg" base_Element="_huVYEe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huV_IO2XEeWnDaII1mfokg" base_Element="_huVYFO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huV_I-2XEeWnDaII1mfokg" base_Element="_huV_Ie2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huWmMO2XEeWnDaII1mfokg" base_Element="_huV_JO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huWmM-2XEeWnDaII1mfokg" base_Element="_huWmMe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huXNQe2XEeWnDaII1mfokg" base_Element="_huWmNO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huXNRO2XEeWnDaII1mfokg" base_Element="_huXNQu2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huX0UO2XEeWnDaII1mfokg" base_Element="_huXNRe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huX0U-2XEeWnDaII1mfokg" base_Element="_huX0Ue2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huYbYO2XEeWnDaII1mfokg" base_Element="_huX0VO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huYbY-2XEeWnDaII1mfokg" base_Element="_huYbYe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huZCcu2XEeWnDaII1mfokg" base_Element="_huZCcO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huZpgO2XEeWnDaII1mfokg" base_Element="_huZCc-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huZpg-2XEeWnDaII1mfokg" base_Element="_huZpge2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_huaQku2XEeWnDaII1mfokg" base_Element="_huaQkO2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hua3oO2XEeWnDaII1mfokg" base_Element="_huaQk-2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hubesO2XEeWnDaII1mfokg" base_Element="_hua3oe2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_hubes-2XEeWnDaII1mfokg" base_Element="_hubese2XEeWnDaII1mfokg"/>
  <UMLLabProfile:Patch xmi:id="_zpWEwO2aEeWnDaII1mfokg" base_Element="_SzFgwO2XEeWnDaII1mfokg" patchText="@@ -1102,16 +1102,18 @@&#xA; Partial%7D&#xA;+;%0A&#xA; %09public &#xA;" conflicting="false"/>
  <UMLLabProfile:Reference xmi:id="_GGHxAu26EeWnDaII1mfokg" base_Element="_GGHxAO26EeWnDaII1mfokg"/>
  <UMLLabProfile:Reference xmi:id="_GGI_IO26EeWnDaII1mfokg" base_Element="_GGIYEO26EeWnDaII1mfokg"/>
</xmi:XMI>
